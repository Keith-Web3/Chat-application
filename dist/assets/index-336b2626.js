function _mergeNamespaces(_r,_t){for(var _o=0;_o<_t.length;_o++){const yl=_t[_o];if(typeof yl!="string"&&!Array.isArray(yl)){for(const El in yl)if(El!=="default"&&!(El in _r)){const _l=Object.getOwnPropertyDescriptor(yl,El);_l&&Object.defineProperty(_r,El,_l.get?_l:{enumerable:!0,get:()=>yl[El]})}}}return Object.freeze(Object.defineProperty(_r,Symbol.toStringTag,{value:"Module"}))}(function(){const _t=document.createElement("link").relList;if(_t&&_t.supports&&_t.supports("modulepreload"))return;for(const El of document.querySelectorAll('link[rel="modulepreload"]'))yl(El);new MutationObserver(El=>{for(const _l of El)if(_l.type==="childList")for(const Tl of _l.addedNodes)Tl.tagName==="LINK"&&Tl.rel==="modulepreload"&&yl(Tl)}).observe(document,{childList:!0,subtree:!0});function _o(El){const _l={};return El.integrity&&(_l.integrity=El.integrity),El.referrerpolicy&&(_l.referrerPolicy=El.referrerpolicy),El.crossorigin==="use-credentials"?_l.credentials="include":El.crossorigin==="anonymous"?_l.credentials="omit":_l.credentials="same-origin",_l}function yl(El){if(El.ep)return;El.ep=!0;const _l=_o(El);fetch(El.href,_l)}})();var commonjsGlobal$1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(_r){return _r&&_r.__esModule&&Object.prototype.hasOwnProperty.call(_r,"default")?_r.default:_r}var jsxRuntimeExports={},jsxRuntime={get exports(){return jsxRuntimeExports},set exports(_r){jsxRuntimeExports=_r}},reactJsxRuntime_production_min={},reactExports={},react={get exports(){return reactExports},set exports(_r){reactExports=_r}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$6=Symbol.for("react.element"),n$6=Symbol.for("react.portal"),p$8=Symbol.for("react.fragment"),q$8=Symbol.for("react.strict_mode"),r$4=Symbol.for("react.profiler"),t$6=Symbol.for("react.provider"),u$4=Symbol.for("react.context"),v$7=Symbol.for("react.forward_ref"),w$4=Symbol.for("react.suspense"),x$4=Symbol.for("react.memo"),y$3=Symbol.for("react.lazy"),z$5=Symbol.iterator;function A$4(_r){return _r===null||typeof _r!="object"?null:(_r=z$5&&_r[z$5]||_r["@@iterator"],typeof _r=="function"?_r:null)}var B$4={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C$3=Object.assign,D$3={};function E$3(_r,_t,_o){this.props=_r,this.context=_t,this.refs=D$3,this.updater=_o||B$4}E$3.prototype.isReactComponent={};E$3.prototype.setState=function(_r,_t){if(typeof _r!="object"&&typeof _r!="function"&&_r!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,_r,_t,"setState")};E$3.prototype.forceUpdate=function(_r){this.updater.enqueueForceUpdate(this,_r,"forceUpdate")};function F$1(){}F$1.prototype=E$3.prototype;function G$4(_r,_t,_o){this.props=_r,this.context=_t,this.refs=D$3,this.updater=_o||B$4}var H$4=G$4.prototype=new F$1;H$4.constructor=G$4;C$3(H$4,E$3.prototype);H$4.isPureReactComponent=!0;var I$3=Array.isArray,J$1=Object.prototype.hasOwnProperty,K$3={current:null},L$4={key:!0,ref:!0,__self:!0,__source:!0};function M$4(_r,_t,_o){var yl,El={},_l=null,Tl=null;if(_t!=null)for(yl in _t.ref!==void 0&&(Tl=_t.ref),_t.key!==void 0&&(_l=""+_t.key),_t)J$1.call(_t,yl)&&!L$4.hasOwnProperty(yl)&&(El[yl]=_t[yl]);var Il=arguments.length-2;if(Il===1)El.children=_o;else if(1<Il){for(var Al=Array(Il),Rl=0;Rl<Il;Rl++)Al[Rl]=arguments[Rl+2];El.children=Al}if(_r&&_r.defaultProps)for(yl in Il=_r.defaultProps,Il)El[yl]===void 0&&(El[yl]=Il[yl]);return{$$typeof:l$6,type:_r,key:_l,ref:Tl,props:El,_owner:K$3.current}}function N$4(_r,_t){return{$$typeof:l$6,type:_r.type,key:_t,ref:_r.ref,props:_r.props,_owner:_r._owner}}function O$4(_r){return typeof _r=="object"&&_r!==null&&_r.$$typeof===l$6}function escape$1(_r){var _t={"=":"=0",":":"=2"};return"$"+_r.replace(/[=:]/g,function(_o){return _t[_o]})}var P$4=/\/+/g;function Q$4(_r,_t){return typeof _r=="object"&&_r!==null&&_r.key!=null?escape$1(""+_r.key):_t.toString(36)}function R$3(_r,_t,_o,yl,El){var _l=typeof _r;(_l==="undefined"||_l==="boolean")&&(_r=null);var Tl=!1;if(_r===null)Tl=!0;else switch(_l){case"string":case"number":Tl=!0;break;case"object":switch(_r.$$typeof){case l$6:case n$6:Tl=!0}}if(Tl)return Tl=_r,El=El(Tl),_r=yl===""?"."+Q$4(Tl,0):yl,I$3(El)?(_o="",_r!=null&&(_o=_r.replace(P$4,"$&/")+"/"),R$3(El,_t,_o,"",function(Rl){return Rl})):El!=null&&(O$4(El)&&(El=N$4(El,_o+(!El.key||Tl&&Tl.key===El.key?"":(""+El.key).replace(P$4,"$&/")+"/")+_r)),_t.push(El)),1;if(Tl=0,yl=yl===""?".":yl+":",I$3(_r))for(var Il=0;Il<_r.length;Il++){_l=_r[Il];var Al=yl+Q$4(_l,Il);Tl+=R$3(_l,_t,_o,Al,El)}else if(Al=A$4(_r),typeof Al=="function")for(_r=Al.call(_r),Il=0;!(_l=_r.next()).done;)_l=_l.value,Al=yl+Q$4(_l,Il++),Tl+=R$3(_l,_t,_o,Al,El);else if(_l==="object")throw _t=String(_r),Error("Objects are not valid as a React child (found: "+(_t==="[object Object]"?"object with keys {"+Object.keys(_r).join(", ")+"}":_t)+"). If you meant to render a collection of children, use an array instead.");return Tl}function S$4(_r,_t,_o){if(_r==null)return _r;var yl=[],El=0;return R$3(_r,yl,"","",function(_l){return _t.call(_o,_l,El++)}),yl}function T$2(_r){if(_r._status===-1){var _t=_r._result;_t=_t(),_t.then(function(_o){(_r._status===0||_r._status===-1)&&(_r._status=1,_r._result=_o)},function(_o){(_r._status===0||_r._status===-1)&&(_r._status=2,_r._result=_o)}),_r._status===-1&&(_r._status=0,_r._result=_t)}if(_r._status===1)return _r._result.default;throw _r._result}var U$4={current:null},V$3={transition:null},W$4={ReactCurrentDispatcher:U$4,ReactCurrentBatchConfig:V$3,ReactCurrentOwner:K$3};react_production_min.Children={map:S$4,forEach:function(_r,_t,_o){S$4(_r,function(){_t.apply(this,arguments)},_o)},count:function(_r){var _t=0;return S$4(_r,function(){_t++}),_t},toArray:function(_r){return S$4(_r,function(_t){return _t})||[]},only:function(_r){if(!O$4(_r))throw Error("React.Children.only expected to receive a single React element child.");return _r}};react_production_min.Component=E$3;react_production_min.Fragment=p$8;react_production_min.Profiler=r$4;react_production_min.PureComponent=G$4;react_production_min.StrictMode=q$8;react_production_min.Suspense=w$4;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$4;react_production_min.cloneElement=function(_r,_t,_o){if(_r==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+_r+".");var yl=C$3({},_r.props),El=_r.key,_l=_r.ref,Tl=_r._owner;if(_t!=null){if(_t.ref!==void 0&&(_l=_t.ref,Tl=K$3.current),_t.key!==void 0&&(El=""+_t.key),_r.type&&_r.type.defaultProps)var Il=_r.type.defaultProps;for(Al in _t)J$1.call(_t,Al)&&!L$4.hasOwnProperty(Al)&&(yl[Al]=_t[Al]===void 0&&Il!==void 0?Il[Al]:_t[Al])}var Al=arguments.length-2;if(Al===1)yl.children=_o;else if(1<Al){Il=Array(Al);for(var Rl=0;Rl<Al;Rl++)Il[Rl]=arguments[Rl+2];yl.children=Il}return{$$typeof:l$6,type:_r.type,key:El,ref:_l,props:yl,_owner:Tl}};react_production_min.createContext=function(_r){return _r={$$typeof:u$4,_currentValue:_r,_currentValue2:_r,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},_r.Provider={$$typeof:t$6,_context:_r},_r.Consumer=_r};react_production_min.createElement=M$4;react_production_min.createFactory=function(_r){var _t=M$4.bind(null,_r);return _t.type=_r,_t};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function(_r){return{$$typeof:v$7,render:_r}};react_production_min.isValidElement=O$4;react_production_min.lazy=function(_r){return{$$typeof:y$3,_payload:{_status:-1,_result:_r},_init:T$2}};react_production_min.memo=function(_r,_t){return{$$typeof:x$4,type:_r,compare:_t===void 0?null:_t}};react_production_min.startTransition=function(_r){var _t=V$3.transition;V$3.transition={};try{_r()}finally{V$3.transition=_t}};react_production_min.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};react_production_min.useCallback=function(_r,_t){return U$4.current.useCallback(_r,_t)};react_production_min.useContext=function(_r){return U$4.current.useContext(_r)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function(_r){return U$4.current.useDeferredValue(_r)};react_production_min.useEffect=function(_r,_t){return U$4.current.useEffect(_r,_t)};react_production_min.useId=function(){return U$4.current.useId()};react_production_min.useImperativeHandle=function(_r,_t,_o){return U$4.current.useImperativeHandle(_r,_t,_o)};react_production_min.useInsertionEffect=function(_r,_t){return U$4.current.useInsertionEffect(_r,_t)};react_production_min.useLayoutEffect=function(_r,_t){return U$4.current.useLayoutEffect(_r,_t)};react_production_min.useMemo=function(_r,_t){return U$4.current.useMemo(_r,_t)};react_production_min.useReducer=function(_r,_t,_o){return U$4.current.useReducer(_r,_t,_o)};react_production_min.useRef=function(_r){return U$4.current.useRef(_r)};react_production_min.useState=function(_r){return U$4.current.useState(_r)};react_production_min.useSyncExternalStore=function(_r,_t,_o){return U$4.current.useSyncExternalStore(_r,_t,_o)};react_production_min.useTransition=function(){return U$4.current.useTransition()};react_production_min.version="18.2.0";(function(_r){_r.exports=react_production_min})(react);const React=getDefaultExportFromCjs(reactExports),React$1=_mergeNamespaces({__proto__:null,default:React},[reactExports]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f$3=reactExports,k$6=Symbol.for("react.element"),l$5=Symbol.for("react.fragment"),m$5=Object.prototype.hasOwnProperty,n$5=f$3.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p$7={key:!0,ref:!0,__self:!0,__source:!0};function q$7(_r,_t,_o){var yl,El={},_l=null,Tl=null;_o!==void 0&&(_l=""+_o),_t.key!==void 0&&(_l=""+_t.key),_t.ref!==void 0&&(Tl=_t.ref);for(yl in _t)m$5.call(_t,yl)&&!p$7.hasOwnProperty(yl)&&(El[yl]=_t[yl]);if(_r&&_r.defaultProps)for(yl in _t=_r.defaultProps,_t)El[yl]===void 0&&(El[yl]=_t[yl]);return{$$typeof:k$6,type:_r,key:_l,ref:Tl,props:El,_owner:n$5.current}}reactJsxRuntime_production_min.Fragment=l$5;reactJsxRuntime_production_min.jsx=q$7;reactJsxRuntime_production_min.jsxs=q$7;(function(_r){_r.exports=reactJsxRuntime_production_min})(jsxRuntime);const Fragment=jsxRuntimeExports.Fragment,jsx=jsxRuntimeExports.jsx,jsxs=jsxRuntimeExports.jsxs;var client={},reactDomExports={},reactDom={get exports(){return reactDomExports},set exports(_r){reactDomExports=_r}},reactDom_production_min={},schedulerExports={},scheduler={get exports(){return schedulerExports},set exports(_r){schedulerExports=_r}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(_r){function _t(Up,Yp){var zp=Up.length;Up.push(Yp);e:for(;0<zp;){var _v=zp-1>>>1,_g=Up[_v];if(0<El(_g,Yp))Up[_v]=Yp,Up[zp]=_g,zp=_v;else break e}}function _o(Up){return Up.length===0?null:Up[0]}function yl(Up){if(Up.length===0)return null;var Yp=Up[0],zp=Up.pop();if(zp!==Yp){Up[0]=zp;e:for(var _v=0,_g=Up.length,dy=_g>>>1;_v<dy;){var Ap=2*(_v+1)-1,Ky=Up[Ap],Vy=Ap+1,O0=Up[Vy];if(0>El(Ky,zp))Vy<_g&&0>El(O0,Ky)?(Up[_v]=O0,Up[Vy]=zp,_v=Vy):(Up[_v]=Ky,Up[Ap]=zp,_v=Ap);else if(Vy<_g&&0>El(O0,zp))Up[_v]=O0,Up[Vy]=zp,_v=Vy;else break e}}return Yp}function El(Up,Yp){var zp=Up.sortIndex-Yp.sortIndex;return zp!==0?zp:Up.id-Yp.id}if(typeof performance=="object"&&typeof performance.now=="function"){var _l=performance;_r.unstable_now=function(){return _l.now()}}else{var Tl=Date,Il=Tl.now();_r.unstable_now=function(){return Tl.now()-Il}}var Al=[],Rl=[],Fl=1,Bl=null,Gl=3,Ql=!1,_f=!1,_h=!1,vp=typeof setTimeout=="function"?setTimeout:null,up=typeof clearTimeout=="function"?clearTimeout:null,_d=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function Ep(Up){for(var Yp=_o(Rl);Yp!==null;){if(Yp.callback===null)yl(Rl);else if(Yp.startTime<=Up)yl(Rl),Yp.sortIndex=Yp.expirationTime,_t(Al,Yp);else break;Yp=_o(Rl)}}function Op(Up){if(_h=!1,Ep(Up),!_f)if(_o(Al)!==null)_f=!0,Vp(Ip);else{var Yp=_o(Rl);Yp!==null&&Hp(Op,Yp.startTime-Up)}}function Ip(Up,Yp){_f=!1,_h&&(_h=!1,up(Np),Np=-1),Ql=!0;var zp=Gl;try{for(Ep(Yp),Bl=_o(Al);Bl!==null&&(!(Bl.expirationTime>Yp)||Up&&!Dp());){var _v=Bl.callback;if(typeof _v=="function"){Bl.callback=null,Gl=Bl.priorityLevel;var _g=_v(Bl.expirationTime<=Yp);Yp=_r.unstable_now(),typeof _g=="function"?Bl.callback=_g:Bl===_o(Al)&&yl(Al),Ep(Yp)}else yl(Al);Bl=_o(Al)}if(Bl!==null)var dy=!0;else{var Ap=_o(Rl);Ap!==null&&Hp(Op,Ap.startTime-Yp),dy=!1}return dy}finally{Bl=null,Gl=zp,Ql=!1}}var Pp=!1,xp=null,Np=-1,Kp=5,Tp=-1;function Dp(){return!(_r.unstable_now()-Tp<Kp)}function Bp(){if(xp!==null){var Up=_r.unstable_now();Tp=Up;var Yp=!0;try{Yp=xp(!0,Up)}finally{Yp?Qp():(Pp=!1,xp=null)}}else Pp=!1}var Qp;if(typeof _d=="function")Qp=function(){_d(Bp)};else if(typeof MessageChannel<"u"){var Cp=new MessageChannel,$p=Cp.port2;Cp.port1.onmessage=Bp,Qp=function(){$p.postMessage(null)}}else Qp=function(){vp(Bp,0)};function Vp(Up){xp=Up,Pp||(Pp=!0,Qp())}function Hp(Up,Yp){Np=vp(function(){Up(_r.unstable_now())},Yp)}_r.unstable_IdlePriority=5,_r.unstable_ImmediatePriority=1,_r.unstable_LowPriority=4,_r.unstable_NormalPriority=3,_r.unstable_Profiling=null,_r.unstable_UserBlockingPriority=2,_r.unstable_cancelCallback=function(Up){Up.callback=null},_r.unstable_continueExecution=function(){_f||Ql||(_f=!0,Vp(Ip))},_r.unstable_forceFrameRate=function(Up){0>Up||125<Up?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Kp=0<Up?Math.floor(1e3/Up):5},_r.unstable_getCurrentPriorityLevel=function(){return Gl},_r.unstable_getFirstCallbackNode=function(){return _o(Al)},_r.unstable_next=function(Up){switch(Gl){case 1:case 2:case 3:var Yp=3;break;default:Yp=Gl}var zp=Gl;Gl=Yp;try{return Up()}finally{Gl=zp}},_r.unstable_pauseExecution=function(){},_r.unstable_requestPaint=function(){},_r.unstable_runWithPriority=function(Up,Yp){switch(Up){case 1:case 2:case 3:case 4:case 5:break;default:Up=3}var zp=Gl;Gl=Up;try{return Yp()}finally{Gl=zp}},_r.unstable_scheduleCallback=function(Up,Yp,zp){var _v=_r.unstable_now();switch(typeof zp=="object"&&zp!==null?(zp=zp.delay,zp=typeof zp=="number"&&0<zp?_v+zp:_v):zp=_v,Up){case 1:var _g=-1;break;case 2:_g=250;break;case 5:_g=1073741823;break;case 4:_g=1e4;break;default:_g=5e3}return _g=zp+_g,Up={id:Fl++,callback:Yp,priorityLevel:Up,startTime:zp,expirationTime:_g,sortIndex:-1},zp>_v?(Up.sortIndex=zp,_t(Rl,Up),_o(Al)===null&&Up===_o(Rl)&&(_h?(up(Np),Np=-1):_h=!0,Hp(Op,zp-_v))):(Up.sortIndex=_g,_t(Al,Up),_f||Ql||(_f=!0,Vp(Ip))),Up},_r.unstable_shouldYield=Dp,_r.unstable_wrapCallback=function(Up){var Yp=Gl;return function(){var zp=Gl;Gl=Yp;try{return Up.apply(this,arguments)}finally{Gl=zp}}}})(scheduler_production_min);(function(_r){_r.exports=scheduler_production_min})(scheduler);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa$2=reactExports,ca$2=schedulerExports;function p$6(_r){for(var _t="https://reactjs.org/docs/error-decoder.html?invariant="+_r,_o=1;_o<arguments.length;_o++)_t+="&args[]="+encodeURIComponent(arguments[_o]);return"Minified React error #"+_r+"; visit "+_t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var da$1=new Set,ea$2={};function fa$2(_r,_t){ha$2(_r,_t),ha$2(_r+"Capture",_t)}function ha$2(_r,_t){for(ea$2[_r]=_t,_r=0;_r<_t.length;_r++)da$1.add(_t[_r])}var ia$1=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ja$1=Object.prototype.hasOwnProperty,ka$1=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,la$2={},ma$2={};function oa$2(_r){return ja$1.call(ma$2,_r)?!0:ja$1.call(la$2,_r)?!1:ka$1.test(_r)?ma$2[_r]=!0:(la$2[_r]=!0,!1)}function pa$2(_r,_t,_o,yl){if(_o!==null&&_o.type===0)return!1;switch(typeof _t){case"function":case"symbol":return!0;case"boolean":return yl?!1:_o!==null?!_o.acceptsBooleans:(_r=_r.toLowerCase().slice(0,5),_r!=="data-"&&_r!=="aria-");default:return!1}}function qa$1(_r,_t,_o,yl){if(_t===null||typeof _t>"u"||pa$2(_r,_t,_o,yl))return!0;if(yl)return!1;if(_o!==null)switch(_o.type){case 3:return!_t;case 4:return _t===!1;case 5:return isNaN(_t);case 6:return isNaN(_t)||1>_t}return!1}function v$6(_r,_t,_o,yl,El,_l,Tl){this.acceptsBooleans=_t===2||_t===3||_t===4,this.attributeName=yl,this.attributeNamespace=El,this.mustUseProperty=_o,this.propertyName=_r,this.type=_t,this.sanitizeURL=_l,this.removeEmptyString=Tl}var z$4={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(_r){z$4[_r]=new v$6(_r,0,!1,_r,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(_r){var _t=_r[0];z$4[_t]=new v$6(_t,1,!1,_r[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(_r){z$4[_r]=new v$6(_r,2,!1,_r.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(_r){z$4[_r]=new v$6(_r,2,!1,_r,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(_r){z$4[_r]=new v$6(_r,3,!1,_r.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(_r){z$4[_r]=new v$6(_r,3,!0,_r,null,!1,!1)});["capture","download"].forEach(function(_r){z$4[_r]=new v$6(_r,4,!1,_r,null,!1,!1)});["cols","rows","size","span"].forEach(function(_r){z$4[_r]=new v$6(_r,6,!1,_r,null,!1,!1)});["rowSpan","start"].forEach(function(_r){z$4[_r]=new v$6(_r,5,!1,_r.toLowerCase(),null,!1,!1)});var ra$1=/[\-:]([a-z])/g;function sa$2(_r){return _r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(_r){var _t=_r.replace(ra$1,sa$2);z$4[_t]=new v$6(_t,1,!1,_r,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(_r){var _t=_r.replace(ra$1,sa$2);z$4[_t]=new v$6(_t,1,!1,_r,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(_r){var _t=_r.replace(ra$1,sa$2);z$4[_t]=new v$6(_t,1,!1,_r,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(_r){z$4[_r]=new v$6(_r,1,!1,_r.toLowerCase(),null,!1,!1)});z$4.xlinkHref=new v$6("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(_r){z$4[_r]=new v$6(_r,1,!1,_r.toLowerCase(),null,!0,!0)});function ta$2(_r,_t,_o,yl){var El=z$4.hasOwnProperty(_t)?z$4[_t]:null;(El!==null?El.type!==0:yl||!(2<_t.length)||_t[0]!=="o"&&_t[0]!=="O"||_t[1]!=="n"&&_t[1]!=="N")&&(qa$1(_t,_o,El,yl)&&(_o=null),yl||El===null?oa$2(_t)&&(_o===null?_r.removeAttribute(_t):_r.setAttribute(_t,""+_o)):El.mustUseProperty?_r[El.propertyName]=_o===null?El.type===3?!1:"":_o:(_t=El.attributeName,yl=El.attributeNamespace,_o===null?_r.removeAttribute(_t):(El=El.type,_o=El===3||El===4&&_o===!0?"":""+_o,yl?_r.setAttributeNS(yl,_t,_o):_r.setAttribute(_t,_o))))}var ua$2=aa$2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va$2=Symbol.for("react.element"),wa$2=Symbol.for("react.portal"),ya$2=Symbol.for("react.fragment"),za$2=Symbol.for("react.strict_mode"),Aa$2=Symbol.for("react.profiler"),Ba$1=Symbol.for("react.provider"),Ca=Symbol.for("react.context"),Da=Symbol.for("react.forward_ref"),Ea$1=Symbol.for("react.suspense"),Fa$2=Symbol.for("react.suspense_list"),Ga$2=Symbol.for("react.memo"),Ha$1=Symbol.for("react.lazy"),Ia$2=Symbol.for("react.offscreen"),Ja$1=Symbol.iterator;function Ka$1(_r){return _r===null||typeof _r!="object"?null:(_r=Ja$1&&_r[Ja$1]||_r["@@iterator"],typeof _r=="function"?_r:null)}var A$3=Object.assign,La$1;function Ma$2(_r){if(La$1===void 0)try{throw Error()}catch(_o){var _t=_o.stack.trim().match(/\n( *(at )?)/);La$1=_t&&_t[1]||""}return`
`+La$1+_r}var Na$1=!1;function Oa$2(_r,_t){if(!_r||Na$1)return"";Na$1=!0;var _o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(_t)if(_t=function(){throw Error()},Object.defineProperty(_t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(_t,[])}catch(Rl){var yl=Rl}Reflect.construct(_r,[],_t)}else{try{_t.call()}catch(Rl){yl=Rl}_r.call(_t.prototype)}else{try{throw Error()}catch(Rl){yl=Rl}_r()}}catch(Rl){if(Rl&&yl&&typeof Rl.stack=="string"){for(var El=Rl.stack.split(`
`),_l=yl.stack.split(`
`),Tl=El.length-1,Il=_l.length-1;1<=Tl&&0<=Il&&El[Tl]!==_l[Il];)Il--;for(;1<=Tl&&0<=Il;Tl--,Il--)if(El[Tl]!==_l[Il]){if(Tl!==1||Il!==1)do if(Tl--,Il--,0>Il||El[Tl]!==_l[Il]){var Al=`
`+El[Tl].replace(" at new "," at ");return _r.displayName&&Al.includes("<anonymous>")&&(Al=Al.replace("<anonymous>",_r.displayName)),Al}while(1<=Tl&&0<=Il);break}}}finally{Na$1=!1,Error.prepareStackTrace=_o}return(_r=_r?_r.displayName||_r.name:"")?Ma$2(_r):""}function Pa$1(_r){switch(_r.tag){case 5:return Ma$2(_r.type);case 16:return Ma$2("Lazy");case 13:return Ma$2("Suspense");case 19:return Ma$2("SuspenseList");case 0:case 2:case 15:return _r=Oa$2(_r.type,!1),_r;case 11:return _r=Oa$2(_r.type.render,!1),_r;case 1:return _r=Oa$2(_r.type,!0),_r;default:return""}}function Qa$1(_r){if(_r==null)return null;if(typeof _r=="function")return _r.displayName||_r.name||null;if(typeof _r=="string")return _r;switch(_r){case ya$2:return"Fragment";case wa$2:return"Portal";case Aa$2:return"Profiler";case za$2:return"StrictMode";case Ea$1:return"Suspense";case Fa$2:return"SuspenseList"}if(typeof _r=="object")switch(_r.$$typeof){case Ca:return(_r.displayName||"Context")+".Consumer";case Ba$1:return(_r._context.displayName||"Context")+".Provider";case Da:var _t=_r.render;return _r=_r.displayName,_r||(_r=_t.displayName||_t.name||"",_r=_r!==""?"ForwardRef("+_r+")":"ForwardRef"),_r;case Ga$2:return _t=_r.displayName||null,_t!==null?_t:Qa$1(_r.type)||"Memo";case Ha$1:_t=_r._payload,_r=_r._init;try{return Qa$1(_r(_t))}catch{}}return null}function Ra$1(_r){var _t=_r.type;switch(_r.tag){case 24:return"Cache";case 9:return(_t.displayName||"Context")+".Consumer";case 10:return(_t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return _r=_t.render,_r=_r.displayName||_r.name||"",_t.displayName||(_r!==""?"ForwardRef("+_r+")":"ForwardRef");case 7:return"Fragment";case 5:return _t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa$1(_t);case 8:return _t===za$2?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof _t=="function")return _t.displayName||_t.name||null;if(typeof _t=="string")return _t}return null}function Sa$1(_r){switch(typeof _r){case"boolean":case"number":case"string":case"undefined":return _r;case"object":return _r;default:return""}}function Ta$2(_r){var _t=_r.type;return(_r=_r.nodeName)&&_r.toLowerCase()==="input"&&(_t==="checkbox"||_t==="radio")}function Ua$2(_r){var _t=Ta$2(_r)?"checked":"value",_o=Object.getOwnPropertyDescriptor(_r.constructor.prototype,_t),yl=""+_r[_t];if(!_r.hasOwnProperty(_t)&&typeof _o<"u"&&typeof _o.get=="function"&&typeof _o.set=="function"){var El=_o.get,_l=_o.set;return Object.defineProperty(_r,_t,{configurable:!0,get:function(){return El.call(this)},set:function(Tl){yl=""+Tl,_l.call(this,Tl)}}),Object.defineProperty(_r,_t,{enumerable:_o.enumerable}),{getValue:function(){return yl},setValue:function(Tl){yl=""+Tl},stopTracking:function(){_r._valueTracker=null,delete _r[_t]}}}}function Va$1(_r){_r._valueTracker||(_r._valueTracker=Ua$2(_r))}function Wa$1(_r){if(!_r)return!1;var _t=_r._valueTracker;if(!_t)return!0;var _o=_t.getValue(),yl="";return _r&&(yl=Ta$2(_r)?_r.checked?"true":"false":_r.value),_r=yl,_r!==_o?(_t.setValue(_r),!0):!1}function Xa$1(_r){if(_r=_r||(typeof document<"u"?document:void 0),typeof _r>"u")return null;try{return _r.activeElement||_r.body}catch{return _r.body}}function Ya$1(_r,_t){var _o=_t.checked;return A$3({},_t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:_o??_r._wrapperState.initialChecked})}function Za(_r,_t){var _o=_t.defaultValue==null?"":_t.defaultValue,yl=_t.checked!=null?_t.checked:_t.defaultChecked;_o=Sa$1(_t.value!=null?_t.value:_o),_r._wrapperState={initialChecked:yl,initialValue:_o,controlled:_t.type==="checkbox"||_t.type==="radio"?_t.checked!=null:_t.value!=null}}function ab$1(_r,_t){_t=_t.checked,_t!=null&&ta$2(_r,"checked",_t,!1)}function bb$1(_r,_t){ab$1(_r,_t);var _o=Sa$1(_t.value),yl=_t.type;if(_o!=null)yl==="number"?(_o===0&&_r.value===""||_r.value!=_o)&&(_r.value=""+_o):_r.value!==""+_o&&(_r.value=""+_o);else if(yl==="submit"||yl==="reset"){_r.removeAttribute("value");return}_t.hasOwnProperty("value")?cb$1(_r,_t.type,_o):_t.hasOwnProperty("defaultValue")&&cb$1(_r,_t.type,Sa$1(_t.defaultValue)),_t.checked==null&&_t.defaultChecked!=null&&(_r.defaultChecked=!!_t.defaultChecked)}function db$1(_r,_t,_o){if(_t.hasOwnProperty("value")||_t.hasOwnProperty("defaultValue")){var yl=_t.type;if(!(yl!=="submit"&&yl!=="reset"||_t.value!==void 0&&_t.value!==null))return;_t=""+_r._wrapperState.initialValue,_o||_t===_r.value||(_r.value=_t),_r.defaultValue=_t}_o=_r.name,_o!==""&&(_r.name=""),_r.defaultChecked=!!_r._wrapperState.initialChecked,_o!==""&&(_r.name=_o)}function cb$1(_r,_t,_o){(_t!=="number"||Xa$1(_r.ownerDocument)!==_r)&&(_o==null?_r.defaultValue=""+_r._wrapperState.initialValue:_r.defaultValue!==""+_o&&(_r.defaultValue=""+_o))}var eb$1=Array.isArray;function fb$1(_r,_t,_o,yl){if(_r=_r.options,_t){_t={};for(var El=0;El<_o.length;El++)_t["$"+_o[El]]=!0;for(_o=0;_o<_r.length;_o++)El=_t.hasOwnProperty("$"+_r[_o].value),_r[_o].selected!==El&&(_r[_o].selected=El),El&&yl&&(_r[_o].defaultSelected=!0)}else{for(_o=""+Sa$1(_o),_t=null,El=0;El<_r.length;El++){if(_r[El].value===_o){_r[El].selected=!0,yl&&(_r[El].defaultSelected=!0);return}_t!==null||_r[El].disabled||(_t=_r[El])}_t!==null&&(_t.selected=!0)}}function gb$1(_r,_t){if(_t.dangerouslySetInnerHTML!=null)throw Error(p$6(91));return A$3({},_t,{value:void 0,defaultValue:void 0,children:""+_r._wrapperState.initialValue})}function hb$1(_r,_t){var _o=_t.value;if(_o==null){if(_o=_t.children,_t=_t.defaultValue,_o!=null){if(_t!=null)throw Error(p$6(92));if(eb$1(_o)){if(1<_o.length)throw Error(p$6(93));_o=_o[0]}_t=_o}_t==null&&(_t=""),_o=_t}_r._wrapperState={initialValue:Sa$1(_o)}}function ib$1(_r,_t){var _o=Sa$1(_t.value),yl=Sa$1(_t.defaultValue);_o!=null&&(_o=""+_o,_o!==_r.value&&(_r.value=_o),_t.defaultValue==null&&_r.defaultValue!==_o&&(_r.defaultValue=_o)),yl!=null&&(_r.defaultValue=""+yl)}function jb$1(_r){var _t=_r.textContent;_t===_r._wrapperState.initialValue&&_t!==""&&_t!==null&&(_r.value=_t)}function kb$1(_r){switch(_r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lb$1(_r,_t){return _r==null||_r==="http://www.w3.org/1999/xhtml"?kb$1(_t):_r==="http://www.w3.org/2000/svg"&&_t==="foreignObject"?"http://www.w3.org/1999/xhtml":_r}var mb$1,nb$1=function(_r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(_t,_o,yl,El){MSApp.execUnsafeLocalFunction(function(){return _r(_t,_o,yl,El)})}:_r}(function(_r,_t){if(_r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in _r)_r.innerHTML=_t;else{for(mb$1=mb$1||document.createElement("div"),mb$1.innerHTML="<svg>"+_t.valueOf().toString()+"</svg>",_t=mb$1.firstChild;_r.firstChild;)_r.removeChild(_r.firstChild);for(;_t.firstChild;)_r.appendChild(_t.firstChild)}});function ob$1(_r,_t){if(_t){var _o=_r.firstChild;if(_o&&_o===_r.lastChild&&_o.nodeType===3){_o.nodeValue=_t;return}}_r.textContent=_t}var pb$1={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb$1=["Webkit","ms","Moz","O"];Object.keys(pb$1).forEach(function(_r){qb$1.forEach(function(_t){_t=_t+_r.charAt(0).toUpperCase()+_r.substring(1),pb$1[_t]=pb$1[_r]})});function rb$1(_r,_t,_o){return _t==null||typeof _t=="boolean"||_t===""?"":_o||typeof _t!="number"||_t===0||pb$1.hasOwnProperty(_r)&&pb$1[_r]?(""+_t).trim():_t+"px"}function sb$1(_r,_t){_r=_r.style;for(var _o in _t)if(_t.hasOwnProperty(_o)){var yl=_o.indexOf("--")===0,El=rb$1(_o,_t[_o],yl);_o==="float"&&(_o="cssFloat"),yl?_r.setProperty(_o,El):_r[_o]=El}}var tb=A$3({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ub$1(_r,_t){if(_t){if(tb[_r]&&(_t.children!=null||_t.dangerouslySetInnerHTML!=null))throw Error(p$6(137,_r));if(_t.dangerouslySetInnerHTML!=null){if(_t.children!=null)throw Error(p$6(60));if(typeof _t.dangerouslySetInnerHTML!="object"||!("__html"in _t.dangerouslySetInnerHTML))throw Error(p$6(61))}if(_t.style!=null&&typeof _t.style!="object")throw Error(p$6(62))}}function vb$1(_r,_t){if(_r.indexOf("-")===-1)return typeof _t.is=="string";switch(_r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wb$1=null;function xb$1(_r){return _r=_r.target||_r.srcElement||window,_r.correspondingUseElement&&(_r=_r.correspondingUseElement),_r.nodeType===3?_r.parentNode:_r}var yb$1=null,zb$1=null,Ab$1=null;function Bb$1(_r){if(_r=Cb$1(_r)){if(typeof yb$1!="function")throw Error(p$6(280));var _t=_r.stateNode;_t&&(_t=Db$1(_t),yb$1(_r.stateNode,_r.type,_t))}}function Eb$1(_r){zb$1?Ab$1?Ab$1.push(_r):Ab$1=[_r]:zb$1=_r}function Fb$1(){if(zb$1){var _r=zb$1,_t=Ab$1;if(Ab$1=zb$1=null,Bb$1(_r),_t)for(_r=0;_r<_t.length;_r++)Bb$1(_t[_r])}}function Gb$1(_r,_t){return _r(_t)}function Hb$1(){}var Ib$1=!1;function Jb$1(_r,_t,_o){if(Ib$1)return _r(_t,_o);Ib$1=!0;try{return Gb$1(_r,_t,_o)}finally{Ib$1=!1,(zb$1!==null||Ab$1!==null)&&(Hb$1(),Fb$1())}}function Kb$1(_r,_t){var _o=_r.stateNode;if(_o===null)return null;var yl=Db$1(_o);if(yl===null)return null;_o=yl[_t];e:switch(_t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(yl=!yl.disabled)||(_r=_r.type,yl=!(_r==="button"||_r==="input"||_r==="select"||_r==="textarea")),_r=!yl;break e;default:_r=!1}if(_r)return null;if(_o&&typeof _o!="function")throw Error(p$6(231,_t,typeof _o));return _o}var Lb$1=!1;if(ia$1)try{var Mb$1={};Object.defineProperty(Mb$1,"passive",{get:function(){Lb$1=!0}}),window.addEventListener("test",Mb$1,Mb$1),window.removeEventListener("test",Mb$1,Mb$1)}catch{Lb$1=!1}function Nb$1(_r,_t,_o,yl,El,_l,Tl,Il,Al){var Rl=Array.prototype.slice.call(arguments,3);try{_t.apply(_o,Rl)}catch(Fl){this.onError(Fl)}}var Ob$1=!1,Pb$1=null,Qb$1=!1,Rb$1=null,Sb$1={onError:function(_r){Ob$1=!0,Pb$1=_r}};function Tb$1(_r,_t,_o,yl,El,_l,Tl,Il,Al){Ob$1=!1,Pb$1=null,Nb$1.apply(Sb$1,arguments)}function Ub$1(_r,_t,_o,yl,El,_l,Tl,Il,Al){if(Tb$1.apply(this,arguments),Ob$1){if(Ob$1){var Rl=Pb$1;Ob$1=!1,Pb$1=null}else throw Error(p$6(198));Qb$1||(Qb$1=!0,Rb$1=Rl)}}function Vb$1(_r){var _t=_r,_o=_r;if(_r.alternate)for(;_t.return;)_t=_t.return;else{_r=_t;do _t=_r,_t.flags&4098&&(_o=_t.return),_r=_t.return;while(_r)}return _t.tag===3?_o:null}function Wb$1(_r){if(_r.tag===13){var _t=_r.memoizedState;if(_t===null&&(_r=_r.alternate,_r!==null&&(_t=_r.memoizedState)),_t!==null)return _t.dehydrated}return null}function Xb$1(_r){if(Vb$1(_r)!==_r)throw Error(p$6(188))}function Yb$1(_r){var _t=_r.alternate;if(!_t){if(_t=Vb$1(_r),_t===null)throw Error(p$6(188));return _t!==_r?null:_r}for(var _o=_r,yl=_t;;){var El=_o.return;if(El===null)break;var _l=El.alternate;if(_l===null){if(yl=El.return,yl!==null){_o=yl;continue}break}if(El.child===_l.child){for(_l=El.child;_l;){if(_l===_o)return Xb$1(El),_r;if(_l===yl)return Xb$1(El),_t;_l=_l.sibling}throw Error(p$6(188))}if(_o.return!==yl.return)_o=El,yl=_l;else{for(var Tl=!1,Il=El.child;Il;){if(Il===_o){Tl=!0,_o=El,yl=_l;break}if(Il===yl){Tl=!0,yl=El,_o=_l;break}Il=Il.sibling}if(!Tl){for(Il=_l.child;Il;){if(Il===_o){Tl=!0,_o=_l,yl=El;break}if(Il===yl){Tl=!0,yl=_l,_o=El;break}Il=Il.sibling}if(!Tl)throw Error(p$6(189))}}if(_o.alternate!==yl)throw Error(p$6(190))}if(_o.tag!==3)throw Error(p$6(188));return _o.stateNode.current===_o?_r:_t}function Zb$1(_r){return _r=Yb$1(_r),_r!==null?$b$1(_r):null}function $b$1(_r){if(_r.tag===5||_r.tag===6)return _r;for(_r=_r.child;_r!==null;){var _t=$b$1(_r);if(_t!==null)return _t;_r=_r.sibling}return null}var ac$2=ca$2.unstable_scheduleCallback,bc$2=ca$2.unstable_cancelCallback,cc$2=ca$2.unstable_shouldYield,dc$2=ca$2.unstable_requestPaint,B$3=ca$2.unstable_now,ec$2=ca$2.unstable_getCurrentPriorityLevel,fc$2=ca$2.unstable_ImmediatePriority,gc$1=ca$2.unstable_UserBlockingPriority,hc$2=ca$2.unstable_NormalPriority,ic$2=ca$2.unstable_LowPriority,jc$1=ca$2.unstable_IdlePriority,kc$1=null,lc$2=null;function mc$1(_r){if(lc$2&&typeof lc$2.onCommitFiberRoot=="function")try{lc$2.onCommitFiberRoot(kc$1,_r,void 0,(_r.current.flags&128)===128)}catch{}}var oc$2=Math.clz32?Math.clz32:nc$2,pc$2=Math.log,qc$2=Math.LN2;function nc$2(_r){return _r>>>=0,_r===0?32:31-(pc$2(_r)/qc$2|0)|0}var rc$2=64,sc$2=4194304;function tc$2(_r){switch(_r&-_r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return _r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return _r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return _r}}function uc$2(_r,_t){var _o=_r.pendingLanes;if(_o===0)return 0;var yl=0,El=_r.suspendedLanes,_l=_r.pingedLanes,Tl=_o&268435455;if(Tl!==0){var Il=Tl&~El;Il!==0?yl=tc$2(Il):(_l&=Tl,_l!==0&&(yl=tc$2(_l)))}else Tl=_o&~El,Tl!==0?yl=tc$2(Tl):_l!==0&&(yl=tc$2(_l));if(yl===0)return 0;if(_t!==0&&_t!==yl&&!(_t&El)&&(El=yl&-yl,_l=_t&-_t,El>=_l||El===16&&(_l&4194240)!==0))return _t;if(yl&4&&(yl|=_o&16),_t=_r.entangledLanes,_t!==0)for(_r=_r.entanglements,_t&=yl;0<_t;)_o=31-oc$2(_t),El=1<<_o,yl|=_r[_o],_t&=~El;return yl}function vc$2(_r,_t){switch(_r){case 1:case 2:case 4:return _t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return _t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc$1(_r,_t){for(var _o=_r.suspendedLanes,yl=_r.pingedLanes,El=_r.expirationTimes,_l=_r.pendingLanes;0<_l;){var Tl=31-oc$2(_l),Il=1<<Tl,Al=El[Tl];Al===-1?(!(Il&_o)||Il&yl)&&(El[Tl]=vc$2(Il,_t)):Al<=_t&&(_r.expiredLanes|=Il),_l&=~Il}}function xc$2(_r){return _r=_r.pendingLanes&-1073741825,_r!==0?_r:_r&1073741824?1073741824:0}function yc$1(){var _r=rc$2;return rc$2<<=1,!(rc$2&4194240)&&(rc$2=64),_r}function zc$1(_r){for(var _t=[],_o=0;31>_o;_o++)_t.push(_r);return _t}function Ac$2(_r,_t,_o){_r.pendingLanes|=_t,_t!==536870912&&(_r.suspendedLanes=0,_r.pingedLanes=0),_r=_r.eventTimes,_t=31-oc$2(_t),_r[_t]=_o}function Bc$2(_r,_t){var _o=_r.pendingLanes&~_t;_r.pendingLanes=_t,_r.suspendedLanes=0,_r.pingedLanes=0,_r.expiredLanes&=_t,_r.mutableReadLanes&=_t,_r.entangledLanes&=_t,_t=_r.entanglements;var yl=_r.eventTimes;for(_r=_r.expirationTimes;0<_o;){var El=31-oc$2(_o),_l=1<<El;_t[El]=0,yl[El]=-1,_r[El]=-1,_o&=~_l}}function Cc$2(_r,_t){var _o=_r.entangledLanes|=_t;for(_r=_r.entanglements;_o;){var yl=31-oc$2(_o),El=1<<yl;El&_t|_r[yl]&_t&&(_r[yl]|=_t),_o&=~El}}var C$2=0;function Dc$2(_r){return _r&=-_r,1<_r?4<_r?_r&268435455?16:536870912:4:1}var Ec$2,Fc$2,Gc$2,Hc$1,Ic$2,Jc$1=!1,Kc$2=[],Lc$2=null,Mc$2=null,Nc$2=null,Oc$2=new Map,Pc$2=new Map,Qc$1=[],Rc$2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc$2(_r,_t){switch(_r){case"focusin":case"focusout":Lc$2=null;break;case"dragenter":case"dragleave":Mc$2=null;break;case"mouseover":case"mouseout":Nc$2=null;break;case"pointerover":case"pointerout":Oc$2.delete(_t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc$2.delete(_t.pointerId)}}function Tc$2(_r,_t,_o,yl,El,_l){return _r===null||_r.nativeEvent!==_l?(_r={blockedOn:_t,domEventName:_o,eventSystemFlags:yl,nativeEvent:_l,targetContainers:[El]},_t!==null&&(_t=Cb$1(_t),_t!==null&&Fc$2(_t)),_r):(_r.eventSystemFlags|=yl,_t=_r.targetContainers,El!==null&&_t.indexOf(El)===-1&&_t.push(El),_r)}function Uc$2(_r,_t,_o,yl,El){switch(_t){case"focusin":return Lc$2=Tc$2(Lc$2,_r,_t,_o,yl,El),!0;case"dragenter":return Mc$2=Tc$2(Mc$2,_r,_t,_o,yl,El),!0;case"mouseover":return Nc$2=Tc$2(Nc$2,_r,_t,_o,yl,El),!0;case"pointerover":var _l=El.pointerId;return Oc$2.set(_l,Tc$2(Oc$2.get(_l)||null,_r,_t,_o,yl,El)),!0;case"gotpointercapture":return _l=El.pointerId,Pc$2.set(_l,Tc$2(Pc$2.get(_l)||null,_r,_t,_o,yl,El)),!0}return!1}function Vc$2(_r){var _t=Wc$1(_r.target);if(_t!==null){var _o=Vb$1(_t);if(_o!==null){if(_t=_o.tag,_t===13){if(_t=Wb$1(_o),_t!==null){_r.blockedOn=_t,Ic$2(_r.priority,function(){Gc$2(_o)});return}}else if(_t===3&&_o.stateNode.current.memoizedState.isDehydrated){_r.blockedOn=_o.tag===3?_o.stateNode.containerInfo:null;return}}}_r.blockedOn=null}function Xc$1(_r){if(_r.blockedOn!==null)return!1;for(var _t=_r.targetContainers;0<_t.length;){var _o=Yc$1(_r.domEventName,_r.eventSystemFlags,_t[0],_r.nativeEvent);if(_o===null){_o=_r.nativeEvent;var yl=new _o.constructor(_o.type,_o);wb$1=yl,_o.target.dispatchEvent(yl),wb$1=null}else return _t=Cb$1(_o),_t!==null&&Fc$2(_t),_r.blockedOn=_o,!1;_t.shift()}return!0}function Zc$1(_r,_t,_o){Xc$1(_r)&&_o.delete(_t)}function $c$2(){Jc$1=!1,Lc$2!==null&&Xc$1(Lc$2)&&(Lc$2=null),Mc$2!==null&&Xc$1(Mc$2)&&(Mc$2=null),Nc$2!==null&&Xc$1(Nc$2)&&(Nc$2=null),Oc$2.forEach(Zc$1),Pc$2.forEach(Zc$1)}function ad$1(_r,_t){_r.blockedOn===_t&&(_r.blockedOn=null,Jc$1||(Jc$1=!0,ca$2.unstable_scheduleCallback(ca$2.unstable_NormalPriority,$c$2)))}function bd$1(_r){function _t(El){return ad$1(El,_r)}if(0<Kc$2.length){ad$1(Kc$2[0],_r);for(var _o=1;_o<Kc$2.length;_o++){var yl=Kc$2[_o];yl.blockedOn===_r&&(yl.blockedOn=null)}}for(Lc$2!==null&&ad$1(Lc$2,_r),Mc$2!==null&&ad$1(Mc$2,_r),Nc$2!==null&&ad$1(Nc$2,_r),Oc$2.forEach(_t),Pc$2.forEach(_t),_o=0;_o<Qc$1.length;_o++)yl=Qc$1[_o],yl.blockedOn===_r&&(yl.blockedOn=null);for(;0<Qc$1.length&&(_o=Qc$1[0],_o.blockedOn===null);)Vc$2(_o),_o.blockedOn===null&&Qc$1.shift()}var cd$1=ua$2.ReactCurrentBatchConfig,dd$1=!0;function ed$1(_r,_t,_o,yl){var El=C$2,_l=cd$1.transition;cd$1.transition=null;try{C$2=1,fd$1(_r,_t,_o,yl)}finally{C$2=El,cd$1.transition=_l}}function gd$1(_r,_t,_o,yl){var El=C$2,_l=cd$1.transition;cd$1.transition=null;try{C$2=4,fd$1(_r,_t,_o,yl)}finally{C$2=El,cd$1.transition=_l}}function fd$1(_r,_t,_o,yl){if(dd$1){var El=Yc$1(_r,_t,_o,yl);if(El===null)hd$1(_r,_t,yl,id$3,_o),Sc$2(_r,yl);else if(Uc$2(El,_r,_t,_o,yl))yl.stopPropagation();else if(Sc$2(_r,yl),_t&4&&-1<Rc$2.indexOf(_r)){for(;El!==null;){var _l=Cb$1(El);if(_l!==null&&Ec$2(_l),_l=Yc$1(_r,_t,_o,yl),_l===null&&hd$1(_r,_t,yl,id$3,_o),_l===El)break;El=_l}El!==null&&yl.stopPropagation()}else hd$1(_r,_t,yl,null,_o)}}var id$3=null;function Yc$1(_r,_t,_o,yl){if(id$3=null,_r=xb$1(yl),_r=Wc$1(_r),_r!==null)if(_t=Vb$1(_r),_t===null)_r=null;else if(_o=_t.tag,_o===13){if(_r=Wb$1(_t),_r!==null)return _r;_r=null}else if(_o===3){if(_t.stateNode.current.memoizedState.isDehydrated)return _t.tag===3?_t.stateNode.containerInfo:null;_r=null}else _t!==_r&&(_r=null);return id$3=_r,null}function jd$1(_r){switch(_r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ec$2()){case fc$2:return 1;case gc$1:return 4;case hc$2:case ic$2:return 16;case jc$1:return 536870912;default:return 16}default:return 16}}var kd$1=null,ld$1=null,md$1=null;function nd$1(){if(md$1)return md$1;var _r,_t=ld$1,_o=_t.length,yl,El="value"in kd$1?kd$1.value:kd$1.textContent,_l=El.length;for(_r=0;_r<_o&&_t[_r]===El[_r];_r++);var Tl=_o-_r;for(yl=1;yl<=Tl&&_t[_o-yl]===El[_l-yl];yl++);return md$1=El.slice(_r,1<yl?1-yl:void 0)}function od$1(_r){var _t=_r.keyCode;return"charCode"in _r?(_r=_r.charCode,_r===0&&_t===13&&(_r=13)):_r=_t,_r===10&&(_r=13),32<=_r||_r===13?_r:0}function pd$1(){return!0}function qd$1(){return!1}function rd$1(_r){function _t(_o,yl,El,_l,Tl){this._reactName=_o,this._targetInst=El,this.type=yl,this.nativeEvent=_l,this.target=Tl,this.currentTarget=null;for(var Il in _r)_r.hasOwnProperty(Il)&&(_o=_r[Il],this[Il]=_o?_o(_l):_l[Il]);return this.isDefaultPrevented=(_l.defaultPrevented!=null?_l.defaultPrevented:_l.returnValue===!1)?pd$1:qd$1,this.isPropagationStopped=qd$1,this}return A$3(_t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var _o=this.nativeEvent;_o&&(_o.preventDefault?_o.preventDefault():typeof _o.returnValue!="unknown"&&(_o.returnValue=!1),this.isDefaultPrevented=pd$1)},stopPropagation:function(){var _o=this.nativeEvent;_o&&(_o.stopPropagation?_o.stopPropagation():typeof _o.cancelBubble!="unknown"&&(_o.cancelBubble=!0),this.isPropagationStopped=pd$1)},persist:function(){},isPersistent:pd$1}),_t}var sd$1={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(_r){return _r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td$1=rd$1(sd$1),ud$1=A$3({},sd$1,{view:0,detail:0}),vd$1=rd$1(ud$1),wd$1,xd$1,yd$1,Ad$1=A$3({},ud$1,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd$1,button:0,buttons:0,relatedTarget:function(_r){return _r.relatedTarget===void 0?_r.fromElement===_r.srcElement?_r.toElement:_r.fromElement:_r.relatedTarget},movementX:function(_r){return"movementX"in _r?_r.movementX:(_r!==yd$1&&(yd$1&&_r.type==="mousemove"?(wd$1=_r.screenX-yd$1.screenX,xd$1=_r.screenY-yd$1.screenY):xd$1=wd$1=0,yd$1=_r),wd$1)},movementY:function(_r){return"movementY"in _r?_r.movementY:xd$1}}),Bd$1=rd$1(Ad$1),Cd$1=A$3({},Ad$1,{dataTransfer:0}),Dd$1=rd$1(Cd$1),Ed$1=A$3({},ud$1,{relatedTarget:0}),Fd$1=rd$1(Ed$1),Gd$1=A$3({},sd$1,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd$1=rd$1(Gd$1),Id$1=A$3({},sd$1,{clipboardData:function(_r){return"clipboardData"in _r?_r.clipboardData:window.clipboardData}}),Jd$1=rd$1(Id$1),Kd=A$3({},sd$1,{data:0}),Ld=rd$1(Kd),Md={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd(_r){var _t=this.nativeEvent;return _t.getModifierState?_t.getModifierState(_r):(_r=Od[_r])?!!_t[_r]:!1}function zd$1(){return Pd}var Qd=A$3({},ud$1,{key:function(_r){if(_r.key){var _t=Md[_r.key]||_r.key;if(_t!=="Unidentified")return _t}return _r.type==="keypress"?(_r=od$1(_r),_r===13?"Enter":String.fromCharCode(_r)):_r.type==="keydown"||_r.type==="keyup"?Nd[_r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd$1,charCode:function(_r){return _r.type==="keypress"?od$1(_r):0},keyCode:function(_r){return _r.type==="keydown"||_r.type==="keyup"?_r.keyCode:0},which:function(_r){return _r.type==="keypress"?od$1(_r):_r.type==="keydown"||_r.type==="keyup"?_r.keyCode:0}}),Rd=rd$1(Qd),Sd=A$3({},Ad$1,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd$1(Sd),Ud=A$3({},ud$1,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd$1}),Vd=rd$1(Ud),Wd=A$3({},sd$1,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd$1(Wd),Yd=A$3({},Ad$1,{deltaX:function(_r){return"deltaX"in _r?_r.deltaX:"wheelDeltaX"in _r?-_r.wheelDeltaX:0},deltaY:function(_r){return"deltaY"in _r?_r.deltaY:"wheelDeltaY"in _r?-_r.wheelDeltaY:"wheelDelta"in _r?-_r.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd$1(Yd),$d=[9,13,27,32],ae$1=ia$1&&"CompositionEvent"in window,be$1=null;ia$1&&"documentMode"in document&&(be$1=document.documentMode);var ce=ia$1&&"TextEvent"in window&&!be$1,de$1=ia$1&&(!ae$1||be$1&&8<be$1&&11>=be$1),ee$1=String.fromCharCode(32),fe$1=!1;function ge(_r,_t){switch(_r){case"keyup":return $d.indexOf(_t.keyCode)!==-1;case"keydown":return _t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he$1(_r){return _r=_r.detail,typeof _r=="object"&&"data"in _r?_r.data:null}var ie$1=!1;function je$1(_r,_t){switch(_r){case"compositionend":return he$1(_t);case"keypress":return _t.which!==32?null:(fe$1=!0,ee$1);case"textInput":return _r=_t.data,_r===ee$1&&fe$1?null:_r;default:return null}}function ke$1(_r,_t){if(ie$1)return _r==="compositionend"||!ae$1&&ge(_r,_t)?(_r=nd$1(),md$1=ld$1=kd$1=null,ie$1=!1,_r):null;switch(_r){case"paste":return null;case"keypress":if(!(_t.ctrlKey||_t.altKey||_t.metaKey)||_t.ctrlKey&&_t.altKey){if(_t.char&&1<_t.char.length)return _t.char;if(_t.which)return String.fromCharCode(_t.which)}return null;case"compositionend":return de$1&&_t.locale!=="ko"?null:_t.data;default:return null}}var le$1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me(_r){var _t=_r&&_r.nodeName&&_r.nodeName.toLowerCase();return _t==="input"?!!le$1[_r.type]:_t==="textarea"}function ne$1(_r,_t,_o,yl){Eb$1(yl),_t=oe$1(_t,"onChange"),0<_t.length&&(_o=new td$1("onChange","change",null,_o,yl),_r.push({event:_o,listeners:_t}))}var pe=null,qe$1=null;function re$1(_r){se$1(_r,0)}function te(_r){var _t=ue$1(_r);if(Wa$1(_t))return _r}function ve(_r,_t){if(_r==="change")return _t}var we$1=!1;if(ia$1){var xe;if(ia$1){var ye="oninput"in document;if(!ye){var ze$1=document.createElement("div");ze$1.setAttribute("oninput","return;"),ye=typeof ze$1.oninput=="function"}xe=ye}else xe=!1;we$1=xe&&(!document.documentMode||9<document.documentMode)}function Ae$1(){pe&&(pe.detachEvent("onpropertychange",Be$1),qe$1=pe=null)}function Be$1(_r){if(_r.propertyName==="value"&&te(qe$1)){var _t=[];ne$1(_t,qe$1,_r,xb$1(_r)),Jb$1(re$1,_t)}}function Ce$1(_r,_t,_o){_r==="focusin"?(Ae$1(),pe=_t,qe$1=_o,pe.attachEvent("onpropertychange",Be$1)):_r==="focusout"&&Ae$1()}function De$1(_r){if(_r==="selectionchange"||_r==="keyup"||_r==="keydown")return te(qe$1)}function Ee$1(_r,_t){if(_r==="click")return te(_t)}function Fe$1(_r,_t){if(_r==="input"||_r==="change")return te(_t)}function Ge$1(_r,_t){return _r===_t&&(_r!==0||1/_r===1/_t)||_r!==_r&&_t!==_t}var He=typeof Object.is=="function"?Object.is:Ge$1;function Ie$1(_r,_t){if(He(_r,_t))return!0;if(typeof _r!="object"||_r===null||typeof _t!="object"||_t===null)return!1;var _o=Object.keys(_r),yl=Object.keys(_t);if(_o.length!==yl.length)return!1;for(yl=0;yl<_o.length;yl++){var El=_o[yl];if(!ja$1.call(_t,El)||!He(_r[El],_t[El]))return!1}return!0}function Je$1(_r){for(;_r&&_r.firstChild;)_r=_r.firstChild;return _r}function Ke$1(_r,_t){var _o=Je$1(_r);_r=0;for(var yl;_o;){if(_o.nodeType===3){if(yl=_r+_o.textContent.length,_r<=_t&&yl>=_t)return{node:_o,offset:_t-_r};_r=yl}e:{for(;_o;){if(_o.nextSibling){_o=_o.nextSibling;break e}_o=_o.parentNode}_o=void 0}_o=Je$1(_o)}}function Le$1(_r,_t){return _r&&_t?_r===_t?!0:_r&&_r.nodeType===3?!1:_t&&_t.nodeType===3?Le$1(_r,_t.parentNode):"contains"in _r?_r.contains(_t):_r.compareDocumentPosition?!!(_r.compareDocumentPosition(_t)&16):!1:!1}function Me$1(){for(var _r=window,_t=Xa$1();_t instanceof _r.HTMLIFrameElement;){try{var _o=typeof _t.contentWindow.location.href=="string"}catch{_o=!1}if(_o)_r=_t.contentWindow;else break;_t=Xa$1(_r.document)}return _t}function Ne$1(_r){var _t=_r&&_r.nodeName&&_r.nodeName.toLowerCase();return _t&&(_t==="input"&&(_r.type==="text"||_r.type==="search"||_r.type==="tel"||_r.type==="url"||_r.type==="password")||_t==="textarea"||_r.contentEditable==="true")}function Oe$1(_r){var _t=Me$1(),_o=_r.focusedElem,yl=_r.selectionRange;if(_t!==_o&&_o&&_o.ownerDocument&&Le$1(_o.ownerDocument.documentElement,_o)){if(yl!==null&&Ne$1(_o)){if(_t=yl.start,_r=yl.end,_r===void 0&&(_r=_t),"selectionStart"in _o)_o.selectionStart=_t,_o.selectionEnd=Math.min(_r,_o.value.length);else if(_r=(_t=_o.ownerDocument||document)&&_t.defaultView||window,_r.getSelection){_r=_r.getSelection();var El=_o.textContent.length,_l=Math.min(yl.start,El);yl=yl.end===void 0?_l:Math.min(yl.end,El),!_r.extend&&_l>yl&&(El=yl,yl=_l,_l=El),El=Ke$1(_o,_l);var Tl=Ke$1(_o,yl);El&&Tl&&(_r.rangeCount!==1||_r.anchorNode!==El.node||_r.anchorOffset!==El.offset||_r.focusNode!==Tl.node||_r.focusOffset!==Tl.offset)&&(_t=_t.createRange(),_t.setStart(El.node,El.offset),_r.removeAllRanges(),_l>yl?(_r.addRange(_t),_r.extend(Tl.node,Tl.offset)):(_t.setEnd(Tl.node,Tl.offset),_r.addRange(_t)))}}for(_t=[],_r=_o;_r=_r.parentNode;)_r.nodeType===1&&_t.push({element:_r,left:_r.scrollLeft,top:_r.scrollTop});for(typeof _o.focus=="function"&&_o.focus(),_o=0;_o<_t.length;_o++)_r=_t[_o],_r.element.scrollLeft=_r.left,_r.element.scrollTop=_r.top}}var Pe$1=ia$1&&"documentMode"in document&&11>=document.documentMode,Qe$1=null,Re$1=null,Se$1=null,Te$1=!1;function Ue$1(_r,_t,_o){var yl=_o.window===_o?_o.document:_o.nodeType===9?_o:_o.ownerDocument;Te$1||Qe$1==null||Qe$1!==Xa$1(yl)||(yl=Qe$1,"selectionStart"in yl&&Ne$1(yl)?yl={start:yl.selectionStart,end:yl.selectionEnd}:(yl=(yl.ownerDocument&&yl.ownerDocument.defaultView||window).getSelection(),yl={anchorNode:yl.anchorNode,anchorOffset:yl.anchorOffset,focusNode:yl.focusNode,focusOffset:yl.focusOffset}),Se$1&&Ie$1(Se$1,yl)||(Se$1=yl,yl=oe$1(Re$1,"onSelect"),0<yl.length&&(_t=new td$1("onSelect","select",null,_t,_o),_r.push({event:_t,listeners:yl}),_t.target=Qe$1)))}function Ve$1(_r,_t){var _o={};return _o[_r.toLowerCase()]=_t.toLowerCase(),_o["Webkit"+_r]="webkit"+_t,_o["Moz"+_r]="moz"+_t,_o}var We$1={animationend:Ve$1("Animation","AnimationEnd"),animationiteration:Ve$1("Animation","AnimationIteration"),animationstart:Ve$1("Animation","AnimationStart"),transitionend:Ve$1("Transition","TransitionEnd")},Xe$1={},Ye$1={};ia$1&&(Ye$1=document.createElement("div").style,"AnimationEvent"in window||(delete We$1.animationend.animation,delete We$1.animationiteration.animation,delete We$1.animationstart.animation),"TransitionEvent"in window||delete We$1.transitionend.transition);function Ze$1(_r){if(Xe$1[_r])return Xe$1[_r];if(!We$1[_r])return _r;var _t=We$1[_r],_o;for(_o in _t)if(_t.hasOwnProperty(_o)&&_o in Ye$1)return Xe$1[_r]=_t[_o];return _r}var $e$1=Ze$1("animationend"),af=Ze$1("animationiteration"),bf=Ze$1("animationstart"),cf=Ze$1("transitionend"),df=new Map,ef="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ff(_r,_t){df.set(_r,_t),fa$2(_t,[_r])}for(var gf=0;gf<ef.length;gf++){var hf=ef[gf],jf=hf.toLowerCase(),kf=hf[0].toUpperCase()+hf.slice(1);ff(jf,"on"+kf)}ff($e$1,"onAnimationEnd");ff(af,"onAnimationIteration");ff(bf,"onAnimationStart");ff("dblclick","onDoubleClick");ff("focusin","onFocus");ff("focusout","onBlur");ff(cf,"onTransitionEnd");ha$2("onMouseEnter",["mouseout","mouseover"]);ha$2("onMouseLeave",["mouseout","mouseover"]);ha$2("onPointerEnter",["pointerout","pointerover"]);ha$2("onPointerLeave",["pointerout","pointerover"]);fa$2("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fa$2("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fa$2("onBeforeInput",["compositionend","keypress","textInput","paste"]);fa$2("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fa$2("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fa$2("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mf=new Set("cancel close invalid load scroll toggle".split(" ").concat(lf));function nf(_r,_t,_o){var yl=_r.type||"unknown-event";_r.currentTarget=_o,Ub$1(yl,_t,void 0,_r),_r.currentTarget=null}function se$1(_r,_t){_t=(_t&4)!==0;for(var _o=0;_o<_r.length;_o++){var yl=_r[_o],El=yl.event;yl=yl.listeners;e:{var _l=void 0;if(_t)for(var Tl=yl.length-1;0<=Tl;Tl--){var Il=yl[Tl],Al=Il.instance,Rl=Il.currentTarget;if(Il=Il.listener,Al!==_l&&El.isPropagationStopped())break e;nf(El,Il,Rl),_l=Al}else for(Tl=0;Tl<yl.length;Tl++){if(Il=yl[Tl],Al=Il.instance,Rl=Il.currentTarget,Il=Il.listener,Al!==_l&&El.isPropagationStopped())break e;nf(El,Il,Rl),_l=Al}}}if(Qb$1)throw _r=Rb$1,Qb$1=!1,Rb$1=null,_r}function D$2(_r,_t){var _o=_t[of$1];_o===void 0&&(_o=_t[of$1]=new Set);var yl=_r+"__bubble";_o.has(yl)||(pf(_t,_r,2,!1),_o.add(yl))}function qf(_r,_t,_o){var yl=0;_t&&(yl|=4),pf(_o,_r,yl,_t)}var rf="_reactListening"+Math.random().toString(36).slice(2);function sf(_r){if(!_r[rf]){_r[rf]=!0,da$1.forEach(function(_o){_o!=="selectionchange"&&(mf.has(_o)||qf(_o,!1,_r),qf(_o,!0,_r))});var _t=_r.nodeType===9?_r:_r.ownerDocument;_t===null||_t[rf]||(_t[rf]=!0,qf("selectionchange",!1,_t))}}function pf(_r,_t,_o,yl){switch(jd$1(_t)){case 1:var El=ed$1;break;case 4:El=gd$1;break;default:El=fd$1}_o=El.bind(null,_t,_o,_r),El=void 0,!Lb$1||_t!=="touchstart"&&_t!=="touchmove"&&_t!=="wheel"||(El=!0),yl?El!==void 0?_r.addEventListener(_t,_o,{capture:!0,passive:El}):_r.addEventListener(_t,_o,!0):El!==void 0?_r.addEventListener(_t,_o,{passive:El}):_r.addEventListener(_t,_o,!1)}function hd$1(_r,_t,_o,yl,El){var _l=yl;if(!(_t&1)&&!(_t&2)&&yl!==null)e:for(;;){if(yl===null)return;var Tl=yl.tag;if(Tl===3||Tl===4){var Il=yl.stateNode.containerInfo;if(Il===El||Il.nodeType===8&&Il.parentNode===El)break;if(Tl===4)for(Tl=yl.return;Tl!==null;){var Al=Tl.tag;if((Al===3||Al===4)&&(Al=Tl.stateNode.containerInfo,Al===El||Al.nodeType===8&&Al.parentNode===El))return;Tl=Tl.return}for(;Il!==null;){if(Tl=Wc$1(Il),Tl===null)return;if(Al=Tl.tag,Al===5||Al===6){yl=_l=Tl;continue e}Il=Il.parentNode}}yl=yl.return}Jb$1(function(){var Rl=_l,Fl=xb$1(_o),Bl=[];e:{var Gl=df.get(_r);if(Gl!==void 0){var Ql=td$1,_f=_r;switch(_r){case"keypress":if(od$1(_o)===0)break e;case"keydown":case"keyup":Ql=Rd;break;case"focusin":_f="focus",Ql=Fd$1;break;case"focusout":_f="blur",Ql=Fd$1;break;case"beforeblur":case"afterblur":Ql=Fd$1;break;case"click":if(_o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ql=Bd$1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ql=Dd$1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ql=Vd;break;case $e$1:case af:case bf:Ql=Hd$1;break;case cf:Ql=Xd;break;case"scroll":Ql=vd$1;break;case"wheel":Ql=Zd;break;case"copy":case"cut":case"paste":Ql=Jd$1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ql=Td}var _h=(_t&4)!==0,vp=!_h&&_r==="scroll",up=_h?Gl!==null?Gl+"Capture":null:Gl;_h=[];for(var _d=Rl,Ep;_d!==null;){Ep=_d;var Op=Ep.stateNode;if(Ep.tag===5&&Op!==null&&(Ep=Op,up!==null&&(Op=Kb$1(_d,up),Op!=null&&_h.push(tf(_d,Op,Ep)))),vp)break;_d=_d.return}0<_h.length&&(Gl=new Ql(Gl,_f,null,_o,Fl),Bl.push({event:Gl,listeners:_h}))}}if(!(_t&7)){e:{if(Gl=_r==="mouseover"||_r==="pointerover",Ql=_r==="mouseout"||_r==="pointerout",Gl&&_o!==wb$1&&(_f=_o.relatedTarget||_o.fromElement)&&(Wc$1(_f)||_f[uf$1]))break e;if((Ql||Gl)&&(Gl=Fl.window===Fl?Fl:(Gl=Fl.ownerDocument)?Gl.defaultView||Gl.parentWindow:window,Ql?(_f=_o.relatedTarget||_o.toElement,Ql=Rl,_f=_f?Wc$1(_f):null,_f!==null&&(vp=Vb$1(_f),_f!==vp||_f.tag!==5&&_f.tag!==6)&&(_f=null)):(Ql=null,_f=Rl),Ql!==_f)){if(_h=Bd$1,Op="onMouseLeave",up="onMouseEnter",_d="mouse",(_r==="pointerout"||_r==="pointerover")&&(_h=Td,Op="onPointerLeave",up="onPointerEnter",_d="pointer"),vp=Ql==null?Gl:ue$1(Ql),Ep=_f==null?Gl:ue$1(_f),Gl=new _h(Op,_d+"leave",Ql,_o,Fl),Gl.target=vp,Gl.relatedTarget=Ep,Op=null,Wc$1(Fl)===Rl&&(_h=new _h(up,_d+"enter",_f,_o,Fl),_h.target=Ep,_h.relatedTarget=vp,Op=_h),vp=Op,Ql&&_f)t:{for(_h=Ql,up=_f,_d=0,Ep=_h;Ep;Ep=vf(Ep))_d++;for(Ep=0,Op=up;Op;Op=vf(Op))Ep++;for(;0<_d-Ep;)_h=vf(_h),_d--;for(;0<Ep-_d;)up=vf(up),Ep--;for(;_d--;){if(_h===up||up!==null&&_h===up.alternate)break t;_h=vf(_h),up=vf(up)}_h=null}else _h=null;Ql!==null&&wf(Bl,Gl,Ql,_h,!1),_f!==null&&vp!==null&&wf(Bl,vp,_f,_h,!0)}}e:{if(Gl=Rl?ue$1(Rl):window,Ql=Gl.nodeName&&Gl.nodeName.toLowerCase(),Ql==="select"||Ql==="input"&&Gl.type==="file")var Ip=ve;else if(me(Gl))if(we$1)Ip=Fe$1;else{Ip=De$1;var Pp=Ce$1}else(Ql=Gl.nodeName)&&Ql.toLowerCase()==="input"&&(Gl.type==="checkbox"||Gl.type==="radio")&&(Ip=Ee$1);if(Ip&&(Ip=Ip(_r,Rl))){ne$1(Bl,Ip,_o,Fl);break e}Pp&&Pp(_r,Gl,Rl),_r==="focusout"&&(Pp=Gl._wrapperState)&&Pp.controlled&&Gl.type==="number"&&cb$1(Gl,"number",Gl.value)}switch(Pp=Rl?ue$1(Rl):window,_r){case"focusin":(me(Pp)||Pp.contentEditable==="true")&&(Qe$1=Pp,Re$1=Rl,Se$1=null);break;case"focusout":Se$1=Re$1=Qe$1=null;break;case"mousedown":Te$1=!0;break;case"contextmenu":case"mouseup":case"dragend":Te$1=!1,Ue$1(Bl,_o,Fl);break;case"selectionchange":if(Pe$1)break;case"keydown":case"keyup":Ue$1(Bl,_o,Fl)}var xp;if(ae$1)e:{switch(_r){case"compositionstart":var Np="onCompositionStart";break e;case"compositionend":Np="onCompositionEnd";break e;case"compositionupdate":Np="onCompositionUpdate";break e}Np=void 0}else ie$1?ge(_r,_o)&&(Np="onCompositionEnd"):_r==="keydown"&&_o.keyCode===229&&(Np="onCompositionStart");Np&&(de$1&&_o.locale!=="ko"&&(ie$1||Np!=="onCompositionStart"?Np==="onCompositionEnd"&&ie$1&&(xp=nd$1()):(kd$1=Fl,ld$1="value"in kd$1?kd$1.value:kd$1.textContent,ie$1=!0)),Pp=oe$1(Rl,Np),0<Pp.length&&(Np=new Ld(Np,_r,null,_o,Fl),Bl.push({event:Np,listeners:Pp}),xp?Np.data=xp:(xp=he$1(_o),xp!==null&&(Np.data=xp)))),(xp=ce?je$1(_r,_o):ke$1(_r,_o))&&(Rl=oe$1(Rl,"onBeforeInput"),0<Rl.length&&(Fl=new Ld("onBeforeInput","beforeinput",null,_o,Fl),Bl.push({event:Fl,listeners:Rl}),Fl.data=xp))}se$1(Bl,_t)})}function tf(_r,_t,_o){return{instance:_r,listener:_t,currentTarget:_o}}function oe$1(_r,_t){for(var _o=_t+"Capture",yl=[];_r!==null;){var El=_r,_l=El.stateNode;El.tag===5&&_l!==null&&(El=_l,_l=Kb$1(_r,_o),_l!=null&&yl.unshift(tf(_r,_l,El)),_l=Kb$1(_r,_t),_l!=null&&yl.push(tf(_r,_l,El))),_r=_r.return}return yl}function vf(_r){if(_r===null)return null;do _r=_r.return;while(_r&&_r.tag!==5);return _r||null}function wf(_r,_t,_o,yl,El){for(var _l=_t._reactName,Tl=[];_o!==null&&_o!==yl;){var Il=_o,Al=Il.alternate,Rl=Il.stateNode;if(Al!==null&&Al===yl)break;Il.tag===5&&Rl!==null&&(Il=Rl,El?(Al=Kb$1(_o,_l),Al!=null&&Tl.unshift(tf(_o,Al,Il))):El||(Al=Kb$1(_o,_l),Al!=null&&Tl.push(tf(_o,Al,Il)))),_o=_o.return}Tl.length!==0&&_r.push({event:_t,listeners:Tl})}var xf=/\r\n?/g,yf=/\u0000|\uFFFD/g;function zf(_r){return(typeof _r=="string"?_r:""+_r).replace(xf,`
`).replace(yf,"")}function Af(_r,_t,_o){if(_t=zf(_t),zf(_r)!==_t&&_o)throw Error(p$6(425))}function Bf(){}var Cf=null,Df=null;function Ef(_r,_t){return _r==="textarea"||_r==="noscript"||typeof _t.children=="string"||typeof _t.children=="number"||typeof _t.dangerouslySetInnerHTML=="object"&&_t.dangerouslySetInnerHTML!==null&&_t.dangerouslySetInnerHTML.__html!=null}var Ff=typeof setTimeout=="function"?setTimeout:void 0,Gf=typeof clearTimeout=="function"?clearTimeout:void 0,Hf=typeof Promise=="function"?Promise:void 0,Jf=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf<"u"?function(_r){return Hf.resolve(null).then(_r).catch(If)}:Ff;function If(_r){setTimeout(function(){throw _r})}function Kf(_r,_t){var _o=_t,yl=0;do{var El=_o.nextSibling;if(_r.removeChild(_o),El&&El.nodeType===8)if(_o=El.data,_o==="/$"){if(yl===0){_r.removeChild(El),bd$1(_t);return}yl--}else _o!=="$"&&_o!=="$?"&&_o!=="$!"||yl++;_o=El}while(_o);bd$1(_t)}function Lf(_r){for(;_r!=null;_r=_r.nextSibling){var _t=_r.nodeType;if(_t===1||_t===3)break;if(_t===8){if(_t=_r.data,_t==="$"||_t==="$!"||_t==="$?")break;if(_t==="/$")return null}}return _r}function Mf(_r){_r=_r.previousSibling;for(var _t=0;_r;){if(_r.nodeType===8){var _o=_r.data;if(_o==="$"||_o==="$!"||_o==="$?"){if(_t===0)return _r;_t--}else _o==="/$"&&_t++}_r=_r.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of="__reactFiber$"+Nf,Pf="__reactProps$"+Nf,uf$1="__reactContainer$"+Nf,of$1="__reactEvents$"+Nf,Qf="__reactListeners$"+Nf,Rf="__reactHandles$"+Nf;function Wc$1(_r){var _t=_r[Of];if(_t)return _t;for(var _o=_r.parentNode;_o;){if(_t=_o[uf$1]||_o[Of]){if(_o=_t.alternate,_t.child!==null||_o!==null&&_o.child!==null)for(_r=Mf(_r);_r!==null;){if(_o=_r[Of])return _o;_r=Mf(_r)}return _t}_r=_o,_o=_r.parentNode}return null}function Cb$1(_r){return _r=_r[Of]||_r[uf$1],!_r||_r.tag!==5&&_r.tag!==6&&_r.tag!==13&&_r.tag!==3?null:_r}function ue$1(_r){if(_r.tag===5||_r.tag===6)return _r.stateNode;throw Error(p$6(33))}function Db$1(_r){return _r[Pf]||null}var Sf=[],Tf=-1;function Uf(_r){return{current:_r}}function E$2(_r){0>Tf||(_r.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G$3(_r,_t){Tf++,Sf[Tf]=_r.current,_r.current=_t}var Vf={},H$3=Uf(Vf),Wf=Uf(!1),Xf=Vf;function Yf(_r,_t){var _o=_r.type.contextTypes;if(!_o)return Vf;var yl=_r.stateNode;if(yl&&yl.__reactInternalMemoizedUnmaskedChildContext===_t)return yl.__reactInternalMemoizedMaskedChildContext;var El={},_l;for(_l in _o)El[_l]=_t[_l];return yl&&(_r=_r.stateNode,_r.__reactInternalMemoizedUnmaskedChildContext=_t,_r.__reactInternalMemoizedMaskedChildContext=El),El}function Zf(_r){return _r=_r.childContextTypes,_r!=null}function $f(){E$2(Wf),E$2(H$3)}function ag(_r,_t,_o){if(H$3.current!==Vf)throw Error(p$6(168));G$3(H$3,_t),G$3(Wf,_o)}function bg(_r,_t,_o){var yl=_r.stateNode;if(_t=_t.childContextTypes,typeof yl.getChildContext!="function")return _o;yl=yl.getChildContext();for(var El in yl)if(!(El in _t))throw Error(p$6(108,Ra$1(_r)||"Unknown",El));return A$3({},_o,yl)}function cg(_r){return _r=(_r=_r.stateNode)&&_r.__reactInternalMemoizedMergedChildContext||Vf,Xf=H$3.current,G$3(H$3,_r),G$3(Wf,Wf.current),!0}function dg(_r,_t,_o){var yl=_r.stateNode;if(!yl)throw Error(p$6(169));_o?(_r=bg(_r,_t,Xf),yl.__reactInternalMemoizedMergedChildContext=_r,E$2(Wf),E$2(H$3),G$3(H$3,_r)):E$2(Wf),G$3(Wf,_o)}var eg=null,fg=!1,gg=!1;function hg(_r){eg===null?eg=[_r]:eg.push(_r)}function ig(_r){fg=!0,hg(_r)}function jg(){if(!gg&&eg!==null){gg=!0;var _r=0,_t=C$2;try{var _o=eg;for(C$2=1;_r<_o.length;_r++){var yl=_o[_r];do yl=yl(!0);while(yl!==null)}eg=null,fg=!1}catch(El){throw eg!==null&&(eg=eg.slice(_r+1)),ac$2(fc$2,jg),El}finally{C$2=_t,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg="";function tg(_r,_t){kg[lg++]=ng,kg[lg++]=mg,mg=_r,ng=_t}function ug(_r,_t,_o){og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,qg=_r;var yl=rg;_r=sg;var El=32-oc$2(yl)-1;yl&=~(1<<El),_o+=1;var _l=32-oc$2(_t)+El;if(30<_l){var Tl=El-El%5;_l=(yl&(1<<Tl)-1).toString(32),yl>>=Tl,El-=Tl,rg=1<<32-oc$2(_t)+El|_o<<El|yl,sg=_l+_r}else rg=1<<_l|_o<<El|yl,sg=_r}function vg(_r){_r.return!==null&&(tg(_r,1),ug(_r,1,0))}function wg(_r){for(;_r===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;_r===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I$2=!1,zg=null;function Ag(_r,_t){var _o=Bg(5,null,null,0);_o.elementType="DELETED",_o.stateNode=_t,_o.return=_r,_t=_r.deletions,_t===null?(_r.deletions=[_o],_r.flags|=16):_t.push(_o)}function Cg(_r,_t){switch(_r.tag){case 5:var _o=_r.type;return _t=_t.nodeType!==1||_o.toLowerCase()!==_t.nodeName.toLowerCase()?null:_t,_t!==null?(_r.stateNode=_t,xg=_r,yg=Lf(_t.firstChild),!0):!1;case 6:return _t=_r.pendingProps===""||_t.nodeType!==3?null:_t,_t!==null?(_r.stateNode=_t,xg=_r,yg=null,!0):!1;case 13:return _t=_t.nodeType!==8?null:_t,_t!==null?(_o=qg!==null?{id:rg,overflow:sg}:null,_r.memoizedState={dehydrated:_t,treeContext:_o,retryLane:1073741824},_o=Bg(18,null,null,0),_o.stateNode=_t,_o.return=_r,_r.child=_o,xg=_r,yg=null,!0):!1;default:return!1}}function Dg(_r){return(_r.mode&1)!==0&&(_r.flags&128)===0}function Eg(_r){if(I$2){var _t=yg;if(_t){var _o=_t;if(!Cg(_r,_t)){if(Dg(_r))throw Error(p$6(418));_t=Lf(_o.nextSibling);var yl=xg;_t&&Cg(_r,_t)?Ag(yl,_o):(_r.flags=_r.flags&-4097|2,I$2=!1,xg=_r)}}else{if(Dg(_r))throw Error(p$6(418));_r.flags=_r.flags&-4097|2,I$2=!1,xg=_r}}}function Fg(_r){for(_r=_r.return;_r!==null&&_r.tag!==5&&_r.tag!==3&&_r.tag!==13;)_r=_r.return;xg=_r}function Gg(_r){if(_r!==xg)return!1;if(!I$2)return Fg(_r),I$2=!0,!1;var _t;if((_t=_r.tag!==3)&&!(_t=_r.tag!==5)&&(_t=_r.type,_t=_t!=="head"&&_t!=="body"&&!Ef(_r.type,_r.memoizedProps)),_t&&(_t=yg)){if(Dg(_r))throw Hg(),Error(p$6(418));for(;_t;)Ag(_r,_t),_t=Lf(_t.nextSibling)}if(Fg(_r),_r.tag===13){if(_r=_r.memoizedState,_r=_r!==null?_r.dehydrated:null,!_r)throw Error(p$6(317));e:{for(_r=_r.nextSibling,_t=0;_r;){if(_r.nodeType===8){var _o=_r.data;if(_o==="/$"){if(_t===0){yg=Lf(_r.nextSibling);break e}_t--}else _o!=="$"&&_o!=="$!"&&_o!=="$?"||_t++}_r=_r.nextSibling}yg=null}}else yg=xg?Lf(_r.stateNode.nextSibling):null;return!0}function Hg(){for(var _r=yg;_r;)_r=Lf(_r.nextSibling)}function Ig(){yg=xg=null,I$2=!1}function Jg(_r){zg===null?zg=[_r]:zg.push(_r)}var Kg=ua$2.ReactCurrentBatchConfig;function Lg(_r,_t){if(_r&&_r.defaultProps){_t=A$3({},_t),_r=_r.defaultProps;for(var _o in _r)_t[_o]===void 0&&(_t[_o]=_r[_o]);return _t}return _t}var Mg=Uf(null),Ng=null,Og=null,Pg=null;function Qg(){Pg=Og=Ng=null}function Rg(_r){var _t=Mg.current;E$2(Mg),_r._currentValue=_t}function Sg(_r,_t,_o){for(;_r!==null;){var yl=_r.alternate;if((_r.childLanes&_t)!==_t?(_r.childLanes|=_t,yl!==null&&(yl.childLanes|=_t)):yl!==null&&(yl.childLanes&_t)!==_t&&(yl.childLanes|=_t),_r===_o)break;_r=_r.return}}function Tg(_r,_t){Ng=_r,Pg=Og=null,_r=_r.dependencies,_r!==null&&_r.firstContext!==null&&(_r.lanes&_t&&(Ug=!0),_r.firstContext=null)}function Vg(_r){var _t=_r._currentValue;if(Pg!==_r)if(_r={context:_r,memoizedValue:_t,next:null},Og===null){if(Ng===null)throw Error(p$6(308));Og=_r,Ng.dependencies={lanes:0,firstContext:_r}}else Og=Og.next=_r;return _t}var Wg=null;function Xg(_r){Wg===null?Wg=[_r]:Wg.push(_r)}function Yg(_r,_t,_o,yl){var El=_t.interleaved;return El===null?(_o.next=_o,Xg(_t)):(_o.next=El.next,El.next=_o),_t.interleaved=_o,Zg(_r,yl)}function Zg(_r,_t){_r.lanes|=_t;var _o=_r.alternate;for(_o!==null&&(_o.lanes|=_t),_o=_r,_r=_r.return;_r!==null;)_r.childLanes|=_t,_o=_r.alternate,_o!==null&&(_o.childLanes|=_t),_o=_r,_r=_r.return;return _o.tag===3?_o.stateNode:null}var $g=!1;function ah(_r){_r.updateQueue={baseState:_r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function bh$1(_r,_t){_r=_r.updateQueue,_t.updateQueue===_r&&(_t.updateQueue={baseState:_r.baseState,firstBaseUpdate:_r.firstBaseUpdate,lastBaseUpdate:_r.lastBaseUpdate,shared:_r.shared,effects:_r.effects})}function ch$1(_r,_t){return{eventTime:_r,lane:_t,tag:0,payload:null,callback:null,next:null}}function dh(_r,_t,_o){var yl=_r.updateQueue;if(yl===null)return null;if(yl=yl.shared,K$2&2){var El=yl.pending;return El===null?_t.next=_t:(_t.next=El.next,El.next=_t),yl.pending=_t,Zg(_r,_o)}return El=yl.interleaved,El===null?(_t.next=_t,Xg(yl)):(_t.next=El.next,El.next=_t),yl.interleaved=_t,Zg(_r,_o)}function eh$1(_r,_t,_o){if(_t=_t.updateQueue,_t!==null&&(_t=_t.shared,(_o&4194240)!==0)){var yl=_t.lanes;yl&=_r.pendingLanes,_o|=yl,_t.lanes=_o,Cc$2(_r,_o)}}function fh(_r,_t){var _o=_r.updateQueue,yl=_r.alternate;if(yl!==null&&(yl=yl.updateQueue,_o===yl)){var El=null,_l=null;if(_o=_o.firstBaseUpdate,_o!==null){do{var Tl={eventTime:_o.eventTime,lane:_o.lane,tag:_o.tag,payload:_o.payload,callback:_o.callback,next:null};_l===null?El=_l=Tl:_l=_l.next=Tl,_o=_o.next}while(_o!==null);_l===null?El=_l=_t:_l=_l.next=_t}else El=_l=_t;_o={baseState:yl.baseState,firstBaseUpdate:El,lastBaseUpdate:_l,shared:yl.shared,effects:yl.effects},_r.updateQueue=_o;return}_r=_o.lastBaseUpdate,_r===null?_o.firstBaseUpdate=_t:_r.next=_t,_o.lastBaseUpdate=_t}function gh(_r,_t,_o,yl){var El=_r.updateQueue;$g=!1;var _l=El.firstBaseUpdate,Tl=El.lastBaseUpdate,Il=El.shared.pending;if(Il!==null){El.shared.pending=null;var Al=Il,Rl=Al.next;Al.next=null,Tl===null?_l=Rl:Tl.next=Rl,Tl=Al;var Fl=_r.alternate;Fl!==null&&(Fl=Fl.updateQueue,Il=Fl.lastBaseUpdate,Il!==Tl&&(Il===null?Fl.firstBaseUpdate=Rl:Il.next=Rl,Fl.lastBaseUpdate=Al))}if(_l!==null){var Bl=El.baseState;Tl=0,Fl=Rl=Al=null,Il=_l;do{var Gl=Il.lane,Ql=Il.eventTime;if((yl&Gl)===Gl){Fl!==null&&(Fl=Fl.next={eventTime:Ql,lane:0,tag:Il.tag,payload:Il.payload,callback:Il.callback,next:null});e:{var _f=_r,_h=Il;switch(Gl=_t,Ql=_o,_h.tag){case 1:if(_f=_h.payload,typeof _f=="function"){Bl=_f.call(Ql,Bl,Gl);break e}Bl=_f;break e;case 3:_f.flags=_f.flags&-65537|128;case 0:if(_f=_h.payload,Gl=typeof _f=="function"?_f.call(Ql,Bl,Gl):_f,Gl==null)break e;Bl=A$3({},Bl,Gl);break e;case 2:$g=!0}}Il.callback!==null&&Il.lane!==0&&(_r.flags|=64,Gl=El.effects,Gl===null?El.effects=[Il]:Gl.push(Il))}else Ql={eventTime:Ql,lane:Gl,tag:Il.tag,payload:Il.payload,callback:Il.callback,next:null},Fl===null?(Rl=Fl=Ql,Al=Bl):Fl=Fl.next=Ql,Tl|=Gl;if(Il=Il.next,Il===null){if(Il=El.shared.pending,Il===null)break;Gl=Il,Il=Gl.next,Gl.next=null,El.lastBaseUpdate=Gl,El.shared.pending=null}}while(1);if(Fl===null&&(Al=Bl),El.baseState=Al,El.firstBaseUpdate=Rl,El.lastBaseUpdate=Fl,_t=El.shared.interleaved,_t!==null){El=_t;do Tl|=El.lane,El=El.next;while(El!==_t)}else _l===null&&(El.shared.lanes=0);hh|=Tl,_r.lanes=Tl,_r.memoizedState=Bl}}function ih$1(_r,_t,_o){if(_r=_t.effects,_t.effects=null,_r!==null)for(_t=0;_t<_r.length;_t++){var yl=_r[_t],El=yl.callback;if(El!==null){if(yl.callback=null,yl=_o,typeof El!="function")throw Error(p$6(191,El));El.call(yl)}}}var jh$1=new aa$2.Component().refs;function kh$1(_r,_t,_o,yl){_t=_r.memoizedState,_o=_o(yl,_t),_o=_o==null?_t:A$3({},_t,_o),_r.memoizedState=_o,_r.lanes===0&&(_r.updateQueue.baseState=_o)}var nh={isMounted:function(_r){return(_r=_r._reactInternals)?Vb$1(_r)===_r:!1},enqueueSetState:function(_r,_t,_o){_r=_r._reactInternals;var yl=L$3(),El=lh(_r),_l=ch$1(yl,El);_l.payload=_t,_o!=null&&(_l.callback=_o),_t=dh(_r,_l,El),_t!==null&&(mh(_t,_r,El,yl),eh$1(_t,_r,El))},enqueueReplaceState:function(_r,_t,_o){_r=_r._reactInternals;var yl=L$3(),El=lh(_r),_l=ch$1(yl,El);_l.tag=1,_l.payload=_t,_o!=null&&(_l.callback=_o),_t=dh(_r,_l,El),_t!==null&&(mh(_t,_r,El,yl),eh$1(_t,_r,El))},enqueueForceUpdate:function(_r,_t){_r=_r._reactInternals;var _o=L$3(),yl=lh(_r),El=ch$1(_o,yl);El.tag=2,_t!=null&&(El.callback=_t),_t=dh(_r,El,yl),_t!==null&&(mh(_t,_r,yl,_o),eh$1(_t,_r,yl))}};function oh$1(_r,_t,_o,yl,El,_l,Tl){return _r=_r.stateNode,typeof _r.shouldComponentUpdate=="function"?_r.shouldComponentUpdate(yl,_l,Tl):_t.prototype&&_t.prototype.isPureReactComponent?!Ie$1(_o,yl)||!Ie$1(El,_l):!0}function ph(_r,_t,_o){var yl=!1,El=Vf,_l=_t.contextType;return typeof _l=="object"&&_l!==null?_l=Vg(_l):(El=Zf(_t)?Xf:H$3.current,yl=_t.contextTypes,_l=(yl=yl!=null)?Yf(_r,El):Vf),_t=new _t(_o,_l),_r.memoizedState=_t.state!==null&&_t.state!==void 0?_t.state:null,_t.updater=nh,_r.stateNode=_t,_t._reactInternals=_r,yl&&(_r=_r.stateNode,_r.__reactInternalMemoizedUnmaskedChildContext=El,_r.__reactInternalMemoizedMaskedChildContext=_l),_t}function qh(_r,_t,_o,yl){_r=_t.state,typeof _t.componentWillReceiveProps=="function"&&_t.componentWillReceiveProps(_o,yl),typeof _t.UNSAFE_componentWillReceiveProps=="function"&&_t.UNSAFE_componentWillReceiveProps(_o,yl),_t.state!==_r&&nh.enqueueReplaceState(_t,_t.state,null)}function rh(_r,_t,_o,yl){var El=_r.stateNode;El.props=_o,El.state=_r.memoizedState,El.refs=jh$1,ah(_r);var _l=_t.contextType;typeof _l=="object"&&_l!==null?El.context=Vg(_l):(_l=Zf(_t)?Xf:H$3.current,El.context=Yf(_r,_l)),El.state=_r.memoizedState,_l=_t.getDerivedStateFromProps,typeof _l=="function"&&(kh$1(_r,_t,_l,_o),El.state=_r.memoizedState),typeof _t.getDerivedStateFromProps=="function"||typeof El.getSnapshotBeforeUpdate=="function"||typeof El.UNSAFE_componentWillMount!="function"&&typeof El.componentWillMount!="function"||(_t=El.state,typeof El.componentWillMount=="function"&&El.componentWillMount(),typeof El.UNSAFE_componentWillMount=="function"&&El.UNSAFE_componentWillMount(),_t!==El.state&&nh.enqueueReplaceState(El,El.state,null),gh(_r,_o,El,yl),El.state=_r.memoizedState),typeof El.componentDidMount=="function"&&(_r.flags|=4194308)}function sh(_r,_t,_o){if(_r=_o.ref,_r!==null&&typeof _r!="function"&&typeof _r!="object"){if(_o._owner){if(_o=_o._owner,_o){if(_o.tag!==1)throw Error(p$6(309));var yl=_o.stateNode}if(!yl)throw Error(p$6(147,_r));var El=yl,_l=""+_r;return _t!==null&&_t.ref!==null&&typeof _t.ref=="function"&&_t.ref._stringRef===_l?_t.ref:(_t=function(Tl){var Il=El.refs;Il===jh$1&&(Il=El.refs={}),Tl===null?delete Il[_l]:Il[_l]=Tl},_t._stringRef=_l,_t)}if(typeof _r!="string")throw Error(p$6(284));if(!_o._owner)throw Error(p$6(290,_r))}return _r}function th$1(_r,_t){throw _r=Object.prototype.toString.call(_t),Error(p$6(31,_r==="[object Object]"?"object with keys {"+Object.keys(_t).join(", ")+"}":_r))}function uh$1(_r){var _t=_r._init;return _t(_r._payload)}function vh$2(_r){function _t(up,_d){if(_r){var Ep=up.deletions;Ep===null?(up.deletions=[_d],up.flags|=16):Ep.push(_d)}}function _o(up,_d){if(!_r)return null;for(;_d!==null;)_t(up,_d),_d=_d.sibling;return null}function yl(up,_d){for(up=new Map;_d!==null;)_d.key!==null?up.set(_d.key,_d):up.set(_d.index,_d),_d=_d.sibling;return up}function El(up,_d){return up=wh(up,_d),up.index=0,up.sibling=null,up}function _l(up,_d,Ep){return up.index=Ep,_r?(Ep=up.alternate,Ep!==null?(Ep=Ep.index,Ep<_d?(up.flags|=2,_d):Ep):(up.flags|=2,_d)):(up.flags|=1048576,_d)}function Tl(up){return _r&&up.alternate===null&&(up.flags|=2),up}function Il(up,_d,Ep,Op){return _d===null||_d.tag!==6?(_d=xh$1(Ep,up.mode,Op),_d.return=up,_d):(_d=El(_d,Ep),_d.return=up,_d)}function Al(up,_d,Ep,Op){var Ip=Ep.type;return Ip===ya$2?Fl(up,_d,Ep.props.children,Op,Ep.key):_d!==null&&(_d.elementType===Ip||typeof Ip=="object"&&Ip!==null&&Ip.$$typeof===Ha$1&&uh$1(Ip)===_d.type)?(Op=El(_d,Ep.props),Op.ref=sh(up,_d,Ep),Op.return=up,Op):(Op=yh(Ep.type,Ep.key,Ep.props,null,up.mode,Op),Op.ref=sh(up,_d,Ep),Op.return=up,Op)}function Rl(up,_d,Ep,Op){return _d===null||_d.tag!==4||_d.stateNode.containerInfo!==Ep.containerInfo||_d.stateNode.implementation!==Ep.implementation?(_d=zh$1(Ep,up.mode,Op),_d.return=up,_d):(_d=El(_d,Ep.children||[]),_d.return=up,_d)}function Fl(up,_d,Ep,Op,Ip){return _d===null||_d.tag!==7?(_d=Ah$1(Ep,up.mode,Op,Ip),_d.return=up,_d):(_d=El(_d,Ep),_d.return=up,_d)}function Bl(up,_d,Ep){if(typeof _d=="string"&&_d!==""||typeof _d=="number")return _d=xh$1(""+_d,up.mode,Ep),_d.return=up,_d;if(typeof _d=="object"&&_d!==null){switch(_d.$$typeof){case va$2:return Ep=yh(_d.type,_d.key,_d.props,null,up.mode,Ep),Ep.ref=sh(up,null,_d),Ep.return=up,Ep;case wa$2:return _d=zh$1(_d,up.mode,Ep),_d.return=up,_d;case Ha$1:var Op=_d._init;return Bl(up,Op(_d._payload),Ep)}if(eb$1(_d)||Ka$1(_d))return _d=Ah$1(_d,up.mode,Ep,null),_d.return=up,_d;th$1(up,_d)}return null}function Gl(up,_d,Ep,Op){var Ip=_d!==null?_d.key:null;if(typeof Ep=="string"&&Ep!==""||typeof Ep=="number")return Ip!==null?null:Il(up,_d,""+Ep,Op);if(typeof Ep=="object"&&Ep!==null){switch(Ep.$$typeof){case va$2:return Ep.key===Ip?Al(up,_d,Ep,Op):null;case wa$2:return Ep.key===Ip?Rl(up,_d,Ep,Op):null;case Ha$1:return Ip=Ep._init,Gl(up,_d,Ip(Ep._payload),Op)}if(eb$1(Ep)||Ka$1(Ep))return Ip!==null?null:Fl(up,_d,Ep,Op,null);th$1(up,Ep)}return null}function Ql(up,_d,Ep,Op,Ip){if(typeof Op=="string"&&Op!==""||typeof Op=="number")return up=up.get(Ep)||null,Il(_d,up,""+Op,Ip);if(typeof Op=="object"&&Op!==null){switch(Op.$$typeof){case va$2:return up=up.get(Op.key===null?Ep:Op.key)||null,Al(_d,up,Op,Ip);case wa$2:return up=up.get(Op.key===null?Ep:Op.key)||null,Rl(_d,up,Op,Ip);case Ha$1:var Pp=Op._init;return Ql(up,_d,Ep,Pp(Op._payload),Ip)}if(eb$1(Op)||Ka$1(Op))return up=up.get(Ep)||null,Fl(_d,up,Op,Ip,null);th$1(_d,Op)}return null}function _f(up,_d,Ep,Op){for(var Ip=null,Pp=null,xp=_d,Np=_d=0,Kp=null;xp!==null&&Np<Ep.length;Np++){xp.index>Np?(Kp=xp,xp=null):Kp=xp.sibling;var Tp=Gl(up,xp,Ep[Np],Op);if(Tp===null){xp===null&&(xp=Kp);break}_r&&xp&&Tp.alternate===null&&_t(up,xp),_d=_l(Tp,_d,Np),Pp===null?Ip=Tp:Pp.sibling=Tp,Pp=Tp,xp=Kp}if(Np===Ep.length)return _o(up,xp),I$2&&tg(up,Np),Ip;if(xp===null){for(;Np<Ep.length;Np++)xp=Bl(up,Ep[Np],Op),xp!==null&&(_d=_l(xp,_d,Np),Pp===null?Ip=xp:Pp.sibling=xp,Pp=xp);return I$2&&tg(up,Np),Ip}for(xp=yl(up,xp);Np<Ep.length;Np++)Kp=Ql(xp,up,Np,Ep[Np],Op),Kp!==null&&(_r&&Kp.alternate!==null&&xp.delete(Kp.key===null?Np:Kp.key),_d=_l(Kp,_d,Np),Pp===null?Ip=Kp:Pp.sibling=Kp,Pp=Kp);return _r&&xp.forEach(function(Dp){return _t(up,Dp)}),I$2&&tg(up,Np),Ip}function _h(up,_d,Ep,Op){var Ip=Ka$1(Ep);if(typeof Ip!="function")throw Error(p$6(150));if(Ep=Ip.call(Ep),Ep==null)throw Error(p$6(151));for(var Pp=Ip=null,xp=_d,Np=_d=0,Kp=null,Tp=Ep.next();xp!==null&&!Tp.done;Np++,Tp=Ep.next()){xp.index>Np?(Kp=xp,xp=null):Kp=xp.sibling;var Dp=Gl(up,xp,Tp.value,Op);if(Dp===null){xp===null&&(xp=Kp);break}_r&&xp&&Dp.alternate===null&&_t(up,xp),_d=_l(Dp,_d,Np),Pp===null?Ip=Dp:Pp.sibling=Dp,Pp=Dp,xp=Kp}if(Tp.done)return _o(up,xp),I$2&&tg(up,Np),Ip;if(xp===null){for(;!Tp.done;Np++,Tp=Ep.next())Tp=Bl(up,Tp.value,Op),Tp!==null&&(_d=_l(Tp,_d,Np),Pp===null?Ip=Tp:Pp.sibling=Tp,Pp=Tp);return I$2&&tg(up,Np),Ip}for(xp=yl(up,xp);!Tp.done;Np++,Tp=Ep.next())Tp=Ql(xp,up,Np,Tp.value,Op),Tp!==null&&(_r&&Tp.alternate!==null&&xp.delete(Tp.key===null?Np:Tp.key),_d=_l(Tp,_d,Np),Pp===null?Ip=Tp:Pp.sibling=Tp,Pp=Tp);return _r&&xp.forEach(function(Bp){return _t(up,Bp)}),I$2&&tg(up,Np),Ip}function vp(up,_d,Ep,Op){if(typeof Ep=="object"&&Ep!==null&&Ep.type===ya$2&&Ep.key===null&&(Ep=Ep.props.children),typeof Ep=="object"&&Ep!==null){switch(Ep.$$typeof){case va$2:e:{for(var Ip=Ep.key,Pp=_d;Pp!==null;){if(Pp.key===Ip){if(Ip=Ep.type,Ip===ya$2){if(Pp.tag===7){_o(up,Pp.sibling),_d=El(Pp,Ep.props.children),_d.return=up,up=_d;break e}}else if(Pp.elementType===Ip||typeof Ip=="object"&&Ip!==null&&Ip.$$typeof===Ha$1&&uh$1(Ip)===Pp.type){_o(up,Pp.sibling),_d=El(Pp,Ep.props),_d.ref=sh(up,Pp,Ep),_d.return=up,up=_d;break e}_o(up,Pp);break}else _t(up,Pp);Pp=Pp.sibling}Ep.type===ya$2?(_d=Ah$1(Ep.props.children,up.mode,Op,Ep.key),_d.return=up,up=_d):(Op=yh(Ep.type,Ep.key,Ep.props,null,up.mode,Op),Op.ref=sh(up,_d,Ep),Op.return=up,up=Op)}return Tl(up);case wa$2:e:{for(Pp=Ep.key;_d!==null;){if(_d.key===Pp)if(_d.tag===4&&_d.stateNode.containerInfo===Ep.containerInfo&&_d.stateNode.implementation===Ep.implementation){_o(up,_d.sibling),_d=El(_d,Ep.children||[]),_d.return=up,up=_d;break e}else{_o(up,_d);break}else _t(up,_d);_d=_d.sibling}_d=zh$1(Ep,up.mode,Op),_d.return=up,up=_d}return Tl(up);case Ha$1:return Pp=Ep._init,vp(up,_d,Pp(Ep._payload),Op)}if(eb$1(Ep))return _f(up,_d,Ep,Op);if(Ka$1(Ep))return _h(up,_d,Ep,Op);th$1(up,Ep)}return typeof Ep=="string"&&Ep!==""||typeof Ep=="number"?(Ep=""+Ep,_d!==null&&_d.tag===6?(_o(up,_d.sibling),_d=El(_d,Ep),_d.return=up,up=_d):(_o(up,_d),_d=xh$1(Ep,up.mode,Op),_d.return=up,up=_d),Tl(up)):_o(up,_d)}return vp}var Bh$1=vh$2(!0),Ch$1=vh$2(!1),Dh$1={},Eh=Uf(Dh$1),Fh$1=Uf(Dh$1),Gh$1=Uf(Dh$1);function Hh$1(_r){if(_r===Dh$1)throw Error(p$6(174));return _r}function Ih$1(_r,_t){switch(G$3(Gh$1,_t),G$3(Fh$1,_r),G$3(Eh,Dh$1),_r=_t.nodeType,_r){case 9:case 11:_t=(_t=_t.documentElement)?_t.namespaceURI:lb$1(null,"");break;default:_r=_r===8?_t.parentNode:_t,_t=_r.namespaceURI||null,_r=_r.tagName,_t=lb$1(_t,_r)}E$2(Eh),G$3(Eh,_t)}function Jh$1(){E$2(Eh),E$2(Fh$1),E$2(Gh$1)}function Kh$1(_r){Hh$1(Gh$1.current);var _t=Hh$1(Eh.current),_o=lb$1(_t,_r.type);_t!==_o&&(G$3(Fh$1,_r),G$3(Eh,_o))}function Lh$1(_r){Fh$1.current===_r&&(E$2(Eh),E$2(Fh$1))}var M$3=Uf(0);function Mh$1(_r){for(var _t=_r;_t!==null;){if(_t.tag===13){var _o=_t.memoizedState;if(_o!==null&&(_o=_o.dehydrated,_o===null||_o.data==="$?"||_o.data==="$!"))return _t}else if(_t.tag===19&&_t.memoizedProps.revealOrder!==void 0){if(_t.flags&128)return _t}else if(_t.child!==null){_t.child.return=_t,_t=_t.child;continue}if(_t===_r)break;for(;_t.sibling===null;){if(_t.return===null||_t.return===_r)return null;_t=_t.return}_t.sibling.return=_t.return,_t=_t.sibling}return null}var Nh$1=[];function Oh(){for(var _r=0;_r<Nh$1.length;_r++)Nh$1[_r]._workInProgressVersionPrimary=null;Nh$1.length=0}var Ph$1=ua$2.ReactCurrentDispatcher,Qh$1=ua$2.ReactCurrentBatchConfig,Rh$1=0,N$3=null,O$3=null,P$3=null,Sh$1=!1,Th$1=!1,Uh$1=0,Vh$1=0;function Q$3(){throw Error(p$6(321))}function Wh$1(_r,_t){if(_t===null)return!1;for(var _o=0;_o<_t.length&&_o<_r.length;_o++)if(!He(_r[_o],_t[_o]))return!1;return!0}function Xh$1(_r,_t,_o,yl,El,_l){if(Rh$1=_l,N$3=_t,_t.memoizedState=null,_t.updateQueue=null,_t.lanes=0,Ph$1.current=_r===null||_r.memoizedState===null?Yh$1:Zh$1,_r=_o(yl,El),Th$1){_l=0;do{if(Th$1=!1,Uh$1=0,25<=_l)throw Error(p$6(301));_l+=1,P$3=O$3=null,_t.updateQueue=null,Ph$1.current=$h,_r=_o(yl,El)}while(Th$1)}if(Ph$1.current=ai$1,_t=O$3!==null&&O$3.next!==null,Rh$1=0,P$3=O$3=N$3=null,Sh$1=!1,_t)throw Error(p$6(300));return _r}function bi(){var _r=Uh$1!==0;return Uh$1=0,_r}function ci$1(){var _r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return P$3===null?N$3.memoizedState=P$3=_r:P$3=P$3.next=_r,P$3}function di$1(){if(O$3===null){var _r=N$3.alternate;_r=_r!==null?_r.memoizedState:null}else _r=O$3.next;var _t=P$3===null?N$3.memoizedState:P$3.next;if(_t!==null)P$3=_t,O$3=_r;else{if(_r===null)throw Error(p$6(310));O$3=_r,_r={memoizedState:O$3.memoizedState,baseState:O$3.baseState,baseQueue:O$3.baseQueue,queue:O$3.queue,next:null},P$3===null?N$3.memoizedState=P$3=_r:P$3=P$3.next=_r}return P$3}function ei(_r,_t){return typeof _t=="function"?_t(_r):_t}function fi$1(_r){var _t=di$1(),_o=_t.queue;if(_o===null)throw Error(p$6(311));_o.lastRenderedReducer=_r;var yl=O$3,El=yl.baseQueue,_l=_o.pending;if(_l!==null){if(El!==null){var Tl=El.next;El.next=_l.next,_l.next=Tl}yl.baseQueue=El=_l,_o.pending=null}if(El!==null){_l=El.next,yl=yl.baseState;var Il=Tl=null,Al=null,Rl=_l;do{var Fl=Rl.lane;if((Rh$1&Fl)===Fl)Al!==null&&(Al=Al.next={lane:0,action:Rl.action,hasEagerState:Rl.hasEagerState,eagerState:Rl.eagerState,next:null}),yl=Rl.hasEagerState?Rl.eagerState:_r(yl,Rl.action);else{var Bl={lane:Fl,action:Rl.action,hasEagerState:Rl.hasEagerState,eagerState:Rl.eagerState,next:null};Al===null?(Il=Al=Bl,Tl=yl):Al=Al.next=Bl,N$3.lanes|=Fl,hh|=Fl}Rl=Rl.next}while(Rl!==null&&Rl!==_l);Al===null?Tl=yl:Al.next=Il,He(yl,_t.memoizedState)||(Ug=!0),_t.memoizedState=yl,_t.baseState=Tl,_t.baseQueue=Al,_o.lastRenderedState=yl}if(_r=_o.interleaved,_r!==null){El=_r;do _l=El.lane,N$3.lanes|=_l,hh|=_l,El=El.next;while(El!==_r)}else El===null&&(_o.lanes=0);return[_t.memoizedState,_o.dispatch]}function gi(_r){var _t=di$1(),_o=_t.queue;if(_o===null)throw Error(p$6(311));_o.lastRenderedReducer=_r;var yl=_o.dispatch,El=_o.pending,_l=_t.memoizedState;if(El!==null){_o.pending=null;var Tl=El=El.next;do _l=_r(_l,Tl.action),Tl=Tl.next;while(Tl!==El);He(_l,_t.memoizedState)||(Ug=!0),_t.memoizedState=_l,_t.baseQueue===null&&(_t.baseState=_l),_o.lastRenderedState=_l}return[_l,yl]}function hi$1(){}function ii$1(_r,_t){var _o=N$3,yl=di$1(),El=_t(),_l=!He(yl.memoizedState,El);if(_l&&(yl.memoizedState=El,Ug=!0),yl=yl.queue,ji$1(ki.bind(null,_o,yl,_r),[_r]),yl.getSnapshot!==_t||_l||P$3!==null&&P$3.memoizedState.tag&1){if(_o.flags|=2048,li$1(9,mi.bind(null,_o,yl,El,_t),void 0,null),R$2===null)throw Error(p$6(349));Rh$1&30||ni$1(_o,_t,El)}return El}function ni$1(_r,_t,_o){_r.flags|=16384,_r={getSnapshot:_t,value:_o},_t=N$3.updateQueue,_t===null?(_t={lastEffect:null,stores:null},N$3.updateQueue=_t,_t.stores=[_r]):(_o=_t.stores,_o===null?_t.stores=[_r]:_o.push(_r))}function mi(_r,_t,_o,yl){_t.value=_o,_t.getSnapshot=yl,oi$1(_t)&&pi(_r)}function ki(_r,_t,_o){return _o(function(){oi$1(_t)&&pi(_r)})}function oi$1(_r){var _t=_r.getSnapshot;_r=_r.value;try{var _o=_t();return!He(_r,_o)}catch{return!0}}function pi(_r){var _t=Zg(_r,1);_t!==null&&mh(_t,_r,1,-1)}function qi(_r){var _t=ci$1();return typeof _r=="function"&&(_r=_r()),_t.memoizedState=_t.baseState=_r,_r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ei,lastRenderedState:_r},_t.queue=_r,_r=_r.dispatch=ri$1.bind(null,N$3,_r),[_t.memoizedState,_r]}function li$1(_r,_t,_o,yl){return _r={tag:_r,create:_t,destroy:_o,deps:yl,next:null},_t=N$3.updateQueue,_t===null?(_t={lastEffect:null,stores:null},N$3.updateQueue=_t,_t.lastEffect=_r.next=_r):(_o=_t.lastEffect,_o===null?_t.lastEffect=_r.next=_r:(yl=_o.next,_o.next=_r,_r.next=yl,_t.lastEffect=_r)),_r}function si$1(){return di$1().memoizedState}function ti$1(_r,_t,_o,yl){var El=ci$1();N$3.flags|=_r,El.memoizedState=li$1(1|_t,_o,void 0,yl===void 0?null:yl)}function ui$1(_r,_t,_o,yl){var El=di$1();yl=yl===void 0?null:yl;var _l=void 0;if(O$3!==null){var Tl=O$3.memoizedState;if(_l=Tl.destroy,yl!==null&&Wh$1(yl,Tl.deps)){El.memoizedState=li$1(_t,_o,_l,yl);return}}N$3.flags|=_r,El.memoizedState=li$1(1|_t,_o,_l,yl)}function vi(_r,_t){return ti$1(8390656,8,_r,_t)}function ji$1(_r,_t){return ui$1(2048,8,_r,_t)}function wi$1(_r,_t){return ui$1(4,2,_r,_t)}function xi(_r,_t){return ui$1(4,4,_r,_t)}function yi(_r,_t){if(typeof _t=="function")return _r=_r(),_t(_r),function(){_t(null)};if(_t!=null)return _r=_r(),_t.current=_r,function(){_t.current=null}}function zi$1(_r,_t,_o){return _o=_o!=null?_o.concat([_r]):null,ui$1(4,4,yi.bind(null,_t,_r),_o)}function Ai(){}function Bi(_r,_t){var _o=di$1();_t=_t===void 0?null:_t;var yl=_o.memoizedState;return yl!==null&&_t!==null&&Wh$1(_t,yl[1])?yl[0]:(_o.memoizedState=[_r,_t],_r)}function Ci(_r,_t){var _o=di$1();_t=_t===void 0?null:_t;var yl=_o.memoizedState;return yl!==null&&_t!==null&&Wh$1(_t,yl[1])?yl[0]:(_r=_r(),_o.memoizedState=[_r,_t],_r)}function Di(_r,_t,_o){return Rh$1&21?(He(_o,_t)||(_o=yc$1(),N$3.lanes|=_o,hh|=_o,_r.baseState=!0),_t):(_r.baseState&&(_r.baseState=!1,Ug=!0),_r.memoizedState=_o)}function Ei(_r,_t){var _o=C$2;C$2=_o!==0&&4>_o?_o:4,_r(!0);var yl=Qh$1.transition;Qh$1.transition={};try{_r(!1),_t()}finally{C$2=_o,Qh$1.transition=yl}}function Fi(){return di$1().memoizedState}function Gi(_r,_t,_o){var yl=lh(_r);if(_o={lane:yl,action:_o,hasEagerState:!1,eagerState:null,next:null},Hi$1(_r))Ii(_t,_o);else if(_o=Yg(_r,_t,_o,yl),_o!==null){var El=L$3();mh(_o,_r,yl,El),Ji(_o,_t,yl)}}function ri$1(_r,_t,_o){var yl=lh(_r),El={lane:yl,action:_o,hasEagerState:!1,eagerState:null,next:null};if(Hi$1(_r))Ii(_t,El);else{var _l=_r.alternate;if(_r.lanes===0&&(_l===null||_l.lanes===0)&&(_l=_t.lastRenderedReducer,_l!==null))try{var Tl=_t.lastRenderedState,Il=_l(Tl,_o);if(El.hasEagerState=!0,El.eagerState=Il,He(Il,Tl)){var Al=_t.interleaved;Al===null?(El.next=El,Xg(_t)):(El.next=Al.next,Al.next=El),_t.interleaved=El;return}}catch{}finally{}_o=Yg(_r,_t,El,yl),_o!==null&&(El=L$3(),mh(_o,_r,yl,El),Ji(_o,_t,yl))}}function Hi$1(_r){var _t=_r.alternate;return _r===N$3||_t!==null&&_t===N$3}function Ii(_r,_t){Th$1=Sh$1=!0;var _o=_r.pending;_o===null?_t.next=_t:(_t.next=_o.next,_o.next=_t),_r.pending=_t}function Ji(_r,_t,_o){if(_o&4194240){var yl=_t.lanes;yl&=_r.pendingLanes,_o|=yl,_t.lanes=_o,Cc$2(_r,_o)}}var ai$1={readContext:Vg,useCallback:Q$3,useContext:Q$3,useEffect:Q$3,useImperativeHandle:Q$3,useInsertionEffect:Q$3,useLayoutEffect:Q$3,useMemo:Q$3,useReducer:Q$3,useRef:Q$3,useState:Q$3,useDebugValue:Q$3,useDeferredValue:Q$3,useTransition:Q$3,useMutableSource:Q$3,useSyncExternalStore:Q$3,useId:Q$3,unstable_isNewReconciler:!1},Yh$1={readContext:Vg,useCallback:function(_r,_t){return ci$1().memoizedState=[_r,_t===void 0?null:_t],_r},useContext:Vg,useEffect:vi,useImperativeHandle:function(_r,_t,_o){return _o=_o!=null?_o.concat([_r]):null,ti$1(4194308,4,yi.bind(null,_t,_r),_o)},useLayoutEffect:function(_r,_t){return ti$1(4194308,4,_r,_t)},useInsertionEffect:function(_r,_t){return ti$1(4,2,_r,_t)},useMemo:function(_r,_t){var _o=ci$1();return _t=_t===void 0?null:_t,_r=_r(),_o.memoizedState=[_r,_t],_r},useReducer:function(_r,_t,_o){var yl=ci$1();return _t=_o!==void 0?_o(_t):_t,yl.memoizedState=yl.baseState=_t,_r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:_r,lastRenderedState:_t},yl.queue=_r,_r=_r.dispatch=Gi.bind(null,N$3,_r),[yl.memoizedState,_r]},useRef:function(_r){var _t=ci$1();return _r={current:_r},_t.memoizedState=_r},useState:qi,useDebugValue:Ai,useDeferredValue:function(_r){return ci$1().memoizedState=_r},useTransition:function(){var _r=qi(!1),_t=_r[0];return _r=Ei.bind(null,_r[1]),ci$1().memoizedState=_r,[_t,_r]},useMutableSource:function(){},useSyncExternalStore:function(_r,_t,_o){var yl=N$3,El=ci$1();if(I$2){if(_o===void 0)throw Error(p$6(407));_o=_o()}else{if(_o=_t(),R$2===null)throw Error(p$6(349));Rh$1&30||ni$1(yl,_t,_o)}El.memoizedState=_o;var _l={value:_o,getSnapshot:_t};return El.queue=_l,vi(ki.bind(null,yl,_l,_r),[_r]),yl.flags|=2048,li$1(9,mi.bind(null,yl,_l,_o,_t),void 0,null),_o},useId:function(){var _r=ci$1(),_t=R$2.identifierPrefix;if(I$2){var _o=sg,yl=rg;_o=(yl&~(1<<32-oc$2(yl)-1)).toString(32)+_o,_t=":"+_t+"R"+_o,_o=Uh$1++,0<_o&&(_t+="H"+_o.toString(32)),_t+=":"}else _o=Vh$1++,_t=":"+_t+"r"+_o.toString(32)+":";return _r.memoizedState=_t},unstable_isNewReconciler:!1},Zh$1={readContext:Vg,useCallback:Bi,useContext:Vg,useEffect:ji$1,useImperativeHandle:zi$1,useInsertionEffect:wi$1,useLayoutEffect:xi,useMemo:Ci,useReducer:fi$1,useRef:si$1,useState:function(){return fi$1(ei)},useDebugValue:Ai,useDeferredValue:function(_r){var _t=di$1();return Di(_t,O$3.memoizedState,_r)},useTransition:function(){var _r=fi$1(ei)[0],_t=di$1().memoizedState;return[_r,_t]},useMutableSource:hi$1,useSyncExternalStore:ii$1,useId:Fi,unstable_isNewReconciler:!1},$h={readContext:Vg,useCallback:Bi,useContext:Vg,useEffect:ji$1,useImperativeHandle:zi$1,useInsertionEffect:wi$1,useLayoutEffect:xi,useMemo:Ci,useReducer:gi,useRef:si$1,useState:function(){return gi(ei)},useDebugValue:Ai,useDeferredValue:function(_r){var _t=di$1();return O$3===null?_t.memoizedState=_r:Di(_t,O$3.memoizedState,_r)},useTransition:function(){var _r=gi(ei)[0],_t=di$1().memoizedState;return[_r,_t]},useMutableSource:hi$1,useSyncExternalStore:ii$1,useId:Fi,unstable_isNewReconciler:!1};function Ki(_r,_t){try{var _o="",yl=_t;do _o+=Pa$1(yl),yl=yl.return;while(yl);var El=_o}catch(_l){El=`
Error generating stack: `+_l.message+`
`+_l.stack}return{value:_r,source:_t,stack:El,digest:null}}function Li(_r,_t,_o){return{value:_r,source:null,stack:_o??null,digest:_t??null}}function Mi(_r,_t){try{console.error(_t.value)}catch(_o){setTimeout(function(){throw _o})}}var Ni=typeof WeakMap=="function"?WeakMap:Map;function Oi(_r,_t,_o){_o=ch$1(-1,_o),_o.tag=3,_o.payload={element:null};var yl=_t.value;return _o.callback=function(){Pi||(Pi=!0,Qi$1=yl),Mi(_r,_t)},_o}function Ri(_r,_t,_o){_o=ch$1(-1,_o),_o.tag=3;var yl=_r.type.getDerivedStateFromError;if(typeof yl=="function"){var El=_t.value;_o.payload=function(){return yl(El)},_o.callback=function(){Mi(_r,_t)}}var _l=_r.stateNode;return _l!==null&&typeof _l.componentDidCatch=="function"&&(_o.callback=function(){Mi(_r,_t),typeof yl!="function"&&(Si===null?Si=new Set([this]):Si.add(this));var Tl=_t.stack;this.componentDidCatch(_t.value,{componentStack:Tl!==null?Tl:""})}),_o}function Ti(_r,_t,_o){var yl=_r.pingCache;if(yl===null){yl=_r.pingCache=new Ni;var El=new Set;yl.set(_t,El)}else El=yl.get(_t),El===void 0&&(El=new Set,yl.set(_t,El));El.has(_o)||(El.add(_o),_r=Ui.bind(null,_r,_t,_o),_t.then(_r,_r))}function Vi(_r){do{var _t;if((_t=_r.tag===13)&&(_t=_r.memoizedState,_t=_t!==null?_t.dehydrated!==null:!0),_t)return _r;_r=_r.return}while(_r!==null);return null}function Wi$1(_r,_t,_o,yl,El){return _r.mode&1?(_r.flags|=65536,_r.lanes=El,_r):(_r===_t?_r.flags|=65536:(_r.flags|=128,_o.flags|=131072,_o.flags&=-52805,_o.tag===1&&(_o.alternate===null?_o.tag=17:(_t=ch$1(-1,1),_t.tag=2,dh(_o,_t,1))),_o.lanes|=1),_r)}var Xi=ua$2.ReactCurrentOwner,Ug=!1;function Yi(_r,_t,_o,yl){_t.child=_r===null?Ch$1(_t,null,_o,yl):Bh$1(_t,_r.child,_o,yl)}function Zi(_r,_t,_o,yl,El){_o=_o.render;var _l=_t.ref;return Tg(_t,El),yl=Xh$1(_r,_t,_o,yl,_l,El),_o=bi(),_r!==null&&!Ug?(_t.updateQueue=_r.updateQueue,_t.flags&=-2053,_r.lanes&=~El,$i(_r,_t,El)):(I$2&&_o&&vg(_t),_t.flags|=1,Yi(_r,_t,yl,El),_t.child)}function aj(_r,_t,_o,yl,El){if(_r===null){var _l=_o.type;return typeof _l=="function"&&!bj(_l)&&_l.defaultProps===void 0&&_o.compare===null&&_o.defaultProps===void 0?(_t.tag=15,_t.type=_l,cj(_r,_t,_l,yl,El)):(_r=yh(_o.type,null,yl,_t,_t.mode,El),_r.ref=_t.ref,_r.return=_t,_t.child=_r)}if(_l=_r.child,!(_r.lanes&El)){var Tl=_l.memoizedProps;if(_o=_o.compare,_o=_o!==null?_o:Ie$1,_o(Tl,yl)&&_r.ref===_t.ref)return $i(_r,_t,El)}return _t.flags|=1,_r=wh(_l,yl),_r.ref=_t.ref,_r.return=_t,_t.child=_r}function cj(_r,_t,_o,yl,El){if(_r!==null){var _l=_r.memoizedProps;if(Ie$1(_l,yl)&&_r.ref===_t.ref)if(Ug=!1,_t.pendingProps=yl=_l,(_r.lanes&El)!==0)_r.flags&131072&&(Ug=!0);else return _t.lanes=_r.lanes,$i(_r,_t,El)}return dj(_r,_t,_o,yl,El)}function ej(_r,_t,_o){var yl=_t.pendingProps,El=yl.children,_l=_r!==null?_r.memoizedState:null;if(yl.mode==="hidden")if(!(_t.mode&1))_t.memoizedState={baseLanes:0,cachePool:null,transitions:null},G$3(fj,gj),gj|=_o;else{if(!(_o&1073741824))return _r=_l!==null?_l.baseLanes|_o:_o,_t.lanes=_t.childLanes=1073741824,_t.memoizedState={baseLanes:_r,cachePool:null,transitions:null},_t.updateQueue=null,G$3(fj,gj),gj|=_r,null;_t.memoizedState={baseLanes:0,cachePool:null,transitions:null},yl=_l!==null?_l.baseLanes:_o,G$3(fj,gj),gj|=yl}else _l!==null?(yl=_l.baseLanes|_o,_t.memoizedState=null):yl=_o,G$3(fj,gj),gj|=yl;return Yi(_r,_t,El,_o),_t.child}function hj(_r,_t){var _o=_t.ref;(_r===null&&_o!==null||_r!==null&&_r.ref!==_o)&&(_t.flags|=512,_t.flags|=2097152)}function dj(_r,_t,_o,yl,El){var _l=Zf(_o)?Xf:H$3.current;return _l=Yf(_t,_l),Tg(_t,El),_o=Xh$1(_r,_t,_o,yl,_l,El),yl=bi(),_r!==null&&!Ug?(_t.updateQueue=_r.updateQueue,_t.flags&=-2053,_r.lanes&=~El,$i(_r,_t,El)):(I$2&&yl&&vg(_t),_t.flags|=1,Yi(_r,_t,_o,El),_t.child)}function ij(_r,_t,_o,yl,El){if(Zf(_o)){var _l=!0;cg(_t)}else _l=!1;if(Tg(_t,El),_t.stateNode===null)jj(_r,_t),ph(_t,_o,yl),rh(_t,_o,yl,El),yl=!0;else if(_r===null){var Tl=_t.stateNode,Il=_t.memoizedProps;Tl.props=Il;var Al=Tl.context,Rl=_o.contextType;typeof Rl=="object"&&Rl!==null?Rl=Vg(Rl):(Rl=Zf(_o)?Xf:H$3.current,Rl=Yf(_t,Rl));var Fl=_o.getDerivedStateFromProps,Bl=typeof Fl=="function"||typeof Tl.getSnapshotBeforeUpdate=="function";Bl||typeof Tl.UNSAFE_componentWillReceiveProps!="function"&&typeof Tl.componentWillReceiveProps!="function"||(Il!==yl||Al!==Rl)&&qh(_t,Tl,yl,Rl),$g=!1;var Gl=_t.memoizedState;Tl.state=Gl,gh(_t,yl,Tl,El),Al=_t.memoizedState,Il!==yl||Gl!==Al||Wf.current||$g?(typeof Fl=="function"&&(kh$1(_t,_o,Fl,yl),Al=_t.memoizedState),(Il=$g||oh$1(_t,_o,Il,yl,Gl,Al,Rl))?(Bl||typeof Tl.UNSAFE_componentWillMount!="function"&&typeof Tl.componentWillMount!="function"||(typeof Tl.componentWillMount=="function"&&Tl.componentWillMount(),typeof Tl.UNSAFE_componentWillMount=="function"&&Tl.UNSAFE_componentWillMount()),typeof Tl.componentDidMount=="function"&&(_t.flags|=4194308)):(typeof Tl.componentDidMount=="function"&&(_t.flags|=4194308),_t.memoizedProps=yl,_t.memoizedState=Al),Tl.props=yl,Tl.state=Al,Tl.context=Rl,yl=Il):(typeof Tl.componentDidMount=="function"&&(_t.flags|=4194308),yl=!1)}else{Tl=_t.stateNode,bh$1(_r,_t),Il=_t.memoizedProps,Rl=_t.type===_t.elementType?Il:Lg(_t.type,Il),Tl.props=Rl,Bl=_t.pendingProps,Gl=Tl.context,Al=_o.contextType,typeof Al=="object"&&Al!==null?Al=Vg(Al):(Al=Zf(_o)?Xf:H$3.current,Al=Yf(_t,Al));var Ql=_o.getDerivedStateFromProps;(Fl=typeof Ql=="function"||typeof Tl.getSnapshotBeforeUpdate=="function")||typeof Tl.UNSAFE_componentWillReceiveProps!="function"&&typeof Tl.componentWillReceiveProps!="function"||(Il!==Bl||Gl!==Al)&&qh(_t,Tl,yl,Al),$g=!1,Gl=_t.memoizedState,Tl.state=Gl,gh(_t,yl,Tl,El);var _f=_t.memoizedState;Il!==Bl||Gl!==_f||Wf.current||$g?(typeof Ql=="function"&&(kh$1(_t,_o,Ql,yl),_f=_t.memoizedState),(Rl=$g||oh$1(_t,_o,Rl,yl,Gl,_f,Al)||!1)?(Fl||typeof Tl.UNSAFE_componentWillUpdate!="function"&&typeof Tl.componentWillUpdate!="function"||(typeof Tl.componentWillUpdate=="function"&&Tl.componentWillUpdate(yl,_f,Al),typeof Tl.UNSAFE_componentWillUpdate=="function"&&Tl.UNSAFE_componentWillUpdate(yl,_f,Al)),typeof Tl.componentDidUpdate=="function"&&(_t.flags|=4),typeof Tl.getSnapshotBeforeUpdate=="function"&&(_t.flags|=1024)):(typeof Tl.componentDidUpdate!="function"||Il===_r.memoizedProps&&Gl===_r.memoizedState||(_t.flags|=4),typeof Tl.getSnapshotBeforeUpdate!="function"||Il===_r.memoizedProps&&Gl===_r.memoizedState||(_t.flags|=1024),_t.memoizedProps=yl,_t.memoizedState=_f),Tl.props=yl,Tl.state=_f,Tl.context=Al,yl=Rl):(typeof Tl.componentDidUpdate!="function"||Il===_r.memoizedProps&&Gl===_r.memoizedState||(_t.flags|=4),typeof Tl.getSnapshotBeforeUpdate!="function"||Il===_r.memoizedProps&&Gl===_r.memoizedState||(_t.flags|=1024),yl=!1)}return kj(_r,_t,_o,yl,_l,El)}function kj(_r,_t,_o,yl,El,_l){hj(_r,_t);var Tl=(_t.flags&128)!==0;if(!yl&&!Tl)return El&&dg(_t,_o,!1),$i(_r,_t,_l);yl=_t.stateNode,Xi.current=_t;var Il=Tl&&typeof _o.getDerivedStateFromError!="function"?null:yl.render();return _t.flags|=1,_r!==null&&Tl?(_t.child=Bh$1(_t,_r.child,null,_l),_t.child=Bh$1(_t,null,Il,_l)):Yi(_r,_t,Il,_l),_t.memoizedState=yl.state,El&&dg(_t,_o,!0),_t.child}function lj(_r){var _t=_r.stateNode;_t.pendingContext?ag(_r,_t.pendingContext,_t.pendingContext!==_t.context):_t.context&&ag(_r,_t.context,!1),Ih$1(_r,_t.containerInfo)}function mj(_r,_t,_o,yl,El){return Ig(),Jg(El),_t.flags|=256,Yi(_r,_t,_o,yl),_t.child}var nj={dehydrated:null,treeContext:null,retryLane:0};function oj(_r){return{baseLanes:_r,cachePool:null,transitions:null}}function pj(_r,_t,_o){var yl=_t.pendingProps,El=M$3.current,_l=!1,Tl=(_t.flags&128)!==0,Il;if((Il=Tl)||(Il=_r!==null&&_r.memoizedState===null?!1:(El&2)!==0),Il?(_l=!0,_t.flags&=-129):(_r===null||_r.memoizedState!==null)&&(El|=1),G$3(M$3,El&1),_r===null)return Eg(_t),_r=_t.memoizedState,_r!==null&&(_r=_r.dehydrated,_r!==null)?(_t.mode&1?_r.data==="$!"?_t.lanes=8:_t.lanes=1073741824:_t.lanes=1,null):(Tl=yl.children,_r=yl.fallback,_l?(yl=_t.mode,_l=_t.child,Tl={mode:"hidden",children:Tl},!(yl&1)&&_l!==null?(_l.childLanes=0,_l.pendingProps=Tl):_l=qj(Tl,yl,0,null),_r=Ah$1(_r,yl,_o,null),_l.return=_t,_r.return=_t,_l.sibling=_r,_t.child=_l,_t.child.memoizedState=oj(_o),_t.memoizedState=nj,_r):rj(_t,Tl));if(El=_r.memoizedState,El!==null&&(Il=El.dehydrated,Il!==null))return sj(_r,_t,Tl,yl,Il,El,_o);if(_l){_l=yl.fallback,Tl=_t.mode,El=_r.child,Il=El.sibling;var Al={mode:"hidden",children:yl.children};return!(Tl&1)&&_t.child!==El?(yl=_t.child,yl.childLanes=0,yl.pendingProps=Al,_t.deletions=null):(yl=wh(El,Al),yl.subtreeFlags=El.subtreeFlags&14680064),Il!==null?_l=wh(Il,_l):(_l=Ah$1(_l,Tl,_o,null),_l.flags|=2),_l.return=_t,yl.return=_t,yl.sibling=_l,_t.child=yl,yl=_l,_l=_t.child,Tl=_r.child.memoizedState,Tl=Tl===null?oj(_o):{baseLanes:Tl.baseLanes|_o,cachePool:null,transitions:Tl.transitions},_l.memoizedState=Tl,_l.childLanes=_r.childLanes&~_o,_t.memoizedState=nj,yl}return _l=_r.child,_r=_l.sibling,yl=wh(_l,{mode:"visible",children:yl.children}),!(_t.mode&1)&&(yl.lanes=_o),yl.return=_t,yl.sibling=null,_r!==null&&(_o=_t.deletions,_o===null?(_t.deletions=[_r],_t.flags|=16):_o.push(_r)),_t.child=yl,_t.memoizedState=null,yl}function rj(_r,_t){return _t=qj({mode:"visible",children:_t},_r.mode,0,null),_t.return=_r,_r.child=_t}function tj(_r,_t,_o,yl){return yl!==null&&Jg(yl),Bh$1(_t,_r.child,null,_o),_r=rj(_t,_t.pendingProps.children),_r.flags|=2,_t.memoizedState=null,_r}function sj(_r,_t,_o,yl,El,_l,Tl){if(_o)return _t.flags&256?(_t.flags&=-257,yl=Li(Error(p$6(422))),tj(_r,_t,Tl,yl)):_t.memoizedState!==null?(_t.child=_r.child,_t.flags|=128,null):(_l=yl.fallback,El=_t.mode,yl=qj({mode:"visible",children:yl.children},El,0,null),_l=Ah$1(_l,El,Tl,null),_l.flags|=2,yl.return=_t,_l.return=_t,yl.sibling=_l,_t.child=yl,_t.mode&1&&Bh$1(_t,_r.child,null,Tl),_t.child.memoizedState=oj(Tl),_t.memoizedState=nj,_l);if(!(_t.mode&1))return tj(_r,_t,Tl,null);if(El.data==="$!"){if(yl=El.nextSibling&&El.nextSibling.dataset,yl)var Il=yl.dgst;return yl=Il,_l=Error(p$6(419)),yl=Li(_l,yl,void 0),tj(_r,_t,Tl,yl)}if(Il=(Tl&_r.childLanes)!==0,Ug||Il){if(yl=R$2,yl!==null){switch(Tl&-Tl){case 4:El=2;break;case 16:El=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:El=32;break;case 536870912:El=268435456;break;default:El=0}El=El&(yl.suspendedLanes|Tl)?0:El,El!==0&&El!==_l.retryLane&&(_l.retryLane=El,Zg(_r,El),mh(yl,_r,El,-1))}return uj(),yl=Li(Error(p$6(421))),tj(_r,_t,Tl,yl)}return El.data==="$?"?(_t.flags|=128,_t.child=_r.child,_t=vj.bind(null,_r),El._reactRetry=_t,null):(_r=_l.treeContext,yg=Lf(El.nextSibling),xg=_t,I$2=!0,zg=null,_r!==null&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=_r.id,sg=_r.overflow,qg=_t),_t=rj(_t,yl.children),_t.flags|=4096,_t)}function wj(_r,_t,_o){_r.lanes|=_t;var yl=_r.alternate;yl!==null&&(yl.lanes|=_t),Sg(_r.return,_t,_o)}function xj(_r,_t,_o,yl,El){var _l=_r.memoizedState;_l===null?_r.memoizedState={isBackwards:_t,rendering:null,renderingStartTime:0,last:yl,tail:_o,tailMode:El}:(_l.isBackwards=_t,_l.rendering=null,_l.renderingStartTime=0,_l.last=yl,_l.tail=_o,_l.tailMode=El)}function yj(_r,_t,_o){var yl=_t.pendingProps,El=yl.revealOrder,_l=yl.tail;if(Yi(_r,_t,yl.children,_o),yl=M$3.current,yl&2)yl=yl&1|2,_t.flags|=128;else{if(_r!==null&&_r.flags&128)e:for(_r=_t.child;_r!==null;){if(_r.tag===13)_r.memoizedState!==null&&wj(_r,_o,_t);else if(_r.tag===19)wj(_r,_o,_t);else if(_r.child!==null){_r.child.return=_r,_r=_r.child;continue}if(_r===_t)break e;for(;_r.sibling===null;){if(_r.return===null||_r.return===_t)break e;_r=_r.return}_r.sibling.return=_r.return,_r=_r.sibling}yl&=1}if(G$3(M$3,yl),!(_t.mode&1))_t.memoizedState=null;else switch(El){case"forwards":for(_o=_t.child,El=null;_o!==null;)_r=_o.alternate,_r!==null&&Mh$1(_r)===null&&(El=_o),_o=_o.sibling;_o=El,_o===null?(El=_t.child,_t.child=null):(El=_o.sibling,_o.sibling=null),xj(_t,!1,El,_o,_l);break;case"backwards":for(_o=null,El=_t.child,_t.child=null;El!==null;){if(_r=El.alternate,_r!==null&&Mh$1(_r)===null){_t.child=El;break}_r=El.sibling,El.sibling=_o,_o=El,El=_r}xj(_t,!0,_o,null,_l);break;case"together":xj(_t,!1,null,null,void 0);break;default:_t.memoizedState=null}return _t.child}function jj(_r,_t){!(_t.mode&1)&&_r!==null&&(_r.alternate=null,_t.alternate=null,_t.flags|=2)}function $i(_r,_t,_o){if(_r!==null&&(_t.dependencies=_r.dependencies),hh|=_t.lanes,!(_o&_t.childLanes))return null;if(_r!==null&&_t.child!==_r.child)throw Error(p$6(153));if(_t.child!==null){for(_r=_t.child,_o=wh(_r,_r.pendingProps),_t.child=_o,_o.return=_t;_r.sibling!==null;)_r=_r.sibling,_o=_o.sibling=wh(_r,_r.pendingProps),_o.return=_t;_o.sibling=null}return _t.child}function zj(_r,_t,_o){switch(_t.tag){case 3:lj(_t),Ig();break;case 5:Kh$1(_t);break;case 1:Zf(_t.type)&&cg(_t);break;case 4:Ih$1(_t,_t.stateNode.containerInfo);break;case 10:var yl=_t.type._context,El=_t.memoizedProps.value;G$3(Mg,yl._currentValue),yl._currentValue=El;break;case 13:if(yl=_t.memoizedState,yl!==null)return yl.dehydrated!==null?(G$3(M$3,M$3.current&1),_t.flags|=128,null):_o&_t.child.childLanes?pj(_r,_t,_o):(G$3(M$3,M$3.current&1),_r=$i(_r,_t,_o),_r!==null?_r.sibling:null);G$3(M$3,M$3.current&1);break;case 19:if(yl=(_o&_t.childLanes)!==0,_r.flags&128){if(yl)return yj(_r,_t,_o);_t.flags|=128}if(El=_t.memoizedState,El!==null&&(El.rendering=null,El.tail=null,El.lastEffect=null),G$3(M$3,M$3.current),yl)break;return null;case 22:case 23:return _t.lanes=0,ej(_r,_t,_o)}return $i(_r,_t,_o)}var Aj,Bj,Cj,Dj;Aj=function(_r,_t){for(var _o=_t.child;_o!==null;){if(_o.tag===5||_o.tag===6)_r.appendChild(_o.stateNode);else if(_o.tag!==4&&_o.child!==null){_o.child.return=_o,_o=_o.child;continue}if(_o===_t)break;for(;_o.sibling===null;){if(_o.return===null||_o.return===_t)return;_o=_o.return}_o.sibling.return=_o.return,_o=_o.sibling}};Bj=function(){};Cj=function(_r,_t,_o,yl){var El=_r.memoizedProps;if(El!==yl){_r=_t.stateNode,Hh$1(Eh.current);var _l=null;switch(_o){case"input":El=Ya$1(_r,El),yl=Ya$1(_r,yl),_l=[];break;case"select":El=A$3({},El,{value:void 0}),yl=A$3({},yl,{value:void 0}),_l=[];break;case"textarea":El=gb$1(_r,El),yl=gb$1(_r,yl),_l=[];break;default:typeof El.onClick!="function"&&typeof yl.onClick=="function"&&(_r.onclick=Bf)}ub$1(_o,yl);var Tl;_o=null;for(Rl in El)if(!yl.hasOwnProperty(Rl)&&El.hasOwnProperty(Rl)&&El[Rl]!=null)if(Rl==="style"){var Il=El[Rl];for(Tl in Il)Il.hasOwnProperty(Tl)&&(_o||(_o={}),_o[Tl]="")}else Rl!=="dangerouslySetInnerHTML"&&Rl!=="children"&&Rl!=="suppressContentEditableWarning"&&Rl!=="suppressHydrationWarning"&&Rl!=="autoFocus"&&(ea$2.hasOwnProperty(Rl)?_l||(_l=[]):(_l=_l||[]).push(Rl,null));for(Rl in yl){var Al=yl[Rl];if(Il=El!=null?El[Rl]:void 0,yl.hasOwnProperty(Rl)&&Al!==Il&&(Al!=null||Il!=null))if(Rl==="style")if(Il){for(Tl in Il)!Il.hasOwnProperty(Tl)||Al&&Al.hasOwnProperty(Tl)||(_o||(_o={}),_o[Tl]="");for(Tl in Al)Al.hasOwnProperty(Tl)&&Il[Tl]!==Al[Tl]&&(_o||(_o={}),_o[Tl]=Al[Tl])}else _o||(_l||(_l=[]),_l.push(Rl,_o)),_o=Al;else Rl==="dangerouslySetInnerHTML"?(Al=Al?Al.__html:void 0,Il=Il?Il.__html:void 0,Al!=null&&Il!==Al&&(_l=_l||[]).push(Rl,Al)):Rl==="children"?typeof Al!="string"&&typeof Al!="number"||(_l=_l||[]).push(Rl,""+Al):Rl!=="suppressContentEditableWarning"&&Rl!=="suppressHydrationWarning"&&(ea$2.hasOwnProperty(Rl)?(Al!=null&&Rl==="onScroll"&&D$2("scroll",_r),_l||Il===Al||(_l=[])):(_l=_l||[]).push(Rl,Al))}_o&&(_l=_l||[]).push("style",_o);var Rl=_l;(_t.updateQueue=Rl)&&(_t.flags|=4)}};Dj=function(_r,_t,_o,yl){_o!==yl&&(_t.flags|=4)};function Ej(_r,_t){if(!I$2)switch(_r.tailMode){case"hidden":_t=_r.tail;for(var _o=null;_t!==null;)_t.alternate!==null&&(_o=_t),_t=_t.sibling;_o===null?_r.tail=null:_o.sibling=null;break;case"collapsed":_o=_r.tail;for(var yl=null;_o!==null;)_o.alternate!==null&&(yl=_o),_o=_o.sibling;yl===null?_t||_r.tail===null?_r.tail=null:_r.tail.sibling=null:yl.sibling=null}}function S$3(_r){var _t=_r.alternate!==null&&_r.alternate.child===_r.child,_o=0,yl=0;if(_t)for(var El=_r.child;El!==null;)_o|=El.lanes|El.childLanes,yl|=El.subtreeFlags&14680064,yl|=El.flags&14680064,El.return=_r,El=El.sibling;else for(El=_r.child;El!==null;)_o|=El.lanes|El.childLanes,yl|=El.subtreeFlags,yl|=El.flags,El.return=_r,El=El.sibling;return _r.subtreeFlags|=yl,_r.childLanes=_o,_t}function Fj(_r,_t,_o){var yl=_t.pendingProps;switch(wg(_t),_t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S$3(_t),null;case 1:return Zf(_t.type)&&$f(),S$3(_t),null;case 3:return yl=_t.stateNode,Jh$1(),E$2(Wf),E$2(H$3),Oh(),yl.pendingContext&&(yl.context=yl.pendingContext,yl.pendingContext=null),(_r===null||_r.child===null)&&(Gg(_t)?_t.flags|=4:_r===null||_r.memoizedState.isDehydrated&&!(_t.flags&256)||(_t.flags|=1024,zg!==null&&(Gj(zg),zg=null))),Bj(_r,_t),S$3(_t),null;case 5:Lh$1(_t);var El=Hh$1(Gh$1.current);if(_o=_t.type,_r!==null&&_t.stateNode!=null)Cj(_r,_t,_o,yl,El),_r.ref!==_t.ref&&(_t.flags|=512,_t.flags|=2097152);else{if(!yl){if(_t.stateNode===null)throw Error(p$6(166));return S$3(_t),null}if(_r=Hh$1(Eh.current),Gg(_t)){yl=_t.stateNode,_o=_t.type;var _l=_t.memoizedProps;switch(yl[Of]=_t,yl[Pf]=_l,_r=(_t.mode&1)!==0,_o){case"dialog":D$2("cancel",yl),D$2("close",yl);break;case"iframe":case"object":case"embed":D$2("load",yl);break;case"video":case"audio":for(El=0;El<lf.length;El++)D$2(lf[El],yl);break;case"source":D$2("error",yl);break;case"img":case"image":case"link":D$2("error",yl),D$2("load",yl);break;case"details":D$2("toggle",yl);break;case"input":Za(yl,_l),D$2("invalid",yl);break;case"select":yl._wrapperState={wasMultiple:!!_l.multiple},D$2("invalid",yl);break;case"textarea":hb$1(yl,_l),D$2("invalid",yl)}ub$1(_o,_l),El=null;for(var Tl in _l)if(_l.hasOwnProperty(Tl)){var Il=_l[Tl];Tl==="children"?typeof Il=="string"?yl.textContent!==Il&&(_l.suppressHydrationWarning!==!0&&Af(yl.textContent,Il,_r),El=["children",Il]):typeof Il=="number"&&yl.textContent!==""+Il&&(_l.suppressHydrationWarning!==!0&&Af(yl.textContent,Il,_r),El=["children",""+Il]):ea$2.hasOwnProperty(Tl)&&Il!=null&&Tl==="onScroll"&&D$2("scroll",yl)}switch(_o){case"input":Va$1(yl),db$1(yl,_l,!0);break;case"textarea":Va$1(yl),jb$1(yl);break;case"select":case"option":break;default:typeof _l.onClick=="function"&&(yl.onclick=Bf)}yl=El,_t.updateQueue=yl,yl!==null&&(_t.flags|=4)}else{Tl=El.nodeType===9?El:El.ownerDocument,_r==="http://www.w3.org/1999/xhtml"&&(_r=kb$1(_o)),_r==="http://www.w3.org/1999/xhtml"?_o==="script"?(_r=Tl.createElement("div"),_r.innerHTML="<script><\/script>",_r=_r.removeChild(_r.firstChild)):typeof yl.is=="string"?_r=Tl.createElement(_o,{is:yl.is}):(_r=Tl.createElement(_o),_o==="select"&&(Tl=_r,yl.multiple?Tl.multiple=!0:yl.size&&(Tl.size=yl.size))):_r=Tl.createElementNS(_r,_o),_r[Of]=_t,_r[Pf]=yl,Aj(_r,_t,!1,!1),_t.stateNode=_r;e:{switch(Tl=vb$1(_o,yl),_o){case"dialog":D$2("cancel",_r),D$2("close",_r),El=yl;break;case"iframe":case"object":case"embed":D$2("load",_r),El=yl;break;case"video":case"audio":for(El=0;El<lf.length;El++)D$2(lf[El],_r);El=yl;break;case"source":D$2("error",_r),El=yl;break;case"img":case"image":case"link":D$2("error",_r),D$2("load",_r),El=yl;break;case"details":D$2("toggle",_r),El=yl;break;case"input":Za(_r,yl),El=Ya$1(_r,yl),D$2("invalid",_r);break;case"option":El=yl;break;case"select":_r._wrapperState={wasMultiple:!!yl.multiple},El=A$3({},yl,{value:void 0}),D$2("invalid",_r);break;case"textarea":hb$1(_r,yl),El=gb$1(_r,yl),D$2("invalid",_r);break;default:El=yl}ub$1(_o,El),Il=El;for(_l in Il)if(Il.hasOwnProperty(_l)){var Al=Il[_l];_l==="style"?sb$1(_r,Al):_l==="dangerouslySetInnerHTML"?(Al=Al?Al.__html:void 0,Al!=null&&nb$1(_r,Al)):_l==="children"?typeof Al=="string"?(_o!=="textarea"||Al!=="")&&ob$1(_r,Al):typeof Al=="number"&&ob$1(_r,""+Al):_l!=="suppressContentEditableWarning"&&_l!=="suppressHydrationWarning"&&_l!=="autoFocus"&&(ea$2.hasOwnProperty(_l)?Al!=null&&_l==="onScroll"&&D$2("scroll",_r):Al!=null&&ta$2(_r,_l,Al,Tl))}switch(_o){case"input":Va$1(_r),db$1(_r,yl,!1);break;case"textarea":Va$1(_r),jb$1(_r);break;case"option":yl.value!=null&&_r.setAttribute("value",""+Sa$1(yl.value));break;case"select":_r.multiple=!!yl.multiple,_l=yl.value,_l!=null?fb$1(_r,!!yl.multiple,_l,!1):yl.defaultValue!=null&&fb$1(_r,!!yl.multiple,yl.defaultValue,!0);break;default:typeof El.onClick=="function"&&(_r.onclick=Bf)}switch(_o){case"button":case"input":case"select":case"textarea":yl=!!yl.autoFocus;break e;case"img":yl=!0;break e;default:yl=!1}}yl&&(_t.flags|=4)}_t.ref!==null&&(_t.flags|=512,_t.flags|=2097152)}return S$3(_t),null;case 6:if(_r&&_t.stateNode!=null)Dj(_r,_t,_r.memoizedProps,yl);else{if(typeof yl!="string"&&_t.stateNode===null)throw Error(p$6(166));if(_o=Hh$1(Gh$1.current),Hh$1(Eh.current),Gg(_t)){if(yl=_t.stateNode,_o=_t.memoizedProps,yl[Of]=_t,(_l=yl.nodeValue!==_o)&&(_r=xg,_r!==null))switch(_r.tag){case 3:Af(yl.nodeValue,_o,(_r.mode&1)!==0);break;case 5:_r.memoizedProps.suppressHydrationWarning!==!0&&Af(yl.nodeValue,_o,(_r.mode&1)!==0)}_l&&(_t.flags|=4)}else yl=(_o.nodeType===9?_o:_o.ownerDocument).createTextNode(yl),yl[Of]=_t,_t.stateNode=yl}return S$3(_t),null;case 13:if(E$2(M$3),yl=_t.memoizedState,_r===null||_r.memoizedState!==null&&_r.memoizedState.dehydrated!==null){if(I$2&&yg!==null&&_t.mode&1&&!(_t.flags&128))Hg(),Ig(),_t.flags|=98560,_l=!1;else if(_l=Gg(_t),yl!==null&&yl.dehydrated!==null){if(_r===null){if(!_l)throw Error(p$6(318));if(_l=_t.memoizedState,_l=_l!==null?_l.dehydrated:null,!_l)throw Error(p$6(317));_l[Of]=_t}else Ig(),!(_t.flags&128)&&(_t.memoizedState=null),_t.flags|=4;S$3(_t),_l=!1}else zg!==null&&(Gj(zg),zg=null),_l=!0;if(!_l)return _t.flags&65536?_t:null}return _t.flags&128?(_t.lanes=_o,_t):(yl=yl!==null,yl!==(_r!==null&&_r.memoizedState!==null)&&yl&&(_t.child.flags|=8192,_t.mode&1&&(_r===null||M$3.current&1?T$1===0&&(T$1=3):uj())),_t.updateQueue!==null&&(_t.flags|=4),S$3(_t),null);case 4:return Jh$1(),Bj(_r,_t),_r===null&&sf(_t.stateNode.containerInfo),S$3(_t),null;case 10:return Rg(_t.type._context),S$3(_t),null;case 17:return Zf(_t.type)&&$f(),S$3(_t),null;case 19:if(E$2(M$3),_l=_t.memoizedState,_l===null)return S$3(_t),null;if(yl=(_t.flags&128)!==0,Tl=_l.rendering,Tl===null)if(yl)Ej(_l,!1);else{if(T$1!==0||_r!==null&&_r.flags&128)for(_r=_t.child;_r!==null;){if(Tl=Mh$1(_r),Tl!==null){for(_t.flags|=128,Ej(_l,!1),yl=Tl.updateQueue,yl!==null&&(_t.updateQueue=yl,_t.flags|=4),_t.subtreeFlags=0,yl=_o,_o=_t.child;_o!==null;)_l=_o,_r=yl,_l.flags&=14680066,Tl=_l.alternate,Tl===null?(_l.childLanes=0,_l.lanes=_r,_l.child=null,_l.subtreeFlags=0,_l.memoizedProps=null,_l.memoizedState=null,_l.updateQueue=null,_l.dependencies=null,_l.stateNode=null):(_l.childLanes=Tl.childLanes,_l.lanes=Tl.lanes,_l.child=Tl.child,_l.subtreeFlags=0,_l.deletions=null,_l.memoizedProps=Tl.memoizedProps,_l.memoizedState=Tl.memoizedState,_l.updateQueue=Tl.updateQueue,_l.type=Tl.type,_r=Tl.dependencies,_l.dependencies=_r===null?null:{lanes:_r.lanes,firstContext:_r.firstContext}),_o=_o.sibling;return G$3(M$3,M$3.current&1|2),_t.child}_r=_r.sibling}_l.tail!==null&&B$3()>Hj&&(_t.flags|=128,yl=!0,Ej(_l,!1),_t.lanes=4194304)}else{if(!yl)if(_r=Mh$1(Tl),_r!==null){if(_t.flags|=128,yl=!0,_o=_r.updateQueue,_o!==null&&(_t.updateQueue=_o,_t.flags|=4),Ej(_l,!0),_l.tail===null&&_l.tailMode==="hidden"&&!Tl.alternate&&!I$2)return S$3(_t),null}else 2*B$3()-_l.renderingStartTime>Hj&&_o!==1073741824&&(_t.flags|=128,yl=!0,Ej(_l,!1),_t.lanes=4194304);_l.isBackwards?(Tl.sibling=_t.child,_t.child=Tl):(_o=_l.last,_o!==null?_o.sibling=Tl:_t.child=Tl,_l.last=Tl)}return _l.tail!==null?(_t=_l.tail,_l.rendering=_t,_l.tail=_t.sibling,_l.renderingStartTime=B$3(),_t.sibling=null,_o=M$3.current,G$3(M$3,yl?_o&1|2:_o&1),_t):(S$3(_t),null);case 22:case 23:return Ij(),yl=_t.memoizedState!==null,_r!==null&&_r.memoizedState!==null!==yl&&(_t.flags|=8192),yl&&_t.mode&1?gj&1073741824&&(S$3(_t),_t.subtreeFlags&6&&(_t.flags|=8192)):S$3(_t),null;case 24:return null;case 25:return null}throw Error(p$6(156,_t.tag))}function Jj(_r,_t){switch(wg(_t),_t.tag){case 1:return Zf(_t.type)&&$f(),_r=_t.flags,_r&65536?(_t.flags=_r&-65537|128,_t):null;case 3:return Jh$1(),E$2(Wf),E$2(H$3),Oh(),_r=_t.flags,_r&65536&&!(_r&128)?(_t.flags=_r&-65537|128,_t):null;case 5:return Lh$1(_t),null;case 13:if(E$2(M$3),_r=_t.memoizedState,_r!==null&&_r.dehydrated!==null){if(_t.alternate===null)throw Error(p$6(340));Ig()}return _r=_t.flags,_r&65536?(_t.flags=_r&-65537|128,_t):null;case 19:return E$2(M$3),null;case 4:return Jh$1(),null;case 10:return Rg(_t.type._context),null;case 22:case 23:return Ij(),null;case 24:return null;default:return null}}var Kj=!1,U$3=!1,Lj=typeof WeakSet=="function"?WeakSet:Set,V$2=null;function Mj(_r,_t){var _o=_r.ref;if(_o!==null)if(typeof _o=="function")try{_o(null)}catch(yl){W$3(_r,_t,yl)}else _o.current=null}function Nj(_r,_t,_o){try{_o()}catch(yl){W$3(_r,_t,yl)}}var Oj=!1;function Pj(_r,_t){if(Cf=dd$1,_r=Me$1(),Ne$1(_r)){if("selectionStart"in _r)var _o={start:_r.selectionStart,end:_r.selectionEnd};else e:{_o=(_o=_r.ownerDocument)&&_o.defaultView||window;var yl=_o.getSelection&&_o.getSelection();if(yl&&yl.rangeCount!==0){_o=yl.anchorNode;var El=yl.anchorOffset,_l=yl.focusNode;yl=yl.focusOffset;try{_o.nodeType,_l.nodeType}catch{_o=null;break e}var Tl=0,Il=-1,Al=-1,Rl=0,Fl=0,Bl=_r,Gl=null;t:for(;;){for(var Ql;Bl!==_o||El!==0&&Bl.nodeType!==3||(Il=Tl+El),Bl!==_l||yl!==0&&Bl.nodeType!==3||(Al=Tl+yl),Bl.nodeType===3&&(Tl+=Bl.nodeValue.length),(Ql=Bl.firstChild)!==null;)Gl=Bl,Bl=Ql;for(;;){if(Bl===_r)break t;if(Gl===_o&&++Rl===El&&(Il=Tl),Gl===_l&&++Fl===yl&&(Al=Tl),(Ql=Bl.nextSibling)!==null)break;Bl=Gl,Gl=Bl.parentNode}Bl=Ql}_o=Il===-1||Al===-1?null:{start:Il,end:Al}}else _o=null}_o=_o||{start:0,end:0}}else _o=null;for(Df={focusedElem:_r,selectionRange:_o},dd$1=!1,V$2=_t;V$2!==null;)if(_t=V$2,_r=_t.child,(_t.subtreeFlags&1028)!==0&&_r!==null)_r.return=_t,V$2=_r;else for(;V$2!==null;){_t=V$2;try{var _f=_t.alternate;if(_t.flags&1024)switch(_t.tag){case 0:case 11:case 15:break;case 1:if(_f!==null){var _h=_f.memoizedProps,vp=_f.memoizedState,up=_t.stateNode,_d=up.getSnapshotBeforeUpdate(_t.elementType===_t.type?_h:Lg(_t.type,_h),vp);up.__reactInternalSnapshotBeforeUpdate=_d}break;case 3:var Ep=_t.stateNode.containerInfo;Ep.nodeType===1?Ep.textContent="":Ep.nodeType===9&&Ep.documentElement&&Ep.removeChild(Ep.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p$6(163))}}catch(Op){W$3(_t,_t.return,Op)}if(_r=_t.sibling,_r!==null){_r.return=_t.return,V$2=_r;break}V$2=_t.return}return _f=Oj,Oj=!1,_f}function Qj(_r,_t,_o){var yl=_t.updateQueue;if(yl=yl!==null?yl.lastEffect:null,yl!==null){var El=yl=yl.next;do{if((El.tag&_r)===_r){var _l=El.destroy;El.destroy=void 0,_l!==void 0&&Nj(_t,_o,_l)}El=El.next}while(El!==yl)}}function Rj(_r,_t){if(_t=_t.updateQueue,_t=_t!==null?_t.lastEffect:null,_t!==null){var _o=_t=_t.next;do{if((_o.tag&_r)===_r){var yl=_o.create;_o.destroy=yl()}_o=_o.next}while(_o!==_t)}}function Sj(_r){var _t=_r.ref;if(_t!==null){var _o=_r.stateNode;switch(_r.tag){case 5:_r=_o;break;default:_r=_o}typeof _t=="function"?_t(_r):_t.current=_r}}function Tj(_r){var _t=_r.alternate;_t!==null&&(_r.alternate=null,Tj(_t)),_r.child=null,_r.deletions=null,_r.sibling=null,_r.tag===5&&(_t=_r.stateNode,_t!==null&&(delete _t[Of],delete _t[Pf],delete _t[of$1],delete _t[Qf],delete _t[Rf])),_r.stateNode=null,_r.return=null,_r.dependencies=null,_r.memoizedProps=null,_r.memoizedState=null,_r.pendingProps=null,_r.stateNode=null,_r.updateQueue=null}function Uj(_r){return _r.tag===5||_r.tag===3||_r.tag===4}function Vj(_r){e:for(;;){for(;_r.sibling===null;){if(_r.return===null||Uj(_r.return))return null;_r=_r.return}for(_r.sibling.return=_r.return,_r=_r.sibling;_r.tag!==5&&_r.tag!==6&&_r.tag!==18;){if(_r.flags&2||_r.child===null||_r.tag===4)continue e;_r.child.return=_r,_r=_r.child}if(!(_r.flags&2))return _r.stateNode}}function Wj(_r,_t,_o){var yl=_r.tag;if(yl===5||yl===6)_r=_r.stateNode,_t?_o.nodeType===8?_o.parentNode.insertBefore(_r,_t):_o.insertBefore(_r,_t):(_o.nodeType===8?(_t=_o.parentNode,_t.insertBefore(_r,_o)):(_t=_o,_t.appendChild(_r)),_o=_o._reactRootContainer,_o!=null||_t.onclick!==null||(_t.onclick=Bf));else if(yl!==4&&(_r=_r.child,_r!==null))for(Wj(_r,_t,_o),_r=_r.sibling;_r!==null;)Wj(_r,_t,_o),_r=_r.sibling}function Xj(_r,_t,_o){var yl=_r.tag;if(yl===5||yl===6)_r=_r.stateNode,_t?_o.insertBefore(_r,_t):_o.appendChild(_r);else if(yl!==4&&(_r=_r.child,_r!==null))for(Xj(_r,_t,_o),_r=_r.sibling;_r!==null;)Xj(_r,_t,_o),_r=_r.sibling}var X$3=null,Yj=!1;function Zj(_r,_t,_o){for(_o=_o.child;_o!==null;)ak(_r,_t,_o),_o=_o.sibling}function ak(_r,_t,_o){if(lc$2&&typeof lc$2.onCommitFiberUnmount=="function")try{lc$2.onCommitFiberUnmount(kc$1,_o)}catch{}switch(_o.tag){case 5:U$3||Mj(_o,_t);case 6:var yl=X$3,El=Yj;X$3=null,Zj(_r,_t,_o),X$3=yl,Yj=El,X$3!==null&&(Yj?(_r=X$3,_o=_o.stateNode,_r.nodeType===8?_r.parentNode.removeChild(_o):_r.removeChild(_o)):X$3.removeChild(_o.stateNode));break;case 18:X$3!==null&&(Yj?(_r=X$3,_o=_o.stateNode,_r.nodeType===8?Kf(_r.parentNode,_o):_r.nodeType===1&&Kf(_r,_o),bd$1(_r)):Kf(X$3,_o.stateNode));break;case 4:yl=X$3,El=Yj,X$3=_o.stateNode.containerInfo,Yj=!0,Zj(_r,_t,_o),X$3=yl,Yj=El;break;case 0:case 11:case 14:case 15:if(!U$3&&(yl=_o.updateQueue,yl!==null&&(yl=yl.lastEffect,yl!==null))){El=yl=yl.next;do{var _l=El,Tl=_l.destroy;_l=_l.tag,Tl!==void 0&&(_l&2||_l&4)&&Nj(_o,_t,Tl),El=El.next}while(El!==yl)}Zj(_r,_t,_o);break;case 1:if(!U$3&&(Mj(_o,_t),yl=_o.stateNode,typeof yl.componentWillUnmount=="function"))try{yl.props=_o.memoizedProps,yl.state=_o.memoizedState,yl.componentWillUnmount()}catch(Il){W$3(_o,_t,Il)}Zj(_r,_t,_o);break;case 21:Zj(_r,_t,_o);break;case 22:_o.mode&1?(U$3=(yl=U$3)||_o.memoizedState!==null,Zj(_r,_t,_o),U$3=yl):Zj(_r,_t,_o);break;default:Zj(_r,_t,_o)}}function bk(_r){var _t=_r.updateQueue;if(_t!==null){_r.updateQueue=null;var _o=_r.stateNode;_o===null&&(_o=_r.stateNode=new Lj),_t.forEach(function(yl){var El=ck.bind(null,_r,yl);_o.has(yl)||(_o.add(yl),yl.then(El,El))})}}function dk(_r,_t){var _o=_t.deletions;if(_o!==null)for(var yl=0;yl<_o.length;yl++){var El=_o[yl];try{var _l=_r,Tl=_t,Il=Tl;e:for(;Il!==null;){switch(Il.tag){case 5:X$3=Il.stateNode,Yj=!1;break e;case 3:X$3=Il.stateNode.containerInfo,Yj=!0;break e;case 4:X$3=Il.stateNode.containerInfo,Yj=!0;break e}Il=Il.return}if(X$3===null)throw Error(p$6(160));ak(_l,Tl,El),X$3=null,Yj=!1;var Al=El.alternate;Al!==null&&(Al.return=null),El.return=null}catch(Rl){W$3(El,_t,Rl)}}if(_t.subtreeFlags&12854)for(_t=_t.child;_t!==null;)ek(_t,_r),_t=_t.sibling}function ek(_r,_t){var _o=_r.alternate,yl=_r.flags;switch(_r.tag){case 0:case 11:case 14:case 15:if(dk(_t,_r),fk(_r),yl&4){try{Qj(3,_r,_r.return),Rj(3,_r)}catch(_h){W$3(_r,_r.return,_h)}try{Qj(5,_r,_r.return)}catch(_h){W$3(_r,_r.return,_h)}}break;case 1:dk(_t,_r),fk(_r),yl&512&&_o!==null&&Mj(_o,_o.return);break;case 5:if(dk(_t,_r),fk(_r),yl&512&&_o!==null&&Mj(_o,_o.return),_r.flags&32){var El=_r.stateNode;try{ob$1(El,"")}catch(_h){W$3(_r,_r.return,_h)}}if(yl&4&&(El=_r.stateNode,El!=null)){var _l=_r.memoizedProps,Tl=_o!==null?_o.memoizedProps:_l,Il=_r.type,Al=_r.updateQueue;if(_r.updateQueue=null,Al!==null)try{Il==="input"&&_l.type==="radio"&&_l.name!=null&&ab$1(El,_l),vb$1(Il,Tl);var Rl=vb$1(Il,_l);for(Tl=0;Tl<Al.length;Tl+=2){var Fl=Al[Tl],Bl=Al[Tl+1];Fl==="style"?sb$1(El,Bl):Fl==="dangerouslySetInnerHTML"?nb$1(El,Bl):Fl==="children"?ob$1(El,Bl):ta$2(El,Fl,Bl,Rl)}switch(Il){case"input":bb$1(El,_l);break;case"textarea":ib$1(El,_l);break;case"select":var Gl=El._wrapperState.wasMultiple;El._wrapperState.wasMultiple=!!_l.multiple;var Ql=_l.value;Ql!=null?fb$1(El,!!_l.multiple,Ql,!1):Gl!==!!_l.multiple&&(_l.defaultValue!=null?fb$1(El,!!_l.multiple,_l.defaultValue,!0):fb$1(El,!!_l.multiple,_l.multiple?[]:"",!1))}El[Pf]=_l}catch(_h){W$3(_r,_r.return,_h)}}break;case 6:if(dk(_t,_r),fk(_r),yl&4){if(_r.stateNode===null)throw Error(p$6(162));El=_r.stateNode,_l=_r.memoizedProps;try{El.nodeValue=_l}catch(_h){W$3(_r,_r.return,_h)}}break;case 3:if(dk(_t,_r),fk(_r),yl&4&&_o!==null&&_o.memoizedState.isDehydrated)try{bd$1(_t.containerInfo)}catch(_h){W$3(_r,_r.return,_h)}break;case 4:dk(_t,_r),fk(_r);break;case 13:dk(_t,_r),fk(_r),El=_r.child,El.flags&8192&&(_l=El.memoizedState!==null,El.stateNode.isHidden=_l,!_l||El.alternate!==null&&El.alternate.memoizedState!==null||(gk=B$3())),yl&4&&bk(_r);break;case 22:if(Fl=_o!==null&&_o.memoizedState!==null,_r.mode&1?(U$3=(Rl=U$3)||Fl,dk(_t,_r),U$3=Rl):dk(_t,_r),fk(_r),yl&8192){if(Rl=_r.memoizedState!==null,(_r.stateNode.isHidden=Rl)&&!Fl&&_r.mode&1)for(V$2=_r,Fl=_r.child;Fl!==null;){for(Bl=V$2=Fl;V$2!==null;){switch(Gl=V$2,Ql=Gl.child,Gl.tag){case 0:case 11:case 14:case 15:Qj(4,Gl,Gl.return);break;case 1:Mj(Gl,Gl.return);var _f=Gl.stateNode;if(typeof _f.componentWillUnmount=="function"){yl=Gl,_o=Gl.return;try{_t=yl,_f.props=_t.memoizedProps,_f.state=_t.memoizedState,_f.componentWillUnmount()}catch(_h){W$3(yl,_o,_h)}}break;case 5:Mj(Gl,Gl.return);break;case 22:if(Gl.memoizedState!==null){hk(Bl);continue}}Ql!==null?(Ql.return=Gl,V$2=Ql):hk(Bl)}Fl=Fl.sibling}e:for(Fl=null,Bl=_r;;){if(Bl.tag===5){if(Fl===null){Fl=Bl;try{El=Bl.stateNode,Rl?(_l=El.style,typeof _l.setProperty=="function"?_l.setProperty("display","none","important"):_l.display="none"):(Il=Bl.stateNode,Al=Bl.memoizedProps.style,Tl=Al!=null&&Al.hasOwnProperty("display")?Al.display:null,Il.style.display=rb$1("display",Tl))}catch(_h){W$3(_r,_r.return,_h)}}}else if(Bl.tag===6){if(Fl===null)try{Bl.stateNode.nodeValue=Rl?"":Bl.memoizedProps}catch(_h){W$3(_r,_r.return,_h)}}else if((Bl.tag!==22&&Bl.tag!==23||Bl.memoizedState===null||Bl===_r)&&Bl.child!==null){Bl.child.return=Bl,Bl=Bl.child;continue}if(Bl===_r)break e;for(;Bl.sibling===null;){if(Bl.return===null||Bl.return===_r)break e;Fl===Bl&&(Fl=null),Bl=Bl.return}Fl===Bl&&(Fl=null),Bl.sibling.return=Bl.return,Bl=Bl.sibling}}break;case 19:dk(_t,_r),fk(_r),yl&4&&bk(_r);break;case 21:break;default:dk(_t,_r),fk(_r)}}function fk(_r){var _t=_r.flags;if(_t&2){try{e:{for(var _o=_r.return;_o!==null;){if(Uj(_o)){var yl=_o;break e}_o=_o.return}throw Error(p$6(160))}switch(yl.tag){case 5:var El=yl.stateNode;yl.flags&32&&(ob$1(El,""),yl.flags&=-33);var _l=Vj(_r);Xj(_r,_l,El);break;case 3:case 4:var Tl=yl.stateNode.containerInfo,Il=Vj(_r);Wj(_r,Il,Tl);break;default:throw Error(p$6(161))}}catch(Al){W$3(_r,_r.return,Al)}_r.flags&=-3}_t&4096&&(_r.flags&=-4097)}function ik(_r,_t,_o){V$2=_r,jk(_r)}function jk(_r,_t,_o){for(var yl=(_r.mode&1)!==0;V$2!==null;){var El=V$2,_l=El.child;if(El.tag===22&&yl){var Tl=El.memoizedState!==null||Kj;if(!Tl){var Il=El.alternate,Al=Il!==null&&Il.memoizedState!==null||U$3;Il=Kj;var Rl=U$3;if(Kj=Tl,(U$3=Al)&&!Rl)for(V$2=El;V$2!==null;)Tl=V$2,Al=Tl.child,Tl.tag===22&&Tl.memoizedState!==null?kk(El):Al!==null?(Al.return=Tl,V$2=Al):kk(El);for(;_l!==null;)V$2=_l,jk(_l),_l=_l.sibling;V$2=El,Kj=Il,U$3=Rl}lk(_r)}else El.subtreeFlags&8772&&_l!==null?(_l.return=El,V$2=_l):lk(_r)}}function lk(_r){for(;V$2!==null;){var _t=V$2;if(_t.flags&8772){var _o=_t.alternate;try{if(_t.flags&8772)switch(_t.tag){case 0:case 11:case 15:U$3||Rj(5,_t);break;case 1:var yl=_t.stateNode;if(_t.flags&4&&!U$3)if(_o===null)yl.componentDidMount();else{var El=_t.elementType===_t.type?_o.memoizedProps:Lg(_t.type,_o.memoizedProps);yl.componentDidUpdate(El,_o.memoizedState,yl.__reactInternalSnapshotBeforeUpdate)}var _l=_t.updateQueue;_l!==null&&ih$1(_t,_l,yl);break;case 3:var Tl=_t.updateQueue;if(Tl!==null){if(_o=null,_t.child!==null)switch(_t.child.tag){case 5:_o=_t.child.stateNode;break;case 1:_o=_t.child.stateNode}ih$1(_t,Tl,_o)}break;case 5:var Il=_t.stateNode;if(_o===null&&_t.flags&4){_o=Il;var Al=_t.memoizedProps;switch(_t.type){case"button":case"input":case"select":case"textarea":Al.autoFocus&&_o.focus();break;case"img":Al.src&&(_o.src=Al.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(_t.memoizedState===null){var Rl=_t.alternate;if(Rl!==null){var Fl=Rl.memoizedState;if(Fl!==null){var Bl=Fl.dehydrated;Bl!==null&&bd$1(Bl)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(p$6(163))}U$3||_t.flags&512&&Sj(_t)}catch(Gl){W$3(_t,_t.return,Gl)}}if(_t===_r){V$2=null;break}if(_o=_t.sibling,_o!==null){_o.return=_t.return,V$2=_o;break}V$2=_t.return}}function hk(_r){for(;V$2!==null;){var _t=V$2;if(_t===_r){V$2=null;break}var _o=_t.sibling;if(_o!==null){_o.return=_t.return,V$2=_o;break}V$2=_t.return}}function kk(_r){for(;V$2!==null;){var _t=V$2;try{switch(_t.tag){case 0:case 11:case 15:var _o=_t.return;try{Rj(4,_t)}catch(Al){W$3(_t,_o,Al)}break;case 1:var yl=_t.stateNode;if(typeof yl.componentDidMount=="function"){var El=_t.return;try{yl.componentDidMount()}catch(Al){W$3(_t,El,Al)}}var _l=_t.return;try{Sj(_t)}catch(Al){W$3(_t,_l,Al)}break;case 5:var Tl=_t.return;try{Sj(_t)}catch(Al){W$3(_t,Tl,Al)}}}catch(Al){W$3(_t,_t.return,Al)}if(_t===_r){V$2=null;break}var Il=_t.sibling;if(Il!==null){Il.return=_t.return,V$2=Il;break}V$2=_t.return}}var mk=Math.ceil,nk=ua$2.ReactCurrentDispatcher,ok=ua$2.ReactCurrentOwner,pk=ua$2.ReactCurrentBatchConfig,K$2=0,R$2=null,Y$2=null,Z$2=0,gj=0,fj=Uf(0),T$1=0,qk=null,hh=0,rk=0,sk=0,tk=null,uk=null,gk=0,Hj=1/0,vk=null,Pi=!1,Qi$1=null,Si=null,wk=!1,xk=null,yk=0,zk=0,Ak=null,Bk=-1,Ck=0;function L$3(){return K$2&6?B$3():Bk!==-1?Bk:Bk=B$3()}function lh(_r){return _r.mode&1?K$2&2&&Z$2!==0?Z$2&-Z$2:Kg.transition!==null?(Ck===0&&(Ck=yc$1()),Ck):(_r=C$2,_r!==0||(_r=window.event,_r=_r===void 0?16:jd$1(_r.type)),_r):1}function mh(_r,_t,_o,yl){if(50<zk)throw zk=0,Ak=null,Error(p$6(185));Ac$2(_r,_o,yl),(!(K$2&2)||_r!==R$2)&&(_r===R$2&&(!(K$2&2)&&(rk|=_o),T$1===4&&Dk(_r,Z$2)),Ek(_r,yl),_o===1&&K$2===0&&!(_t.mode&1)&&(Hj=B$3()+500,fg&&jg()))}function Ek(_r,_t){var _o=_r.callbackNode;wc$1(_r,_t);var yl=uc$2(_r,_r===R$2?Z$2:0);if(yl===0)_o!==null&&bc$2(_o),_r.callbackNode=null,_r.callbackPriority=0;else if(_t=yl&-yl,_r.callbackPriority!==_t){if(_o!=null&&bc$2(_o),_t===1)_r.tag===0?ig(Fk.bind(null,_r)):hg(Fk.bind(null,_r)),Jf(function(){!(K$2&6)&&jg()}),_o=null;else{switch(Dc$2(yl)){case 1:_o=fc$2;break;case 4:_o=gc$1;break;case 16:_o=hc$2;break;case 536870912:_o=jc$1;break;default:_o=hc$2}_o=Gk(_o,Hk.bind(null,_r))}_r.callbackPriority=_t,_r.callbackNode=_o}}function Hk(_r,_t){if(Bk=-1,Ck=0,K$2&6)throw Error(p$6(327));var _o=_r.callbackNode;if(Ik()&&_r.callbackNode!==_o)return null;var yl=uc$2(_r,_r===R$2?Z$2:0);if(yl===0)return null;if(yl&30||yl&_r.expiredLanes||_t)_t=Jk(_r,yl);else{_t=yl;var El=K$2;K$2|=2;var _l=Kk();(R$2!==_r||Z$2!==_t)&&(vk=null,Hj=B$3()+500,Lk(_r,_t));do try{Mk();break}catch(Il){Nk(_r,Il)}while(1);Qg(),nk.current=_l,K$2=El,Y$2!==null?_t=0:(R$2=null,Z$2=0,_t=T$1)}if(_t!==0){if(_t===2&&(El=xc$2(_r),El!==0&&(yl=El,_t=Ok(_r,El))),_t===1)throw _o=qk,Lk(_r,0),Dk(_r,yl),Ek(_r,B$3()),_o;if(_t===6)Dk(_r,yl);else{if(El=_r.current.alternate,!(yl&30)&&!Pk(El)&&(_t=Jk(_r,yl),_t===2&&(_l=xc$2(_r),_l!==0&&(yl=_l,_t=Ok(_r,_l))),_t===1))throw _o=qk,Lk(_r,0),Dk(_r,yl),Ek(_r,B$3()),_o;switch(_r.finishedWork=El,_r.finishedLanes=yl,_t){case 0:case 1:throw Error(p$6(345));case 2:Qk(_r,uk,vk);break;case 3:if(Dk(_r,yl),(yl&130023424)===yl&&(_t=gk+500-B$3(),10<_t)){if(uc$2(_r,0)!==0)break;if(El=_r.suspendedLanes,(El&yl)!==yl){L$3(),_r.pingedLanes|=_r.suspendedLanes&El;break}_r.timeoutHandle=Ff(Qk.bind(null,_r,uk,vk),_t);break}Qk(_r,uk,vk);break;case 4:if(Dk(_r,yl),(yl&4194240)===yl)break;for(_t=_r.eventTimes,El=-1;0<yl;){var Tl=31-oc$2(yl);_l=1<<Tl,Tl=_t[Tl],Tl>El&&(El=Tl),yl&=~_l}if(yl=El,yl=B$3()-yl,yl=(120>yl?120:480>yl?480:1080>yl?1080:1920>yl?1920:3e3>yl?3e3:4320>yl?4320:1960*mk(yl/1960))-yl,10<yl){_r.timeoutHandle=Ff(Qk.bind(null,_r,uk,vk),yl);break}Qk(_r,uk,vk);break;case 5:Qk(_r,uk,vk);break;default:throw Error(p$6(329))}}}return Ek(_r,B$3()),_r.callbackNode===_o?Hk.bind(null,_r):null}function Ok(_r,_t){var _o=tk;return _r.current.memoizedState.isDehydrated&&(Lk(_r,_t).flags|=256),_r=Jk(_r,_t),_r!==2&&(_t=uk,uk=_o,_t!==null&&Gj(_t)),_r}function Gj(_r){uk===null?uk=_r:uk.push.apply(uk,_r)}function Pk(_r){for(var _t=_r;;){if(_t.flags&16384){var _o=_t.updateQueue;if(_o!==null&&(_o=_o.stores,_o!==null))for(var yl=0;yl<_o.length;yl++){var El=_o[yl],_l=El.getSnapshot;El=El.value;try{if(!He(_l(),El))return!1}catch{return!1}}}if(_o=_t.child,_t.subtreeFlags&16384&&_o!==null)_o.return=_t,_t=_o;else{if(_t===_r)break;for(;_t.sibling===null;){if(_t.return===null||_t.return===_r)return!0;_t=_t.return}_t.sibling.return=_t.return,_t=_t.sibling}}return!0}function Dk(_r,_t){for(_t&=~sk,_t&=~rk,_r.suspendedLanes|=_t,_r.pingedLanes&=~_t,_r=_r.expirationTimes;0<_t;){var _o=31-oc$2(_t),yl=1<<_o;_r[_o]=-1,_t&=~yl}}function Fk(_r){if(K$2&6)throw Error(p$6(327));Ik();var _t=uc$2(_r,0);if(!(_t&1))return Ek(_r,B$3()),null;var _o=Jk(_r,_t);if(_r.tag!==0&&_o===2){var yl=xc$2(_r);yl!==0&&(_t=yl,_o=Ok(_r,yl))}if(_o===1)throw _o=qk,Lk(_r,0),Dk(_r,_t),Ek(_r,B$3()),_o;if(_o===6)throw Error(p$6(345));return _r.finishedWork=_r.current.alternate,_r.finishedLanes=_t,Qk(_r,uk,vk),Ek(_r,B$3()),null}function Rk(_r,_t){var _o=K$2;K$2|=1;try{return _r(_t)}finally{K$2=_o,K$2===0&&(Hj=B$3()+500,fg&&jg())}}function Sk(_r){xk!==null&&xk.tag===0&&!(K$2&6)&&Ik();var _t=K$2;K$2|=1;var _o=pk.transition,yl=C$2;try{if(pk.transition=null,C$2=1,_r)return _r()}finally{C$2=yl,pk.transition=_o,K$2=_t,!(K$2&6)&&jg()}}function Ij(){gj=fj.current,E$2(fj)}function Lk(_r,_t){_r.finishedWork=null,_r.finishedLanes=0;var _o=_r.timeoutHandle;if(_o!==-1&&(_r.timeoutHandle=-1,Gf(_o)),Y$2!==null)for(_o=Y$2.return;_o!==null;){var yl=_o;switch(wg(yl),yl.tag){case 1:yl=yl.type.childContextTypes,yl!=null&&$f();break;case 3:Jh$1(),E$2(Wf),E$2(H$3),Oh();break;case 5:Lh$1(yl);break;case 4:Jh$1();break;case 13:E$2(M$3);break;case 19:E$2(M$3);break;case 10:Rg(yl.type._context);break;case 22:case 23:Ij()}_o=_o.return}if(R$2=_r,Y$2=_r=wh(_r.current,null),Z$2=gj=_t,T$1=0,qk=null,sk=rk=hh=0,uk=tk=null,Wg!==null){for(_t=0;_t<Wg.length;_t++)if(_o=Wg[_t],yl=_o.interleaved,yl!==null){_o.interleaved=null;var El=yl.next,_l=_o.pending;if(_l!==null){var Tl=_l.next;_l.next=El,yl.next=Tl}_o.pending=yl}Wg=null}return _r}function Nk(_r,_t){do{var _o=Y$2;try{if(Qg(),Ph$1.current=ai$1,Sh$1){for(var yl=N$3.memoizedState;yl!==null;){var El=yl.queue;El!==null&&(El.pending=null),yl=yl.next}Sh$1=!1}if(Rh$1=0,P$3=O$3=N$3=null,Th$1=!1,Uh$1=0,ok.current=null,_o===null||_o.return===null){T$1=1,qk=_t,Y$2=null;break}e:{var _l=_r,Tl=_o.return,Il=_o,Al=_t;if(_t=Z$2,Il.flags|=32768,Al!==null&&typeof Al=="object"&&typeof Al.then=="function"){var Rl=Al,Fl=Il,Bl=Fl.tag;if(!(Fl.mode&1)&&(Bl===0||Bl===11||Bl===15)){var Gl=Fl.alternate;Gl?(Fl.updateQueue=Gl.updateQueue,Fl.memoizedState=Gl.memoizedState,Fl.lanes=Gl.lanes):(Fl.updateQueue=null,Fl.memoizedState=null)}var Ql=Vi(Tl);if(Ql!==null){Ql.flags&=-257,Wi$1(Ql,Tl,Il,_l,_t),Ql.mode&1&&Ti(_l,Rl,_t),_t=Ql,Al=Rl;var _f=_t.updateQueue;if(_f===null){var _h=new Set;_h.add(Al),_t.updateQueue=_h}else _f.add(Al);break e}else{if(!(_t&1)){Ti(_l,Rl,_t),uj();break e}Al=Error(p$6(426))}}else if(I$2&&Il.mode&1){var vp=Vi(Tl);if(vp!==null){!(vp.flags&65536)&&(vp.flags|=256),Wi$1(vp,Tl,Il,_l,_t),Jg(Ki(Al,Il));break e}}_l=Al=Ki(Al,Il),T$1!==4&&(T$1=2),tk===null?tk=[_l]:tk.push(_l),_l=Tl;do{switch(_l.tag){case 3:_l.flags|=65536,_t&=-_t,_l.lanes|=_t;var up=Oi(_l,Al,_t);fh(_l,up);break e;case 1:Il=Al;var _d=_l.type,Ep=_l.stateNode;if(!(_l.flags&128)&&(typeof _d.getDerivedStateFromError=="function"||Ep!==null&&typeof Ep.componentDidCatch=="function"&&(Si===null||!Si.has(Ep)))){_l.flags|=65536,_t&=-_t,_l.lanes|=_t;var Op=Ri(_l,Il,_t);fh(_l,Op);break e}}_l=_l.return}while(_l!==null)}Tk(_o)}catch(Ip){_t=Ip,Y$2===_o&&_o!==null&&(Y$2=_o=_o.return);continue}break}while(1)}function Kk(){var _r=nk.current;return nk.current=ai$1,_r===null?ai$1:_r}function uj(){(T$1===0||T$1===3||T$1===2)&&(T$1=4),R$2===null||!(hh&268435455)&&!(rk&268435455)||Dk(R$2,Z$2)}function Jk(_r,_t){var _o=K$2;K$2|=2;var yl=Kk();(R$2!==_r||Z$2!==_t)&&(vk=null,Lk(_r,_t));do try{Uk();break}catch(El){Nk(_r,El)}while(1);if(Qg(),K$2=_o,nk.current=yl,Y$2!==null)throw Error(p$6(261));return R$2=null,Z$2=0,T$1}function Uk(){for(;Y$2!==null;)Vk(Y$2)}function Mk(){for(;Y$2!==null&&!cc$2();)Vk(Y$2)}function Vk(_r){var _t=Wk(_r.alternate,_r,gj);_r.memoizedProps=_r.pendingProps,_t===null?Tk(_r):Y$2=_t,ok.current=null}function Tk(_r){var _t=_r;do{var _o=_t.alternate;if(_r=_t.return,_t.flags&32768){if(_o=Jj(_o,_t),_o!==null){_o.flags&=32767,Y$2=_o;return}if(_r!==null)_r.flags|=32768,_r.subtreeFlags=0,_r.deletions=null;else{T$1=6,Y$2=null;return}}else if(_o=Fj(_o,_t,gj),_o!==null){Y$2=_o;return}if(_t=_t.sibling,_t!==null){Y$2=_t;return}Y$2=_t=_r}while(_t!==null);T$1===0&&(T$1=5)}function Qk(_r,_t,_o){var yl=C$2,El=pk.transition;try{pk.transition=null,C$2=1,Xk(_r,_t,_o,yl)}finally{pk.transition=El,C$2=yl}return null}function Xk(_r,_t,_o,yl){do Ik();while(xk!==null);if(K$2&6)throw Error(p$6(327));_o=_r.finishedWork;var El=_r.finishedLanes;if(_o===null)return null;if(_r.finishedWork=null,_r.finishedLanes=0,_o===_r.current)throw Error(p$6(177));_r.callbackNode=null,_r.callbackPriority=0;var _l=_o.lanes|_o.childLanes;if(Bc$2(_r,_l),_r===R$2&&(Y$2=R$2=null,Z$2=0),!(_o.subtreeFlags&2064)&&!(_o.flags&2064)||wk||(wk=!0,Gk(hc$2,function(){return Ik(),null})),_l=(_o.flags&15990)!==0,_o.subtreeFlags&15990||_l){_l=pk.transition,pk.transition=null;var Tl=C$2;C$2=1;var Il=K$2;K$2|=4,ok.current=null,Pj(_r,_o),ek(_o,_r),Oe$1(Df),dd$1=!!Cf,Df=Cf=null,_r.current=_o,ik(_o),dc$2(),K$2=Il,C$2=Tl,pk.transition=_l}else _r.current=_o;if(wk&&(wk=!1,xk=_r,yk=El),_l=_r.pendingLanes,_l===0&&(Si=null),mc$1(_o.stateNode),Ek(_r,B$3()),_t!==null)for(yl=_r.onRecoverableError,_o=0;_o<_t.length;_o++)El=_t[_o],yl(El.value,{componentStack:El.stack,digest:El.digest});if(Pi)throw Pi=!1,_r=Qi$1,Qi$1=null,_r;return yk&1&&_r.tag!==0&&Ik(),_l=_r.pendingLanes,_l&1?_r===Ak?zk++:(zk=0,Ak=_r):zk=0,jg(),null}function Ik(){if(xk!==null){var _r=Dc$2(yk),_t=pk.transition,_o=C$2;try{if(pk.transition=null,C$2=16>_r?16:_r,xk===null)var yl=!1;else{if(_r=xk,xk=null,yk=0,K$2&6)throw Error(p$6(331));var El=K$2;for(K$2|=4,V$2=_r.current;V$2!==null;){var _l=V$2,Tl=_l.child;if(V$2.flags&16){var Il=_l.deletions;if(Il!==null){for(var Al=0;Al<Il.length;Al++){var Rl=Il[Al];for(V$2=Rl;V$2!==null;){var Fl=V$2;switch(Fl.tag){case 0:case 11:case 15:Qj(8,Fl,_l)}var Bl=Fl.child;if(Bl!==null)Bl.return=Fl,V$2=Bl;else for(;V$2!==null;){Fl=V$2;var Gl=Fl.sibling,Ql=Fl.return;if(Tj(Fl),Fl===Rl){V$2=null;break}if(Gl!==null){Gl.return=Ql,V$2=Gl;break}V$2=Ql}}}var _f=_l.alternate;if(_f!==null){var _h=_f.child;if(_h!==null){_f.child=null;do{var vp=_h.sibling;_h.sibling=null,_h=vp}while(_h!==null)}}V$2=_l}}if(_l.subtreeFlags&2064&&Tl!==null)Tl.return=_l,V$2=Tl;else e:for(;V$2!==null;){if(_l=V$2,_l.flags&2048)switch(_l.tag){case 0:case 11:case 15:Qj(9,_l,_l.return)}var up=_l.sibling;if(up!==null){up.return=_l.return,V$2=up;break e}V$2=_l.return}}var _d=_r.current;for(V$2=_d;V$2!==null;){Tl=V$2;var Ep=Tl.child;if(Tl.subtreeFlags&2064&&Ep!==null)Ep.return=Tl,V$2=Ep;else e:for(Tl=_d;V$2!==null;){if(Il=V$2,Il.flags&2048)try{switch(Il.tag){case 0:case 11:case 15:Rj(9,Il)}}catch(Ip){W$3(Il,Il.return,Ip)}if(Il===Tl){V$2=null;break e}var Op=Il.sibling;if(Op!==null){Op.return=Il.return,V$2=Op;break e}V$2=Il.return}}if(K$2=El,jg(),lc$2&&typeof lc$2.onPostCommitFiberRoot=="function")try{lc$2.onPostCommitFiberRoot(kc$1,_r)}catch{}yl=!0}return yl}finally{C$2=_o,pk.transition=_t}}return!1}function Yk(_r,_t,_o){_t=Ki(_o,_t),_t=Oi(_r,_t,1),_r=dh(_r,_t,1),_t=L$3(),_r!==null&&(Ac$2(_r,1,_t),Ek(_r,_t))}function W$3(_r,_t,_o){if(_r.tag===3)Yk(_r,_r,_o);else for(;_t!==null;){if(_t.tag===3){Yk(_t,_r,_o);break}else if(_t.tag===1){var yl=_t.stateNode;if(typeof _t.type.getDerivedStateFromError=="function"||typeof yl.componentDidCatch=="function"&&(Si===null||!Si.has(yl))){_r=Ki(_o,_r),_r=Ri(_t,_r,1),_t=dh(_t,_r,1),_r=L$3(),_t!==null&&(Ac$2(_t,1,_r),Ek(_t,_r));break}}_t=_t.return}}function Ui(_r,_t,_o){var yl=_r.pingCache;yl!==null&&yl.delete(_t),_t=L$3(),_r.pingedLanes|=_r.suspendedLanes&_o,R$2===_r&&(Z$2&_o)===_o&&(T$1===4||T$1===3&&(Z$2&130023424)===Z$2&&500>B$3()-gk?Lk(_r,0):sk|=_o),Ek(_r,_t)}function Zk(_r,_t){_t===0&&(_r.mode&1?(_t=sc$2,sc$2<<=1,!(sc$2&130023424)&&(sc$2=4194304)):_t=1);var _o=L$3();_r=Zg(_r,_t),_r!==null&&(Ac$2(_r,_t,_o),Ek(_r,_o))}function vj(_r){var _t=_r.memoizedState,_o=0;_t!==null&&(_o=_t.retryLane),Zk(_r,_o)}function ck(_r,_t){var _o=0;switch(_r.tag){case 13:var yl=_r.stateNode,El=_r.memoizedState;El!==null&&(_o=El.retryLane);break;case 19:yl=_r.stateNode;break;default:throw Error(p$6(314))}yl!==null&&yl.delete(_t),Zk(_r,_o)}var Wk;Wk=function(_r,_t,_o){if(_r!==null)if(_r.memoizedProps!==_t.pendingProps||Wf.current)Ug=!0;else{if(!(_r.lanes&_o)&&!(_t.flags&128))return Ug=!1,zj(_r,_t,_o);Ug=!!(_r.flags&131072)}else Ug=!1,I$2&&_t.flags&1048576&&ug(_t,ng,_t.index);switch(_t.lanes=0,_t.tag){case 2:var yl=_t.type;jj(_r,_t),_r=_t.pendingProps;var El=Yf(_t,H$3.current);Tg(_t,_o),El=Xh$1(null,_t,yl,_r,El,_o);var _l=bi();return _t.flags|=1,typeof El=="object"&&El!==null&&typeof El.render=="function"&&El.$$typeof===void 0?(_t.tag=1,_t.memoizedState=null,_t.updateQueue=null,Zf(yl)?(_l=!0,cg(_t)):_l=!1,_t.memoizedState=El.state!==null&&El.state!==void 0?El.state:null,ah(_t),El.updater=nh,_t.stateNode=El,El._reactInternals=_t,rh(_t,yl,_r,_o),_t=kj(null,_t,yl,!0,_l,_o)):(_t.tag=0,I$2&&_l&&vg(_t),Yi(null,_t,El,_o),_t=_t.child),_t;case 16:yl=_t.elementType;e:{switch(jj(_r,_t),_r=_t.pendingProps,El=yl._init,yl=El(yl._payload),_t.type=yl,El=_t.tag=$k(yl),_r=Lg(yl,_r),El){case 0:_t=dj(null,_t,yl,_r,_o);break e;case 1:_t=ij(null,_t,yl,_r,_o);break e;case 11:_t=Zi(null,_t,yl,_r,_o);break e;case 14:_t=aj(null,_t,yl,Lg(yl.type,_r),_o);break e}throw Error(p$6(306,yl,""))}return _t;case 0:return yl=_t.type,El=_t.pendingProps,El=_t.elementType===yl?El:Lg(yl,El),dj(_r,_t,yl,El,_o);case 1:return yl=_t.type,El=_t.pendingProps,El=_t.elementType===yl?El:Lg(yl,El),ij(_r,_t,yl,El,_o);case 3:e:{if(lj(_t),_r===null)throw Error(p$6(387));yl=_t.pendingProps,_l=_t.memoizedState,El=_l.element,bh$1(_r,_t),gh(_t,yl,null,_o);var Tl=_t.memoizedState;if(yl=Tl.element,_l.isDehydrated)if(_l={element:yl,isDehydrated:!1,cache:Tl.cache,pendingSuspenseBoundaries:Tl.pendingSuspenseBoundaries,transitions:Tl.transitions},_t.updateQueue.baseState=_l,_t.memoizedState=_l,_t.flags&256){El=Ki(Error(p$6(423)),_t),_t=mj(_r,_t,yl,_o,El);break e}else if(yl!==El){El=Ki(Error(p$6(424)),_t),_t=mj(_r,_t,yl,_o,El);break e}else for(yg=Lf(_t.stateNode.containerInfo.firstChild),xg=_t,I$2=!0,zg=null,_o=Ch$1(_t,null,yl,_o),_t.child=_o;_o;)_o.flags=_o.flags&-3|4096,_o=_o.sibling;else{if(Ig(),yl===El){_t=$i(_r,_t,_o);break e}Yi(_r,_t,yl,_o)}_t=_t.child}return _t;case 5:return Kh$1(_t),_r===null&&Eg(_t),yl=_t.type,El=_t.pendingProps,_l=_r!==null?_r.memoizedProps:null,Tl=El.children,Ef(yl,El)?Tl=null:_l!==null&&Ef(yl,_l)&&(_t.flags|=32),hj(_r,_t),Yi(_r,_t,Tl,_o),_t.child;case 6:return _r===null&&Eg(_t),null;case 13:return pj(_r,_t,_o);case 4:return Ih$1(_t,_t.stateNode.containerInfo),yl=_t.pendingProps,_r===null?_t.child=Bh$1(_t,null,yl,_o):Yi(_r,_t,yl,_o),_t.child;case 11:return yl=_t.type,El=_t.pendingProps,El=_t.elementType===yl?El:Lg(yl,El),Zi(_r,_t,yl,El,_o);case 7:return Yi(_r,_t,_t.pendingProps,_o),_t.child;case 8:return Yi(_r,_t,_t.pendingProps.children,_o),_t.child;case 12:return Yi(_r,_t,_t.pendingProps.children,_o),_t.child;case 10:e:{if(yl=_t.type._context,El=_t.pendingProps,_l=_t.memoizedProps,Tl=El.value,G$3(Mg,yl._currentValue),yl._currentValue=Tl,_l!==null)if(He(_l.value,Tl)){if(_l.children===El.children&&!Wf.current){_t=$i(_r,_t,_o);break e}}else for(_l=_t.child,_l!==null&&(_l.return=_t);_l!==null;){var Il=_l.dependencies;if(Il!==null){Tl=_l.child;for(var Al=Il.firstContext;Al!==null;){if(Al.context===yl){if(_l.tag===1){Al=ch$1(-1,_o&-_o),Al.tag=2;var Rl=_l.updateQueue;if(Rl!==null){Rl=Rl.shared;var Fl=Rl.pending;Fl===null?Al.next=Al:(Al.next=Fl.next,Fl.next=Al),Rl.pending=Al}}_l.lanes|=_o,Al=_l.alternate,Al!==null&&(Al.lanes|=_o),Sg(_l.return,_o,_t),Il.lanes|=_o;break}Al=Al.next}}else if(_l.tag===10)Tl=_l.type===_t.type?null:_l.child;else if(_l.tag===18){if(Tl=_l.return,Tl===null)throw Error(p$6(341));Tl.lanes|=_o,Il=Tl.alternate,Il!==null&&(Il.lanes|=_o),Sg(Tl,_o,_t),Tl=_l.sibling}else Tl=_l.child;if(Tl!==null)Tl.return=_l;else for(Tl=_l;Tl!==null;){if(Tl===_t){Tl=null;break}if(_l=Tl.sibling,_l!==null){_l.return=Tl.return,Tl=_l;break}Tl=Tl.return}_l=Tl}Yi(_r,_t,El.children,_o),_t=_t.child}return _t;case 9:return El=_t.type,yl=_t.pendingProps.children,Tg(_t,_o),El=Vg(El),yl=yl(El),_t.flags|=1,Yi(_r,_t,yl,_o),_t.child;case 14:return yl=_t.type,El=Lg(yl,_t.pendingProps),El=Lg(yl.type,El),aj(_r,_t,yl,El,_o);case 15:return cj(_r,_t,_t.type,_t.pendingProps,_o);case 17:return yl=_t.type,El=_t.pendingProps,El=_t.elementType===yl?El:Lg(yl,El),jj(_r,_t),_t.tag=1,Zf(yl)?(_r=!0,cg(_t)):_r=!1,Tg(_t,_o),ph(_t,yl,El),rh(_t,yl,El,_o),kj(null,_t,yl,!0,_r,_o);case 19:return yj(_r,_t,_o);case 22:return ej(_r,_t,_o)}throw Error(p$6(156,_t.tag))};function Gk(_r,_t){return ac$2(_r,_t)}function al(_r,_t,_o,yl){this.tag=_r,this.key=_o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=_t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=yl,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bg(_r,_t,_o,yl){return new al(_r,_t,_o,yl)}function bj(_r){return _r=_r.prototype,!(!_r||!_r.isReactComponent)}function $k(_r){if(typeof _r=="function")return bj(_r)?1:0;if(_r!=null){if(_r=_r.$$typeof,_r===Da)return 11;if(_r===Ga$2)return 14}return 2}function wh(_r,_t){var _o=_r.alternate;return _o===null?(_o=Bg(_r.tag,_t,_r.key,_r.mode),_o.elementType=_r.elementType,_o.type=_r.type,_o.stateNode=_r.stateNode,_o.alternate=_r,_r.alternate=_o):(_o.pendingProps=_t,_o.type=_r.type,_o.flags=0,_o.subtreeFlags=0,_o.deletions=null),_o.flags=_r.flags&14680064,_o.childLanes=_r.childLanes,_o.lanes=_r.lanes,_o.child=_r.child,_o.memoizedProps=_r.memoizedProps,_o.memoizedState=_r.memoizedState,_o.updateQueue=_r.updateQueue,_t=_r.dependencies,_o.dependencies=_t===null?null:{lanes:_t.lanes,firstContext:_t.firstContext},_o.sibling=_r.sibling,_o.index=_r.index,_o.ref=_r.ref,_o}function yh(_r,_t,_o,yl,El,_l){var Tl=2;if(yl=_r,typeof _r=="function")bj(_r)&&(Tl=1);else if(typeof _r=="string")Tl=5;else e:switch(_r){case ya$2:return Ah$1(_o.children,El,_l,_t);case za$2:Tl=8,El|=8;break;case Aa$2:return _r=Bg(12,_o,_t,El|2),_r.elementType=Aa$2,_r.lanes=_l,_r;case Ea$1:return _r=Bg(13,_o,_t,El),_r.elementType=Ea$1,_r.lanes=_l,_r;case Fa$2:return _r=Bg(19,_o,_t,El),_r.elementType=Fa$2,_r.lanes=_l,_r;case Ia$2:return qj(_o,El,_l,_t);default:if(typeof _r=="object"&&_r!==null)switch(_r.$$typeof){case Ba$1:Tl=10;break e;case Ca:Tl=9;break e;case Da:Tl=11;break e;case Ga$2:Tl=14;break e;case Ha$1:Tl=16,yl=null;break e}throw Error(p$6(130,_r==null?_r:typeof _r,""))}return _t=Bg(Tl,_o,_t,El),_t.elementType=_r,_t.type=yl,_t.lanes=_l,_t}function Ah$1(_r,_t,_o,yl){return _r=Bg(7,_r,yl,_t),_r.lanes=_o,_r}function qj(_r,_t,_o,yl){return _r=Bg(22,_r,yl,_t),_r.elementType=Ia$2,_r.lanes=_o,_r.stateNode={isHidden:!1},_r}function xh$1(_r,_t,_o){return _r=Bg(6,_r,null,_t),_r.lanes=_o,_r}function zh$1(_r,_t,_o){return _t=Bg(4,_r.children!==null?_r.children:[],_r.key,_t),_t.lanes=_o,_t.stateNode={containerInfo:_r.containerInfo,pendingChildren:null,implementation:_r.implementation},_t}function bl(_r,_t,_o,yl,El){this.tag=_t,this.containerInfo=_r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc$1(0),this.expirationTimes=zc$1(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc$1(0),this.identifierPrefix=yl,this.onRecoverableError=El,this.mutableSourceEagerHydrationData=null}function cl(_r,_t,_o,yl,El,_l,Tl,Il,Al){return _r=new bl(_r,_t,_o,Il,Al),_t===1?(_t=1,_l===!0&&(_t|=8)):_t=0,_l=Bg(3,null,null,_t),_r.current=_l,_l.stateNode=_r,_l.memoizedState={element:yl,isDehydrated:_o,cache:null,transitions:null,pendingSuspenseBoundaries:null},ah(_l),_r}function dl(_r,_t,_o){var yl=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa$2,key:yl==null?null:""+yl,children:_r,containerInfo:_t,implementation:_o}}function el(_r){if(!_r)return Vf;_r=_r._reactInternals;e:{if(Vb$1(_r)!==_r||_r.tag!==1)throw Error(p$6(170));var _t=_r;do{switch(_t.tag){case 3:_t=_t.stateNode.context;break e;case 1:if(Zf(_t.type)){_t=_t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}_t=_t.return}while(_t!==null);throw Error(p$6(171))}if(_r.tag===1){var _o=_r.type;if(Zf(_o))return bg(_r,_o,_t)}return _t}function fl(_r,_t,_o,yl,El,_l,Tl,Il,Al){return _r=cl(_o,yl,!0,_r,El,_l,Tl,Il,Al),_r.context=el(null),_o=_r.current,yl=L$3(),El=lh(_o),_l=ch$1(yl,El),_l.callback=_t??null,dh(_o,_l,El),_r.current.lanes=El,Ac$2(_r,El,yl),Ek(_r,yl),_r}function gl(_r,_t,_o,yl){var El=_t.current,_l=L$3(),Tl=lh(El);return _o=el(_o),_t.context===null?_t.context=_o:_t.pendingContext=_o,_t=ch$1(_l,Tl),_t.payload={element:_r},yl=yl===void 0?null:yl,yl!==null&&(_t.callback=yl),_r=dh(El,_t,Tl),_r!==null&&(mh(_r,El,Tl,_l),eh$1(_r,El,Tl)),Tl}function hl(_r){if(_r=_r.current,!_r.child)return null;switch(_r.child.tag){case 5:return _r.child.stateNode;default:return _r.child.stateNode}}function il(_r,_t){if(_r=_r.memoizedState,_r!==null&&_r.dehydrated!==null){var _o=_r.retryLane;_r.retryLane=_o!==0&&_o<_t?_o:_t}}function jl$1(_r,_t){il(_r,_t),(_r=_r.alternate)&&il(_r,_t)}function kl(){return null}var ll=typeof reportError=="function"?reportError:function(_r){console.error(_r)};function ml(_r){this._internalRoot=_r}nl.prototype.render=ml.prototype.render=function(_r){var _t=this._internalRoot;if(_t===null)throw Error(p$6(409));gl(_r,_t,null,null)};nl.prototype.unmount=ml.prototype.unmount=function(){var _r=this._internalRoot;if(_r!==null){this._internalRoot=null;var _t=_r.containerInfo;Sk(function(){gl(null,_r,null,null)}),_t[uf$1]=null}};function nl(_r){this._internalRoot=_r}nl.prototype.unstable_scheduleHydration=function(_r){if(_r){var _t=Hc$1();_r={blockedOn:null,target:_r,priority:_t};for(var _o=0;_o<Qc$1.length&&_t!==0&&_t<Qc$1[_o].priority;_o++);Qc$1.splice(_o,0,_r),_o===0&&Vc$2(_r)}};function ol(_r){return!(!_r||_r.nodeType!==1&&_r.nodeType!==9&&_r.nodeType!==11)}function pl(_r){return!(!_r||_r.nodeType!==1&&_r.nodeType!==9&&_r.nodeType!==11&&(_r.nodeType!==8||_r.nodeValue!==" react-mount-point-unstable "))}function ql(){}function rl(_r,_t,_o,yl,El){if(El){if(typeof yl=="function"){var _l=yl;yl=function(){var Rl=hl(Tl);_l.call(Rl)}}var Tl=fl(_t,yl,_r,0,null,!1,!1,"",ql);return _r._reactRootContainer=Tl,_r[uf$1]=Tl.current,sf(_r.nodeType===8?_r.parentNode:_r),Sk(),Tl}for(;El=_r.lastChild;)_r.removeChild(El);if(typeof yl=="function"){var Il=yl;yl=function(){var Rl=hl(Al);Il.call(Rl)}}var Al=cl(_r,0,!1,null,null,!1,!1,"",ql);return _r._reactRootContainer=Al,_r[uf$1]=Al.current,sf(_r.nodeType===8?_r.parentNode:_r),Sk(function(){gl(_t,Al,_o,yl)}),Al}function sl(_r,_t,_o,yl,El){var _l=_o._reactRootContainer;if(_l){var Tl=_l;if(typeof El=="function"){var Il=El;El=function(){var Al=hl(Tl);Il.call(Al)}}gl(_t,Tl,_r,El)}else Tl=rl(_o,_t,_r,El,yl);return hl(Tl)}Ec$2=function(_r){switch(_r.tag){case 3:var _t=_r.stateNode;if(_t.current.memoizedState.isDehydrated){var _o=tc$2(_t.pendingLanes);_o!==0&&(Cc$2(_t,_o|1),Ek(_t,B$3()),!(K$2&6)&&(Hj=B$3()+500,jg()))}break;case 13:Sk(function(){var yl=Zg(_r,1);if(yl!==null){var El=L$3();mh(yl,_r,1,El)}}),jl$1(_r,1)}};Fc$2=function(_r){if(_r.tag===13){var _t=Zg(_r,134217728);if(_t!==null){var _o=L$3();mh(_t,_r,134217728,_o)}jl$1(_r,134217728)}};Gc$2=function(_r){if(_r.tag===13){var _t=lh(_r),_o=Zg(_r,_t);if(_o!==null){var yl=L$3();mh(_o,_r,_t,yl)}jl$1(_r,_t)}};Hc$1=function(){return C$2};Ic$2=function(_r,_t){var _o=C$2;try{return C$2=_r,_t()}finally{C$2=_o}};yb$1=function(_r,_t,_o){switch(_t){case"input":if(bb$1(_r,_o),_t=_o.name,_o.type==="radio"&&_t!=null){for(_o=_r;_o.parentNode;)_o=_o.parentNode;for(_o=_o.querySelectorAll("input[name="+JSON.stringify(""+_t)+'][type="radio"]'),_t=0;_t<_o.length;_t++){var yl=_o[_t];if(yl!==_r&&yl.form===_r.form){var El=Db$1(yl);if(!El)throw Error(p$6(90));Wa$1(yl),bb$1(yl,El)}}}break;case"textarea":ib$1(_r,_o);break;case"select":_t=_o.value,_t!=null&&fb$1(_r,!!_o.multiple,_t,!1)}};Gb$1=Rk;Hb$1=Sk;var tl$1={usingClientEntryPoint:!1,Events:[Cb$1,ue$1,Db$1,Eb$1,Fb$1,Rk]},ul={findFiberByHostInstance:Wc$1,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},vl$1={bundleType:ul.bundleType,version:ul.version,rendererPackageName:ul.rendererPackageName,rendererConfig:ul.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua$2.ReactCurrentDispatcher,findHostInstanceByFiber:function(_r){return _r=Zb$1(_r),_r===null?null:_r.stateNode},findFiberByHostInstance:ul.findFiberByHostInstance||kl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wl.isDisabled&&wl.supportsFiber)try{kc$1=wl.inject(vl$1),lc$2=wl}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl$1;reactDom_production_min.createPortal=function(_r,_t){var _o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ol(_t))throw Error(p$6(200));return dl(_r,_t,null,_o)};reactDom_production_min.createRoot=function(_r,_t){if(!ol(_r))throw Error(p$6(299));var _o=!1,yl="",El=ll;return _t!=null&&(_t.unstable_strictMode===!0&&(_o=!0),_t.identifierPrefix!==void 0&&(yl=_t.identifierPrefix),_t.onRecoverableError!==void 0&&(El=_t.onRecoverableError)),_t=cl(_r,1,!1,null,null,_o,!1,yl,El),_r[uf$1]=_t.current,sf(_r.nodeType===8?_r.parentNode:_r),new ml(_t)};reactDom_production_min.findDOMNode=function(_r){if(_r==null)return null;if(_r.nodeType===1)return _r;var _t=_r._reactInternals;if(_t===void 0)throw typeof _r.render=="function"?Error(p$6(188)):(_r=Object.keys(_r).join(","),Error(p$6(268,_r)));return _r=Zb$1(_t),_r=_r===null?null:_r.stateNode,_r};reactDom_production_min.flushSync=function(_r){return Sk(_r)};reactDom_production_min.hydrate=function(_r,_t,_o){if(!pl(_t))throw Error(p$6(200));return sl(null,_r,_t,!0,_o)};reactDom_production_min.hydrateRoot=function(_r,_t,_o){if(!ol(_r))throw Error(p$6(405));var yl=_o!=null&&_o.hydratedSources||null,El=!1,_l="",Tl=ll;if(_o!=null&&(_o.unstable_strictMode===!0&&(El=!0),_o.identifierPrefix!==void 0&&(_l=_o.identifierPrefix),_o.onRecoverableError!==void 0&&(Tl=_o.onRecoverableError)),_t=fl(_t,null,_r,1,_o??null,El,!1,_l,Tl),_r[uf$1]=_t.current,sf(_r),yl)for(_r=0;_r<yl.length;_r++)_o=yl[_r],El=_o._getVersion,El=El(_o._source),_t.mutableSourceEagerHydrationData==null?_t.mutableSourceEagerHydrationData=[_o,El]:_t.mutableSourceEagerHydrationData.push(_o,El);return new nl(_t)};reactDom_production_min.render=function(_r,_t,_o){if(!pl(_t))throw Error(p$6(200));return sl(null,_r,_t,!1,_o)};reactDom_production_min.unmountComponentAtNode=function(_r){if(!pl(_r))throw Error(p$6(40));return _r._reactRootContainer?(Sk(function(){sl(null,null,_r,!1,function(){_r._reactRootContainer=null,_r[uf$1]=null})}),!0):!1};reactDom_production_min.unstable_batchedUpdates=Rk;reactDom_production_min.unstable_renderSubtreeIntoContainer=function(_r,_t,_o,yl){if(!pl(_o))throw Error(p$6(200));if(_r==null||_r._reactInternals===void 0)throw Error(p$6(38));return sl(_r,_t,_o,!1,yl)};reactDom_production_min.version="18.2.0-next-9e3b772b8-20220608";(function(_r){function _t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(_t)}catch(_o){console.error(_o)}}_t(),_r.exports=reactDom_production_min})(reactDom);const ReactDOM=getDefaultExportFromCjs(reactDomExports);var m$4=reactDomExports;client.createRoot=m$4.createRoot,client.hydrateRoot=m$4.hydrateRoot;/**
 * @remix-run/router v1.3.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$2(){return _extends$2=Object.assign?Object.assign.bind():function(_r){for(var _t=1;_t<arguments.length;_t++){var _o=arguments[_t];for(var yl in _o)Object.prototype.hasOwnProperty.call(_o,yl)&&(_r[yl]=_o[yl])}return _r},_extends$2.apply(this,arguments)}var Action;(function(_r){_r.Pop="POP",_r.Push="PUSH",_r.Replace="REPLACE"})(Action||(Action={}));const PopStateEventType="popstate";function createBrowserHistory(_r){_r===void 0&&(_r={});function _t(yl,El){let{pathname:_l,search:Tl,hash:Il}=yl.location;return createLocation("",{pathname:_l,search:Tl,hash:Il},El.state&&El.state.usr||null,El.state&&El.state.key||"default")}function _o(yl,El){return typeof El=="string"?El:createPath(El)}return getUrlBasedHistory(_t,_o,null,_r)}function invariant$1(_r,_t){if(_r===!1||_r===null||typeof _r>"u")throw new Error(_t)}function createKey(){return Math.random().toString(36).substr(2,8)}function getHistoryState(_r,_t){return{usr:_r.state,key:_r.key,idx:_t}}function createLocation(_r,_t,_o,yl){return _o===void 0&&(_o=null),_extends$2({pathname:typeof _r=="string"?_r:_r.pathname,search:"",hash:""},typeof _t=="string"?parsePath(_t):_t,{state:_o,key:_t&&_t.key||yl||createKey()})}function createPath(_r){let{pathname:_t="/",search:_o="",hash:yl=""}=_r;return _o&&_o!=="?"&&(_t+=_o.charAt(0)==="?"?_o:"?"+_o),yl&&yl!=="#"&&(_t+=yl.charAt(0)==="#"?yl:"#"+yl),_t}function parsePath(_r){let _t={};if(_r){let _o=_r.indexOf("#");_o>=0&&(_t.hash=_r.substr(_o),_r=_r.substr(0,_o));let yl=_r.indexOf("?");yl>=0&&(_t.search=_r.substr(yl),_r=_r.substr(0,yl)),_r&&(_t.pathname=_r)}return _t}function getUrlBasedHistory(_r,_t,_o,yl){yl===void 0&&(yl={});let{window:El=document.defaultView,v5Compat:_l=!1}=yl,Tl=El.history,Il=Action.Pop,Al=null,Rl=Fl();Rl==null&&(Rl=0,Tl.replaceState(_extends$2({},Tl.state,{idx:Rl}),""));function Fl(){return(Tl.state||{idx:null}).idx}function Bl(){Il=Action.Pop;let vp=Fl(),up=vp==null?null:vp-Rl;Rl=vp,Al&&Al({action:Il,location:_h.location,delta:up})}function Gl(vp,up){Il=Action.Push;let _d=createLocation(_h.location,vp,up);_o&&_o(_d,vp),Rl=Fl()+1;let Ep=getHistoryState(_d,Rl),Op=_h.createHref(_d);try{Tl.pushState(Ep,"",Op)}catch{El.location.assign(Op)}_l&&Al&&Al({action:Il,location:_h.location,delta:1})}function Ql(vp,up){Il=Action.Replace;let _d=createLocation(_h.location,vp,up);_o&&_o(_d,vp),Rl=Fl();let Ep=getHistoryState(_d,Rl),Op=_h.createHref(_d);Tl.replaceState(Ep,"",Op),_l&&Al&&Al({action:Il,location:_h.location,delta:0})}function _f(vp){let up=El.location.origin!=="null"?El.location.origin:El.location.href,_d=typeof vp=="string"?vp:createPath(vp);return invariant$1(up,"No window.location.(origin|href) available to create URL for href: "+_d),new URL(_d,up)}let _h={get action(){return Il},get location(){return _r(El,Tl)},listen(vp){if(Al)throw new Error("A history only accepts one active listener");return El.addEventListener(PopStateEventType,Bl),Al=vp,()=>{El.removeEventListener(PopStateEventType,Bl),Al=null}},createHref(vp){return _t(El,vp)},createURL:_f,encodeLocation(vp){let up=_f(vp);return{pathname:up.pathname,search:up.search,hash:up.hash}},push:Gl,replace:Ql,go(vp){return Tl.go(vp)}};return _h}var ResultType;(function(_r){_r.data="data",_r.deferred="deferred",_r.redirect="redirect",_r.error="error"})(ResultType||(ResultType={}));function matchRoutes(_r,_t,_o){_o===void 0&&(_o="/");let yl=typeof _t=="string"?parsePath(_t):_t,El=stripBasename(yl.pathname||"/",_o);if(El==null)return null;let _l=flattenRoutes(_r);rankRouteBranches(_l);let Tl=null;for(let Il=0;Tl==null&&Il<_l.length;++Il)Tl=matchRouteBranch(_l[Il],safelyDecodeURI(El));return Tl}function flattenRoutes(_r,_t,_o,yl){_t===void 0&&(_t=[]),_o===void 0&&(_o=[]),yl===void 0&&(yl="");let El=(_l,Tl,Il)=>{let Al={relativePath:Il===void 0?_l.path||"":Il,caseSensitive:_l.caseSensitive===!0,childrenIndex:Tl,route:_l};Al.relativePath.startsWith("/")&&(invariant$1(Al.relativePath.startsWith(yl),'Absolute route path "'+Al.relativePath+'" nested under path '+('"'+yl+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),Al.relativePath=Al.relativePath.slice(yl.length));let Rl=joinPaths([yl,Al.relativePath]),Fl=_o.concat(Al);_l.children&&_l.children.length>0&&(invariant$1(_l.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+Rl+'".')),flattenRoutes(_l.children,_t,Fl,Rl)),!(_l.path==null&&!_l.index)&&_t.push({path:Rl,score:computeScore(Rl,_l.index),routesMeta:Fl})};return _r.forEach((_l,Tl)=>{var Il;if(_l.path===""||!((Il=_l.path)!=null&&Il.includes("?")))El(_l,Tl);else for(let Al of explodeOptionalSegments(_l.path))El(_l,Tl,Al)}),_t}function explodeOptionalSegments(_r){let _t=_r.split("/");if(_t.length===0)return[];let[_o,...yl]=_t,El=_o.endsWith("?"),_l=_o.replace(/\?$/,"");if(yl.length===0)return El?[_l,""]:[_l];let Tl=explodeOptionalSegments(yl.join("/")),Il=[];return Il.push(...Tl.map(Al=>Al===""?_l:[_l,Al].join("/"))),El&&Il.push(...Tl),Il.map(Al=>_r.startsWith("/")&&Al===""?"/":Al)}function rankRouteBranches(_r){_r.sort((_t,_o)=>_t.score!==_o.score?_o.score-_t.score:compareIndexes(_t.routesMeta.map(yl=>yl.childrenIndex),_o.routesMeta.map(yl=>yl.childrenIndex)))}const paramRe=/^:\w+$/,dynamicSegmentValue=3,indexRouteValue=2,emptySegmentValue=1,staticSegmentValue=10,splatPenalty=-2,isSplat=_r=>_r==="*";function computeScore(_r,_t){let _o=_r.split("/"),yl=_o.length;return _o.some(isSplat)&&(yl+=splatPenalty),_t&&(yl+=indexRouteValue),_o.filter(El=>!isSplat(El)).reduce((El,_l)=>El+(paramRe.test(_l)?dynamicSegmentValue:_l===""?emptySegmentValue:staticSegmentValue),yl)}function compareIndexes(_r,_t){return _r.length===_t.length&&_r.slice(0,-1).every((yl,El)=>yl===_t[El])?_r[_r.length-1]-_t[_t.length-1]:0}function matchRouteBranch(_r,_t){let{routesMeta:_o}=_r,yl={},El="/",_l=[];for(let Tl=0;Tl<_o.length;++Tl){let Il=_o[Tl],Al=Tl===_o.length-1,Rl=El==="/"?_t:_t.slice(El.length)||"/",Fl=matchPath({path:Il.relativePath,caseSensitive:Il.caseSensitive,end:Al},Rl);if(!Fl)return null;Object.assign(yl,Fl.params);let Bl=Il.route;_l.push({params:yl,pathname:joinPaths([El,Fl.pathname]),pathnameBase:normalizePathname(joinPaths([El,Fl.pathnameBase])),route:Bl}),Fl.pathnameBase!=="/"&&(El=joinPaths([El,Fl.pathnameBase]))}return _l}function matchPath(_r,_t){typeof _r=="string"&&(_r={path:_r,caseSensitive:!1,end:!0});let[_o,yl]=compilePath(_r.path,_r.caseSensitive,_r.end),El=_t.match(_o);if(!El)return null;let _l=El[0],Tl=_l.replace(/(.)\/+$/,"$1"),Il=El.slice(1);return{params:yl.reduce((Rl,Fl,Bl)=>{if(Fl==="*"){let Gl=Il[Bl]||"";Tl=_l.slice(0,_l.length-Gl.length).replace(/(.)\/+$/,"$1")}return Rl[Fl]=safelyDecodeURIComponent(Il[Bl]||"",Fl),Rl},{}),pathname:_l,pathnameBase:Tl,pattern:_r}}function compilePath(_r,_t,_o){_t===void 0&&(_t=!1),_o===void 0&&(_o=!0),warning$1(_r==="*"||!_r.endsWith("*")||_r.endsWith("/*"),'Route path "'+_r+'" will be treated as if it were '+('"'+_r.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+_r.replace(/\*$/,"/*")+'".'));let yl=[],El="^"+_r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(Tl,Il)=>(yl.push(Il),"/([^\\/]+)"));return _r.endsWith("*")?(yl.push("*"),El+=_r==="*"||_r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):_o?El+="\\/*$":_r!==""&&_r!=="/"&&(El+="(?:(?=\\/|$))"),[new RegExp(El,_t?void 0:"i"),yl]}function safelyDecodeURI(_r){try{return decodeURI(_r)}catch(_t){return warning$1(!1,'The URL path "'+_r+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+_t+").")),_r}}function safelyDecodeURIComponent(_r,_t){try{return decodeURIComponent(_r)}catch(_o){return warning$1(!1,'The value for the URL param "'+_t+'" will not be decoded because'+(' the string "'+_r+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+_o+").")),_r}}function stripBasename(_r,_t){if(_t==="/")return _r;if(!_r.toLowerCase().startsWith(_t.toLowerCase()))return null;let _o=_t.endsWith("/")?_t.length-1:_t.length,yl=_r.charAt(_o);return yl&&yl!=="/"?null:_r.slice(_o)||"/"}function warning$1(_r,_t){if(!_r){typeof console<"u"&&console.warn(_t);try{throw new Error(_t)}catch{}}}function resolvePath(_r,_t){_t===void 0&&(_t="/");let{pathname:_o,search:yl="",hash:El=""}=typeof _r=="string"?parsePath(_r):_r;return{pathname:_o?_o.startsWith("/")?_o:resolvePathname(_o,_t):_t,search:normalizeSearch(yl),hash:normalizeHash(El)}}function resolvePathname(_r,_t){let _o=_t.replace(/\/+$/,"").split("/");return _r.split("/").forEach(El=>{El===".."?_o.length>1&&_o.pop():El!=="."&&_o.push(El)}),_o.length>1?_o.join("/"):"/"}function getInvalidPathError(_r,_t,_o,yl){return"Cannot include a '"+_r+"' character in a manually specified "+("`to."+_t+"` field ["+JSON.stringify(yl)+"].  Please separate it out to the ")+("`to."+_o+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function getPathContributingMatches(_r){return _r.filter((_t,_o)=>_o===0||_t.route.path&&_t.route.path.length>0)}function resolveTo(_r,_t,_o,yl){yl===void 0&&(yl=!1);let El;typeof _r=="string"?El=parsePath(_r):(El=_extends$2({},_r),invariant$1(!El.pathname||!El.pathname.includes("?"),getInvalidPathError("?","pathname","search",El)),invariant$1(!El.pathname||!El.pathname.includes("#"),getInvalidPathError("#","pathname","hash",El)),invariant$1(!El.search||!El.search.includes("#"),getInvalidPathError("#","search","hash",El)));let _l=_r===""||El.pathname==="",Tl=_l?"/":El.pathname,Il;if(yl||Tl==null)Il=_o;else{let Bl=_t.length-1;if(Tl.startsWith("..")){let Gl=Tl.split("/");for(;Gl[0]==="..";)Gl.shift(),Bl-=1;El.pathname=Gl.join("/")}Il=Bl>=0?_t[Bl]:"/"}let Al=resolvePath(El,Il),Rl=Tl&&Tl!=="/"&&Tl.endsWith("/"),Fl=(_l||Tl===".")&&_o.endsWith("/");return!Al.pathname.endsWith("/")&&(Rl||Fl)&&(Al.pathname+="/"),Al}const joinPaths=_r=>_r.join("/").replace(/\/\/+/g,"/"),normalizePathname=_r=>_r.replace(/\/+$/,"").replace(/^\/*/,"/"),normalizeSearch=_r=>!_r||_r==="?"?"":_r.startsWith("?")?_r:"?"+_r,normalizeHash=_r=>!_r||_r==="#"?"":_r.startsWith("#")?_r:"#"+_r;function isRouteErrorResponse(_r){return _r!=null&&typeof _r.status=="number"&&typeof _r.statusText=="string"&&typeof _r.internal=="boolean"&&"data"in _r}const validMutationMethodsArr=["post","put","patch","delete"];[...validMutationMethodsArr];/**
 * React Router v6.8.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$1(){return _extends$1=Object.assign?Object.assign.bind():function(_r){for(var _t=1;_t<arguments.length;_t++){var _o=arguments[_t];for(var yl in _o)Object.prototype.hasOwnProperty.call(_o,yl)&&(_r[yl]=_o[yl])}return _r},_extends$1.apply(this,arguments)}function isPolyfill(_r,_t){return _r===_t&&(_r!==0||1/_r===1/_t)||_r!==_r&&_t!==_t}const is$1=typeof Object.is=="function"?Object.is:isPolyfill,{useState,useEffect,useLayoutEffect,useDebugValue}=React$1;function useSyncExternalStore$2(_r,_t,_o){const yl=_t(),[{inst:El},_l]=useState({inst:{value:yl,getSnapshot:_t}});return useLayoutEffect(()=>{El.value=yl,El.getSnapshot=_t,checkIfSnapshotChanged(El)&&_l({inst:El})},[_r,yl,_t]),useEffect(()=>(checkIfSnapshotChanged(El)&&_l({inst:El}),_r(()=>{checkIfSnapshotChanged(El)&&_l({inst:El})})),[_r]),useDebugValue(yl),yl}function checkIfSnapshotChanged(_r){const _t=_r.getSnapshot,_o=_r.value;try{const yl=_t();return!is$1(_o,yl)}catch{return!0}}function useSyncExternalStore$1(_r,_t,_o){return _t()}const canUseDOM$1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",isServerEnvironment=!canUseDOM$1,shim$1=isServerEnvironment?useSyncExternalStore$1:useSyncExternalStore$2;"useSyncExternalStore"in React$1&&(_r=>_r.useSyncExternalStore)(React$1);const DataRouterContext=reactExports.createContext(null),DataRouterStateContext=reactExports.createContext(null),NavigationContext=reactExports.createContext(null),LocationContext=reactExports.createContext(null),RouteContext=reactExports.createContext({outlet:null,matches:[]}),RouteErrorContext=reactExports.createContext(null);function useHref(_r,_t){let{relative:_o}=_t===void 0?{}:_t;useInRouterContext()||invariant$1(!1);let{basename:yl,navigator:El}=reactExports.useContext(NavigationContext),{hash:_l,pathname:Tl,search:Il}=useResolvedPath(_r,{relative:_o}),Al=Tl;return yl!=="/"&&(Al=Tl==="/"?yl:joinPaths([yl,Tl])),El.createHref({pathname:Al,search:Il,hash:_l})}function useInRouterContext(){return reactExports.useContext(LocationContext)!=null}function useLocation(){return useInRouterContext()||invariant$1(!1),reactExports.useContext(LocationContext).location}function useNavigate(){useInRouterContext()||invariant$1(!1);let{basename:_r,navigator:_t}=reactExports.useContext(NavigationContext),{matches:_o}=reactExports.useContext(RouteContext),{pathname:yl}=useLocation(),El=JSON.stringify(getPathContributingMatches(_o).map(Il=>Il.pathnameBase)),_l=reactExports.useRef(!1);return reactExports.useEffect(()=>{_l.current=!0}),reactExports.useCallback(function(Il,Al){if(Al===void 0&&(Al={}),!_l.current)return;if(typeof Il=="number"){_t.go(Il);return}let Rl=resolveTo(Il,JSON.parse(El),yl,Al.relative==="path");_r!=="/"&&(Rl.pathname=Rl.pathname==="/"?_r:joinPaths([_r,Rl.pathname])),(Al.replace?_t.replace:_t.push)(Rl,Al.state,Al)},[_r,_t,El,yl])}const OutletContext=reactExports.createContext(null);function useOutlet(_r){let _t=reactExports.useContext(RouteContext).outlet;return _t&&reactExports.createElement(OutletContext.Provider,{value:_r},_t)}function useParams(){let{matches:_r}=reactExports.useContext(RouteContext),_t=_r[_r.length-1];return _t?_t.params:{}}function useResolvedPath(_r,_t){let{relative:_o}=_t===void 0?{}:_t,{matches:yl}=reactExports.useContext(RouteContext),{pathname:El}=useLocation(),_l=JSON.stringify(getPathContributingMatches(yl).map(Tl=>Tl.pathnameBase));return reactExports.useMemo(()=>resolveTo(_r,JSON.parse(_l),El,_o==="path"),[_r,_l,El,_o])}function useRoutes(_r,_t){useInRouterContext()||invariant$1(!1);let{navigator:_o}=reactExports.useContext(NavigationContext),yl=reactExports.useContext(DataRouterStateContext),{matches:El}=reactExports.useContext(RouteContext),_l=El[El.length-1],Tl=_l?_l.params:{};_l&&_l.pathname;let Il=_l?_l.pathnameBase:"/";_l&&_l.route;let Al=useLocation(),Rl;if(_t){var Fl;let _h=typeof _t=="string"?parsePath(_t):_t;Il==="/"||(Fl=_h.pathname)!=null&&Fl.startsWith(Il)||invariant$1(!1),Rl=_h}else Rl=Al;let Bl=Rl.pathname||"/",Gl=Il==="/"?Bl:Bl.slice(Il.length)||"/",Ql=matchRoutes(_r,{pathname:Gl}),_f=_renderMatches(Ql&&Ql.map(_h=>Object.assign({},_h,{params:Object.assign({},Tl,_h.params),pathname:joinPaths([Il,_o.encodeLocation?_o.encodeLocation(_h.pathname).pathname:_h.pathname]),pathnameBase:_h.pathnameBase==="/"?Il:joinPaths([Il,_o.encodeLocation?_o.encodeLocation(_h.pathnameBase).pathname:_h.pathnameBase])})),El,yl||void 0);return _t&&_f?reactExports.createElement(LocationContext.Provider,{value:{location:_extends$1({pathname:"/",search:"",hash:"",state:null,key:"default"},Rl),navigationType:Action.Pop}},_f):_f}function DefaultErrorElement(){let _r=useRouteError(),_t=isRouteErrorResponse(_r)?_r.status+" "+_r.statusText:_r instanceof Error?_r.message:JSON.stringify(_r),_o=_r instanceof Error?_r.stack:null,El={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},_l=null;return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("h2",null,"Unexpected Application Error!"),reactExports.createElement("h3",{style:{fontStyle:"italic"}},_t),_o?reactExports.createElement("pre",{style:El},_o):null,_l)}class RenderErrorBoundary extends reactExports.Component{constructor(_t){super(_t),this.state={location:_t.location,error:_t.error}}static getDerivedStateFromError(_t){return{error:_t}}static getDerivedStateFromProps(_t,_o){return _o.location!==_t.location?{error:_t.error,location:_t.location}:{error:_t.error||_o.error,location:_o.location}}componentDidCatch(_t,_o){console.error("React Router caught the following error during render",_t,_o)}render(){return this.state.error?reactExports.createElement(RouteContext.Provider,{value:this.props.routeContext},reactExports.createElement(RouteErrorContext.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function RenderedRoute(_r){let{routeContext:_t,match:_o,children:yl}=_r,El=reactExports.useContext(DataRouterContext);return El&&El.static&&El.staticContext&&_o.route.errorElement&&(El.staticContext._deepestRenderedBoundaryId=_o.route.id),reactExports.createElement(RouteContext.Provider,{value:_t},yl)}function _renderMatches(_r,_t,_o){if(_t===void 0&&(_t=[]),_r==null)if(_o!=null&&_o.errors)_r=_o.matches;else return null;let yl=_r,El=_o==null?void 0:_o.errors;if(El!=null){let _l=yl.findIndex(Tl=>Tl.route.id&&(El==null?void 0:El[Tl.route.id]));_l>=0||invariant$1(!1),yl=yl.slice(0,Math.min(yl.length,_l+1))}return yl.reduceRight((_l,Tl,Il)=>{let Al=Tl.route.id?El==null?void 0:El[Tl.route.id]:null,Rl=_o?Tl.route.errorElement||reactExports.createElement(DefaultErrorElement,null):null,Fl=_t.concat(yl.slice(0,Il+1)),Bl=()=>reactExports.createElement(RenderedRoute,{match:Tl,routeContext:{outlet:_l,matches:Fl}},Al?Rl:Tl.route.element!==void 0?Tl.route.element:_l);return _o&&(Tl.route.errorElement||Il===0)?reactExports.createElement(RenderErrorBoundary,{location:_o.location,component:Rl,error:Al,children:Bl(),routeContext:{outlet:null,matches:Fl}}):Bl()},null)}var DataRouterHook$1;(function(_r){_r.UseBlocker="useBlocker",_r.UseRevalidator="useRevalidator"})(DataRouterHook$1||(DataRouterHook$1={}));var DataRouterStateHook$1;(function(_r){_r.UseLoaderData="useLoaderData",_r.UseActionData="useActionData",_r.UseRouteError="useRouteError",_r.UseNavigation="useNavigation",_r.UseRouteLoaderData="useRouteLoaderData",_r.UseMatches="useMatches",_r.UseRevalidator="useRevalidator"})(DataRouterStateHook$1||(DataRouterStateHook$1={}));function useDataRouterState(_r){let _t=reactExports.useContext(DataRouterStateContext);return _t||invariant$1(!1),_t}function useRouteContext(_r){let _t=reactExports.useContext(RouteContext);return _t||invariant$1(!1),_t}function useCurrentRouteId(_r){let _t=useRouteContext(),_o=_t.matches[_t.matches.length-1];return _o.route.id||invariant$1(!1),_o.route.id}function useRouteError(){var _r;let _t=reactExports.useContext(RouteErrorContext),_o=useDataRouterState(DataRouterStateHook$1.UseRouteError),yl=useCurrentRouteId(DataRouterStateHook$1.UseRouteError);return _t||((_r=_o.errors)==null?void 0:_r[yl])}function Navigate(_r){let{to:_t,replace:_o,state:yl,relative:El}=_r;useInRouterContext()||invariant$1(!1);let _l=reactExports.useContext(DataRouterStateContext),Tl=useNavigate();return reactExports.useEffect(()=>{_l&&_l.navigation.state!=="idle"||Tl(_t,{replace:_o,state:yl,relative:El})}),null}function Outlet(_r){return useOutlet(_r.context)}function Route(_r){invariant$1(!1)}function Router(_r){let{basename:_t="/",children:_o=null,location:yl,navigationType:El=Action.Pop,navigator:_l,static:Tl=!1}=_r;useInRouterContext()&&invariant$1(!1);let Il=_t.replace(/^\/*/,"/"),Al=reactExports.useMemo(()=>({basename:Il,navigator:_l,static:Tl}),[Il,_l,Tl]);typeof yl=="string"&&(yl=parsePath(yl));let{pathname:Rl="/",search:Fl="",hash:Bl="",state:Gl=null,key:Ql="default"}=yl,_f=reactExports.useMemo(()=>{let _h=stripBasename(Rl,Il);return _h==null?null:{pathname:_h,search:Fl,hash:Bl,state:Gl,key:Ql}},[Il,Rl,Fl,Bl,Gl,Ql]);return _f==null?null:reactExports.createElement(NavigationContext.Provider,{value:Al},reactExports.createElement(LocationContext.Provider,{children:_o,value:{location:_f,navigationType:El}}))}function Routes(_r){let{children:_t,location:_o}=_r,yl=reactExports.useContext(DataRouterContext),El=yl&&!_t?yl.router.routes:createRoutesFromChildren(_t);return useRoutes(El,_o)}var AwaitRenderStatus;(function(_r){_r[_r.pending=0]="pending",_r[_r.success=1]="success",_r[_r.error=2]="error"})(AwaitRenderStatus||(AwaitRenderStatus={}));new Promise(()=>{});function createRoutesFromChildren(_r,_t){_t===void 0&&(_t=[]);let _o=[];return reactExports.Children.forEach(_r,(yl,El)=>{if(!reactExports.isValidElement(yl))return;if(yl.type===reactExports.Fragment){_o.push.apply(_o,createRoutesFromChildren(yl.props.children,_t));return}yl.type!==Route&&invariant$1(!1),!yl.props.index||!yl.props.children||invariant$1(!1);let _l=[..._t,El],Tl={id:yl.props.id||_l.join("-"),caseSensitive:yl.props.caseSensitive,element:yl.props.element,index:yl.props.index,path:yl.props.path,loader:yl.props.loader,action:yl.props.action,errorElement:yl.props.errorElement,hasErrorBoundary:yl.props.errorElement!=null,shouldRevalidate:yl.props.shouldRevalidate,handle:yl.props.handle};yl.props.children&&(Tl.children=createRoutesFromChildren(yl.props.children,_l)),_o.push(Tl)}),_o}/**
 * React Router DOM v6.8.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends(){return _extends=Object.assign?Object.assign.bind():function(_r){for(var _t=1;_t<arguments.length;_t++){var _o=arguments[_t];for(var yl in _o)Object.prototype.hasOwnProperty.call(_o,yl)&&(_r[yl]=_o[yl])}return _r},_extends.apply(this,arguments)}function _objectWithoutPropertiesLoose(_r,_t){if(_r==null)return{};var _o={},yl=Object.keys(_r),El,_l;for(_l=0;_l<yl.length;_l++)El=yl[_l],!(_t.indexOf(El)>=0)&&(_o[El]=_r[El]);return _o}function isModifiedEvent(_r){return!!(_r.metaKey||_r.altKey||_r.ctrlKey||_r.shiftKey)}function shouldProcessLinkClick(_r,_t){return _r.button===0&&(!_t||_t==="_self")&&!isModifiedEvent(_r)}const _excluded=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];function BrowserRouter(_r){let{basename:_t,children:_o,window:yl}=_r,El=reactExports.useRef();El.current==null&&(El.current=createBrowserHistory({window:yl,v5Compat:!0}));let _l=El.current,[Tl,Il]=reactExports.useState({action:_l.action,location:_l.location});return reactExports.useLayoutEffect(()=>_l.listen(Il),[_l]),reactExports.createElement(Router,{basename:_t,children:_o,location:Tl.location,navigationType:Tl.action,navigator:_l})}const isBrowser$1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Link=reactExports.forwardRef(function(_t,_o){let{onClick:yl,relative:El,reloadDocument:_l,replace:Tl,state:Il,target:Al,to:Rl,preventScrollReset:Fl}=_t,Bl=_objectWithoutPropertiesLoose(_t,_excluded),Gl,Ql=!1;if(isBrowser$1&&typeof Rl=="string"&&/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i.test(Rl)){Gl=Rl;let up=new URL(window.location.href),_d=Rl.startsWith("//")?new URL(up.protocol+Rl):new URL(Rl);_d.origin===up.origin?Rl=_d.pathname+_d.search+_d.hash:Ql=!0}let _f=useHref(Rl,{relative:El}),_h=useLinkClickHandler(Rl,{replace:Tl,state:Il,target:Al,preventScrollReset:Fl,relative:El});function vp(up){yl&&yl(up),up.defaultPrevented||_h(up)}return reactExports.createElement("a",_extends({},Bl,{href:Gl||_f,onClick:Ql||_l?yl:vp,ref:_o,target:Al}))});var DataRouterHook;(function(_r){_r.UseScrollRestoration="useScrollRestoration",_r.UseSubmitImpl="useSubmitImpl",_r.UseFetcher="useFetcher"})(DataRouterHook||(DataRouterHook={}));var DataRouterStateHook;(function(_r){_r.UseFetchers="useFetchers",_r.UseScrollRestoration="useScrollRestoration"})(DataRouterStateHook||(DataRouterStateHook={}));function useLinkClickHandler(_r,_t){let{target:_o,replace:yl,state:El,preventScrollReset:_l,relative:Tl}=_t===void 0?{}:_t,Il=useNavigate(),Al=useLocation(),Rl=useResolvedPath(_r,{relative:Tl});return reactExports.useCallback(Fl=>{if(shouldProcessLinkClick(Fl,_o)){Fl.preventDefault();let Bl=yl!==void 0?yl:createPath(Al)===createPath(Rl);Il(_r,{replace:Bl,state:El,preventScrollReset:_l,relative:Tl})}},[Al,Il,Rl,yl,El,_o,_r,_l,Tl])}var shimExports={},shim={get exports(){return shimExports},set exports(_r){shimExports=_r}},useSyncExternalStoreShim_production_min={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e$2=reactExports;function h$4(_r,_t){return _r===_t&&(_r!==0||1/_r===1/_t)||_r!==_r&&_t!==_t}var k$5=typeof Object.is=="function"?Object.is:h$4,l$4=e$2.useState,m$3=e$2.useEffect,n$4=e$2.useLayoutEffect,p$5=e$2.useDebugValue;function q$6(_r,_t){var _o=_t(),yl=l$4({inst:{value:_o,getSnapshot:_t}}),El=yl[0].inst,_l=yl[1];return n$4(function(){El.value=_o,El.getSnapshot=_t,r$3(El)&&_l({inst:El})},[_r,_o,_t]),m$3(function(){return r$3(El)&&_l({inst:El}),_r(function(){r$3(El)&&_l({inst:El})})},[_r]),p$5(_o),_o}function r$3(_r){var _t=_r.getSnapshot;_r=_r.value;try{var _o=_t();return!k$5(_r,_o)}catch{return!0}}function t$5(_r,_t){return _t()}var u$3=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?t$5:q$6;useSyncExternalStoreShim_production_min.useSyncExternalStore=e$2.useSyncExternalStore!==void 0?e$2.useSyncExternalStore:u$3;(function(_r){_r.exports=useSyncExternalStoreShim_production_min})(shim);var withSelectorExports={},withSelector={get exports(){return withSelectorExports},set exports(_r){withSelectorExports=_r}},withSelector_production_min={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h$3=reactExports,n$3=shimExports;function p$4(_r,_t){return _r===_t&&(_r!==0||1/_r===1/_t)||_r!==_r&&_t!==_t}var q$5=typeof Object.is=="function"?Object.is:p$4,r$2=n$3.useSyncExternalStore,t$4=h$3.useRef,u$2=h$3.useEffect,v$5=h$3.useMemo,w$3=h$3.useDebugValue;withSelector_production_min.useSyncExternalStoreWithSelector=function(_r,_t,_o,yl,El){var _l=t$4(null);if(_l.current===null){var Tl={hasValue:!1,value:null};_l.current=Tl}else Tl=_l.current;_l=v$5(function(){function Al(Ql){if(!Rl){if(Rl=!0,Fl=Ql,Ql=yl(Ql),El!==void 0&&Tl.hasValue){var _f=Tl.value;if(El(_f,Ql))return Bl=_f}return Bl=Ql}if(_f=Bl,q$5(Fl,Ql))return _f;var _h=yl(Ql);return El!==void 0&&El(_f,_h)?_f:(Fl=Ql,Bl=_h)}var Rl=!1,Fl,Bl,Gl=_o===void 0?null:_o;return[function(){return Al(_t())},Gl===null?void 0:function(){return Al(Gl())}]},[_t,_o,yl,El]);var Il=r$2(_r,_l[0],_l[1]);return u$2(function(){Tl.hasValue=!0,Tl.value=Il},[Il]),w$3(Il),Il};(function(_r){_r.exports=withSelector_production_min})(withSelector);function defaultNoopBatch(_r){_r()}let batch=defaultNoopBatch;const setBatch=_r=>batch=_r,getBatch=()=>batch,ReactReduxContext=reactExports.createContext(null);function useReduxContext(){return reactExports.useContext(ReactReduxContext)}const notInitialized=()=>{throw new Error("uSES not initialized!")};let useSyncExternalStoreWithSelector=notInitialized;const initializeUseSelector=_r=>{useSyncExternalStoreWithSelector=_r},refEquality=(_r,_t)=>_r===_t;function createSelectorHook(_r=ReactReduxContext){const _t=_r===ReactReduxContext?useReduxContext:()=>reactExports.useContext(_r);return function(yl,El=refEquality){const{store:_l,subscription:Tl,getServerState:Il}=_t(),Al=useSyncExternalStoreWithSelector(Tl.addNestedSub,_l.getState,Il||_l.getState,yl,El);return reactExports.useDebugValue(Al),Al}}const useSelector=createSelectorHook();var reactIsExports$1={},reactIs$2={get exports(){return reactIsExports$1},set exports(_r){reactIsExports$1=_r}},reactIs_production_min$1={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b$3=typeof Symbol=="function"&&Symbol.for,c$2=b$3?Symbol.for("react.element"):60103,d$2=b$3?Symbol.for("react.portal"):60106,e$1=b$3?Symbol.for("react.fragment"):60107,f$2=b$3?Symbol.for("react.strict_mode"):60108,g$2=b$3?Symbol.for("react.profiler"):60114,h$2=b$3?Symbol.for("react.provider"):60109,k$4=b$3?Symbol.for("react.context"):60110,l$3=b$3?Symbol.for("react.async_mode"):60111,m$2=b$3?Symbol.for("react.concurrent_mode"):60111,n$2=b$3?Symbol.for("react.forward_ref"):60112,p$3=b$3?Symbol.for("react.suspense"):60113,q$4=b$3?Symbol.for("react.suspense_list"):60120,r$1=b$3?Symbol.for("react.memo"):60115,t$3=b$3?Symbol.for("react.lazy"):60116,v$4=b$3?Symbol.for("react.block"):60121,w$2=b$3?Symbol.for("react.fundamental"):60117,x$3=b$3?Symbol.for("react.responder"):60118,y$2=b$3?Symbol.for("react.scope"):60119;function z$3(_r){if(typeof _r=="object"&&_r!==null){var _t=_r.$$typeof;switch(_t){case c$2:switch(_r=_r.type,_r){case l$3:case m$2:case e$1:case g$2:case f$2:case p$3:return _r;default:switch(_r=_r&&_r.$$typeof,_r){case k$4:case n$2:case t$3:case r$1:case h$2:return _r;default:return _t}}case d$2:return _t}}}function A$2(_r){return z$3(_r)===m$2}reactIs_production_min$1.AsyncMode=l$3;reactIs_production_min$1.ConcurrentMode=m$2;reactIs_production_min$1.ContextConsumer=k$4;reactIs_production_min$1.ContextProvider=h$2;reactIs_production_min$1.Element=c$2;reactIs_production_min$1.ForwardRef=n$2;reactIs_production_min$1.Fragment=e$1;reactIs_production_min$1.Lazy=t$3;reactIs_production_min$1.Memo=r$1;reactIs_production_min$1.Portal=d$2;reactIs_production_min$1.Profiler=g$2;reactIs_production_min$1.StrictMode=f$2;reactIs_production_min$1.Suspense=p$3;reactIs_production_min$1.isAsyncMode=function(_r){return A$2(_r)||z$3(_r)===l$3};reactIs_production_min$1.isConcurrentMode=A$2;reactIs_production_min$1.isContextConsumer=function(_r){return z$3(_r)===k$4};reactIs_production_min$1.isContextProvider=function(_r){return z$3(_r)===h$2};reactIs_production_min$1.isElement=function(_r){return typeof _r=="object"&&_r!==null&&_r.$$typeof===c$2};reactIs_production_min$1.isForwardRef=function(_r){return z$3(_r)===n$2};reactIs_production_min$1.isFragment=function(_r){return z$3(_r)===e$1};reactIs_production_min$1.isLazy=function(_r){return z$3(_r)===t$3};reactIs_production_min$1.isMemo=function(_r){return z$3(_r)===r$1};reactIs_production_min$1.isPortal=function(_r){return z$3(_r)===d$2};reactIs_production_min$1.isProfiler=function(_r){return z$3(_r)===g$2};reactIs_production_min$1.isStrictMode=function(_r){return z$3(_r)===f$2};reactIs_production_min$1.isSuspense=function(_r){return z$3(_r)===p$3};reactIs_production_min$1.isValidElementType=function(_r){return typeof _r=="string"||typeof _r=="function"||_r===e$1||_r===m$2||_r===g$2||_r===f$2||_r===p$3||_r===q$4||typeof _r=="object"&&_r!==null&&(_r.$$typeof===t$3||_r.$$typeof===r$1||_r.$$typeof===h$2||_r.$$typeof===k$4||_r.$$typeof===n$2||_r.$$typeof===w$2||_r.$$typeof===x$3||_r.$$typeof===y$2||_r.$$typeof===v$4)};reactIs_production_min$1.typeOf=z$3;(function(_r){_r.exports=reactIs_production_min$1})(reactIs$2);var reactIs$1=reactIsExports$1,FORWARD_REF_STATICS={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},MEMO_STATICS={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},TYPE_STATICS={};TYPE_STATICS[reactIs$1.ForwardRef]=FORWARD_REF_STATICS;TYPE_STATICS[reactIs$1.Memo]=MEMO_STATICS;var reactIsExports={},reactIs={get exports(){return reactIsExports},set exports(_r){reactIsExports=_r}},reactIs_production_min={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b$2=Symbol.for("react.element"),c$1=Symbol.for("react.portal"),d$1=Symbol.for("react.fragment"),e=Symbol.for("react.strict_mode"),f$1=Symbol.for("react.profiler"),g$1=Symbol.for("react.provider"),h$1=Symbol.for("react.context"),k$3=Symbol.for("react.server_context"),l$2=Symbol.for("react.forward_ref"),m$1=Symbol.for("react.suspense"),n$1=Symbol.for("react.suspense_list"),p$2=Symbol.for("react.memo"),q$3=Symbol.for("react.lazy"),t$2=Symbol.for("react.offscreen"),u$1;u$1=Symbol.for("react.module.reference");function v$3(_r){if(typeof _r=="object"&&_r!==null){var _t=_r.$$typeof;switch(_t){case b$2:switch(_r=_r.type,_r){case d$1:case f$1:case e:case m$1:case n$1:return _r;default:switch(_r=_r&&_r.$$typeof,_r){case k$3:case h$1:case l$2:case q$3:case p$2:case g$1:return _r;default:return _t}}case c$1:return _t}}}reactIs_production_min.ContextConsumer=h$1;reactIs_production_min.ContextProvider=g$1;reactIs_production_min.Element=b$2;reactIs_production_min.ForwardRef=l$2;reactIs_production_min.Fragment=d$1;reactIs_production_min.Lazy=q$3;reactIs_production_min.Memo=p$2;reactIs_production_min.Portal=c$1;reactIs_production_min.Profiler=f$1;reactIs_production_min.StrictMode=e;reactIs_production_min.Suspense=m$1;reactIs_production_min.SuspenseList=n$1;reactIs_production_min.isAsyncMode=function(){return!1};reactIs_production_min.isConcurrentMode=function(){return!1};reactIs_production_min.isContextConsumer=function(_r){return v$3(_r)===h$1};reactIs_production_min.isContextProvider=function(_r){return v$3(_r)===g$1};reactIs_production_min.isElement=function(_r){return typeof _r=="object"&&_r!==null&&_r.$$typeof===b$2};reactIs_production_min.isForwardRef=function(_r){return v$3(_r)===l$2};reactIs_production_min.isFragment=function(_r){return v$3(_r)===d$1};reactIs_production_min.isLazy=function(_r){return v$3(_r)===q$3};reactIs_production_min.isMemo=function(_r){return v$3(_r)===p$2};reactIs_production_min.isPortal=function(_r){return v$3(_r)===c$1};reactIs_production_min.isProfiler=function(_r){return v$3(_r)===f$1};reactIs_production_min.isStrictMode=function(_r){return v$3(_r)===e};reactIs_production_min.isSuspense=function(_r){return v$3(_r)===m$1};reactIs_production_min.isSuspenseList=function(_r){return v$3(_r)===n$1};reactIs_production_min.isValidElementType=function(_r){return typeof _r=="string"||typeof _r=="function"||_r===d$1||_r===f$1||_r===e||_r===m$1||_r===n$1||_r===t$2||typeof _r=="object"&&_r!==null&&(_r.$$typeof===q$3||_r.$$typeof===p$2||_r.$$typeof===g$1||_r.$$typeof===h$1||_r.$$typeof===l$2||_r.$$typeof===u$1||_r.getModuleId!==void 0)};reactIs_production_min.typeOf=v$3;(function(_r){_r.exports=reactIs_production_min})(reactIs);function createListenerCollection(){const _r=getBatch();let _t=null,_o=null;return{clear(){_t=null,_o=null},notify(){_r(()=>{let yl=_t;for(;yl;)yl.callback(),yl=yl.next})},get(){let yl=[],El=_t;for(;El;)yl.push(El),El=El.next;return yl},subscribe(yl){let El=!0,_l=_o={callback:yl,next:null,prev:_o};return _l.prev?_l.prev.next=_l:_t=_l,function(){!El||_t===null||(El=!1,_l.next?_l.next.prev=_l.prev:_o=_l.prev,_l.prev?_l.prev.next=_l.next:_t=_l.next)}}}}const nullListeners={notify(){},get:()=>[]};function createSubscription(_r,_t){let _o,yl=nullListeners;function El(Bl){return Al(),yl.subscribe(Bl)}function _l(){yl.notify()}function Tl(){Fl.onStateChange&&Fl.onStateChange()}function Il(){return Boolean(_o)}function Al(){_o||(_o=_t?_t.addNestedSub(Tl):_r.subscribe(Tl),yl=createListenerCollection())}function Rl(){_o&&(_o(),_o=void 0,yl.clear(),yl=nullListeners)}const Fl={addNestedSub:El,notifyNestedSubs:_l,handleChangeWrapper:Tl,isSubscribed:Il,trySubscribe:Al,tryUnsubscribe:Rl,getListeners:()=>yl};return Fl}const canUseDOM=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",useIsomorphicLayoutEffect$1=canUseDOM?reactExports.useLayoutEffect:reactExports.useEffect;function Provider$1({store:_r,context:_t,children:_o,serverState:yl}){const El=reactExports.useMemo(()=>{const Il=createSubscription(_r);return{store:_r,subscription:Il,getServerState:yl?()=>yl:void 0}},[_r,yl]),_l=reactExports.useMemo(()=>_r.getState(),[_r]);useIsomorphicLayoutEffect$1(()=>{const{subscription:Il}=El;return Il.onStateChange=Il.notifyNestedSubs,Il.trySubscribe(),_l!==_r.getState()&&Il.notifyNestedSubs(),()=>{Il.tryUnsubscribe(),Il.onStateChange=void 0}},[El,_l]);const Tl=_t||ReactReduxContext;return React.createElement(Tl.Provider,{value:El},_o)}function createStoreHook(_r=ReactReduxContext){const _t=_r===ReactReduxContext?useReduxContext:()=>reactExports.useContext(_r);return function(){const{store:yl}=_t();return yl}}const useStore=createStoreHook();function createDispatchHook(_r=ReactReduxContext){const _t=_r===ReactReduxContext?useStore:createStoreHook(_r);return function(){return _t().dispatch}}const useDispatch=createDispatchHook();initializeUseSelector(withSelectorExports.useSyncExternalStoreWithSelector);setBatch(reactDomExports.unstable_batchedUpdates);function n(_r){for(var _t=arguments.length,_o=Array(_t>1?_t-1:0),yl=1;yl<_t;yl++)_o[yl-1]=arguments[yl];throw Error("[Immer] minified error nr: "+_r+(_o.length?" "+_o.map(function(El){return"'"+El+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function r(_r){return!!_r&&!!_r[Q$2]}function t$1(_r){var _t;return!!_r&&(function(_o){if(!_o||typeof _o!="object")return!1;var yl=Object.getPrototypeOf(_o);if(yl===null)return!0;var El=Object.hasOwnProperty.call(yl,"constructor")&&yl.constructor;return El===Object||typeof El=="function"&&Function.toString.call(El)===Z$1}(_r)||Array.isArray(_r)||!!_r[L$2]||!!(!((_t=_r.constructor)===null||_t===void 0)&&_t[L$2])||s(_r)||v$2(_r))}function i(_r,_t,_o){_o===void 0&&(_o=!1),o(_r)===0?(_o?Object.keys:nn$1)(_r).forEach(function(yl){_o&&typeof yl=="symbol"||_t(yl,_r[yl],_r)}):_r.forEach(function(yl,El){return _t(El,yl,_r)})}function o(_r){var _t=_r[Q$2];return _t?_t.i>3?_t.i-4:_t.i:Array.isArray(_r)?1:s(_r)?2:v$2(_r)?3:0}function u(_r,_t){return o(_r)===2?_r.has(_t):Object.prototype.hasOwnProperty.call(_r,_t)}function a(_r,_t){return o(_r)===2?_r.get(_t):_r[_t]}function f(_r,_t,_o){var yl=o(_r);yl===2?_r.set(_t,_o):yl===3?_r.add(_o):_r[_t]=_o}function c(_r,_t){return _r===_t?_r!==0||1/_r==1/_t:_r!=_r&&_t!=_t}function s(_r){return X$2&&_r instanceof Map}function v$2(_r){return q$2&&_r instanceof Set}function p$1(_r){return _r.o||_r.t}function l$1(_r){if(Array.isArray(_r))return Array.prototype.slice.call(_r);var _t=rn$1(_r);delete _t[Q$2];for(var _o=nn$1(_t),yl=0;yl<_o.length;yl++){var El=_o[yl],_l=_t[El];_l.writable===!1&&(_l.writable=!0,_l.configurable=!0),(_l.get||_l.set)&&(_t[El]={configurable:!0,writable:!0,enumerable:_l.enumerable,value:_r[El]})}return Object.create(Object.getPrototypeOf(_r),_t)}function d(_r,_t){return _t===void 0&&(_t=!1),y$1(_r)||r(_r)||!t$1(_r)||(o(_r)>1&&(_r.set=_r.add=_r.clear=_r.delete=h),Object.freeze(_r),_t&&i(_r,function(_o,yl){return d(yl,!0)},!0)),_r}function h(){n(2)}function y$1(_r){return _r==null||typeof _r!="object"||Object.isFrozen(_r)}function b$1(_r){var _t=tn$1[_r];return _t||n(18,_r),_t}function m(_r,_t){tn$1[_r]||(tn$1[_r]=_t)}function _(){return U$2}function j$1(_r,_t){_t&&(b$1("Patches"),_r.u=[],_r.s=[],_r.v=_t)}function O$2(_r){g(_r),_r.p.forEach(S$2),_r.p=null}function g(_r){_r===U$2&&(U$2=_r.l)}function w$1(_r){return U$2={p:[],l:U$2,h:_r,m:!0,_:0}}function S$2(_r){var _t=_r[Q$2];_t.i===0||_t.i===1?_t.j():_t.O=!0}function P$2(_r,_t){_t._=_t.p.length;var _o=_t.p[0],yl=_r!==void 0&&_r!==_o;return _t.h.g||b$1("ES5").S(_t,_r,yl),yl?(_o[Q$2].P&&(O$2(_t),n(4)),t$1(_r)&&(_r=M$2(_t,_r),_t.l||x$2(_t,_r)),_t.u&&b$1("Patches").M(_o[Q$2].t,_r,_t.u,_t.s)):_r=M$2(_t,_o,[]),O$2(_t),_t.u&&_t.v(_t.u,_t.s),_r!==H$2?_r:void 0}function M$2(_r,_t,_o){if(y$1(_t))return _t;var yl=_t[Q$2];if(!yl)return i(_t,function(Il,Al){return A$1(_r,yl,_t,Il,Al,_o)},!0),_t;if(yl.A!==_r)return _t;if(!yl.P)return x$2(_r,yl.t,!0),yl.t;if(!yl.I){yl.I=!0,yl.A._--;var El=yl.i===4||yl.i===5?yl.o=l$1(yl.k):yl.o,_l=El,Tl=!1;yl.i===3&&(_l=new Set(El),El.clear(),Tl=!0),i(_l,function(Il,Al){return A$1(_r,yl,El,Il,Al,_o,Tl)}),x$2(_r,El,!1),_o&&_r.u&&b$1("Patches").N(yl,_o,_r.u,_r.s)}return yl.o}function A$1(_r,_t,_o,yl,El,_l,Tl){if(r(El)){var Il=M$2(_r,El,_l&&_t&&_t.i!==3&&!u(_t.R,yl)?_l.concat(yl):void 0);if(f(_o,yl,Il),!r(Il))return;_r.m=!1}else Tl&&_o.add(El);if(t$1(El)&&!y$1(El)){if(!_r.h.D&&_r._<1)return;M$2(_r,El),_t&&_t.A.l||x$2(_r,El)}}function x$2(_r,_t,_o){_o===void 0&&(_o=!1),!_r.l&&_r.h.D&&_r.m&&d(_t,_o)}function z$2(_r,_t){var _o=_r[Q$2];return(_o?p$1(_o):_r)[_t]}function I$1(_r,_t){if(_t in _r)for(var _o=Object.getPrototypeOf(_r);_o;){var yl=Object.getOwnPropertyDescriptor(_o,_t);if(yl)return yl;_o=Object.getPrototypeOf(_o)}}function k$2(_r){_r.P||(_r.P=!0,_r.l&&k$2(_r.l))}function E$1(_r){_r.o||(_r.o=l$1(_r.t))}function N$2(_r,_t,_o){var yl=s(_t)?b$1("MapSet").F(_t,_o):v$2(_t)?b$1("MapSet").T(_t,_o):_r.g?function(El,_l){var Tl=Array.isArray(El),Il={i:Tl?1:0,A:_l?_l.A:_(),P:!1,I:!1,R:{},l:_l,t:El,k:null,o:null,j:null,C:!1},Al=Il,Rl=en$1;Tl&&(Al=[Il],Rl=on);var Fl=Proxy.revocable(Al,Rl),Bl=Fl.revoke,Gl=Fl.proxy;return Il.k=Gl,Il.j=Bl,Gl}(_t,_o):b$1("ES5").J(_t,_o);return(_o?_o.A:_()).p.push(yl),yl}function R$1(_r){return r(_r)||n(22,_r),function _t(_o){if(!t$1(_o))return _o;var yl,El=_o[Q$2],_l=o(_o);if(El){if(!El.P&&(El.i<4||!b$1("ES5").K(El)))return El.t;El.I=!0,yl=D$1(_o,_l),El.I=!1}else yl=D$1(_o,_l);return i(yl,function(Tl,Il){El&&a(El.t,Tl)===Il||f(yl,Tl,_t(Il))}),_l===3?new Set(yl):yl}(_r)}function D$1(_r,_t){switch(_t){case 2:return new Map(_r);case 3:return Array.from(_r)}return l$1(_r)}function F(){function _r(_l,Tl){var Il=El[_l];return Il?Il.enumerable=Tl:El[_l]=Il={configurable:!0,enumerable:Tl,get:function(){var Al=this[Q$2];return en$1.get(Al,_l)},set:function(Al){var Rl=this[Q$2];en$1.set(Rl,_l,Al)}},Il}function _t(_l){for(var Tl=_l.length-1;Tl>=0;Tl--){var Il=_l[Tl][Q$2];if(!Il.P)switch(Il.i){case 5:yl(Il)&&k$2(Il);break;case 4:_o(Il)&&k$2(Il)}}}function _o(_l){for(var Tl=_l.t,Il=_l.k,Al=nn$1(Il),Rl=Al.length-1;Rl>=0;Rl--){var Fl=Al[Rl];if(Fl!==Q$2){var Bl=Tl[Fl];if(Bl===void 0&&!u(Tl,Fl))return!0;var Gl=Il[Fl],Ql=Gl&&Gl[Q$2];if(Ql?Ql.t!==Bl:!c(Gl,Bl))return!0}}var _f=!!Tl[Q$2];return Al.length!==nn$1(Tl).length+(_f?0:1)}function yl(_l){var Tl=_l.k;if(Tl.length!==_l.t.length)return!0;var Il=Object.getOwnPropertyDescriptor(Tl,Tl.length-1);if(Il&&!Il.get)return!0;for(var Al=0;Al<Tl.length;Al++)if(!Tl.hasOwnProperty(Al))return!0;return!1}var El={};m("ES5",{J:function(_l,Tl){var Il=Array.isArray(_l),Al=function(Fl,Bl){if(Fl){for(var Gl=Array(Bl.length),Ql=0;Ql<Bl.length;Ql++)Object.defineProperty(Gl,""+Ql,_r(Ql,!0));return Gl}var _f=rn$1(Bl);delete _f[Q$2];for(var _h=nn$1(_f),vp=0;vp<_h.length;vp++){var up=_h[vp];_f[up]=_r(up,Fl||!!_f[up].enumerable)}return Object.create(Object.getPrototypeOf(Bl),_f)}(Il,_l),Rl={i:Il?5:4,A:Tl?Tl.A:_(),P:!1,I:!1,R:{},l:Tl,t:_l,k:Al,o:null,O:!1,C:!1};return Object.defineProperty(Al,Q$2,{value:Rl,writable:!0}),Al},S:function(_l,Tl,Il){Il?r(Tl)&&Tl[Q$2].A===_l&&_t(_l.p):(_l.u&&function Al(Rl){if(Rl&&typeof Rl=="object"){var Fl=Rl[Q$2];if(Fl){var Bl=Fl.t,Gl=Fl.k,Ql=Fl.R,_f=Fl.i;if(_f===4)i(Gl,function(Ep){Ep!==Q$2&&(Bl[Ep]!==void 0||u(Bl,Ep)?Ql[Ep]||Al(Gl[Ep]):(Ql[Ep]=!0,k$2(Fl)))}),i(Bl,function(Ep){Gl[Ep]!==void 0||u(Gl,Ep)||(Ql[Ep]=!1,k$2(Fl))});else if(_f===5){if(yl(Fl)&&(k$2(Fl),Ql.length=!0),Gl.length<Bl.length)for(var _h=Gl.length;_h<Bl.length;_h++)Ql[_h]=!1;else for(var vp=Bl.length;vp<Gl.length;vp++)Ql[vp]=!0;for(var up=Math.min(Gl.length,Bl.length),_d=0;_d<up;_d++)Gl.hasOwnProperty(_d)||(Ql[_d]=!0),Ql[_d]===void 0&&Al(Gl[_d])}}}}(_l.p[0]),_t(_l.p))},K:function(_l){return _l.i===4?_o(_l):yl(_l)}})}var G$2,U$2,W$2=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",X$2=typeof Map<"u",q$2=typeof Set<"u",B$2=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",H$2=W$2?Symbol.for("immer-nothing"):((G$2={})["immer-nothing"]=!0,G$2),L$2=W$2?Symbol.for("immer-draftable"):"__$immer_draftable",Q$2=W$2?Symbol.for("immer-state"):"__$immer_state",Z$1=""+Object.prototype.constructor,nn$1=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(_r){return Object.getOwnPropertyNames(_r).concat(Object.getOwnPropertySymbols(_r))}:Object.getOwnPropertyNames,rn$1=Object.getOwnPropertyDescriptors||function(_r){var _t={};return nn$1(_r).forEach(function(_o){_t[_o]=Object.getOwnPropertyDescriptor(_r,_o)}),_t},tn$1={},en$1={get:function(_r,_t){if(_t===Q$2)return _r;var _o=p$1(_r);if(!u(_o,_t))return function(El,_l,Tl){var Il,Al=I$1(_l,Tl);return Al?"value"in Al?Al.value:(Il=Al.get)===null||Il===void 0?void 0:Il.call(El.k):void 0}(_r,_o,_t);var yl=_o[_t];return _r.I||!t$1(yl)?yl:yl===z$2(_r.t,_t)?(E$1(_r),_r.o[_t]=N$2(_r.A.h,yl,_r)):yl},has:function(_r,_t){return _t in p$1(_r)},ownKeys:function(_r){return Reflect.ownKeys(p$1(_r))},set:function(_r,_t,_o){var yl=I$1(p$1(_r),_t);if(yl!=null&&yl.set)return yl.set.call(_r.k,_o),!0;if(!_r.P){var El=z$2(p$1(_r),_t),_l=El==null?void 0:El[Q$2];if(_l&&_l.t===_o)return _r.o[_t]=_o,_r.R[_t]=!1,!0;if(c(_o,El)&&(_o!==void 0||u(_r.t,_t)))return!0;E$1(_r),k$2(_r)}return _r.o[_t]===_o&&(_o!==void 0||_t in _r.o)||Number.isNaN(_o)&&Number.isNaN(_r.o[_t])||(_r.o[_t]=_o,_r.R[_t]=!0),!0},deleteProperty:function(_r,_t){return z$2(_r.t,_t)!==void 0||_t in _r.t?(_r.R[_t]=!1,E$1(_r),k$2(_r)):delete _r.R[_t],_r.o&&delete _r.o[_t],!0},getOwnPropertyDescriptor:function(_r,_t){var _o=p$1(_r),yl=Reflect.getOwnPropertyDescriptor(_o,_t);return yl&&{writable:!0,configurable:_r.i!==1||_t!=="length",enumerable:yl.enumerable,value:_o[_t]}},defineProperty:function(){n(11)},getPrototypeOf:function(_r){return Object.getPrototypeOf(_r.t)},setPrototypeOf:function(){n(12)}},on={};i(en$1,function(_r,_t){on[_r]=function(){return arguments[0]=arguments[0][0],_t.apply(this,arguments)}}),on.deleteProperty=function(_r,_t){return on.set.call(this,_r,_t,void 0)},on.set=function(_r,_t,_o){return en$1.set.call(this,_r[0],_t,_o,_r[0])};var un=function(){function _r(_o){var yl=this;this.g=B$2,this.D=!0,this.produce=function(El,_l,Tl){if(typeof El=="function"&&typeof _l!="function"){var Il=_l;_l=El;var Al=yl;return function(_h){var vp=this;_h===void 0&&(_h=Il);for(var up=arguments.length,_d=Array(up>1?up-1:0),Ep=1;Ep<up;Ep++)_d[Ep-1]=arguments[Ep];return Al.produce(_h,function(Op){var Ip;return(Ip=_l).call.apply(Ip,[vp,Op].concat(_d))})}}var Rl;if(typeof _l!="function"&&n(6),Tl!==void 0&&typeof Tl!="function"&&n(7),t$1(El)){var Fl=w$1(yl),Bl=N$2(yl,El,void 0),Gl=!0;try{Rl=_l(Bl),Gl=!1}finally{Gl?O$2(Fl):g(Fl)}return typeof Promise<"u"&&Rl instanceof Promise?Rl.then(function(_h){return j$1(Fl,Tl),P$2(_h,Fl)},function(_h){throw O$2(Fl),_h}):(j$1(Fl,Tl),P$2(Rl,Fl))}if(!El||typeof El!="object"){if((Rl=_l(El))===void 0&&(Rl=El),Rl===H$2&&(Rl=void 0),yl.D&&d(Rl,!0),Tl){var Ql=[],_f=[];b$1("Patches").M(El,Rl,Ql,_f),Tl(Ql,_f)}return Rl}n(21,El)},this.produceWithPatches=function(El,_l){if(typeof El=="function")return function(Rl){for(var Fl=arguments.length,Bl=Array(Fl>1?Fl-1:0),Gl=1;Gl<Fl;Gl++)Bl[Gl-1]=arguments[Gl];return yl.produceWithPatches(Rl,function(Ql){return El.apply(void 0,[Ql].concat(Bl))})};var Tl,Il,Al=yl.produce(El,_l,function(Rl,Fl){Tl=Rl,Il=Fl});return typeof Promise<"u"&&Al instanceof Promise?Al.then(function(Rl){return[Rl,Tl,Il]}):[Al,Tl,Il]},typeof(_o==null?void 0:_o.useProxies)=="boolean"&&this.setUseProxies(_o.useProxies),typeof(_o==null?void 0:_o.autoFreeze)=="boolean"&&this.setAutoFreeze(_o.autoFreeze)}var _t=_r.prototype;return _t.createDraft=function(_o){t$1(_o)||n(8),r(_o)&&(_o=R$1(_o));var yl=w$1(this),El=N$2(this,_o,void 0);return El[Q$2].C=!0,g(yl),El},_t.finishDraft=function(_o,yl){var El=_o&&_o[Q$2],_l=El.A;return j$1(_l,yl),P$2(void 0,_l)},_t.setAutoFreeze=function(_o){this.D=_o},_t.setUseProxies=function(_o){_o&&!B$2&&n(20),this.g=_o},_t.applyPatches=function(_o,yl){var El;for(El=yl.length-1;El>=0;El--){var _l=yl[El];if(_l.path.length===0&&_l.op==="replace"){_o=_l.value;break}}El>-1&&(yl=yl.slice(El+1));var Tl=b$1("Patches").$;return r(_o)?Tl(_o,yl):this.produce(_o,function(Il){return Tl(Il,yl)})},_r}(),an$1=new un,fn$1=an$1.produce;an$1.produceWithPatches.bind(an$1);an$1.setAutoFreeze.bind(an$1);an$1.setUseProxies.bind(an$1);an$1.applyPatches.bind(an$1);an$1.createDraft.bind(an$1);an$1.finishDraft.bind(an$1);function _typeof(_r){return _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_t){return typeof _t}:function(_t){return _t&&typeof Symbol=="function"&&_t.constructor===Symbol&&_t!==Symbol.prototype?"symbol":typeof _t},_typeof(_r)}function _toPrimitive(_r,_t){if(_typeof(_r)!=="object"||_r===null)return _r;var _o=_r[Symbol.toPrimitive];if(_o!==void 0){var yl=_o.call(_r,_t||"default");if(_typeof(yl)!=="object")return yl;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_t==="string"?String:Number)(_r)}function _toPropertyKey(_r){var _t=_toPrimitive(_r,"string");return _typeof(_t)==="symbol"?_t:String(_t)}function _defineProperty(_r,_t,_o){return _t=_toPropertyKey(_t),_t in _r?Object.defineProperty(_r,_t,{value:_o,enumerable:!0,configurable:!0,writable:!0}):_r[_t]=_o,_r}function ownKeys(_r,_t){var _o=Object.keys(_r);if(Object.getOwnPropertySymbols){var yl=Object.getOwnPropertySymbols(_r);_t&&(yl=yl.filter(function(El){return Object.getOwnPropertyDescriptor(_r,El).enumerable})),_o.push.apply(_o,yl)}return _o}function _objectSpread2(_r){for(var _t=1;_t<arguments.length;_t++){var _o=arguments[_t]!=null?arguments[_t]:{};_t%2?ownKeys(Object(_o),!0).forEach(function(yl){_defineProperty(_r,yl,_o[yl])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_r,Object.getOwnPropertyDescriptors(_o)):ownKeys(Object(_o)).forEach(function(yl){Object.defineProperty(_r,yl,Object.getOwnPropertyDescriptor(_o,yl))})}return _r}function formatProdErrorMessage(_r){return"Minified Redux error #"+_r+"; visit https://redux.js.org/Errors?code="+_r+" for the full message or use the non-minified dev environment for full errors. "}var $$observable=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),randomString=function(){return Math.random().toString(36).substring(7).split("").join(".")},ActionTypes={INIT:"@@redux/INIT"+randomString(),REPLACE:"@@redux/REPLACE"+randomString(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+randomString()}};function isPlainObject$2(_r){if(typeof _r!="object"||_r===null)return!1;for(var _t=_r;Object.getPrototypeOf(_t)!==null;)_t=Object.getPrototypeOf(_t);return Object.getPrototypeOf(_r)===_t}function createStore(_r,_t,_o){var yl;if(typeof _t=="function"&&typeof _o=="function"||typeof _o=="function"&&typeof arguments[3]=="function")throw new Error(formatProdErrorMessage(0));if(typeof _t=="function"&&typeof _o>"u"&&(_o=_t,_t=void 0),typeof _o<"u"){if(typeof _o!="function")throw new Error(formatProdErrorMessage(1));return _o(createStore)(_r,_t)}if(typeof _r!="function")throw new Error(formatProdErrorMessage(2));var El=_r,_l=_t,Tl=[],Il=Tl,Al=!1;function Rl(){Il===Tl&&(Il=Tl.slice())}function Fl(){if(Al)throw new Error(formatProdErrorMessage(3));return _l}function Bl(_h){if(typeof _h!="function")throw new Error(formatProdErrorMessage(4));if(Al)throw new Error(formatProdErrorMessage(5));var vp=!0;return Rl(),Il.push(_h),function(){if(vp){if(Al)throw new Error(formatProdErrorMessage(6));vp=!1,Rl();var _d=Il.indexOf(_h);Il.splice(_d,1),Tl=null}}}function Gl(_h){if(!isPlainObject$2(_h))throw new Error(formatProdErrorMessage(7));if(typeof _h.type>"u")throw new Error(formatProdErrorMessage(8));if(Al)throw new Error(formatProdErrorMessage(9));try{Al=!0,_l=El(_l,_h)}finally{Al=!1}for(var vp=Tl=Il,up=0;up<vp.length;up++){var _d=vp[up];_d()}return _h}function Ql(_h){if(typeof _h!="function")throw new Error(formatProdErrorMessage(10));El=_h,Gl({type:ActionTypes.REPLACE})}function _f(){var _h,vp=Bl;return _h={subscribe:function(_d){if(typeof _d!="object"||_d===null)throw new Error(formatProdErrorMessage(11));function Ep(){_d.next&&_d.next(Fl())}Ep();var Op=vp(Ep);return{unsubscribe:Op}}},_h[$$observable]=function(){return this},_h}return Gl({type:ActionTypes.INIT}),yl={dispatch:Gl,subscribe:Bl,getState:Fl,replaceReducer:Ql},yl[$$observable]=_f,yl}function assertReducerShape(_r){Object.keys(_r).forEach(function(_t){var _o=_r[_t],yl=_o(void 0,{type:ActionTypes.INIT});if(typeof yl>"u")throw new Error(formatProdErrorMessage(12));if(typeof _o(void 0,{type:ActionTypes.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(formatProdErrorMessage(13))})}function combineReducers(_r){for(var _t=Object.keys(_r),_o={},yl=0;yl<_t.length;yl++){var El=_t[yl];typeof _r[El]=="function"&&(_o[El]=_r[El])}var _l=Object.keys(_o),Tl;try{assertReducerShape(_o)}catch(Il){Tl=Il}return function(Al,Rl){if(Al===void 0&&(Al={}),Tl)throw Tl;for(var Fl=!1,Bl={},Gl=0;Gl<_l.length;Gl++){var Ql=_l[Gl],_f=_o[Ql],_h=Al[Ql],vp=_f(_h,Rl);if(typeof vp>"u")throw Rl&&Rl.type,new Error(formatProdErrorMessage(14));Bl[Ql]=vp,Fl=Fl||vp!==_h}return Fl=Fl||_l.length!==Object.keys(Al).length,Fl?Bl:Al}}function compose(){for(var _r=arguments.length,_t=new Array(_r),_o=0;_o<_r;_o++)_t[_o]=arguments[_o];return _t.length===0?function(yl){return yl}:_t.length===1?_t[0]:_t.reduce(function(yl,El){return function(){return yl(El.apply(void 0,arguments))}})}function applyMiddleware(){for(var _r=arguments.length,_t=new Array(_r),_o=0;_o<_r;_o++)_t[_o]=arguments[_o];return function(yl){return function(){var El=yl.apply(void 0,arguments),_l=function(){throw new Error(formatProdErrorMessage(15))},Tl={getState:El.getState,dispatch:function(){return _l.apply(void 0,arguments)}},Il=_t.map(function(Al){return Al(Tl)});return _l=compose.apply(void 0,Il)(El.dispatch),_objectSpread2(_objectSpread2({},El),{},{dispatch:_l})}}}function createThunkMiddleware(_r){var _t=function(yl){var El=yl.dispatch,_l=yl.getState;return function(Tl){return function(Il){return typeof Il=="function"?Il(El,_l,_r):Tl(Il)}}};return _t}var thunk=createThunkMiddleware();thunk.withExtraArgument=createThunkMiddleware;const thunk$1=thunk;var __extends=globalThis&&globalThis.__extends||function(){var _r=function(_t,_o){return _r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(yl,El){yl.__proto__=El}||function(yl,El){for(var _l in El)Object.prototype.hasOwnProperty.call(El,_l)&&(yl[_l]=El[_l])},_r(_t,_o)};return function(_t,_o){if(typeof _o!="function"&&_o!==null)throw new TypeError("Class extends value "+String(_o)+" is not a constructor or null");_r(_t,_o);function yl(){this.constructor=_t}_t.prototype=_o===null?Object.create(_o):(yl.prototype=_o.prototype,new yl)}}(),__generator=globalThis&&globalThis.__generator||function(_r,_t){var _o={label:0,sent:function(){if(_l[0]&1)throw _l[1];return _l[1]},trys:[],ops:[]},yl,El,_l,Tl;return Tl={next:Il(0),throw:Il(1),return:Il(2)},typeof Symbol=="function"&&(Tl[Symbol.iterator]=function(){return this}),Tl;function Il(Rl){return function(Fl){return Al([Rl,Fl])}}function Al(Rl){if(yl)throw new TypeError("Generator is already executing.");for(;_o;)try{if(yl=1,El&&(_l=Rl[0]&2?El.return:Rl[0]?El.throw||((_l=El.return)&&_l.call(El),0):El.next)&&!(_l=_l.call(El,Rl[1])).done)return _l;switch(El=0,_l&&(Rl=[Rl[0]&2,_l.value]),Rl[0]){case 0:case 1:_l=Rl;break;case 4:return _o.label++,{value:Rl[1],done:!1};case 5:_o.label++,El=Rl[1],Rl=[0];continue;case 7:Rl=_o.ops.pop(),_o.trys.pop();continue;default:if(_l=_o.trys,!(_l=_l.length>0&&_l[_l.length-1])&&(Rl[0]===6||Rl[0]===2)){_o=0;continue}if(Rl[0]===3&&(!_l||Rl[1]>_l[0]&&Rl[1]<_l[3])){_o.label=Rl[1];break}if(Rl[0]===6&&_o.label<_l[1]){_o.label=_l[1],_l=Rl;break}if(_l&&_o.label<_l[2]){_o.label=_l[2],_o.ops.push(Rl);break}_l[2]&&_o.ops.pop(),_o.trys.pop();continue}Rl=_t.call(_r,_o)}catch(Fl){Rl=[6,Fl],El=0}finally{yl=_l=0}if(Rl[0]&5)throw Rl[1];return{value:Rl[0]?Rl[1]:void 0,done:!0}}},__spreadArray=globalThis&&globalThis.__spreadArray||function(_r,_t){for(var _o=0,yl=_t.length,El=_r.length;_o<yl;_o++,El++)_r[El]=_t[_o];return _r},__defProp=Object.defineProperty,__defProps=Object.defineProperties,__getOwnPropDescs=Object.getOwnPropertyDescriptors,__getOwnPropSymbols=Object.getOwnPropertySymbols,__hasOwnProp=Object.prototype.hasOwnProperty,__propIsEnum=Object.prototype.propertyIsEnumerable,__defNormalProp=function(_r,_t,_o){return _t in _r?__defProp(_r,_t,{enumerable:!0,configurable:!0,writable:!0,value:_o}):_r[_t]=_o},__spreadValues=function(_r,_t){for(var _o in _t||(_t={}))__hasOwnProp.call(_t,_o)&&__defNormalProp(_r,_o,_t[_o]);if(__getOwnPropSymbols)for(var yl=0,El=__getOwnPropSymbols(_t);yl<El.length;yl++){var _o=El[yl];__propIsEnum.call(_t,_o)&&__defNormalProp(_r,_o,_t[_o])}return _r},__spreadProps=function(_r,_t){return __defProps(_r,__getOwnPropDescs(_t))},__async=function(_r,_t,_o){return new Promise(function(yl,El){var _l=function(Al){try{Il(_o.next(Al))}catch(Rl){El(Rl)}},Tl=function(Al){try{Il(_o.throw(Al))}catch(Rl){El(Rl)}},Il=function(Al){return Al.done?yl(Al.value):Promise.resolve(Al.value).then(_l,Tl)};Il((_o=_o.apply(_r,_t)).next())})},composeWithDevTools=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?compose:compose.apply(null,arguments)};function isPlainObject$1(_r){if(typeof _r!="object"||_r===null)return!1;var _t=Object.getPrototypeOf(_r);if(_t===null)return!0;for(var _o=_t;Object.getPrototypeOf(_o)!==null;)_o=Object.getPrototypeOf(_o);return _t===_o}var MiddlewareArray=function(_r){__extends(_t,_r);function _t(){for(var _o=[],yl=0;yl<arguments.length;yl++)_o[yl]=arguments[yl];var El=_r.apply(this,_o)||this;return Object.setPrototypeOf(El,_t.prototype),El}return Object.defineProperty(_t,Symbol.species,{get:function(){return _t},enumerable:!1,configurable:!0}),_t.prototype.concat=function(){for(var _o=[],yl=0;yl<arguments.length;yl++)_o[yl]=arguments[yl];return _r.prototype.concat.apply(this,_o)},_t.prototype.prepend=function(){for(var _o=[],yl=0;yl<arguments.length;yl++)_o[yl]=arguments[yl];return _o.length===1&&Array.isArray(_o[0])?new(_t.bind.apply(_t,__spreadArray([void 0],_o[0].concat(this)))):new(_t.bind.apply(_t,__spreadArray([void 0],_o.concat(this))))},_t}(Array);function freezeDraftable(_r){return t$1(_r)?fn$1(_r,function(){}):_r}function isBoolean(_r){return typeof _r=="boolean"}function curryGetDefaultMiddleware(){return function(_t){return getDefaultMiddleware(_t)}}function getDefaultMiddleware(_r){_r===void 0&&(_r={});var _t=_r.thunk,_o=_t===void 0?!0:_t;_r.immutableCheck,_r.serializableCheck;var yl=new MiddlewareArray;return _o&&(isBoolean(_o)?yl.push(thunk$1):yl.push(thunk$1.withExtraArgument(_o.extraArgument))),yl}var IS_PRODUCTION=!0;function configureStore(_r){var _t=curryGetDefaultMiddleware(),_o=_r||{},yl=_o.reducer,El=yl===void 0?void 0:yl,_l=_o.middleware,Tl=_l===void 0?_t():_l,Il=_o.devTools,Al=Il===void 0?!0:Il,Rl=_o.preloadedState,Fl=Rl===void 0?void 0:Rl,Bl=_o.enhancers,Gl=Bl===void 0?void 0:Bl,Ql;if(typeof El=="function")Ql=El;else if(isPlainObject$1(El))Ql=combineReducers(El);else throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');var _f=Tl;typeof _f=="function"&&(_f=_f(_t));var _h=applyMiddleware.apply(void 0,_f),vp=compose;Al&&(vp=composeWithDevTools(__spreadValues({trace:!IS_PRODUCTION},typeof Al=="object"&&Al)));var up=[_h];Array.isArray(Gl)?up=__spreadArray([_h],Gl):typeof Gl=="function"&&(up=Gl(up));var _d=vp.apply(void 0,up);return createStore(Ql,Fl,_d)}function createAction(_r,_t){function _o(){for(var yl=[],El=0;El<arguments.length;El++)yl[El]=arguments[El];if(_t){var _l=_t.apply(void 0,yl);if(!_l)throw new Error("prepareAction did not return an object");return __spreadValues(__spreadValues({type:_r,payload:_l.payload},"meta"in _l&&{meta:_l.meta}),"error"in _l&&{error:_l.error})}return{type:_r,payload:yl[0]}}return _o.toString=function(){return""+_r},_o.type=_r,_o.match=function(yl){return yl.type===_r},_o}function executeReducerBuilderCallback(_r){var _t={},_o=[],yl,El={addCase:function(_l,Tl){var Il=typeof _l=="string"?_l:_l.type;if(Il in _t)throw new Error("addCase cannot be called with two reducers for the same action type");return _t[Il]=Tl,El},addMatcher:function(_l,Tl){return _o.push({matcher:_l,reducer:Tl}),El},addDefaultCase:function(_l){return yl=_l,El}};return _r(El),[_t,_o,yl]}function isStateFunction(_r){return typeof _r=="function"}function createReducer(_r,_t,_o,yl){_o===void 0&&(_o=[]);var El=typeof _t=="function"?executeReducerBuilderCallback(_t):[_t,_o,yl],_l=El[0],Tl=El[1],Il=El[2],Al;if(isStateFunction(_r))Al=function(){return freezeDraftable(_r())};else{var Rl=freezeDraftable(_r);Al=function(){return Rl}}function Fl(Bl,Gl){Bl===void 0&&(Bl=Al());var Ql=__spreadArray([_l[Gl.type]],Tl.filter(function(_f){var _h=_f.matcher;return _h(Gl)}).map(function(_f){var _h=_f.reducer;return _h}));return Ql.filter(function(_f){return!!_f}).length===0&&(Ql=[Il]),Ql.reduce(function(_f,_h){if(_h)if(r(_f)){var vp=_f,up=_h(vp,Gl);return up===void 0?_f:up}else{if(t$1(_f))return fn$1(_f,function(_d){return _h(_d,Gl)});var up=_h(_f,Gl);if(up===void 0){if(_f===null)return _f;throw Error("A case reducer on a non-draftable value must not return undefined")}return up}return _f},Bl)}return Fl.getInitialState=Al,Fl}function getType2(_r,_t){return _r+"/"+_t}function createSlice(_r){var _t=_r.name;if(!_t)throw new Error("`name` is a required option for createSlice");typeof process<"u";var _o=typeof _r.initialState=="function"?_r.initialState:freezeDraftable(_r.initialState),yl=_r.reducers||{},El=Object.keys(yl),_l={},Tl={},Il={};El.forEach(function(Fl){var Bl=yl[Fl],Gl=getType2(_t,Fl),Ql,_f;"reducer"in Bl?(Ql=Bl.reducer,_f=Bl.prepare):Ql=Bl,_l[Fl]=Ql,Tl[Gl]=Ql,Il[Fl]=_f?createAction(Gl,_f):createAction(Gl)});function Al(){var Fl=typeof _r.extraReducers=="function"?executeReducerBuilderCallback(_r.extraReducers):[_r.extraReducers],Bl=Fl[0],Gl=Bl===void 0?{}:Bl,Ql=Fl[1],_f=Ql===void 0?[]:Ql,_h=Fl[2],vp=_h===void 0?void 0:_h,up=__spreadValues(__spreadValues({},Gl),Tl);return createReducer(_o,function(_d){for(var Ep in up)_d.addCase(Ep,up[Ep]);for(var Op=0,Ip=_f;Op<Ip.length;Op++){var Pp=Ip[Op];_d.addMatcher(Pp.matcher,Pp.reducer)}vp&&_d.addDefaultCase(vp)})}var Rl;return{name:_t,reducer:function(Fl,Bl){return Rl||(Rl=Al()),Rl(Fl,Bl)},actions:Il,caseReducers:_l,getInitialState:function(){return Rl||(Rl=Al()),Rl.getInitialState()}}}var urlAlphabet="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",nanoid$1=function(_r){_r===void 0&&(_r=21);for(var _t="",_o=_r;_o--;)_t+=urlAlphabet[Math.random()*64|0];return _t},commonProperties=["name","message","stack","code"],RejectWithValue=function(){function _r(_t,_o){this.payload=_t,this.meta=_o}return _r}(),FulfillWithMeta=function(){function _r(_t,_o){this.payload=_t,this.meta=_o}return _r}(),miniSerializeError=function(_r){if(typeof _r=="object"&&_r!==null){for(var _t={},_o=0,yl=commonProperties;_o<yl.length;_o++){var El=yl[_o];typeof _r[El]=="string"&&(_t[El]=_r[El])}return _t}return{message:String(_r)}};(function(){function _r(_t,_o,yl){var El=createAction(_t+"/fulfilled",function(Rl,Fl,Bl,Gl){return{payload:Rl,meta:__spreadProps(__spreadValues({},Gl||{}),{arg:Bl,requestId:Fl,requestStatus:"fulfilled"})}}),_l=createAction(_t+"/pending",function(Rl,Fl,Bl){return{payload:void 0,meta:__spreadProps(__spreadValues({},Bl||{}),{arg:Fl,requestId:Rl,requestStatus:"pending"})}}),Tl=createAction(_t+"/rejected",function(Rl,Fl,Bl,Gl,Ql){return{payload:Gl,error:(yl&&yl.serializeError||miniSerializeError)(Rl||"Rejected"),meta:__spreadProps(__spreadValues({},Ql||{}),{arg:Bl,requestId:Fl,rejectedWithValue:!!Gl,requestStatus:"rejected",aborted:(Rl==null?void 0:Rl.name)==="AbortError",condition:(Rl==null?void 0:Rl.name)==="ConditionError"})}}),Il=typeof AbortController<"u"?AbortController:function(){function Rl(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return Rl.prototype.abort=function(){},Rl}();function Al(Rl){return function(Fl,Bl,Gl){var Ql=yl!=null&&yl.idGenerator?yl.idGenerator(Rl):nanoid$1(),_f=new Il,_h;function vp(_d){_h=_d,_f.abort()}var up=function(){return __async(this,null,function(){var _d,Ep,Op,Ip,Pp,xp,Np;return __generator(this,function(Kp){switch(Kp.label){case 0:return Kp.trys.push([0,4,,5]),Ip=(_d=yl==null?void 0:yl.condition)==null?void 0:_d.call(yl,Rl,{getState:Bl,extra:Gl}),isThenable(Ip)?[4,Ip]:[3,2];case 1:Ip=Kp.sent(),Kp.label=2;case 2:if(Ip===!1||_f.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return Pp=new Promise(function(Tp,Dp){return _f.signal.addEventListener("abort",function(){return Dp({name:"AbortError",message:_h||"Aborted"})})}),Fl(_l(Ql,Rl,(Ep=yl==null?void 0:yl.getPendingMeta)==null?void 0:Ep.call(yl,{requestId:Ql,arg:Rl},{getState:Bl,extra:Gl}))),[4,Promise.race([Pp,Promise.resolve(_o(Rl,{dispatch:Fl,getState:Bl,extra:Gl,requestId:Ql,signal:_f.signal,abort:vp,rejectWithValue:function(Tp,Dp){return new RejectWithValue(Tp,Dp)},fulfillWithValue:function(Tp,Dp){return new FulfillWithMeta(Tp,Dp)}})).then(function(Tp){if(Tp instanceof RejectWithValue)throw Tp;return Tp instanceof FulfillWithMeta?El(Tp.payload,Ql,Rl,Tp.meta):El(Tp,Ql,Rl)})])];case 3:return Op=Kp.sent(),[3,5];case 4:return xp=Kp.sent(),Op=xp instanceof RejectWithValue?Tl(null,Ql,Rl,xp.payload,xp.meta):Tl(xp,Ql,Rl),[3,5];case 5:return Np=yl&&!yl.dispatchConditionRejection&&Tl.match(Op)&&Op.meta.condition,Np||Fl(Op),[2,Op]}})})}();return Object.assign(up,{abort:vp,requestId:Ql,arg:Rl,unwrap:function(){return up.then(unwrapResult)}})}}return Object.assign(Al,{pending:_l,rejected:Tl,fulfilled:El,typePrefix:_t})}return _r.withTypes=function(){return _r},_r})();function unwrapResult(_r){if(_r.meta&&_r.meta.rejectedWithValue)throw _r.payload;if(_r.error)throw _r.error;return _r.payload}function isThenable(_r){return _r!==null&&typeof _r=="object"&&typeof _r.then=="function"}var alm="listenerMiddleware";createAction(alm+"/add");createAction(alm+"/removeAll");createAction(alm+"/remove");var promise;typeof queueMicrotask=="function"&&queueMicrotask.bind(typeof window<"u"?window:typeof global<"u"?global:globalThis);F();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const stringToByteArray$1=function(_r){const _t=[];let _o=0;for(let yl=0;yl<_r.length;yl++){let El=_r.charCodeAt(yl);El<128?_t[_o++]=El:El<2048?(_t[_o++]=El>>6|192,_t[_o++]=El&63|128):(El&64512)===55296&&yl+1<_r.length&&(_r.charCodeAt(yl+1)&64512)===56320?(El=65536+((El&1023)<<10)+(_r.charCodeAt(++yl)&1023),_t[_o++]=El>>18|240,_t[_o++]=El>>12&63|128,_t[_o++]=El>>6&63|128,_t[_o++]=El&63|128):(_t[_o++]=El>>12|224,_t[_o++]=El>>6&63|128,_t[_o++]=El&63|128)}return _t},byteArrayToString=function(_r){const _t=[];let _o=0,yl=0;for(;_o<_r.length;){const El=_r[_o++];if(El<128)_t[yl++]=String.fromCharCode(El);else if(El>191&&El<224){const _l=_r[_o++];_t[yl++]=String.fromCharCode((El&31)<<6|_l&63)}else if(El>239&&El<365){const _l=_r[_o++],Tl=_r[_o++],Il=_r[_o++],Al=((El&7)<<18|(_l&63)<<12|(Tl&63)<<6|Il&63)-65536;_t[yl++]=String.fromCharCode(55296+(Al>>10)),_t[yl++]=String.fromCharCode(56320+(Al&1023))}else{const _l=_r[_o++],Tl=_r[_o++];_t[yl++]=String.fromCharCode((El&15)<<12|(_l&63)<<6|Tl&63)}}return _t.join("")},base64={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(_r,_t){if(!Array.isArray(_r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const _o=_t?this.byteToCharMapWebSafe_:this.byteToCharMap_,yl=[];for(let El=0;El<_r.length;El+=3){const _l=_r[El],Tl=El+1<_r.length,Il=Tl?_r[El+1]:0,Al=El+2<_r.length,Rl=Al?_r[El+2]:0,Fl=_l>>2,Bl=(_l&3)<<4|Il>>4;let Gl=(Il&15)<<2|Rl>>6,Ql=Rl&63;Al||(Ql=64,Tl||(Gl=64)),yl.push(_o[Fl],_o[Bl],_o[Gl],_o[Ql])}return yl.join("")},encodeString(_r,_t){return this.HAS_NATIVE_SUPPORT&&!_t?btoa(_r):this.encodeByteArray(stringToByteArray$1(_r),_t)},decodeString(_r,_t){return this.HAS_NATIVE_SUPPORT&&!_t?atob(_r):byteArrayToString(this.decodeStringToByteArray(_r,_t))},decodeStringToByteArray(_r,_t){this.init_();const _o=_t?this.charToByteMapWebSafe_:this.charToByteMap_,yl=[];for(let El=0;El<_r.length;){const _l=_o[_r.charAt(El++)],Il=El<_r.length?_o[_r.charAt(El)]:0;++El;const Rl=El<_r.length?_o[_r.charAt(El)]:64;++El;const Bl=El<_r.length?_o[_r.charAt(El)]:64;if(++El,_l==null||Il==null||Rl==null||Bl==null)throw Error();const Gl=_l<<2|Il>>4;if(yl.push(Gl),Rl!==64){const Ql=Il<<4&240|Rl>>2;if(yl.push(Ql),Bl!==64){const _f=Rl<<6&192|Bl;yl.push(_f)}}}return yl},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let _r=0;_r<this.ENCODED_VALS.length;_r++)this.byteToCharMap_[_r]=this.ENCODED_VALS.charAt(_r),this.charToByteMap_[this.byteToCharMap_[_r]]=_r,this.byteToCharMapWebSafe_[_r]=this.ENCODED_VALS_WEBSAFE.charAt(_r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[_r]]=_r,_r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(_r)]=_r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(_r)]=_r)}}},base64Encode=function(_r){const _t=stringToByteArray$1(_r);return base64.encodeByteArray(_t,!0)},base64urlEncodeWithoutPadding=function(_r){return base64Encode(_r).replace(/\./g,"")},base64Decode=function(_r){try{return base64.decodeString(_r,!0)}catch(_t){console.error("base64Decode failed: ",_t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getGlobal(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const getDefaultsFromGlobal=()=>getGlobal().__FIREBASE_DEFAULTS__,getDefaultsFromEnvVariable=()=>{if(typeof process>"u"||typeof process.env>"u")return;const _r={}.__FIREBASE_DEFAULTS__;if(_r)return JSON.parse(_r)},getDefaultsFromCookie=()=>{if(typeof document>"u")return;let _r;try{_r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const _t=_r&&base64Decode(_r[1]);return _t&&JSON.parse(_t)},getDefaults=()=>{try{return getDefaultsFromGlobal()||getDefaultsFromEnvVariable()||getDefaultsFromCookie()}catch(_r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${_r}`);return}},getDefaultEmulatorHost=_r=>{var _t,_o;return(_o=(_t=getDefaults())===null||_t===void 0?void 0:_t.emulatorHosts)===null||_o===void 0?void 0:_o[_r]},getDefaultEmulatorHostnameAndPort=_r=>{const _t=getDefaultEmulatorHost(_r);if(!_t)return;const _o=_t.lastIndexOf(":");if(_o<=0||_o+1===_t.length)throw new Error(`Invalid host ${_t} with no separate hostname and port!`);const yl=parseInt(_t.substring(_o+1),10);return _t[0]==="["?[_t.substring(1,_o-1),yl]:[_t.substring(0,_o),yl]},getDefaultAppConfig=()=>{var _r;return(_r=getDefaults())===null||_r===void 0?void 0:_r.config},getExperimentalSetting=_r=>{var _t;return(_t=getDefaults())===null||_t===void 0?void 0:_t[`_${_r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Deferred{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((_t,_o)=>{this.resolve=_t,this.reject=_o})}wrapCallback(_t){return(_o,yl)=>{_o?this.reject(_o):this.resolve(yl),typeof _t=="function"&&(this.promise.catch(()=>{}),_t.length===1?_t(_o):_t(_o,yl))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function createMockUserToken(_r,_t){if(_r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const _o={alg:"none",type:"JWT"},yl=_t||"demo-project",El=_r.iat||0,_l=_r.sub||_r.user_id;if(!_l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Tl=Object.assign({iss:`https://securetoken.google.com/${yl}`,aud:yl,iat:El,exp:El+3600,auth_time:El,sub:_l,user_id:_l,firebase:{sign_in_provider:"custom",identities:{}}},_r),Il="";return[base64urlEncodeWithoutPadding(JSON.stringify(_o)),base64urlEncodeWithoutPadding(JSON.stringify(Tl)),Il].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getUA(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function isMobileCordova(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(getUA())}function isBrowserExtension(){const _r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof _r=="object"&&_r.id!==void 0}function isReactNative(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function isIE(){const _r=getUA();return _r.indexOf("MSIE ")>=0||_r.indexOf("Trident/")>=0}function isIndexedDBAvailable(){try{return typeof indexedDB=="object"}catch{return!1}}function validateIndexedDBOpenable(){return new Promise((_r,_t)=>{try{let _o=!0;const yl="validate-browser-context-for-indexeddb-analytics-module",El=self.indexedDB.open(yl);El.onsuccess=()=>{El.result.close(),_o||self.indexedDB.deleteDatabase(yl),_r(!0)},El.onupgradeneeded=()=>{_o=!1},El.onerror=()=>{var _l;_t(((_l=El.error)===null||_l===void 0?void 0:_l.message)||"")}}catch(_o){_t(_o)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ERROR_NAME="FirebaseError";class FirebaseError extends Error{constructor(_t,_o,yl){super(_o),this.code=_t,this.customData=yl,this.name=ERROR_NAME,Object.setPrototypeOf(this,FirebaseError.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ErrorFactory.prototype.create)}}class ErrorFactory{constructor(_t,_o,yl){this.service=_t,this.serviceName=_o,this.errors=yl}create(_t,..._o){const yl=_o[0]||{},El=`${this.service}/${_t}`,_l=this.errors[_t],Tl=_l?replaceTemplate(_l,yl):"Error",Il=`${this.serviceName}: ${Tl} (${El}).`;return new FirebaseError(El,Il,yl)}}function replaceTemplate(_r,_t){return _r.replace(PATTERN,(_o,yl)=>{const El=_t[yl];return El!=null?String(El):`<${yl}?>`})}const PATTERN=/\{\$([^}]+)}/g;function isEmpty(_r){for(const _t in _r)if(Object.prototype.hasOwnProperty.call(_r,_t))return!1;return!0}function deepEqual(_r,_t){if(_r===_t)return!0;const _o=Object.keys(_r),yl=Object.keys(_t);for(const El of _o){if(!yl.includes(El))return!1;const _l=_r[El],Tl=_t[El];if(isObject$1(_l)&&isObject$1(Tl)){if(!deepEqual(_l,Tl))return!1}else if(_l!==Tl)return!1}for(const El of yl)if(!_o.includes(El))return!1;return!0}function isObject$1(_r){return _r!==null&&typeof _r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function querystring(_r){const _t=[];for(const[_o,yl]of Object.entries(_r))Array.isArray(yl)?yl.forEach(El=>{_t.push(encodeURIComponent(_o)+"="+encodeURIComponent(El))}):_t.push(encodeURIComponent(_o)+"="+encodeURIComponent(yl));return _t.length?"&"+_t.join("&"):""}function querystringDecode(_r){const _t={};return _r.replace(/^\?/,"").split("&").forEach(yl=>{if(yl){const[El,_l]=yl.split("=");_t[decodeURIComponent(El)]=decodeURIComponent(_l)}}),_t}function extractQuerystring(_r){const _t=_r.indexOf("?");if(!_t)return"";const _o=_r.indexOf("#",_t);return _r.substring(_t,_o>0?_o:void 0)}function createSubscribe(_r,_t){const _o=new ObserverProxy(_r,_t);return _o.subscribe.bind(_o)}class ObserverProxy{constructor(_t,_o){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=_o,this.task.then(()=>{_t(this)}).catch(yl=>{this.error(yl)})}next(_t){this.forEachObserver(_o=>{_o.next(_t)})}error(_t){this.forEachObserver(_o=>{_o.error(_t)}),this.close(_t)}complete(){this.forEachObserver(_t=>{_t.complete()}),this.close()}subscribe(_t,_o,yl){let El;if(_t===void 0&&_o===void 0&&yl===void 0)throw new Error("Missing Observer.");implementsAnyMethods(_t,["next","error","complete"])?El=_t:El={next:_t,error:_o,complete:yl},El.next===void 0&&(El.next=noop$1),El.error===void 0&&(El.error=noop$1),El.complete===void 0&&(El.complete=noop$1);const _l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?El.error(this.finalError):El.complete()}catch{}}),this.observers.push(El),_l}unsubscribeOne(_t){this.observers===void 0||this.observers[_t]===void 0||(delete this.observers[_t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(_t){if(!this.finalized)for(let _o=0;_o<this.observers.length;_o++)this.sendOne(_o,_t)}sendOne(_t,_o){this.task.then(()=>{if(this.observers!==void 0&&this.observers[_t]!==void 0)try{_o(this.observers[_t])}catch(yl){typeof console<"u"&&console.error&&console.error(yl)}})}close(_t){this.finalized||(this.finalized=!0,_t!==void 0&&(this.finalError=_t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function implementsAnyMethods(_r,_t){if(typeof _r!="object"||_r===null)return!1;for(const _o of _t)if(_o in _r&&typeof _r[_o]=="function")return!0;return!1}function noop$1(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getModularInstance(_r){return _r&&_r._delegate?_r._delegate:_r}class Component{constructor(_t,_o,yl){this.name=_t,this.instanceFactory=_o,this.type=yl,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(_t){return this.instantiationMode=_t,this}setMultipleInstances(_t){return this.multipleInstances=_t,this}setServiceProps(_t){return this.serviceProps=_t,this}setInstanceCreatedCallback(_t){return this.onInstanceCreated=_t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_ENTRY_NAME$1="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Provider{constructor(_t,_o){this.name=_t,this.container=_o,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(_t){const _o=this.normalizeInstanceIdentifier(_t);if(!this.instancesDeferred.has(_o)){const yl=new Deferred;if(this.instancesDeferred.set(_o,yl),this.isInitialized(_o)||this.shouldAutoInitialize())try{const El=this.getOrInitializeService({instanceIdentifier:_o});El&&yl.resolve(El)}catch{}}return this.instancesDeferred.get(_o).promise}getImmediate(_t){var _o;const yl=this.normalizeInstanceIdentifier(_t==null?void 0:_t.identifier),El=(_o=_t==null?void 0:_t.optional)!==null&&_o!==void 0?_o:!1;if(this.isInitialized(yl)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:yl})}catch(_l){if(El)return null;throw _l}else{if(El)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(_t){if(_t.name!==this.name)throw Error(`Mismatching Component ${_t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=_t,!!this.shouldAutoInitialize()){if(isComponentEager(_t))try{this.getOrInitializeService({instanceIdentifier:DEFAULT_ENTRY_NAME$1})}catch{}for(const[_o,yl]of this.instancesDeferred.entries()){const El=this.normalizeInstanceIdentifier(_o);try{const _l=this.getOrInitializeService({instanceIdentifier:El});yl.resolve(_l)}catch{}}}}clearInstance(_t=DEFAULT_ENTRY_NAME$1){this.instancesDeferred.delete(_t),this.instancesOptions.delete(_t),this.instances.delete(_t)}async delete(){const _t=Array.from(this.instances.values());await Promise.all([..._t.filter(_o=>"INTERNAL"in _o).map(_o=>_o.INTERNAL.delete()),..._t.filter(_o=>"_delete"in _o).map(_o=>_o._delete())])}isComponentSet(){return this.component!=null}isInitialized(_t=DEFAULT_ENTRY_NAME$1){return this.instances.has(_t)}getOptions(_t=DEFAULT_ENTRY_NAME$1){return this.instancesOptions.get(_t)||{}}initialize(_t={}){const{options:_o={}}=_t,yl=this.normalizeInstanceIdentifier(_t.instanceIdentifier);if(this.isInitialized(yl))throw Error(`${this.name}(${yl}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const El=this.getOrInitializeService({instanceIdentifier:yl,options:_o});for(const[_l,Tl]of this.instancesDeferred.entries()){const Il=this.normalizeInstanceIdentifier(_l);yl===Il&&Tl.resolve(El)}return El}onInit(_t,_o){var yl;const El=this.normalizeInstanceIdentifier(_o),_l=(yl=this.onInitCallbacks.get(El))!==null&&yl!==void 0?yl:new Set;_l.add(_t),this.onInitCallbacks.set(El,_l);const Tl=this.instances.get(El);return Tl&&_t(Tl,El),()=>{_l.delete(_t)}}invokeOnInitCallbacks(_t,_o){const yl=this.onInitCallbacks.get(_o);if(yl)for(const El of yl)try{El(_t,_o)}catch{}}getOrInitializeService({instanceIdentifier:_t,options:_o={}}){let yl=this.instances.get(_t);if(!yl&&this.component&&(yl=this.component.instanceFactory(this.container,{instanceIdentifier:normalizeIdentifierForFactory(_t),options:_o}),this.instances.set(_t,yl),this.instancesOptions.set(_t,_o),this.invokeOnInitCallbacks(yl,_t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,_t,yl)}catch{}return yl||null}normalizeInstanceIdentifier(_t=DEFAULT_ENTRY_NAME$1){return this.component?this.component.multipleInstances?_t:DEFAULT_ENTRY_NAME$1:_t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function normalizeIdentifierForFactory(_r){return _r===DEFAULT_ENTRY_NAME$1?void 0:_r}function isComponentEager(_r){return _r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ComponentContainer{constructor(_t){this.name=_t,this.providers=new Map}addComponent(_t){const _o=this.getProvider(_t.name);if(_o.isComponentSet())throw new Error(`Component ${_t.name} has already been registered with ${this.name}`);_o.setComponent(_t)}addOrOverwriteComponent(_t){this.getProvider(_t.name).isComponentSet()&&this.providers.delete(_t.name),this.addComponent(_t)}getProvider(_t){if(this.providers.has(_t))return this.providers.get(_t);const _o=new Provider(_t,this);return this.providers.set(_t,_o),_o}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var LogLevel;(function(_r){_r[_r.DEBUG=0]="DEBUG",_r[_r.VERBOSE=1]="VERBOSE",_r[_r.INFO=2]="INFO",_r[_r.WARN=3]="WARN",_r[_r.ERROR=4]="ERROR",_r[_r.SILENT=5]="SILENT"})(LogLevel||(LogLevel={}));const levelStringToEnum={debug:LogLevel.DEBUG,verbose:LogLevel.VERBOSE,info:LogLevel.INFO,warn:LogLevel.WARN,error:LogLevel.ERROR,silent:LogLevel.SILENT},defaultLogLevel=LogLevel.INFO,ConsoleMethod={[LogLevel.DEBUG]:"log",[LogLevel.VERBOSE]:"log",[LogLevel.INFO]:"info",[LogLevel.WARN]:"warn",[LogLevel.ERROR]:"error"},defaultLogHandler=(_r,_t,..._o)=>{if(_t<_r.logLevel)return;const yl=new Date().toISOString(),El=ConsoleMethod[_t];if(El)console[El](`[${yl}]  ${_r.name}:`,..._o);else throw new Error(`Attempted to log a message with an invalid logType (value: ${_t})`)};class Logger{constructor(_t){this.name=_t,this._logLevel=defaultLogLevel,this._logHandler=defaultLogHandler,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(_t){if(!(_t in LogLevel))throw new TypeError(`Invalid value "${_t}" assigned to \`logLevel\``);this._logLevel=_t}setLogLevel(_t){this._logLevel=typeof _t=="string"?levelStringToEnum[_t]:_t}get logHandler(){return this._logHandler}set logHandler(_t){if(typeof _t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=_t}get userLogHandler(){return this._userLogHandler}set userLogHandler(_t){this._userLogHandler=_t}debug(..._t){this._userLogHandler&&this._userLogHandler(this,LogLevel.DEBUG,..._t),this._logHandler(this,LogLevel.DEBUG,..._t)}log(..._t){this._userLogHandler&&this._userLogHandler(this,LogLevel.VERBOSE,..._t),this._logHandler(this,LogLevel.VERBOSE,..._t)}info(..._t){this._userLogHandler&&this._userLogHandler(this,LogLevel.INFO,..._t),this._logHandler(this,LogLevel.INFO,..._t)}warn(..._t){this._userLogHandler&&this._userLogHandler(this,LogLevel.WARN,..._t),this._logHandler(this,LogLevel.WARN,..._t)}error(..._t){this._userLogHandler&&this._userLogHandler(this,LogLevel.ERROR,..._t),this._logHandler(this,LogLevel.ERROR,..._t)}}const instanceOfAny=(_r,_t)=>_t.some(_o=>_r instanceof _o);let idbProxyableTypes,cursorAdvanceMethods;function getIdbProxyableTypes(){return idbProxyableTypes||(idbProxyableTypes=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function getCursorAdvanceMethods(){return cursorAdvanceMethods||(cursorAdvanceMethods=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const cursorRequestMap=new WeakMap,transactionDoneMap=new WeakMap,transactionStoreNamesMap=new WeakMap,transformCache=new WeakMap,reverseTransformCache=new WeakMap;function promisifyRequest(_r){const _t=new Promise((_o,yl)=>{const El=()=>{_r.removeEventListener("success",_l),_r.removeEventListener("error",Tl)},_l=()=>{_o(wrap(_r.result)),El()},Tl=()=>{yl(_r.error),El()};_r.addEventListener("success",_l),_r.addEventListener("error",Tl)});return _t.then(_o=>{_o instanceof IDBCursor&&cursorRequestMap.set(_o,_r)}).catch(()=>{}),reverseTransformCache.set(_t,_r),_t}function cacheDonePromiseForTransaction(_r){if(transactionDoneMap.has(_r))return;const _t=new Promise((_o,yl)=>{const El=()=>{_r.removeEventListener("complete",_l),_r.removeEventListener("error",Tl),_r.removeEventListener("abort",Tl)},_l=()=>{_o(),El()},Tl=()=>{yl(_r.error||new DOMException("AbortError","AbortError")),El()};_r.addEventListener("complete",_l),_r.addEventListener("error",Tl),_r.addEventListener("abort",Tl)});transactionDoneMap.set(_r,_t)}let idbProxyTraps={get(_r,_t,_o){if(_r instanceof IDBTransaction){if(_t==="done")return transactionDoneMap.get(_r);if(_t==="objectStoreNames")return _r.objectStoreNames||transactionStoreNamesMap.get(_r);if(_t==="store")return _o.objectStoreNames[1]?void 0:_o.objectStore(_o.objectStoreNames[0])}return wrap(_r[_t])},set(_r,_t,_o){return _r[_t]=_o,!0},has(_r,_t){return _r instanceof IDBTransaction&&(_t==="done"||_t==="store")?!0:_t in _r}};function replaceTraps(_r){idbProxyTraps=_r(idbProxyTraps)}function wrapFunction(_r){return _r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(_t,..._o){const yl=_r.call(unwrap(this),_t,..._o);return transactionStoreNamesMap.set(yl,_t.sort?_t.sort():[_t]),wrap(yl)}:getCursorAdvanceMethods().includes(_r)?function(..._t){return _r.apply(unwrap(this),_t),wrap(cursorRequestMap.get(this))}:function(..._t){return wrap(_r.apply(unwrap(this),_t))}}function transformCachableValue(_r){return typeof _r=="function"?wrapFunction(_r):(_r instanceof IDBTransaction&&cacheDonePromiseForTransaction(_r),instanceOfAny(_r,getIdbProxyableTypes())?new Proxy(_r,idbProxyTraps):_r)}function wrap(_r){if(_r instanceof IDBRequest)return promisifyRequest(_r);if(transformCache.has(_r))return transformCache.get(_r);const _t=transformCachableValue(_r);return _t!==_r&&(transformCache.set(_r,_t),reverseTransformCache.set(_t,_r)),_t}const unwrap=_r=>reverseTransformCache.get(_r);function openDB(_r,_t,{blocked:_o,upgrade:yl,blocking:El,terminated:_l}={}){const Tl=indexedDB.open(_r,_t),Il=wrap(Tl);return yl&&Tl.addEventListener("upgradeneeded",Al=>{yl(wrap(Tl.result),Al.oldVersion,Al.newVersion,wrap(Tl.transaction))}),_o&&Tl.addEventListener("blocked",()=>_o()),Il.then(Al=>{_l&&Al.addEventListener("close",()=>_l()),El&&Al.addEventListener("versionchange",()=>El())}).catch(()=>{}),Il}const readMethods=["get","getKey","getAll","getAllKeys","count"],writeMethods=["put","add","delete","clear"],cachedMethods=new Map;function getMethod(_r,_t){if(!(_r instanceof IDBDatabase&&!(_t in _r)&&typeof _t=="string"))return;if(cachedMethods.get(_t))return cachedMethods.get(_t);const _o=_t.replace(/FromIndex$/,""),yl=_t!==_o,El=writeMethods.includes(_o);if(!(_o in(yl?IDBIndex:IDBObjectStore).prototype)||!(El||readMethods.includes(_o)))return;const _l=async function(Tl,...Il){const Al=this.transaction(Tl,El?"readwrite":"readonly");let Rl=Al.store;return yl&&(Rl=Rl.index(Il.shift())),(await Promise.all([Rl[_o](...Il),El&&Al.done]))[0]};return cachedMethods.set(_t,_l),_l}replaceTraps(_r=>({..._r,get:(_t,_o,yl)=>getMethod(_t,_o)||_r.get(_t,_o,yl),has:(_t,_o)=>!!getMethod(_t,_o)||_r.has(_t,_o)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PlatformLoggerServiceImpl{constructor(_t){this.container=_t}getPlatformInfoString(){return this.container.getProviders().map(_o=>{if(isVersionServiceProvider(_o)){const yl=_o.getImmediate();return`${yl.library}/${yl.version}`}else return null}).filter(_o=>_o).join(" ")}}function isVersionServiceProvider(_r){const _t=_r.getComponent();return(_t==null?void 0:_t.type)==="VERSION"}const name$o="@firebase/app",version$1$1="0.9.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const logger=new Logger("@firebase/app"),name$n="@firebase/app-compat",name$m="@firebase/analytics-compat",name$l="@firebase/analytics",name$k="@firebase/app-check-compat",name$j="@firebase/app-check",name$i="@firebase/auth",name$h="@firebase/auth-compat",name$g="@firebase/database",name$f="@firebase/database-compat",name$e="@firebase/functions",name$d="@firebase/functions-compat",name$c="@firebase/installations",name$b="@firebase/installations-compat",name$a="@firebase/messaging",name$9="@firebase/messaging-compat",name$8="@firebase/performance",name$7="@firebase/performance-compat",name$6="@firebase/remote-config",name$5="@firebase/remote-config-compat",name$4="@firebase/storage",name$3$1="@firebase/storage-compat",name$2$1="@firebase/firestore",name$1$1="@firebase/firestore-compat",name$p="firebase",version$4="9.17.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_ENTRY_NAME="[DEFAULT]",PLATFORM_LOG_STRING={[name$o]:"fire-core",[name$n]:"fire-core-compat",[name$l]:"fire-analytics",[name$m]:"fire-analytics-compat",[name$j]:"fire-app-check",[name$k]:"fire-app-check-compat",[name$i]:"fire-auth",[name$h]:"fire-auth-compat",[name$g]:"fire-rtdb",[name$f]:"fire-rtdb-compat",[name$e]:"fire-fn",[name$d]:"fire-fn-compat",[name$c]:"fire-iid",[name$b]:"fire-iid-compat",[name$a]:"fire-fcm",[name$9]:"fire-fcm-compat",[name$8]:"fire-perf",[name$7]:"fire-perf-compat",[name$6]:"fire-rc",[name$5]:"fire-rc-compat",[name$4]:"fire-gcs",[name$3$1]:"fire-gcs-compat",[name$2$1]:"fire-fst",[name$1$1]:"fire-fst-compat","fire-js":"fire-js",[name$p]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _apps=new Map,_components=new Map;function _addComponent(_r,_t){try{_r.container.addComponent(_t)}catch(_o){logger.debug(`Component ${_t.name} failed to register with FirebaseApp ${_r.name}`,_o)}}function _registerComponent(_r){const _t=_r.name;if(_components.has(_t))return logger.debug(`There were multiple attempts to register component ${_t}.`),!1;_components.set(_t,_r);for(const _o of _apps.values())_addComponent(_o,_r);return!0}function _getProvider(_r,_t){const _o=_r.container.getProvider("heartbeat").getImmediate({optional:!0});return _o&&_o.triggerHeartbeat(),_r.container.getProvider(_t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ERRORS={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},ERROR_FACTORY=new ErrorFactory("app","Firebase",ERRORS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FirebaseAppImpl{constructor(_t,_o,yl){this._isDeleted=!1,this._options=Object.assign({},_t),this._config=Object.assign({},_o),this._name=_o.name,this._automaticDataCollectionEnabled=_o.automaticDataCollectionEnabled,this._container=yl,this.container.addComponent(new Component("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(_t){this.checkDestroyed(),this._automaticDataCollectionEnabled=_t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(_t){this._isDeleted=_t}checkDestroyed(){if(this.isDeleted)throw ERROR_FACTORY.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SDK_VERSION=version$4;function initializeApp(_r,_t={}){let _o=_r;typeof _t!="object"&&(_t={name:_t});const yl=Object.assign({name:DEFAULT_ENTRY_NAME,automaticDataCollectionEnabled:!1},_t),El=yl.name;if(typeof El!="string"||!El)throw ERROR_FACTORY.create("bad-app-name",{appName:String(El)});if(_o||(_o=getDefaultAppConfig()),!_o)throw ERROR_FACTORY.create("no-options");const _l=_apps.get(El);if(_l){if(deepEqual(_o,_l.options)&&deepEqual(yl,_l.config))return _l;throw ERROR_FACTORY.create("duplicate-app",{appName:El})}const Tl=new ComponentContainer(El);for(const Al of _components.values())Tl.addComponent(Al);const Il=new FirebaseAppImpl(_o,yl,Tl);return _apps.set(El,Il),Il}function getApp(_r=DEFAULT_ENTRY_NAME){const _t=_apps.get(_r);if(!_t&&_r===DEFAULT_ENTRY_NAME)return initializeApp();if(!_t)throw ERROR_FACTORY.create("no-app",{appName:_r});return _t}function registerVersion(_r,_t,_o){var yl;let El=(yl=PLATFORM_LOG_STRING[_r])!==null&&yl!==void 0?yl:_r;_o&&(El+=`-${_o}`);const _l=El.match(/\s|\//),Tl=_t.match(/\s|\//);if(_l||Tl){const Il=[`Unable to register library "${El}" with version "${_t}":`];_l&&Il.push(`library name "${El}" contains illegal characters (whitespace or "/")`),_l&&Tl&&Il.push("and"),Tl&&Il.push(`version name "${_t}" contains illegal characters (whitespace or "/")`),logger.warn(Il.join(" "));return}_registerComponent(new Component(`${El}-version`,()=>({library:El,version:_t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DB_NAME$1="firebase-heartbeat-database",DB_VERSION$1=1,STORE_NAME="firebase-heartbeat-store";let dbPromise=null;function getDbPromise(){return dbPromise||(dbPromise=openDB(DB_NAME$1,DB_VERSION$1,{upgrade:(_r,_t)=>{switch(_t){case 0:_r.createObjectStore(STORE_NAME)}}}).catch(_r=>{throw ERROR_FACTORY.create("idb-open",{originalErrorMessage:_r.message})})),dbPromise}async function readHeartbeatsFromIndexedDB(_r){try{return(await getDbPromise()).transaction(STORE_NAME).objectStore(STORE_NAME).get(computeKey(_r))}catch(_t){if(_t instanceof FirebaseError)logger.warn(_t.message);else{const _o=ERROR_FACTORY.create("idb-get",{originalErrorMessage:_t==null?void 0:_t.message});logger.warn(_o.message)}}}async function writeHeartbeatsToIndexedDB(_r,_t){try{const yl=(await getDbPromise()).transaction(STORE_NAME,"readwrite");return await yl.objectStore(STORE_NAME).put(_t,computeKey(_r)),yl.done}catch(_o){if(_o instanceof FirebaseError)logger.warn(_o.message);else{const yl=ERROR_FACTORY.create("idb-set",{originalErrorMessage:_o==null?void 0:_o.message});logger.warn(yl.message)}}}function computeKey(_r){return`${_r.name}!${_r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MAX_HEADER_BYTES=1024,STORED_HEARTBEAT_RETENTION_MAX_MILLIS=30*24*60*60*1e3;class HeartbeatServiceImpl{constructor(_t){this.container=_t,this._heartbeatsCache=null;const _o=this.container.getProvider("app").getImmediate();this._storage=new HeartbeatStorageImpl(_o),this._heartbeatsCachePromise=this._storage.read().then(yl=>(this._heartbeatsCache=yl,yl))}async triggerHeartbeat(){const _o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),yl=getUTCDateString();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===yl||this._heartbeatsCache.heartbeats.some(El=>El.date===yl)))return this._heartbeatsCache.heartbeats.push({date:yl,agent:_o}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(El=>{const _l=new Date(El.date).valueOf();return Date.now()-_l<=STORED_HEARTBEAT_RETENTION_MAX_MILLIS}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const _t=getUTCDateString(),{heartbeatsToSend:_o,unsentEntries:yl}=extractHeartbeatsForHeader(this._heartbeatsCache.heartbeats),El=base64urlEncodeWithoutPadding(JSON.stringify({version:2,heartbeats:_o}));return this._heartbeatsCache.lastSentHeartbeatDate=_t,yl.length>0?(this._heartbeatsCache.heartbeats=yl,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),El}}function getUTCDateString(){return new Date().toISOString().substring(0,10)}function extractHeartbeatsForHeader(_r,_t=MAX_HEADER_BYTES){const _o=[];let yl=_r.slice();for(const El of _r){const _l=_o.find(Tl=>Tl.agent===El.agent);if(_l){if(_l.dates.push(El.date),countBytes(_o)>_t){_l.dates.pop();break}}else if(_o.push({agent:El.agent,dates:[El.date]}),countBytes(_o)>_t){_o.pop();break}yl=yl.slice(1)}return{heartbeatsToSend:_o,unsentEntries:yl}}class HeartbeatStorageImpl{constructor(_t){this.app=_t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return isIndexedDBAvailable()?validateIndexedDBOpenable().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await readHeartbeatsFromIndexedDB(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(_t){var _o;if(await this._canUseIndexedDBPromise){const El=await this.read();return writeHeartbeatsToIndexedDB(this.app,{lastSentHeartbeatDate:(_o=_t.lastSentHeartbeatDate)!==null&&_o!==void 0?_o:El.lastSentHeartbeatDate,heartbeats:_t.heartbeats})}else return}async add(_t){var _o;if(await this._canUseIndexedDBPromise){const El=await this.read();return writeHeartbeatsToIndexedDB(this.app,{lastSentHeartbeatDate:(_o=_t.lastSentHeartbeatDate)!==null&&_o!==void 0?_o:El.lastSentHeartbeatDate,heartbeats:[...El.heartbeats,..._t.heartbeats]})}else return}}function countBytes(_r){return base64urlEncodeWithoutPadding(JSON.stringify({version:2,heartbeats:_r})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function registerCoreComponents(_r){_registerComponent(new Component("platform-logger",_t=>new PlatformLoggerServiceImpl(_t),"PRIVATE")),_registerComponent(new Component("heartbeat",_t=>new HeartbeatServiceImpl(_t),"PRIVATE")),registerVersion(name$o,version$1$1,_r),registerVersion(name$o,version$1$1,"esm2017"),registerVersion("fire-js","")}registerCoreComponents("");function __rest(_r,_t){var _o={};for(var yl in _r)Object.prototype.hasOwnProperty.call(_r,yl)&&_t.indexOf(yl)<0&&(_o[yl]=_r[yl]);if(_r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var El=0,yl=Object.getOwnPropertySymbols(_r);El<yl.length;El++)_t.indexOf(yl[El])<0&&Object.prototype.propertyIsEnumerable.call(_r,yl[El])&&(_o[yl[El]]=_r[yl[El]]);return _o}function _prodErrorMap(){return{["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const prodErrorMap=_prodErrorMap,_DEFAULT_AUTH_ERROR_FACTORY=new ErrorFactory("auth","Firebase",_prodErrorMap());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const logClient=new Logger("@firebase/auth");function _logError(_r,..._t){logClient.logLevel<=LogLevel.ERROR&&logClient.error(`Auth (${SDK_VERSION}): ${_r}`,..._t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _fail(_r,..._t){throw createErrorInternal(_r,..._t)}function _createError(_r,..._t){return createErrorInternal(_r,..._t)}function _errorWithCustomMessage(_r,_t,_o){const yl=Object.assign(Object.assign({},prodErrorMap()),{[_t]:_o});return new ErrorFactory("auth","Firebase",yl).create(_t,{appName:_r.name})}function _assertInstanceOf(_r,_t,_o){const yl=_o;if(!(_t instanceof yl))throw yl.name!==_t.constructor.name&&_fail(_r,"argument-error"),_errorWithCustomMessage(_r,"argument-error",`Type of ${_t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function createErrorInternal(_r,..._t){if(typeof _r!="string"){const _o=_t[0],yl=[..._t.slice(1)];return yl[0]&&(yl[0].appName=_r.name),_r._errorFactory.create(_o,...yl)}return _DEFAULT_AUTH_ERROR_FACTORY.create(_r,..._t)}function _assert(_r,_t,..._o){if(!_r)throw createErrorInternal(_t,..._o)}function debugFail(_r){const _t="INTERNAL ASSERTION FAILED: "+_r;throw _logError(_t),new Error(_t)}function debugAssert(_r,_t){_r||debugFail(_t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const instanceCache=new Map;function _getInstance(_r){debugAssert(_r instanceof Function,"Expected a class definition");let _t=instanceCache.get(_r);return _t?(debugAssert(_t instanceof _r,"Instance stored in cache mismatched with class"),_t):(_t=new _r,instanceCache.set(_r,_t),_t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function initializeAuth(_r,_t){const _o=_getProvider(_r,"auth");if(_o.isInitialized()){const El=_o.getImmediate(),_l=_o.getOptions();if(deepEqual(_l,_t??{}))return El;_fail(El,"already-initialized")}return _o.initialize({options:_t})}function _initializeAuthInstance(_r,_t){const _o=(_t==null?void 0:_t.persistence)||[],yl=(Array.isArray(_o)?_o:[_o]).map(_getInstance);_t!=null&&_t.errorMap&&_r._updateErrorMap(_t.errorMap),_r._initializeWithPersistence(yl,_t==null?void 0:_t.popupRedirectResolver)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _getCurrentUrl(){var _r;return typeof self<"u"&&((_r=self.location)===null||_r===void 0?void 0:_r.href)||""}function _isHttpOrHttps(){return _getCurrentScheme()==="http:"||_getCurrentScheme()==="https:"}function _getCurrentScheme(){var _r;return typeof self<"u"&&((_r=self.location)===null||_r===void 0?void 0:_r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _isOnline(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(_isHttpOrHttps()||isBrowserExtension()||"connection"in navigator)?navigator.onLine:!0}function _getUserLanguage(){if(typeof navigator>"u")return null;const _r=navigator;return _r.languages&&_r.languages[0]||_r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Delay{constructor(_t,_o){this.shortDelay=_t,this.longDelay=_o,debugAssert(_o>_t,"Short delay should be less than long delay!"),this.isMobile=isMobileCordova()||isReactNative()}get(){return _isOnline()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _emulatorUrl(_r,_t){debugAssert(_r.emulator,"Emulator should always be set here");const{url:_o}=_r.emulator;return _t?`${_o}${_t.startsWith("/")?_t.slice(1):_t}`:_o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FetchProvider{static initialize(_t,_o,yl){this.fetchImpl=_t,_o&&(this.headersImpl=_o),yl&&(this.responseImpl=yl)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;debugFail("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;debugFail("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;debugFail("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SERVER_ERROR_MAP={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_API_TIMEOUT_MS=new Delay(3e4,6e4);function _addTidIfNecessary(_r,_t){return _r.tenantId&&!_t.tenantId?Object.assign(Object.assign({},_t),{tenantId:_r.tenantId}):_t}async function _performApiRequest(_r,_t,_o,yl,El={}){return _performFetchWithErrorHandling(_r,El,async()=>{let _l={},Tl={};yl&&(_t==="GET"?Tl=yl:_l={body:JSON.stringify(yl)});const Il=querystring(Object.assign({key:_r.config.apiKey},Tl)).slice(1),Al=await _r._getAdditionalHeaders();return Al["Content-Type"]="application/json",_r.languageCode&&(Al["X-Firebase-Locale"]=_r.languageCode),FetchProvider.fetch()(_getFinalTarget(_r,_r.config.apiHost,_o,Il),Object.assign({method:_t,headers:Al,referrerPolicy:"no-referrer"},_l))})}async function _performFetchWithErrorHandling(_r,_t,_o){_r._canInitEmulator=!1;const yl=Object.assign(Object.assign({},SERVER_ERROR_MAP),_t);try{const El=new NetworkTimeout(_r),_l=await Promise.race([_o(),El.promise]);El.clearNetworkTimeout();const Tl=await _l.json();if("needConfirmation"in Tl)throw _makeTaggedError(_r,"account-exists-with-different-credential",Tl);if(_l.ok&&!("errorMessage"in Tl))return Tl;{const Il=_l.ok?Tl.errorMessage:Tl.error.message,[Al,Rl]=Il.split(" : ");if(Al==="FEDERATED_USER_ID_ALREADY_LINKED")throw _makeTaggedError(_r,"credential-already-in-use",Tl);if(Al==="EMAIL_EXISTS")throw _makeTaggedError(_r,"email-already-in-use",Tl);if(Al==="USER_DISABLED")throw _makeTaggedError(_r,"user-disabled",Tl);const Fl=yl[Al]||Al.toLowerCase().replace(/[_\s]+/g,"-");if(Rl)throw _errorWithCustomMessage(_r,Fl,Rl);_fail(_r,Fl)}}catch(El){if(El instanceof FirebaseError)throw El;_fail(_r,"network-request-failed")}}async function _performSignInRequest(_r,_t,_o,yl,El={}){const _l=await _performApiRequest(_r,_t,_o,yl,El);return"mfaPendingCredential"in _l&&_fail(_r,"multi-factor-auth-required",{_serverResponse:_l}),_l}function _getFinalTarget(_r,_t,_o,yl){const El=`${_t}${_o}?${yl}`;return _r.config.emulator?_emulatorUrl(_r.config,El):`${_r.config.apiScheme}://${El}`}class NetworkTimeout{constructor(_t){this.auth=_t,this.timer=null,this.promise=new Promise((_o,yl)=>{this.timer=setTimeout(()=>yl(_createError(this.auth,"network-request-failed")),DEFAULT_API_TIMEOUT_MS.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function _makeTaggedError(_r,_t,_o){const yl={appName:_r.name};_o.email&&(yl.email=_o.email),_o.phoneNumber&&(yl.phoneNumber=_o.phoneNumber);const El=_createError(_r,_t,yl);return El.customData._tokenResponse=_o,El}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function deleteAccount(_r,_t){return _performApiRequest(_r,"POST","/v1/accounts:delete",_t)}async function getAccountInfo(_r,_t){return _performApiRequest(_r,"POST","/v1/accounts:lookup",_t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function utcTimestampToDateString(_r){if(_r)try{const _t=new Date(Number(_r));if(!isNaN(_t.getTime()))return _t.toUTCString()}catch{}}async function getIdTokenResult(_r,_t=!1){const _o=getModularInstance(_r),yl=await _o.getIdToken(_t),El=_parseToken(yl);_assert(El&&El.exp&&El.auth_time&&El.iat,_o.auth,"internal-error");const _l=typeof El.firebase=="object"?El.firebase:void 0,Tl=_l==null?void 0:_l.sign_in_provider;return{claims:El,token:yl,authTime:utcTimestampToDateString(secondsStringToMilliseconds(El.auth_time)),issuedAtTime:utcTimestampToDateString(secondsStringToMilliseconds(El.iat)),expirationTime:utcTimestampToDateString(secondsStringToMilliseconds(El.exp)),signInProvider:Tl||null,signInSecondFactor:(_l==null?void 0:_l.sign_in_second_factor)||null}}function secondsStringToMilliseconds(_r){return Number(_r)*1e3}function _parseToken(_r){const[_t,_o,yl]=_r.split(".");if(_t===void 0||_o===void 0||yl===void 0)return _logError("JWT malformed, contained fewer than 3 sections"),null;try{const El=base64Decode(_o);return El?JSON.parse(El):(_logError("Failed to decode base64 JWT payload"),null)}catch(El){return _logError("Caught error parsing JWT payload as JSON",El==null?void 0:El.toString()),null}}function _tokenExpiresIn(_r){const _t=_parseToken(_r);return _assert(_t,"internal-error"),_assert(typeof _t.exp<"u","internal-error"),_assert(typeof _t.iat<"u","internal-error"),Number(_t.exp)-Number(_t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _logoutIfInvalidated(_r,_t,_o=!1){if(_o)return _t;try{return await _t}catch(yl){throw yl instanceof FirebaseError&&isUserInvalidated(yl)&&_r.auth.currentUser===_r&&await _r.auth.signOut(),yl}}function isUserInvalidated({code:_r}){return _r==="auth/user-disabled"||_r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ProactiveRefresh{constructor(_t){this.user=_t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(_t){var _o;if(_t){const yl=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),yl}else{this.errorBackoff=3e4;const El=((_o=this.user.stsTokenManager.expirationTime)!==null&&_o!==void 0?_o:0)-Date.now()-3e5;return Math.max(0,El)}}schedule(_t=!1){if(!this.isRunning)return;const _o=this.getInterval(_t);this.timerId=setTimeout(async()=>{await this.iteration()},_o)}async iteration(){try{await this.user.getIdToken(!0)}catch(_t){(_t==null?void 0:_t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UserMetadata{constructor(_t,_o){this.createdAt=_t,this.lastLoginAt=_o,this._initializeTime()}_initializeTime(){this.lastSignInTime=utcTimestampToDateString(this.lastLoginAt),this.creationTime=utcTimestampToDateString(this.createdAt)}_copy(_t){this.createdAt=_t.createdAt,this.lastLoginAt=_t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _reloadWithoutSaving(_r){var _t;const _o=_r.auth,yl=await _r.getIdToken(),El=await _logoutIfInvalidated(_r,getAccountInfo(_o,{idToken:yl}));_assert(El==null?void 0:El.users.length,_o,"internal-error");const _l=El.users[0];_r._notifyReloadListener(_l);const Tl=!((_t=_l.providerUserInfo)===null||_t===void 0)&&_t.length?extractProviderData(_l.providerUserInfo):[],Il=mergeProviderData(_r.providerData,Tl),Al=_r.isAnonymous,Rl=!(_r.email&&_l.passwordHash)&&!(Il!=null&&Il.length),Fl=Al?Rl:!1,Bl={uid:_l.localId,displayName:_l.displayName||null,photoURL:_l.photoUrl||null,email:_l.email||null,emailVerified:_l.emailVerified||!1,phoneNumber:_l.phoneNumber||null,tenantId:_l.tenantId||null,providerData:Il,metadata:new UserMetadata(_l.createdAt,_l.lastLoginAt),isAnonymous:Fl};Object.assign(_r,Bl)}async function reload(_r){const _t=getModularInstance(_r);await _reloadWithoutSaving(_t),await _t.auth._persistUserIfCurrent(_t),_t.auth._notifyListenersIfCurrent(_t)}function mergeProviderData(_r,_t){return[..._r.filter(yl=>!_t.some(El=>El.providerId===yl.providerId)),..._t]}function extractProviderData(_r){return _r.map(_t=>{var{providerId:_o}=_t,yl=__rest(_t,["providerId"]);return{providerId:_o,uid:yl.rawId||"",displayName:yl.displayName||null,email:yl.email||null,phoneNumber:yl.phoneNumber||null,photoURL:yl.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function requestStsToken(_r,_t){const _o=await _performFetchWithErrorHandling(_r,{},async()=>{const yl=querystring({grant_type:"refresh_token",refresh_token:_t}).slice(1),{tokenApiHost:El,apiKey:_l}=_r.config,Tl=_getFinalTarget(_r,El,"/v1/token",`key=${_l}`),Il=await _r._getAdditionalHeaders();return Il["Content-Type"]="application/x-www-form-urlencoded",FetchProvider.fetch()(Tl,{method:"POST",headers:Il,body:yl})});return{accessToken:_o.access_token,expiresIn:_o.expires_in,refreshToken:_o.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class StsTokenManager{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(_t){_assert(_t.idToken,"internal-error"),_assert(typeof _t.idToken<"u","internal-error"),_assert(typeof _t.refreshToken<"u","internal-error");const _o="expiresIn"in _t&&typeof _t.expiresIn<"u"?Number(_t.expiresIn):_tokenExpiresIn(_t.idToken);this.updateTokensAndExpiration(_t.idToken,_t.refreshToken,_o)}async getToken(_t,_o=!1){return _assert(!this.accessToken||this.refreshToken,_t,"user-token-expired"),!_o&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(_t,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(_t,_o){const{accessToken:yl,refreshToken:El,expiresIn:_l}=await requestStsToken(_t,_o);this.updateTokensAndExpiration(yl,El,Number(_l))}updateTokensAndExpiration(_t,_o,yl){this.refreshToken=_o||null,this.accessToken=_t||null,this.expirationTime=Date.now()+yl*1e3}static fromJSON(_t,_o){const{refreshToken:yl,accessToken:El,expirationTime:_l}=_o,Tl=new StsTokenManager;return yl&&(_assert(typeof yl=="string","internal-error",{appName:_t}),Tl.refreshToken=yl),El&&(_assert(typeof El=="string","internal-error",{appName:_t}),Tl.accessToken=El),_l&&(_assert(typeof _l=="number","internal-error",{appName:_t}),Tl.expirationTime=_l),Tl}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(_t){this.accessToken=_t.accessToken,this.refreshToken=_t.refreshToken,this.expirationTime=_t.expirationTime}_clone(){return Object.assign(new StsTokenManager,this.toJSON())}_performRefresh(){return debugFail("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function assertStringOrUndefined(_r,_t){_assert(typeof _r=="string"||typeof _r>"u","internal-error",{appName:_t})}class UserImpl{constructor(_t){var{uid:_o,auth:yl,stsTokenManager:El}=_t,_l=__rest(_t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ProactiveRefresh(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=_o,this.auth=yl,this.stsTokenManager=El,this.accessToken=El.accessToken,this.displayName=_l.displayName||null,this.email=_l.email||null,this.emailVerified=_l.emailVerified||!1,this.phoneNumber=_l.phoneNumber||null,this.photoURL=_l.photoURL||null,this.isAnonymous=_l.isAnonymous||!1,this.tenantId=_l.tenantId||null,this.providerData=_l.providerData?[..._l.providerData]:[],this.metadata=new UserMetadata(_l.createdAt||void 0,_l.lastLoginAt||void 0)}async getIdToken(_t){const _o=await _logoutIfInvalidated(this,this.stsTokenManager.getToken(this.auth,_t));return _assert(_o,this.auth,"internal-error"),this.accessToken!==_o&&(this.accessToken=_o,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),_o}getIdTokenResult(_t){return getIdTokenResult(this,_t)}reload(){return reload(this)}_assign(_t){this!==_t&&(_assert(this.uid===_t.uid,this.auth,"internal-error"),this.displayName=_t.displayName,this.photoURL=_t.photoURL,this.email=_t.email,this.emailVerified=_t.emailVerified,this.phoneNumber=_t.phoneNumber,this.isAnonymous=_t.isAnonymous,this.tenantId=_t.tenantId,this.providerData=_t.providerData.map(_o=>Object.assign({},_o)),this.metadata._copy(_t.metadata),this.stsTokenManager._assign(_t.stsTokenManager))}_clone(_t){return new UserImpl(Object.assign(Object.assign({},this),{auth:_t,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(_t){_assert(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=_t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(_t){this.reloadListener?this.reloadListener(_t):this.reloadUserInfo=_t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(_t,_o=!1){let yl=!1;_t.idToken&&_t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(_t),yl=!0),_o&&await _reloadWithoutSaving(this),await this.auth._persistUserIfCurrent(this),yl&&this.auth._notifyListenersIfCurrent(this)}async delete(){const _t=await this.getIdToken();return await _logoutIfInvalidated(this,deleteAccount(this.auth,{idToken:_t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(_t=>Object.assign({},_t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(_t,_o){var yl,El,_l,Tl,Il,Al,Rl,Fl;const Bl=(yl=_o.displayName)!==null&&yl!==void 0?yl:void 0,Gl=(El=_o.email)!==null&&El!==void 0?El:void 0,Ql=(_l=_o.phoneNumber)!==null&&_l!==void 0?_l:void 0,_f=(Tl=_o.photoURL)!==null&&Tl!==void 0?Tl:void 0,_h=(Il=_o.tenantId)!==null&&Il!==void 0?Il:void 0,vp=(Al=_o._redirectEventId)!==null&&Al!==void 0?Al:void 0,up=(Rl=_o.createdAt)!==null&&Rl!==void 0?Rl:void 0,_d=(Fl=_o.lastLoginAt)!==null&&Fl!==void 0?Fl:void 0,{uid:Ep,emailVerified:Op,isAnonymous:Ip,providerData:Pp,stsTokenManager:xp}=_o;_assert(Ep&&xp,_t,"internal-error");const Np=StsTokenManager.fromJSON(this.name,xp);_assert(typeof Ep=="string",_t,"internal-error"),assertStringOrUndefined(Bl,_t.name),assertStringOrUndefined(Gl,_t.name),_assert(typeof Op=="boolean",_t,"internal-error"),_assert(typeof Ip=="boolean",_t,"internal-error"),assertStringOrUndefined(Ql,_t.name),assertStringOrUndefined(_f,_t.name),assertStringOrUndefined(_h,_t.name),assertStringOrUndefined(vp,_t.name),assertStringOrUndefined(up,_t.name),assertStringOrUndefined(_d,_t.name);const Kp=new UserImpl({uid:Ep,auth:_t,email:Gl,emailVerified:Op,displayName:Bl,isAnonymous:Ip,photoURL:_f,phoneNumber:Ql,tenantId:_h,stsTokenManager:Np,createdAt:up,lastLoginAt:_d});return Pp&&Array.isArray(Pp)&&(Kp.providerData=Pp.map(Tp=>Object.assign({},Tp))),vp&&(Kp._redirectEventId=vp),Kp}static async _fromIdTokenResponse(_t,_o,yl=!1){const El=new StsTokenManager;El.updateFromServerResponse(_o);const _l=new UserImpl({uid:_o.localId,auth:_t,stsTokenManager:El,isAnonymous:yl});return await _reloadWithoutSaving(_l),_l}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class InMemoryPersistence{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(_t,_o){this.storage[_t]=_o}async _get(_t){const _o=this.storage[_t];return _o===void 0?null:_o}async _remove(_t){delete this.storage[_t]}_addListener(_t,_o){}_removeListener(_t,_o){}}InMemoryPersistence.type="NONE";const inMemoryPersistence=InMemoryPersistence;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _persistenceKeyName(_r,_t,_o){return`firebase:${_r}:${_t}:${_o}`}class PersistenceUserManager{constructor(_t,_o,yl){this.persistence=_t,this.auth=_o,this.userKey=yl;const{config:El,name:_l}=this.auth;this.fullUserKey=_persistenceKeyName(this.userKey,El.apiKey,_l),this.fullPersistenceKey=_persistenceKeyName("persistence",El.apiKey,_l),this.boundEventHandler=_o._onStorageEvent.bind(_o),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(_t){return this.persistence._set(this.fullUserKey,_t.toJSON())}async getCurrentUser(){const _t=await this.persistence._get(this.fullUserKey);return _t?UserImpl._fromJSON(this.auth,_t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(_t){if(this.persistence===_t)return;const _o=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=_t,_o)return this.setCurrentUser(_o)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(_t,_o,yl="authUser"){if(!_o.length)return new PersistenceUserManager(_getInstance(inMemoryPersistence),_t,yl);const El=(await Promise.all(_o.map(async Rl=>{if(await Rl._isAvailable())return Rl}))).filter(Rl=>Rl);let _l=El[0]||_getInstance(inMemoryPersistence);const Tl=_persistenceKeyName(yl,_t.config.apiKey,_t.name);let Il=null;for(const Rl of _o)try{const Fl=await Rl._get(Tl);if(Fl){const Bl=UserImpl._fromJSON(_t,Fl);Rl!==_l&&(Il=Bl),_l=Rl;break}}catch{}const Al=El.filter(Rl=>Rl._shouldAllowMigration);return!_l._shouldAllowMigration||!Al.length?new PersistenceUserManager(_l,_t,yl):(_l=Al[0],Il&&await _l._set(Tl,Il.toJSON()),await Promise.all(_o.map(async Rl=>{if(Rl!==_l)try{await Rl._remove(Tl)}catch{}})),new PersistenceUserManager(_l,_t,yl))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _getBrowserName(_r){const _t=_r.toLowerCase();if(_t.includes("opera/")||_t.includes("opr/")||_t.includes("opios/"))return"Opera";if(_isIEMobile(_t))return"IEMobile";if(_t.includes("msie")||_t.includes("trident/"))return"IE";if(_t.includes("edge/"))return"Edge";if(_isFirefox(_t))return"Firefox";if(_t.includes("silk/"))return"Silk";if(_isBlackBerry(_t))return"Blackberry";if(_isWebOS(_t))return"Webos";if(_isSafari(_t))return"Safari";if((_t.includes("chrome/")||_isChromeIOS(_t))&&!_t.includes("edge/"))return"Chrome";if(_isAndroid(_t))return"Android";{const _o=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,yl=_r.match(_o);if((yl==null?void 0:yl.length)===2)return yl[1]}return"Other"}function _isFirefox(_r=getUA()){return/firefox\//i.test(_r)}function _isSafari(_r=getUA()){const _t=_r.toLowerCase();return _t.includes("safari/")&&!_t.includes("chrome/")&&!_t.includes("crios/")&&!_t.includes("android")}function _isChromeIOS(_r=getUA()){return/crios\//i.test(_r)}function _isIEMobile(_r=getUA()){return/iemobile/i.test(_r)}function _isAndroid(_r=getUA()){return/android/i.test(_r)}function _isBlackBerry(_r=getUA()){return/blackberry/i.test(_r)}function _isWebOS(_r=getUA()){return/webos/i.test(_r)}function _isIOS(_r=getUA()){return/iphone|ipad|ipod/i.test(_r)||/macintosh/i.test(_r)&&/mobile/i.test(_r)}function _isIOSStandalone(_r=getUA()){var _t;return _isIOS(_r)&&!!(!((_t=window.navigator)===null||_t===void 0)&&_t.standalone)}function _isIE10(){return isIE()&&document.documentMode===10}function _isMobileBrowser(_r=getUA()){return _isIOS(_r)||_isAndroid(_r)||_isWebOS(_r)||_isBlackBerry(_r)||/windows phone/i.test(_r)||_isIEMobile(_r)}function _isIframe(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _getClientVersion(_r,_t=[]){let _o;switch(_r){case"Browser":_o=_getBrowserName(getUA());break;case"Worker":_o=`${_getBrowserName(getUA())}-${_r}`;break;default:_o=_r}const yl=_t.length?_t.join(","):"FirebaseCore-web";return`${_o}/JsCore/${SDK_VERSION}/${yl}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AuthMiddlewareQueue{constructor(_t){this.auth=_t,this.queue=[]}pushCallback(_t,_o){const yl=_l=>new Promise((Tl,Il)=>{try{const Al=_t(_l);Tl(Al)}catch(Al){Il(Al)}});yl.onAbort=_o,this.queue.push(yl);const El=this.queue.length-1;return()=>{this.queue[El]=()=>Promise.resolve()}}async runMiddleware(_t){if(this.auth.currentUser===_t)return;const _o=[];try{for(const yl of this.queue)await yl(_t),yl.onAbort&&_o.push(yl.onAbort)}catch(yl){_o.reverse();for(const El of _o)try{El()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:yl==null?void 0:yl.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AuthImpl{constructor(_t,_o,yl){this.app=_t,this.heartbeatServiceProvider=_o,this.config=yl,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Subscription(this),this.idTokenSubscription=new Subscription(this),this.beforeStateQueue=new AuthMiddlewareQueue(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=_DEFAULT_AUTH_ERROR_FACTORY,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=_t.name,this.clientVersion=yl.sdkClientVersion}_initializeWithPersistence(_t,_o){return _o&&(this._popupRedirectResolver=_getInstance(_o)),this._initializationPromise=this.queue(async()=>{var yl,El;if(!this._deleted&&(this.persistenceManager=await PersistenceUserManager.create(this,_t),!this._deleted)){if(!((yl=this._popupRedirectResolver)===null||yl===void 0)&&yl._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(_o),this.lastNotifiedUid=((El=this.currentUser)===null||El===void 0?void 0:El.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const _t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!_t)){if(this.currentUser&&_t&&this.currentUser.uid===_t.uid){this._currentUser._assign(_t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(_t,!0)}}async initializeCurrentUser(_t){var _o;const yl=await this.assertedPersistence.getCurrentUser();let El=yl,_l=!1;if(_t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const Tl=(_o=this.redirectUser)===null||_o===void 0?void 0:_o._redirectEventId,Il=El==null?void 0:El._redirectEventId,Al=await this.tryRedirectSignIn(_t);(!Tl||Tl===Il)&&(Al!=null&&Al.user)&&(El=Al.user,_l=!0)}if(!El)return this.directlySetCurrentUser(null);if(!El._redirectEventId){if(_l)try{await this.beforeStateQueue.runMiddleware(El)}catch(Tl){El=yl,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(Tl))}return El?this.reloadAndSetCurrentUserOrClear(El):this.directlySetCurrentUser(null)}return _assert(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===El._redirectEventId?this.directlySetCurrentUser(El):this.reloadAndSetCurrentUserOrClear(El)}async tryRedirectSignIn(_t){let _o=null;try{_o=await this._popupRedirectResolver._completeRedirectFn(this,_t,!0)}catch{await this._setRedirectUser(null)}return _o}async reloadAndSetCurrentUserOrClear(_t){try{await _reloadWithoutSaving(_t)}catch(_o){if((_o==null?void 0:_o.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(_t)}useDeviceLanguage(){this.languageCode=_getUserLanguage()}async _delete(){this._deleted=!0}async updateCurrentUser(_t){const _o=_t?getModularInstance(_t):null;return _o&&_assert(_o.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(_o&&_o._clone(this))}async _updateCurrentUser(_t,_o=!1){if(!this._deleted)return _t&&_assert(this.tenantId===_t.tenantId,this,"tenant-id-mismatch"),_o||await this.beforeStateQueue.runMiddleware(_t),this.queue(async()=>{await this.directlySetCurrentUser(_t),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(_t){return this.queue(async()=>{await this.assertedPersistence.setPersistence(_getInstance(_t))})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(_t){this._errorFactory=new ErrorFactory("auth","Firebase",_t())}onAuthStateChanged(_t,_o,yl){return this.registerStateListener(this.authStateSubscription,_t,_o,yl)}beforeAuthStateChanged(_t,_o){return this.beforeStateQueue.pushCallback(_t,_o)}onIdTokenChanged(_t,_o,yl){return this.registerStateListener(this.idTokenSubscription,_t,_o,yl)}toJSON(){var _t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(_t=this._currentUser)===null||_t===void 0?void 0:_t.toJSON()}}async _setRedirectUser(_t,_o){const yl=await this.getOrInitRedirectPersistenceManager(_o);return _t===null?yl.removeCurrentUser():yl.setCurrentUser(_t)}async getOrInitRedirectPersistenceManager(_t){if(!this.redirectPersistenceManager){const _o=_t&&_getInstance(_t)||this._popupRedirectResolver;_assert(_o,this,"argument-error"),this.redirectPersistenceManager=await PersistenceUserManager.create(this,[_getInstance(_o._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(_t){var _o,yl;return this._isInitialized&&await this.queue(async()=>{}),((_o=this._currentUser)===null||_o===void 0?void 0:_o._redirectEventId)===_t?this._currentUser:((yl=this.redirectUser)===null||yl===void 0?void 0:yl._redirectEventId)===_t?this.redirectUser:null}async _persistUserIfCurrent(_t){if(_t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(_t))}_notifyListenersIfCurrent(_t){_t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var _t,_o;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const yl=(_o=(_t=this.currentUser)===null||_t===void 0?void 0:_t.uid)!==null&&_o!==void 0?_o:null;this.lastNotifiedUid!==yl&&(this.lastNotifiedUid=yl,this.authStateSubscription.next(this.currentUser))}registerStateListener(_t,_o,yl,El){if(this._deleted)return()=>{};const _l=typeof _o=="function"?_o:_o.next.bind(_o),Tl=this._isInitialized?Promise.resolve():this._initializationPromise;return _assert(Tl,this,"internal-error"),Tl.then(()=>_l(this.currentUser)),typeof _o=="function"?_t.addObserver(_o,yl,El):_t.addObserver(_o)}async directlySetCurrentUser(_t){this.currentUser&&this.currentUser!==_t&&this._currentUser._stopProactiveRefresh(),_t&&this.isProactiveRefreshEnabled&&_t._startProactiveRefresh(),this.currentUser=_t,_t?await this.assertedPersistence.setCurrentUser(_t):await this.assertedPersistence.removeCurrentUser()}queue(_t){return this.operations=this.operations.then(_t,_t),this.operations}get assertedPersistence(){return _assert(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(_t){!_t||this.frameworks.includes(_t)||(this.frameworks.push(_t),this.frameworks.sort(),this.clientVersion=_getClientVersion(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var _t;const _o={["X-Client-Version"]:this.clientVersion};this.app.options.appId&&(_o["X-Firebase-gmpid"]=this.app.options.appId);const yl=await((_t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||_t===void 0?void 0:_t.getHeartbeatsHeader());return yl&&(_o["X-Firebase-Client"]=yl),_o}}function _castAuth(_r){return getModularInstance(_r)}class Subscription{constructor(_t){this.auth=_t,this.observer=null,this.addObserver=createSubscribe(_o=>this.observer=_o)}get next(){return _assert(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function connectAuthEmulator(_r,_t,_o){const yl=_castAuth(_r);_assert(yl._canInitEmulator,yl,"emulator-config-failed"),_assert(/^https?:\/\//.test(_t),yl,"invalid-emulator-scheme");const El=!!(_o!=null&&_o.disableWarnings),_l=extractProtocol(_t),{host:Tl,port:Il}=extractHostAndPort(_t),Al=Il===null?"":`:${Il}`;yl.config.emulator={url:`${_l}//${Tl}${Al}/`},yl.settings.appVerificationDisabledForTesting=!0,yl.emulatorConfig=Object.freeze({host:Tl,port:Il,protocol:_l.replace(":",""),options:Object.freeze({disableWarnings:El})}),El||emitEmulatorWarning()}function extractProtocol(_r){const _t=_r.indexOf(":");return _t<0?"":_r.substr(0,_t+1)}function extractHostAndPort(_r){const _t=extractProtocol(_r),_o=/(\/\/)?([^?#/]+)/.exec(_r.substr(_t.length));if(!_o)return{host:"",port:null};const yl=_o[2].split("@").pop()||"",El=/^(\[[^\]]+\])(:|$)/.exec(yl);if(El){const _l=El[1];return{host:_l,port:parsePort(yl.substr(_l.length+1))}}else{const[_l,Tl]=yl.split(":");return{host:_l,port:parsePort(Tl)}}}function parsePort(_r){if(!_r)return null;const _t=Number(_r);return isNaN(_t)?null:_t}function emitEmulatorWarning(){function _r(){const _t=document.createElement("p"),_o=_t.style;_t.innerText="Running in emulator mode. Do not use with production credentials.",_o.position="fixed",_o.width="100%",_o.backgroundColor="#ffffff",_o.border=".1em solid #000000",_o.color="#b50000",_o.bottom="0px",_o.left="0px",_o.margin="0px",_o.zIndex="10000",_o.textAlign="center",_t.classList.add("firebase-emulator-warning"),document.body.appendChild(_t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_r):_r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AuthCredential{constructor(_t,_o){this.providerId=_t,this.signInMethod=_o}toJSON(){return debugFail("not implemented")}_getIdTokenResponse(_t){return debugFail("not implemented")}_linkToIdToken(_t,_o){return debugFail("not implemented")}_getReauthenticationResolver(_t){return debugFail("not implemented")}}async function updateEmailPassword(_r,_t){return _performApiRequest(_r,"POST","/v1/accounts:update",_t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function signInWithPassword(_r,_t){return _performSignInRequest(_r,"POST","/v1/accounts:signInWithPassword",_addTidIfNecessary(_r,_t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function signInWithEmailLink$1(_r,_t){return _performSignInRequest(_r,"POST","/v1/accounts:signInWithEmailLink",_addTidIfNecessary(_r,_t))}async function signInWithEmailLinkForLinking(_r,_t){return _performSignInRequest(_r,"POST","/v1/accounts:signInWithEmailLink",_addTidIfNecessary(_r,_t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EmailAuthCredential extends AuthCredential{constructor(_t,_o,yl,El=null){super("password",yl),this._email=_t,this._password=_o,this._tenantId=El}static _fromEmailAndPassword(_t,_o){return new EmailAuthCredential(_t,_o,"password")}static _fromEmailAndCode(_t,_o,yl=null){return new EmailAuthCredential(_t,_o,"emailLink",yl)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(_t){const _o=typeof _t=="string"?JSON.parse(_t):_t;if(_o!=null&&_o.email&&(_o!=null&&_o.password)){if(_o.signInMethod==="password")return this._fromEmailAndPassword(_o.email,_o.password);if(_o.signInMethod==="emailLink")return this._fromEmailAndCode(_o.email,_o.password,_o.tenantId)}return null}async _getIdTokenResponse(_t){switch(this.signInMethod){case"password":return signInWithPassword(_t,{returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return signInWithEmailLink$1(_t,{email:this._email,oobCode:this._password});default:_fail(_t,"internal-error")}}async _linkToIdToken(_t,_o){switch(this.signInMethod){case"password":return updateEmailPassword(_t,{idToken:_o,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return signInWithEmailLinkForLinking(_t,{idToken:_o,email:this._email,oobCode:this._password});default:_fail(_t,"internal-error")}}_getReauthenticationResolver(_t){return this._getIdTokenResponse(_t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function signInWithIdp(_r,_t){return _performSignInRequest(_r,"POST","/v1/accounts:signInWithIdp",_addTidIfNecessary(_r,_t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IDP_REQUEST_URI$1="http://localhost";class OAuthCredential extends AuthCredential{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(_t){const _o=new OAuthCredential(_t.providerId,_t.signInMethod);return _t.idToken||_t.accessToken?(_t.idToken&&(_o.idToken=_t.idToken),_t.accessToken&&(_o.accessToken=_t.accessToken),_t.nonce&&!_t.pendingToken&&(_o.nonce=_t.nonce),_t.pendingToken&&(_o.pendingToken=_t.pendingToken)):_t.oauthToken&&_t.oauthTokenSecret?(_o.accessToken=_t.oauthToken,_o.secret=_t.oauthTokenSecret):_fail("argument-error"),_o}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(_t){const _o=typeof _t=="string"?JSON.parse(_t):_t,{providerId:yl,signInMethod:El}=_o,_l=__rest(_o,["providerId","signInMethod"]);if(!yl||!El)return null;const Tl=new OAuthCredential(yl,El);return Tl.idToken=_l.idToken||void 0,Tl.accessToken=_l.accessToken||void 0,Tl.secret=_l.secret,Tl.nonce=_l.nonce,Tl.pendingToken=_l.pendingToken||null,Tl}_getIdTokenResponse(_t){const _o=this.buildRequest();return signInWithIdp(_t,_o)}_linkToIdToken(_t,_o){const yl=this.buildRequest();return yl.idToken=_o,signInWithIdp(_t,yl)}_getReauthenticationResolver(_t){const _o=this.buildRequest();return _o.autoCreate=!1,signInWithIdp(_t,_o)}buildRequest(){const _t={requestUri:IDP_REQUEST_URI$1,returnSecureToken:!0};if(this.pendingToken)_t.pendingToken=this.pendingToken;else{const _o={};this.idToken&&(_o.id_token=this.idToken),this.accessToken&&(_o.access_token=this.accessToken),this.secret&&(_o.oauth_token_secret=this.secret),_o.providerId=this.providerId,this.nonce&&!this.pendingToken&&(_o.nonce=this.nonce),_t.postBody=querystring(_o)}return _t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function parseMode(_r){switch(_r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function parseDeepLink(_r){const _t=querystringDecode(extractQuerystring(_r)).link,_o=_t?querystringDecode(extractQuerystring(_t)).deep_link_id:null,yl=querystringDecode(extractQuerystring(_r)).deep_link_id;return(yl?querystringDecode(extractQuerystring(yl)).link:null)||yl||_o||_t||_r}class ActionCodeURL{constructor(_t){var _o,yl,El,_l,Tl,Il;const Al=querystringDecode(extractQuerystring(_t)),Rl=(_o=Al.apiKey)!==null&&_o!==void 0?_o:null,Fl=(yl=Al.oobCode)!==null&&yl!==void 0?yl:null,Bl=parseMode((El=Al.mode)!==null&&El!==void 0?El:null);_assert(Rl&&Fl&&Bl,"argument-error"),this.apiKey=Rl,this.operation=Bl,this.code=Fl,this.continueUrl=(_l=Al.continueUrl)!==null&&_l!==void 0?_l:null,this.languageCode=(Tl=Al.languageCode)!==null&&Tl!==void 0?Tl:null,this.tenantId=(Il=Al.tenantId)!==null&&Il!==void 0?Il:null}static parseLink(_t){const _o=parseDeepLink(_t);try{return new ActionCodeURL(_o)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EmailAuthProvider{constructor(){this.providerId=EmailAuthProvider.PROVIDER_ID}static credential(_t,_o){return EmailAuthCredential._fromEmailAndPassword(_t,_o)}static credentialWithLink(_t,_o){const yl=ActionCodeURL.parseLink(_o);return _assert(yl,"argument-error"),EmailAuthCredential._fromEmailAndCode(_t,yl.code,yl.tenantId)}}EmailAuthProvider.PROVIDER_ID="password";EmailAuthProvider.EMAIL_PASSWORD_SIGN_IN_METHOD="password";EmailAuthProvider.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FederatedAuthProvider{constructor(_t){this.providerId=_t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(_t){this.defaultLanguageCode=_t}setCustomParameters(_t){return this.customParameters=_t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BaseOAuthProvider extends FederatedAuthProvider{constructor(){super(...arguments),this.scopes=[]}addScope(_t){return this.scopes.includes(_t)||this.scopes.push(_t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FacebookAuthProvider extends BaseOAuthProvider{constructor(){super("facebook.com")}static credential(_t){return OAuthCredential._fromParams({providerId:FacebookAuthProvider.PROVIDER_ID,signInMethod:FacebookAuthProvider.FACEBOOK_SIGN_IN_METHOD,accessToken:_t})}static credentialFromResult(_t){return FacebookAuthProvider.credentialFromTaggedObject(_t)}static credentialFromError(_t){return FacebookAuthProvider.credentialFromTaggedObject(_t.customData||{})}static credentialFromTaggedObject({_tokenResponse:_t}){if(!_t||!("oauthAccessToken"in _t)||!_t.oauthAccessToken)return null;try{return FacebookAuthProvider.credential(_t.oauthAccessToken)}catch{return null}}}FacebookAuthProvider.FACEBOOK_SIGN_IN_METHOD="facebook.com";FacebookAuthProvider.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GoogleAuthProvider extends BaseOAuthProvider{constructor(){super("google.com"),this.addScope("profile")}static credential(_t,_o){return OAuthCredential._fromParams({providerId:GoogleAuthProvider.PROVIDER_ID,signInMethod:GoogleAuthProvider.GOOGLE_SIGN_IN_METHOD,idToken:_t,accessToken:_o})}static credentialFromResult(_t){return GoogleAuthProvider.credentialFromTaggedObject(_t)}static credentialFromError(_t){return GoogleAuthProvider.credentialFromTaggedObject(_t.customData||{})}static credentialFromTaggedObject({_tokenResponse:_t}){if(!_t)return null;const{oauthIdToken:_o,oauthAccessToken:yl}=_t;if(!_o&&!yl)return null;try{return GoogleAuthProvider.credential(_o,yl)}catch{return null}}}GoogleAuthProvider.GOOGLE_SIGN_IN_METHOD="google.com";GoogleAuthProvider.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GithubAuthProvider extends BaseOAuthProvider{constructor(){super("github.com")}static credential(_t){return OAuthCredential._fromParams({providerId:GithubAuthProvider.PROVIDER_ID,signInMethod:GithubAuthProvider.GITHUB_SIGN_IN_METHOD,accessToken:_t})}static credentialFromResult(_t){return GithubAuthProvider.credentialFromTaggedObject(_t)}static credentialFromError(_t){return GithubAuthProvider.credentialFromTaggedObject(_t.customData||{})}static credentialFromTaggedObject({_tokenResponse:_t}){if(!_t||!("oauthAccessToken"in _t)||!_t.oauthAccessToken)return null;try{return GithubAuthProvider.credential(_t.oauthAccessToken)}catch{return null}}}GithubAuthProvider.GITHUB_SIGN_IN_METHOD="github.com";GithubAuthProvider.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TwitterAuthProvider extends BaseOAuthProvider{constructor(){super("twitter.com")}static credential(_t,_o){return OAuthCredential._fromParams({providerId:TwitterAuthProvider.PROVIDER_ID,signInMethod:TwitterAuthProvider.TWITTER_SIGN_IN_METHOD,oauthToken:_t,oauthTokenSecret:_o})}static credentialFromResult(_t){return TwitterAuthProvider.credentialFromTaggedObject(_t)}static credentialFromError(_t){return TwitterAuthProvider.credentialFromTaggedObject(_t.customData||{})}static credentialFromTaggedObject({_tokenResponse:_t}){if(!_t)return null;const{oauthAccessToken:_o,oauthTokenSecret:yl}=_t;if(!_o||!yl)return null;try{return TwitterAuthProvider.credential(_o,yl)}catch{return null}}}TwitterAuthProvider.TWITTER_SIGN_IN_METHOD="twitter.com";TwitterAuthProvider.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function signUp(_r,_t){return _performSignInRequest(_r,"POST","/v1/accounts:signUp",_addTidIfNecessary(_r,_t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UserCredentialImpl{constructor(_t){this.user=_t.user,this.providerId=_t.providerId,this._tokenResponse=_t._tokenResponse,this.operationType=_t.operationType}static async _fromIdTokenResponse(_t,_o,yl,El=!1){const _l=await UserImpl._fromIdTokenResponse(_t,yl,El),Tl=providerIdForResponse(yl);return new UserCredentialImpl({user:_l,providerId:Tl,_tokenResponse:yl,operationType:_o})}static async _forOperation(_t,_o,yl){await _t._updateTokensIfNecessary(yl,!0);const El=providerIdForResponse(yl);return new UserCredentialImpl({user:_t,providerId:El,_tokenResponse:yl,operationType:_o})}}function providerIdForResponse(_r){return _r.providerId?_r.providerId:"phoneNumber"in _r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MultiFactorError extends FirebaseError{constructor(_t,_o,yl,El){var _l;super(_o.code,_o.message),this.operationType=yl,this.user=El,Object.setPrototypeOf(this,MultiFactorError.prototype),this.customData={appName:_t.name,tenantId:(_l=_t.tenantId)!==null&&_l!==void 0?_l:void 0,_serverResponse:_o.customData._serverResponse,operationType:yl}}static _fromErrorAndOperation(_t,_o,yl,El){return new MultiFactorError(_t,_o,yl,El)}}function _processCredentialSavingMfaContextIfNecessary(_r,_t,_o,yl){return(_t==="reauthenticate"?_o._getReauthenticationResolver(_r):_o._getIdTokenResponse(_r)).catch(_l=>{throw _l.code==="auth/multi-factor-auth-required"?MultiFactorError._fromErrorAndOperation(_r,_l,_t,yl):_l})}async function _link$1(_r,_t,_o=!1){const yl=await _logoutIfInvalidated(_r,_t._linkToIdToken(_r.auth,await _r.getIdToken()),_o);return UserCredentialImpl._forOperation(_r,"link",yl)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _reauthenticate(_r,_t,_o=!1){const{auth:yl}=_r,El="reauthenticate";try{const _l=await _logoutIfInvalidated(_r,_processCredentialSavingMfaContextIfNecessary(yl,El,_t,_r),_o);_assert(_l.idToken,yl,"internal-error");const Tl=_parseToken(_l.idToken);_assert(Tl,yl,"internal-error");const{sub:Il}=Tl;return _assert(_r.uid===Il,yl,"user-mismatch"),UserCredentialImpl._forOperation(_r,El,_l)}catch(_l){throw(_l==null?void 0:_l.code)==="auth/user-not-found"&&_fail(yl,"user-mismatch"),_l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _signInWithCredential(_r,_t,_o=!1){const yl="signIn",El=await _processCredentialSavingMfaContextIfNecessary(_r,yl,_t),_l=await UserCredentialImpl._fromIdTokenResponse(_r,yl,El);return _o||await _r._updateCurrentUser(_l.user),_l}async function signInWithCredential(_r,_t){return _signInWithCredential(_castAuth(_r),_t)}async function createUserWithEmailAndPassword(_r,_t,_o){const yl=_castAuth(_r),El=await signUp(yl,{returnSecureToken:!0,email:_t,password:_o}),_l=await UserCredentialImpl._fromIdTokenResponse(yl,"signIn",El);return await yl._updateCurrentUser(_l.user),_l}function signInWithEmailAndPassword(_r,_t,_o){return signInWithCredential(getModularInstance(_r),EmailAuthProvider.credential(_t,_o))}function onIdTokenChanged(_r,_t,_o,yl){return getModularInstance(_r).onIdTokenChanged(_t,_o,yl)}function beforeAuthStateChanged(_r,_t,_o){return getModularInstance(_r).beforeAuthStateChanged(_t,_o)}function onAuthStateChanged(_r,_t,_o,yl){return getModularInstance(_r).onAuthStateChanged(_t,_o,yl)}function signOut(_r){return getModularInstance(_r).signOut()}const STORAGE_AVAILABLE_KEY="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BrowserPersistenceClass{constructor(_t,_o){this.storageRetriever=_t,this.type=_o}_isAvailable(){try{return this.storage?(this.storage.setItem(STORAGE_AVAILABLE_KEY,"1"),this.storage.removeItem(STORAGE_AVAILABLE_KEY),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(_t,_o){return this.storage.setItem(_t,JSON.stringify(_o)),Promise.resolve()}_get(_t){const _o=this.storage.getItem(_t);return Promise.resolve(_o?JSON.parse(_o):null)}_remove(_t){return this.storage.removeItem(_t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _iframeCannotSyncWebStorage(){const _r=getUA();return _isSafari(_r)||_isIOS(_r)}const _POLLING_INTERVAL_MS$1=1e3,IE10_LOCAL_STORAGE_SYNC_DELAY=10;class BrowserLocalPersistence extends BrowserPersistenceClass{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(_t,_o)=>this.onStorageEvent(_t,_o),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=_iframeCannotSyncWebStorage()&&_isIframe(),this.fallbackToPolling=_isMobileBrowser(),this._shouldAllowMigration=!0}forAllChangedKeys(_t){for(const _o of Object.keys(this.listeners)){const yl=this.storage.getItem(_o),El=this.localCache[_o];yl!==El&&_t(_o,El,yl)}}onStorageEvent(_t,_o=!1){if(!_t.key){this.forAllChangedKeys((Tl,Il,Al)=>{this.notifyListeners(Tl,Al)});return}const yl=_t.key;if(_o?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Tl=this.storage.getItem(yl);if(_t.newValue!==Tl)_t.newValue!==null?this.storage.setItem(yl,_t.newValue):this.storage.removeItem(yl);else if(this.localCache[yl]===_t.newValue&&!_o)return}const El=()=>{const Tl=this.storage.getItem(yl);!_o&&this.localCache[yl]===Tl||this.notifyListeners(yl,Tl)},_l=this.storage.getItem(yl);_isIE10()&&_l!==_t.newValue&&_t.newValue!==_t.oldValue?setTimeout(El,IE10_LOCAL_STORAGE_SYNC_DELAY):El()}notifyListeners(_t,_o){this.localCache[_t]=_o;const yl=this.listeners[_t];if(yl)for(const El of Array.from(yl))El(_o&&JSON.parse(_o))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((_t,_o,yl)=>{this.onStorageEvent(new StorageEvent("storage",{key:_t,oldValue:_o,newValue:yl}),!0)})},_POLLING_INTERVAL_MS$1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(_t,_o){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[_t]||(this.listeners[_t]=new Set,this.localCache[_t]=this.storage.getItem(_t)),this.listeners[_t].add(_o)}_removeListener(_t,_o){this.listeners[_t]&&(this.listeners[_t].delete(_o),this.listeners[_t].size===0&&delete this.listeners[_t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(_t,_o){await super._set(_t,_o),this.localCache[_t]=JSON.stringify(_o)}async _get(_t){const _o=await super._get(_t);return this.localCache[_t]=JSON.stringify(_o),_o}async _remove(_t){await super._remove(_t),delete this.localCache[_t]}}BrowserLocalPersistence.type="LOCAL";const browserLocalPersistence=BrowserLocalPersistence;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BrowserSessionPersistence extends BrowserPersistenceClass{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(_t,_o){}_removeListener(_t,_o){}}BrowserSessionPersistence.type="SESSION";const browserSessionPersistence=BrowserSessionPersistence;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _allSettled(_r){return Promise.all(_r.map(async _t=>{try{return{fulfilled:!0,value:await _t}}catch(_o){return{fulfilled:!1,reason:_o}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Receiver{constructor(_t){this.eventTarget=_t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(_t){const _o=this.receivers.find(El=>El.isListeningto(_t));if(_o)return _o;const yl=new Receiver(_t);return this.receivers.push(yl),yl}isListeningto(_t){return this.eventTarget===_t}async handleEvent(_t){const _o=_t,{eventId:yl,eventType:El,data:_l}=_o.data,Tl=this.handlersMap[El];if(!(Tl!=null&&Tl.size))return;_o.ports[0].postMessage({status:"ack",eventId:yl,eventType:El});const Il=Array.from(Tl).map(async Rl=>Rl(_o.origin,_l)),Al=await _allSettled(Il);_o.ports[0].postMessage({status:"done",eventId:yl,eventType:El,response:Al})}_subscribe(_t,_o){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[_t]||(this.handlersMap[_t]=new Set),this.handlersMap[_t].add(_o)}_unsubscribe(_t,_o){this.handlersMap[_t]&&_o&&this.handlersMap[_t].delete(_o),(!_o||this.handlersMap[_t].size===0)&&delete this.handlersMap[_t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Receiver.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _generateEventId(_r="",_t=10){let _o="";for(let yl=0;yl<_t;yl++)_o+=Math.floor(Math.random()*10);return _r+_o}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sender{constructor(_t){this.target=_t,this.handlers=new Set}removeMessageHandler(_t){_t.messageChannel&&(_t.messageChannel.port1.removeEventListener("message",_t.onMessage),_t.messageChannel.port1.close()),this.handlers.delete(_t)}async _send(_t,_o,yl=50){const El=typeof MessageChannel<"u"?new MessageChannel:null;if(!El)throw new Error("connection_unavailable");let _l,Tl;return new Promise((Il,Al)=>{const Rl=_generateEventId("",20);El.port1.start();const Fl=setTimeout(()=>{Al(new Error("unsupported_event"))},yl);Tl={messageChannel:El,onMessage(Bl){const Gl=Bl;if(Gl.data.eventId===Rl)switch(Gl.data.status){case"ack":clearTimeout(Fl),_l=setTimeout(()=>{Al(new Error("timeout"))},3e3);break;case"done":clearTimeout(_l),Il(Gl.data.response);break;default:clearTimeout(Fl),clearTimeout(_l),Al(new Error("invalid_response"));break}}},this.handlers.add(Tl),El.port1.addEventListener("message",Tl.onMessage),this.target.postMessage({eventType:_t,eventId:Rl,data:_o},[El.port2])}).finally(()=>{Tl&&this.removeMessageHandler(Tl)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _window(){return window}function _setWindowLocation(_r){_window().location.href=_r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _isWorker(){return typeof _window().WorkerGlobalScope<"u"&&typeof _window().importScripts=="function"}async function _getActiveServiceWorker(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function _getServiceWorkerController(){var _r;return((_r=navigator==null?void 0:navigator.serviceWorker)===null||_r===void 0?void 0:_r.controller)||null}function _getWorkerGlobalScope(){return _isWorker()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DB_NAME="firebaseLocalStorageDb",DB_VERSION=1,DB_OBJECTSTORE_NAME="firebaseLocalStorage",DB_DATA_KEYPATH="fbase_key";class DBPromise{constructor(_t){this.request=_t}toPromise(){return new Promise((_t,_o)=>{this.request.addEventListener("success",()=>{_t(this.request.result)}),this.request.addEventListener("error",()=>{_o(this.request.error)})})}}function getObjectStore(_r,_t){return _r.transaction([DB_OBJECTSTORE_NAME],_t?"readwrite":"readonly").objectStore(DB_OBJECTSTORE_NAME)}function _deleteDatabase(){const _r=indexedDB.deleteDatabase(DB_NAME);return new DBPromise(_r).toPromise()}function _openDatabase(){const _r=indexedDB.open(DB_NAME,DB_VERSION);return new Promise((_t,_o)=>{_r.addEventListener("error",()=>{_o(_r.error)}),_r.addEventListener("upgradeneeded",()=>{const yl=_r.result;try{yl.createObjectStore(DB_OBJECTSTORE_NAME,{keyPath:DB_DATA_KEYPATH})}catch(El){_o(El)}}),_r.addEventListener("success",async()=>{const yl=_r.result;yl.objectStoreNames.contains(DB_OBJECTSTORE_NAME)?_t(yl):(yl.close(),await _deleteDatabase(),_t(await _openDatabase()))})})}async function _putObject(_r,_t,_o){const yl=getObjectStore(_r,!0).put({[DB_DATA_KEYPATH]:_t,value:_o});return new DBPromise(yl).toPromise()}async function getObject(_r,_t){const _o=getObjectStore(_r,!1).get(_t),yl=await new DBPromise(_o).toPromise();return yl===void 0?null:yl.value}function _deleteObject(_r,_t){const _o=getObjectStore(_r,!0).delete(_t);return new DBPromise(_o).toPromise()}const _POLLING_INTERVAL_MS=800,_TRANSACTION_RETRY_COUNT=3;class IndexedDBLocalPersistence{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await _openDatabase(),this.db)}async _withRetries(_t){let _o=0;for(;;)try{const yl=await this._openDb();return await _t(yl)}catch(yl){if(_o++>_TRANSACTION_RETRY_COUNT)throw yl;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return _isWorker()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Receiver._getInstance(_getWorkerGlobalScope()),this.receiver._subscribe("keyChanged",async(_t,_o)=>({keyProcessed:(await this._poll()).includes(_o.key)})),this.receiver._subscribe("ping",async(_t,_o)=>["keyChanged"])}async initializeSender(){var _t,_o;if(this.activeServiceWorker=await _getActiveServiceWorker(),!this.activeServiceWorker)return;this.sender=new Sender(this.activeServiceWorker);const yl=await this.sender._send("ping",{},800);yl&&!((_t=yl[0])===null||_t===void 0)&&_t.fulfilled&&!((_o=yl[0])===null||_o===void 0)&&_o.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(_t){if(!(!this.sender||!this.activeServiceWorker||_getServiceWorkerController()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:_t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const _t=await _openDatabase();return await _putObject(_t,STORAGE_AVAILABLE_KEY,"1"),await _deleteObject(_t,STORAGE_AVAILABLE_KEY),!0}catch{}return!1}async _withPendingWrite(_t){this.pendingWrites++;try{await _t()}finally{this.pendingWrites--}}async _set(_t,_o){return this._withPendingWrite(async()=>(await this._withRetries(yl=>_putObject(yl,_t,_o)),this.localCache[_t]=_o,this.notifyServiceWorker(_t)))}async _get(_t){const _o=await this._withRetries(yl=>getObject(yl,_t));return this.localCache[_t]=_o,_o}async _remove(_t){return this._withPendingWrite(async()=>(await this._withRetries(_o=>_deleteObject(_o,_t)),delete this.localCache[_t],this.notifyServiceWorker(_t)))}async _poll(){const _t=await this._withRetries(El=>{const _l=getObjectStore(El,!1).getAll();return new DBPromise(_l).toPromise()});if(!_t)return[];if(this.pendingWrites!==0)return[];const _o=[],yl=new Set;for(const{fbase_key:El,value:_l}of _t)yl.add(El),JSON.stringify(this.localCache[El])!==JSON.stringify(_l)&&(this.notifyListeners(El,_l),_o.push(El));for(const El of Object.keys(this.localCache))this.localCache[El]&&!yl.has(El)&&(this.notifyListeners(El,null),_o.push(El));return _o}notifyListeners(_t,_o){this.localCache[_t]=_o;const yl=this.listeners[_t];if(yl)for(const El of Array.from(yl))El(_o)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),_POLLING_INTERVAL_MS)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(_t,_o){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[_t]||(this.listeners[_t]=new Set,this._get(_t)),this.listeners[_t].add(_o)}_removeListener(_t,_o){this.listeners[_t]&&(this.listeners[_t].delete(_o),this.listeners[_t].size===0&&delete this.listeners[_t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}IndexedDBLocalPersistence.type="LOCAL";const indexedDBLocalPersistence=IndexedDBLocalPersistence;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getScriptParentElement(){var _r,_t;return(_t=(_r=document.getElementsByTagName("head"))===null||_r===void 0?void 0:_r[0])!==null&&_t!==void 0?_t:document}function _loadJS(_r){return new Promise((_t,_o)=>{const yl=document.createElement("script");yl.setAttribute("src",_r),yl.onload=_t,yl.onerror=El=>{const _l=_createError("internal-error");_l.customData=El,_o(_l)},yl.type="text/javascript",yl.charset="UTF-8",getScriptParentElement().appendChild(yl)})}function _generateCallbackName(_r){return`__${_r}${Math.floor(Math.random()*1e6)}`}new Delay(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _withDefaultResolver(_r,_t){return _t?_getInstance(_t):(_assert(_r._popupRedirectResolver,_r,"argument-error"),_r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IdpCredential extends AuthCredential{constructor(_t){super("custom","custom"),this.params=_t}_getIdTokenResponse(_t){return signInWithIdp(_t,this._buildIdpRequest())}_linkToIdToken(_t,_o){return signInWithIdp(_t,this._buildIdpRequest(_o))}_getReauthenticationResolver(_t){return signInWithIdp(_t,this._buildIdpRequest())}_buildIdpRequest(_t){const _o={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return _t&&(_o.idToken=_t),_o}}function _signIn(_r){return _signInWithCredential(_r.auth,new IdpCredential(_r),_r.bypassAuthState)}function _reauth(_r){const{auth:_t,user:_o}=_r;return _assert(_o,_t,"internal-error"),_reauthenticate(_o,new IdpCredential(_r),_r.bypassAuthState)}async function _link(_r){const{auth:_t,user:_o}=_r;return _assert(_o,_t,"internal-error"),_link$1(_o,new IdpCredential(_r),_r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AbstractPopupRedirectOperation{constructor(_t,_o,yl,El,_l=!1){this.auth=_t,this.resolver=yl,this.user=El,this.bypassAuthState=_l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(_o)?_o:[_o]}execute(){return new Promise(async(_t,_o)=>{this.pendingPromise={resolve:_t,reject:_o};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(yl){this.reject(yl)}})}async onAuthEvent(_t){const{urlResponse:_o,sessionId:yl,postBody:El,tenantId:_l,error:Tl,type:Il}=_t;if(Tl){this.reject(Tl);return}const Al={auth:this.auth,requestUri:_o,sessionId:yl,tenantId:_l||void 0,postBody:El||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(Il)(Al))}catch(Rl){this.reject(Rl)}}onError(_t){this.reject(_t)}getIdpTask(_t){switch(_t){case"signInViaPopup":case"signInViaRedirect":return _signIn;case"linkViaPopup":case"linkViaRedirect":return _link;case"reauthViaPopup":case"reauthViaRedirect":return _reauth;default:_fail(this.auth,"internal-error")}}resolve(_t){debugAssert(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(_t),this.unregisterAndCleanUp()}reject(_t){debugAssert(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(_t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _POLL_WINDOW_CLOSE_TIMEOUT=new Delay(2e3,1e4);async function signInWithPopup(_r,_t,_o){const yl=_castAuth(_r);_assertInstanceOf(_r,_t,FederatedAuthProvider);const El=_withDefaultResolver(yl,_o);return new PopupOperation(yl,"signInViaPopup",_t,El).executeNotNull()}class PopupOperation extends AbstractPopupRedirectOperation{constructor(_t,_o,yl,El,_l){super(_t,_o,El,_l),this.provider=yl,this.authWindow=null,this.pollId=null,PopupOperation.currentPopupAction&&PopupOperation.currentPopupAction.cancel(),PopupOperation.currentPopupAction=this}async executeNotNull(){const _t=await this.execute();return _assert(_t,this.auth,"internal-error"),_t}async onExecution(){debugAssert(this.filter.length===1,"Popup operations only handle one event");const _t=_generateEventId();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],_t),this.authWindow.associatedEvent=_t,this.resolver._originValidation(this.auth).catch(_o=>{this.reject(_o)}),this.resolver._isIframeWebStorageSupported(this.auth,_o=>{_o||this.reject(_createError(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var _t;return((_t=this.authWindow)===null||_t===void 0?void 0:_t.associatedEvent)||null}cancel(){this.reject(_createError(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,PopupOperation.currentPopupAction=null}pollUserCancellation(){const _t=()=>{var _o,yl;if(!((yl=(_o=this.authWindow)===null||_o===void 0?void 0:_o.window)===null||yl===void 0)&&yl.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(_createError(this.auth,"popup-closed-by-user"))},2e3);return}this.pollId=window.setTimeout(_t,_POLL_WINDOW_CLOSE_TIMEOUT.get())};_t()}}PopupOperation.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PENDING_REDIRECT_KEY="pendingRedirect",redirectOutcomeMap=new Map;class RedirectAction extends AbstractPopupRedirectOperation{constructor(_t,_o,yl=!1){super(_t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],_o,void 0,yl),this.eventId=null}async execute(){let _t=redirectOutcomeMap.get(this.auth._key());if(!_t){try{const yl=await _getAndClearPendingRedirectStatus(this.resolver,this.auth)?await super.execute():null;_t=()=>Promise.resolve(yl)}catch(_o){_t=()=>Promise.reject(_o)}redirectOutcomeMap.set(this.auth._key(),_t)}return this.bypassAuthState||redirectOutcomeMap.set(this.auth._key(),()=>Promise.resolve(null)),_t()}async onAuthEvent(_t){if(_t.type==="signInViaRedirect")return super.onAuthEvent(_t);if(_t.type==="unknown"){this.resolve(null);return}if(_t.eventId){const _o=await this.auth._redirectUserForId(_t.eventId);if(_o)return this.user=_o,super.onAuthEvent(_t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function _getAndClearPendingRedirectStatus(_r,_t){const _o=pendingRedirectKey(_t),yl=resolverPersistence(_r);if(!await yl._isAvailable())return!1;const El=await yl._get(_o)==="true";return await yl._remove(_o),El}function _overrideRedirectResult(_r,_t){redirectOutcomeMap.set(_r._key(),_t)}function resolverPersistence(_r){return _getInstance(_r._redirectPersistence)}function pendingRedirectKey(_r){return _persistenceKeyName(PENDING_REDIRECT_KEY,_r.config.apiKey,_r.name)}async function _getRedirectResult(_r,_t,_o=!1){const yl=_castAuth(_r),El=_withDefaultResolver(yl,_t),Tl=await new RedirectAction(yl,El,_o).execute();return Tl&&!_o&&(delete Tl.user._redirectEventId,await yl._persistUserIfCurrent(Tl.user),await yl._setRedirectUser(null,_t)),Tl}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EVENT_DUPLICATION_CACHE_DURATION_MS=10*60*1e3;class AuthEventManager{constructor(_t){this.auth=_t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(_t){this.consumers.add(_t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,_t)&&(this.sendToConsumer(this.queuedRedirectEvent,_t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(_t){this.consumers.delete(_t)}onEvent(_t){if(this.hasEventBeenHandled(_t))return!1;let _o=!1;return this.consumers.forEach(yl=>{this.isEventForConsumer(_t,yl)&&(_o=!0,this.sendToConsumer(_t,yl),this.saveEventToCache(_t))}),this.hasHandledPotentialRedirect||!isRedirectEvent(_t)||(this.hasHandledPotentialRedirect=!0,_o||(this.queuedRedirectEvent=_t,_o=!0)),_o}sendToConsumer(_t,_o){var yl;if(_t.error&&!isNullRedirectEvent(_t)){const El=((yl=_t.error.code)===null||yl===void 0?void 0:yl.split("auth/")[1])||"internal-error";_o.onError(_createError(this.auth,El))}else _o.onAuthEvent(_t)}isEventForConsumer(_t,_o){const yl=_o.eventId===null||!!_t.eventId&&_t.eventId===_o.eventId;return _o.filter.includes(_t.type)&&yl}hasEventBeenHandled(_t){return Date.now()-this.lastProcessedEventTime>=EVENT_DUPLICATION_CACHE_DURATION_MS&&this.cachedEventUids.clear(),this.cachedEventUids.has(eventUid(_t))}saveEventToCache(_t){this.cachedEventUids.add(eventUid(_t)),this.lastProcessedEventTime=Date.now()}}function eventUid(_r){return[_r.type,_r.eventId,_r.sessionId,_r.tenantId].filter(_t=>_t).join("-")}function isNullRedirectEvent({type:_r,error:_t}){return _r==="unknown"&&(_t==null?void 0:_t.code)==="auth/no-auth-event"}function isRedirectEvent(_r){switch(_r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return isNullRedirectEvent(_r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _getProjectConfig(_r,_t={}){return _performApiRequest(_r,"GET","/v1/projects",_t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IP_ADDRESS_REGEX=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,HTTP_REGEX=/^https?/;async function _validateOrigin(_r){if(_r.config.emulator)return;const{authorizedDomains:_t}=await _getProjectConfig(_r);for(const _o of _t)try{if(matchDomain(_o))return}catch{}_fail(_r,"unauthorized-domain")}function matchDomain(_r){const _t=_getCurrentUrl(),{protocol:_o,hostname:yl}=new URL(_t);if(_r.startsWith("chrome-extension://")){const Tl=new URL(_r);return Tl.hostname===""&&yl===""?_o==="chrome-extension:"&&_r.replace("chrome-extension://","")===_t.replace("chrome-extension://",""):_o==="chrome-extension:"&&Tl.hostname===yl}if(!HTTP_REGEX.test(_o))return!1;if(IP_ADDRESS_REGEX.test(_r))return yl===_r;const El=_r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+El+"|"+El+")$","i").test(yl)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NETWORK_TIMEOUT=new Delay(3e4,6e4);function resetUnloadedGapiModules(){const _r=_window().___jsl;if(_r!=null&&_r.H){for(const _t of Object.keys(_r.H))if(_r.H[_t].r=_r.H[_t].r||[],_r.H[_t].L=_r.H[_t].L||[],_r.H[_t].r=[..._r.H[_t].L],_r.CP)for(let _o=0;_o<_r.CP.length;_o++)_r.CP[_o]=null}}function loadGapi(_r){return new Promise((_t,_o)=>{var yl,El,_l;function Tl(){resetUnloadedGapiModules(),gapi.load("gapi.iframes",{callback:()=>{_t(gapi.iframes.getContext())},ontimeout:()=>{resetUnloadedGapiModules(),_o(_createError(_r,"network-request-failed"))},timeout:NETWORK_TIMEOUT.get()})}if(!((El=(yl=_window().gapi)===null||yl===void 0?void 0:yl.iframes)===null||El===void 0)&&El.Iframe)_t(gapi.iframes.getContext());else if(!((_l=_window().gapi)===null||_l===void 0)&&_l.load)Tl();else{const Il=_generateCallbackName("iframefcb");return _window()[Il]=()=>{gapi.load?Tl():_o(_createError(_r,"network-request-failed"))},_loadJS(`https://apis.google.com/js/api.js?onload=${Il}`).catch(Al=>_o(Al))}}).catch(_t=>{throw cachedGApiLoader=null,_t})}let cachedGApiLoader=null;function _loadGapi(_r){return cachedGApiLoader=cachedGApiLoader||loadGapi(_r),cachedGApiLoader}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PING_TIMEOUT=new Delay(5e3,15e3),IFRAME_PATH="__/auth/iframe",EMULATED_IFRAME_PATH="emulator/auth/iframe",IFRAME_ATTRIBUTES={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},EID_FROM_APIHOST=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function getIframeUrl(_r){const _t=_r.config;_assert(_t.authDomain,_r,"auth-domain-config-required");const _o=_t.emulator?_emulatorUrl(_t,EMULATED_IFRAME_PATH):`https://${_r.config.authDomain}/${IFRAME_PATH}`,yl={apiKey:_t.apiKey,appName:_r.name,v:SDK_VERSION},El=EID_FROM_APIHOST.get(_r.config.apiHost);El&&(yl.eid=El);const _l=_r._getFrameworks();return _l.length&&(yl.fw=_l.join(",")),`${_o}?${querystring(yl).slice(1)}`}async function _openIframe(_r){const _t=await _loadGapi(_r),_o=_window().gapi;return _assert(_o,_r,"internal-error"),_t.open({where:document.body,url:getIframeUrl(_r),messageHandlersFilter:_o.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:IFRAME_ATTRIBUTES,dontclear:!0},yl=>new Promise(async(El,_l)=>{await yl.restyle({setHideOnLeave:!1});const Tl=_createError(_r,"network-request-failed"),Il=_window().setTimeout(()=>{_l(Tl)},PING_TIMEOUT.get());function Al(){_window().clearTimeout(Il),El(yl)}yl.ping(Al).then(Al,()=>{_l(Tl)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BASE_POPUP_OPTIONS={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},DEFAULT_WIDTH=500,DEFAULT_HEIGHT=600,TARGET_BLANK="_blank",FIREFOX_EMPTY_URL="http://localhost";class AuthPopup{constructor(_t){this.window=_t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function _open(_r,_t,_o,yl=DEFAULT_WIDTH,El=DEFAULT_HEIGHT){const _l=Math.max((window.screen.availHeight-El)/2,0).toString(),Tl=Math.max((window.screen.availWidth-yl)/2,0).toString();let Il="";const Al=Object.assign(Object.assign({},BASE_POPUP_OPTIONS),{width:yl.toString(),height:El.toString(),top:_l,left:Tl}),Rl=getUA().toLowerCase();_o&&(Il=_isChromeIOS(Rl)?TARGET_BLANK:_o),_isFirefox(Rl)&&(_t=_t||FIREFOX_EMPTY_URL,Al.scrollbars="yes");const Fl=Object.entries(Al).reduce((Gl,[Ql,_f])=>`${Gl}${Ql}=${_f},`,"");if(_isIOSStandalone(Rl)&&Il!=="_self")return openAsNewWindowIOS(_t||"",Il),new AuthPopup(null);const Bl=window.open(_t||"",Il,Fl);_assert(Bl,_r,"popup-blocked");try{Bl.focus()}catch{}return new AuthPopup(Bl)}function openAsNewWindowIOS(_r,_t){const _o=document.createElement("a");_o.href=_r,_o.target=_t;const yl=document.createEvent("MouseEvent");yl.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),_o.dispatchEvent(yl)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WIDGET_PATH="__/auth/handler",EMULATOR_WIDGET_PATH="emulator/auth/handler";function _getRedirectUrl(_r,_t,_o,yl,El,_l){_assert(_r.config.authDomain,_r,"auth-domain-config-required"),_assert(_r.config.apiKey,_r,"invalid-api-key");const Tl={apiKey:_r.config.apiKey,appName:_r.name,authType:_o,redirectUrl:yl,v:SDK_VERSION,eventId:El};if(_t instanceof FederatedAuthProvider){_t.setDefaultLanguage(_r.languageCode),Tl.providerId=_t.providerId||"",isEmpty(_t.getCustomParameters())||(Tl.customParameters=JSON.stringify(_t.getCustomParameters()));for(const[Al,Rl]of Object.entries(_l||{}))Tl[Al]=Rl}if(_t instanceof BaseOAuthProvider){const Al=_t.getScopes().filter(Rl=>Rl!=="");Al.length>0&&(Tl.scopes=Al.join(","))}_r.tenantId&&(Tl.tid=_r.tenantId);const Il=Tl;for(const Al of Object.keys(Il))Il[Al]===void 0&&delete Il[Al];return`${getHandlerBase(_r)}?${querystring(Il).slice(1)}`}function getHandlerBase({config:_r}){return _r.emulator?_emulatorUrl(_r,EMULATOR_WIDGET_PATH):`https://${_r.authDomain}/${WIDGET_PATH}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WEB_STORAGE_SUPPORT_KEY="webStorageSupport";class BrowserPopupRedirectResolver{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=browserSessionPersistence,this._completeRedirectFn=_getRedirectResult,this._overrideRedirectResult=_overrideRedirectResult}async _openPopup(_t,_o,yl,El){var _l;debugAssert((_l=this.eventManagers[_t._key()])===null||_l===void 0?void 0:_l.manager,"_initialize() not called before _openPopup()");const Tl=_getRedirectUrl(_t,_o,yl,_getCurrentUrl(),El);return _open(_t,Tl,_generateEventId())}async _openRedirect(_t,_o,yl,El){return await this._originValidation(_t),_setWindowLocation(_getRedirectUrl(_t,_o,yl,_getCurrentUrl(),El)),new Promise(()=>{})}_initialize(_t){const _o=_t._key();if(this.eventManagers[_o]){const{manager:El,promise:_l}=this.eventManagers[_o];return El?Promise.resolve(El):(debugAssert(_l,"If manager is not set, promise should be"),_l)}const yl=this.initAndGetManager(_t);return this.eventManagers[_o]={promise:yl},yl.catch(()=>{delete this.eventManagers[_o]}),yl}async initAndGetManager(_t){const _o=await _openIframe(_t),yl=new AuthEventManager(_t);return _o.register("authEvent",El=>(_assert(El==null?void 0:El.authEvent,_t,"invalid-auth-event"),{status:yl.onEvent(El.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[_t._key()]={manager:yl},this.iframes[_t._key()]=_o,yl}_isIframeWebStorageSupported(_t,_o){this.iframes[_t._key()].send(WEB_STORAGE_SUPPORT_KEY,{type:WEB_STORAGE_SUPPORT_KEY},El=>{var _l;const Tl=(_l=El==null?void 0:El[0])===null||_l===void 0?void 0:_l[WEB_STORAGE_SUPPORT_KEY];Tl!==void 0&&_o(!!Tl),_fail(_t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(_t){const _o=_t._key();return this.originValidationPromises[_o]||(this.originValidationPromises[_o]=_validateOrigin(_t)),this.originValidationPromises[_o]}get _shouldInitProactively(){return _isMobileBrowser()||_isSafari()||_isIOS()}}const browserPopupRedirectResolver=BrowserPopupRedirectResolver;var name$3="@firebase/auth",version$3="0.21.3";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AuthInterop{constructor(_t){this.auth=_t,this.internalListeners=new Map}getUid(){var _t;return this.assertAuthConfigured(),((_t=this.auth.currentUser)===null||_t===void 0?void 0:_t.uid)||null}async getToken(_t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(_t)}:null}addAuthTokenListener(_t){if(this.assertAuthConfigured(),this.internalListeners.has(_t))return;const _o=this.auth.onIdTokenChanged(yl=>{_t((yl==null?void 0:yl.stsTokenManager.accessToken)||null)});this.internalListeners.set(_t,_o),this.updateProactiveRefresh()}removeAuthTokenListener(_t){this.assertAuthConfigured();const _o=this.internalListeners.get(_t);_o&&(this.internalListeners.delete(_t),_o(),this.updateProactiveRefresh())}assertAuthConfigured(){_assert(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getVersionForPlatform(_r){switch(_r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function registerAuth(_r){_registerComponent(new Component("auth",(_t,{options:_o})=>{const yl=_t.getProvider("app").getImmediate(),El=_t.getProvider("heartbeat"),{apiKey:_l,authDomain:Tl}=yl.options;return((Il,Al)=>{_assert(_l&&!_l.includes(":"),"invalid-api-key",{appName:Il.name}),_assert(!(Tl!=null&&Tl.includes(":")),"argument-error",{appName:Il.name});const Rl={apiKey:_l,authDomain:Tl,clientPlatform:_r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:_getClientVersion(_r)},Fl=new AuthImpl(Il,Al,Rl);return _initializeAuthInstance(Fl,_o),Fl})(yl,El)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((_t,_o,yl)=>{_t.getProvider("auth-internal").initialize()})),_registerComponent(new Component("auth-internal",_t=>{const _o=_castAuth(_t.getProvider("auth").getImmediate());return(yl=>new AuthInterop(yl))(_o)},"PRIVATE").setInstantiationMode("EXPLICIT")),registerVersion(name$3,version$3,getVersionForPlatform(_r)),registerVersion(name$3,version$3,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_ID_TOKEN_MAX_AGE=5*60,authIdTokenMaxAge=getExperimentalSetting("authIdTokenMaxAge")||DEFAULT_ID_TOKEN_MAX_AGE;let lastPostedIdToken=null;const mintCookieFactory=_r=>async _t=>{const _o=_t&&await _t.getIdTokenResult(),yl=_o&&(new Date().getTime()-Date.parse(_o.issuedAtTime))/1e3;if(yl&&yl>authIdTokenMaxAge)return;const El=_o==null?void 0:_o.token;lastPostedIdToken!==El&&(lastPostedIdToken=El,await fetch(_r,{method:El?"POST":"DELETE",headers:El?{Authorization:`Bearer ${El}`}:{}}))};function getAuth(_r=getApp()){const _t=_getProvider(_r,"auth");if(_t.isInitialized())return _t.getImmediate();const _o=initializeAuth(_r,{popupRedirectResolver:browserPopupRedirectResolver,persistence:[indexedDBLocalPersistence,browserLocalPersistence,browserSessionPersistence]}),yl=getExperimentalSetting("authTokenSyncURL");if(yl){const _l=mintCookieFactory(yl);beforeAuthStateChanged(_o,_l,()=>_l(_o.currentUser)),onIdTokenChanged(_o,Tl=>_l(Tl))}const El=getDefaultEmulatorHost("auth");return El&&connectAuthEmulator(_o,`http://${El}`),_o}registerAuth("Browser");var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},k$1,goog=goog||{},l=commonjsGlobal||self;function aa$1(){}function ba(_r){var _t=typeof _r;return _t=_t!="object"?_t:_r?Array.isArray(_r)?"array":_t:"null",_t=="array"||_t=="object"&&typeof _r.length=="number"}function p(_r){var _t=typeof _r;return _t=="object"&&_r!=null||_t=="function"}function ca$1(_r){return Object.prototype.hasOwnProperty.call(_r,da)&&_r[da]||(_r[da]=++ea$1)}var da="closure_uid_"+(1e9*Math.random()>>>0),ea$1=0;function fa$1(_r,_t,_o){return _r.call.apply(_r.bind,arguments)}function ha$1(_r,_t,_o){if(!_r)throw Error();if(2<arguments.length){var yl=Array.prototype.slice.call(arguments,2);return function(){var El=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(El,yl),_r.apply(_t,El)}}return function(){return _r.apply(_t,arguments)}}function q$1(_r,_t,_o){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?q$1=fa$1:q$1=ha$1,q$1.apply(null,arguments)}function ia(_r,_t){var _o=Array.prototype.slice.call(arguments,1);return function(){var yl=_o.slice();return yl.push.apply(yl,arguments),_r.apply(this,yl)}}function t(_r,_t){function _o(){}_o.prototype=_t.prototype,_r.X=_t.prototype,_r.prototype=new _o,_r.prototype.constructor=_r,_r.Wb=function(yl,El,_l){for(var Tl=Array(arguments.length-2),Il=2;Il<arguments.length;Il++)Tl[Il-2]=arguments[Il];return _t.prototype[El].apply(yl,Tl)}}function v$1(){this.s=this.s,this.o=this.o}var ja=0;v$1.prototype.s=!1;v$1.prototype.na=function(){!this.s&&(this.s=!0,this.M(),ja!=0)&&ca$1(this)};v$1.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const la$1=Array.prototype.indexOf?function(_r,_t){return Array.prototype.indexOf.call(_r,_t,void 0)}:function(_r,_t){if(typeof _r=="string")return typeof _t!="string"||_t.length!=1?-1:_r.indexOf(_t,0);for(let _o=0;_o<_r.length;_o++)if(_o in _r&&_r[_o]===_t)return _o;return-1};function ma$1(_r){const _t=_r.length;if(0<_t){const _o=Array(_t);for(let yl=0;yl<_t;yl++)_o[yl]=_r[yl];return _o}return[]}function na(_r,_t){for(let _o=1;_o<arguments.length;_o++){const yl=arguments[_o];if(ba(yl)){const El=_r.length||0,_l=yl.length||0;_r.length=El+_l;for(let Tl=0;Tl<_l;Tl++)_r[El+Tl]=yl[Tl]}else _r.push(yl)}}function w(_r,_t){this.type=_r,this.g=this.target=_t,this.defaultPrevented=!1}w.prototype.h=function(){this.defaultPrevented=!0};var oa$1=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var _r=!1,_t=Object.defineProperty({},"passive",{get:function(){_r=!0}});try{l.addEventListener("test",aa$1,_t),l.removeEventListener("test",aa$1,_t)}catch{}return _r}();function pa$1(_r){return/^[\s\xa0]*$/.test(_r)}var qa=String.prototype.trim?function(_r){return _r.trim()}:function(_r){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(_r)[1]};function ra(_r,_t){return _r<_t?-1:_r>_t?1:0}function sa$1(){var _r=l.navigator;return _r&&(_r=_r.userAgent)?_r:""}function x$1(_r){return sa$1().indexOf(_r)!=-1}function ta$1(_r){return ta$1[" "](_r),_r}ta$1[" "]=aa$1;function ua$1(_r){var _t=va$1;return Object.prototype.hasOwnProperty.call(_t,9)?_t[9]:_t[9]=_r(9)}var wa$1=x$1("Opera"),y=x$1("Trident")||x$1("MSIE"),xa=x$1("Edge"),ya$1=xa||y,za$1=x$1("Gecko")&&!(sa$1().toLowerCase().indexOf("webkit")!=-1&&!x$1("Edge"))&&!(x$1("Trident")||x$1("MSIE"))&&!x$1("Edge"),Aa$1=sa$1().toLowerCase().indexOf("webkit")!=-1&&!x$1("Edge");function Ba(){var _r=l.document;return _r?_r.documentMode:void 0}var Ea;e:{var Fa$1="",Ga$1=function(){var _r=sa$1();if(za$1)return/rv:([^\);]+)(\)|;)/.exec(_r);if(xa)return/Edge\/([\d\.]+)/.exec(_r);if(y)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(_r);if(Aa$1)return/WebKit\/(\S+)/.exec(_r);if(wa$1)return/(?:Version)[ \/]?(\S+)/.exec(_r)}();if(Ga$1&&(Fa$1=Ga$1?Ga$1[1]:""),y){var Ha=Ba();if(Ha!=null&&Ha>parseFloat(Fa$1)){Ea=String(Ha);break e}}Ea=Fa$1}var va$1={};function Ia$1(){return ua$1(function(){let _r=0;const _t=qa(String(Ea)).split("."),_o=qa("9").split("."),yl=Math.max(_t.length,_o.length);for(let Tl=0;_r==0&&Tl<yl;Tl++){var El=_t[Tl]||"",_l=_o[Tl]||"";do{if(El=/(\d*)(\D*)(.*)/.exec(El)||["","","",""],_l=/(\d*)(\D*)(.*)/.exec(_l)||["","","",""],El[0].length==0&&_l[0].length==0)break;_r=ra(El[1].length==0?0:parseInt(El[1],10),_l[1].length==0?0:parseInt(_l[1],10))||ra(El[2].length==0,_l[2].length==0)||ra(El[2],_l[2]),El=El[3],_l=_l[3]}while(_r==0)}return 0<=_r})}var Ja;if(l.document&&y){var Ka=Ba();Ja=Ka||parseInt(Ea,10)||void 0}else Ja=void 0;var La=Ja;function z$1(_r,_t){if(w.call(this,_r?_r.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,_r){var _o=this.type=_r.type,yl=_r.changedTouches&&_r.changedTouches.length?_r.changedTouches[0]:null;if(this.target=_r.target||_r.srcElement,this.g=_t,_t=_r.relatedTarget){if(za$1){e:{try{ta$1(_t.nodeName);var El=!0;break e}catch{}El=!1}El||(_t=null)}}else _o=="mouseover"?_t=_r.fromElement:_o=="mouseout"&&(_t=_r.toElement);this.relatedTarget=_t,yl?(this.clientX=yl.clientX!==void 0?yl.clientX:yl.pageX,this.clientY=yl.clientY!==void 0?yl.clientY:yl.pageY,this.screenX=yl.screenX||0,this.screenY=yl.screenY||0):(this.clientX=_r.clientX!==void 0?_r.clientX:_r.pageX,this.clientY=_r.clientY!==void 0?_r.clientY:_r.pageY,this.screenX=_r.screenX||0,this.screenY=_r.screenY||0),this.button=_r.button,this.key=_r.key||"",this.ctrlKey=_r.ctrlKey,this.altKey=_r.altKey,this.shiftKey=_r.shiftKey,this.metaKey=_r.metaKey,this.pointerId=_r.pointerId||0,this.pointerType=typeof _r.pointerType=="string"?_r.pointerType:Ma$1[_r.pointerType]||"",this.state=_r.state,this.i=_r,_r.defaultPrevented&&z$1.X.h.call(this)}}t(z$1,w);var Ma$1={2:"touch",3:"pen",4:"mouse"};z$1.prototype.h=function(){z$1.X.h.call(this);var _r=this.i;_r.preventDefault?_r.preventDefault():_r.returnValue=!1};var A="closure_listenable_"+(1e6*Math.random()|0),Na=0;function Oa$1(_r,_t,_o,yl,El){this.listener=_r,this.proxy=null,this.src=_t,this.type=_o,this.capture=!!yl,this.ha=El,this.key=++Na,this.ba=this.ea=!1}function Pa(_r){_r.ba=!0,_r.listener=null,_r.proxy=null,_r.src=null,_r.ha=null}function Qa(_r,_t,_o){for(const yl in _r)_t.call(_o,_r[yl],yl,_r)}function Ra(_r){const _t={};for(const _o in _r)_t[_o]=_r[_o];return _t}const Sa="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ta$1(_r,_t){let _o,yl;for(let El=1;El<arguments.length;El++){yl=arguments[El];for(_o in yl)_r[_o]=yl[_o];for(let _l=0;_l<Sa.length;_l++)_o=Sa[_l],Object.prototype.hasOwnProperty.call(yl,_o)&&(_r[_o]=yl[_o])}}function Ua$1(_r){this.src=_r,this.g={},this.h=0}Ua$1.prototype.add=function(_r,_t,_o,yl,El){var _l=_r.toString();_r=this.g[_l],_r||(_r=this.g[_l]=[],this.h++);var Tl=Va(_r,_t,yl,El);return-1<Tl?(_t=_r[Tl],_o||(_t.ea=!1)):(_t=new Oa$1(_t,this.src,_l,!!yl,El),_t.ea=_o,_r.push(_t)),_t};function Wa(_r,_t){var _o=_t.type;if(_o in _r.g){var yl=_r.g[_o],El=la$1(yl,_t),_l;(_l=0<=El)&&Array.prototype.splice.call(yl,El,1),_l&&(Pa(_t),_r.g[_o].length==0&&(delete _r.g[_o],_r.h--))}}function Va(_r,_t,_o,yl){for(var El=0;El<_r.length;++El){var _l=_r[El];if(!_l.ba&&_l.listener==_t&&_l.capture==!!_o&&_l.ha==yl)return El}return-1}var Xa="closure_lm_"+(1e6*Math.random()|0),Ya={};function $a$1(_r,_t,_o,yl,El){if(yl&&yl.once)return ab(_r,_t,_o,yl,El);if(Array.isArray(_t)){for(var _l=0;_l<_t.length;_l++)$a$1(_r,_t[_l],_o,yl,El);return null}return _o=bb(_o),_r&&_r[A]?_r.N(_t,_o,p(yl)?!!yl.capture:!!yl,El):cb(_r,_t,_o,!1,yl,El)}function cb(_r,_t,_o,yl,El,_l){if(!_t)throw Error("Invalid event type");var Tl=p(El)?!!El.capture:!!El,Il=db(_r);if(Il||(_r[Xa]=Il=new Ua$1(_r)),_o=Il.add(_t,_o,yl,Tl,_l),_o.proxy)return _o;if(yl=eb(),_o.proxy=yl,yl.src=_r,yl.listener=_o,_r.addEventListener)oa$1||(El=Tl),El===void 0&&(El=!1),_r.addEventListener(_t.toString(),yl,El);else if(_r.attachEvent)_r.attachEvent(fb(_t.toString()),yl);else if(_r.addListener&&_r.removeListener)_r.addListener(yl);else throw Error("addEventListener and attachEvent are unavailable.");return _o}function eb(){function _r(_o){return _t.call(_r.src,_r.listener,_o)}const _t=gb;return _r}function ab(_r,_t,_o,yl,El){if(Array.isArray(_t)){for(var _l=0;_l<_t.length;_l++)ab(_r,_t[_l],_o,yl,El);return null}return _o=bb(_o),_r&&_r[A]?_r.O(_t,_o,p(yl)?!!yl.capture:!!yl,El):cb(_r,_t,_o,!0,yl,El)}function hb(_r,_t,_o,yl,El){if(Array.isArray(_t))for(var _l=0;_l<_t.length;_l++)hb(_r,_t[_l],_o,yl,El);else yl=p(yl)?!!yl.capture:!!yl,_o=bb(_o),_r&&_r[A]?(_r=_r.i,_t=String(_t).toString(),_t in _r.g&&(_l=_r.g[_t],_o=Va(_l,_o,yl,El),-1<_o&&(Pa(_l[_o]),Array.prototype.splice.call(_l,_o,1),_l.length==0&&(delete _r.g[_t],_r.h--)))):_r&&(_r=db(_r))&&(_t=_r.g[_t.toString()],_r=-1,_t&&(_r=Va(_t,_o,yl,El)),(_o=-1<_r?_t[_r]:null)&&ib(_o))}function ib(_r){if(typeof _r!="number"&&_r&&!_r.ba){var _t=_r.src;if(_t&&_t[A])Wa(_t.i,_r);else{var _o=_r.type,yl=_r.proxy;_t.removeEventListener?_t.removeEventListener(_o,yl,_r.capture):_t.detachEvent?_t.detachEvent(fb(_o),yl):_t.addListener&&_t.removeListener&&_t.removeListener(yl),(_o=db(_t))?(Wa(_o,_r),_o.h==0&&(_o.src=null,_t[Xa]=null)):Pa(_r)}}}function fb(_r){return _r in Ya?Ya[_r]:Ya[_r]="on"+_r}function gb(_r,_t){if(_r.ba)_r=!0;else{_t=new z$1(_t,this);var _o=_r.listener,yl=_r.ha||_r.src;_r.ea&&ib(_r),_r=_o.call(yl,_t)}return _r}function db(_r){return _r=_r[Xa],_r instanceof Ua$1?_r:null}var jb="__closure_events_fn_"+(1e9*Math.random()>>>0);function bb(_r){return typeof _r=="function"?_r:(_r[jb]||(_r[jb]=function(_t){return _r.handleEvent(_t)}),_r[jb])}function B$1(){v$1.call(this),this.i=new Ua$1(this),this.P=this,this.I=null}t(B$1,v$1);B$1.prototype[A]=!0;B$1.prototype.removeEventListener=function(_r,_t,_o,yl){hb(this,_r,_t,_o,yl)};function C$1(_r,_t){var _o,yl=_r.I;if(yl)for(_o=[];yl;yl=yl.I)_o.push(yl);if(_r=_r.P,yl=_t.type||_t,typeof _t=="string")_t=new w(_t,_r);else if(_t instanceof w)_t.target=_t.target||_r;else{var El=_t;_t=new w(yl,_r),Ta$1(_t,El)}if(El=!0,_o)for(var _l=_o.length-1;0<=_l;_l--){var Tl=_t.g=_o[_l];El=kb(Tl,yl,!0,_t)&&El}if(Tl=_t.g=_r,El=kb(Tl,yl,!0,_t)&&El,El=kb(Tl,yl,!1,_t)&&El,_o)for(_l=0;_l<_o.length;_l++)Tl=_t.g=_o[_l],El=kb(Tl,yl,!1,_t)&&El}B$1.prototype.M=function(){if(B$1.X.M.call(this),this.i){var _r=this.i,_t;for(_t in _r.g){for(var _o=_r.g[_t],yl=0;yl<_o.length;yl++)Pa(_o[yl]);delete _r.g[_t],_r.h--}}this.I=null};B$1.prototype.N=function(_r,_t,_o,yl){return this.i.add(String(_r),_t,!1,_o,yl)};B$1.prototype.O=function(_r,_t,_o,yl){return this.i.add(String(_r),_t,!0,_o,yl)};function kb(_r,_t,_o,yl){if(_t=_r.i.g[String(_t)],!_t)return!0;_t=_t.concat();for(var El=!0,_l=0;_l<_t.length;++_l){var Tl=_t[_l];if(Tl&&!Tl.ba&&Tl.capture==_o){var Il=Tl.listener,Al=Tl.ha||Tl.src;Tl.ea&&Wa(_r.i,Tl),El=Il.call(Al,yl)!==!1&&El}}return El&&!yl.defaultPrevented}var lb=l.JSON.stringify;function mb(){var _r=nb;let _t=null;return _r.g&&(_t=_r.g,_r.g=_r.g.next,_r.g||(_r.h=null),_t.next=null),_t}class ob{constructor(){this.h=this.g=null}add(_t,_o){const yl=pb.get();yl.set(_t,_o),this.h?this.h.next=yl:this.g=yl,this.h=yl}}var pb=new class{constructor(_r,_t){this.i=_r,this.j=_t,this.h=0,this.g=null}get(){let _r;return 0<this.h?(this.h--,_r=this.g,this.g=_r.next,_r.next=null):_r=this.i(),_r}}(()=>new qb,_r=>_r.reset());class qb{constructor(){this.next=this.g=this.h=null}set(_t,_o){this.h=_t,this.g=_o,this.next=null}reset(){this.next=this.g=this.h=null}}function rb(_r){l.setTimeout(()=>{throw _r},0)}function sb(_r,_t){ub||vb(),wb||(ub(),wb=!0),nb.add(_r,_t)}var ub;function vb(){var _r=l.Promise.resolve(void 0);ub=function(){_r.then(xb)}}var wb=!1,nb=new ob;function xb(){for(var _r;_r=mb();){try{_r.h.call(_r.g)}catch(_o){rb(_o)}var _t=pb;_t.j(_r),100>_t.h&&(_t.h++,_r.next=_t.g,_t.g=_r)}wb=!1}function yb(_r,_t){B$1.call(this),this.h=_r||1,this.g=_t||l,this.j=q$1(this.lb,this),this.l=Date.now()}t(yb,B$1);k$1=yb.prototype;k$1.ca=!1;k$1.R=null;k$1.lb=function(){if(this.ca){var _r=Date.now()-this.l;0<_r&&_r<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-_r):(this.R&&(this.g.clearTimeout(this.R),this.R=null),C$1(this,"tick"),this.ca&&(zb(this),this.start()))}};k$1.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function zb(_r){_r.ca=!1,_r.R&&(_r.g.clearTimeout(_r.R),_r.R=null)}k$1.M=function(){yb.X.M.call(this),zb(this),delete this.g};function Ab(_r,_t,_o){if(typeof _r=="function")_o&&(_r=q$1(_r,_o));else if(_r&&typeof _r.handleEvent=="function")_r=q$1(_r.handleEvent,_r);else throw Error("Invalid listener argument");return 2147483647<Number(_t)?-1:l.setTimeout(_r,_t||0)}function Bb(_r){_r.g=Ab(()=>{_r.g=null,_r.i&&(_r.i=!1,Bb(_r))},_r.j);const _t=_r.h;_r.h=null,_r.m.apply(null,_t)}class Cb extends v$1{constructor(_t,_o){super(),this.m=_t,this.j=_o,this.h=null,this.i=!1,this.g=null}l(_t){this.h=arguments,this.g?this.i=!0:Bb(this)}M(){super.M(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function D(_r){v$1.call(this),this.h=_r,this.g={}}t(D,v$1);var Db=[];function Eb(_r,_t,_o,yl){Array.isArray(_o)||(_o&&(Db[0]=_o.toString()),_o=Db);for(var El=0;El<_o.length;El++){var _l=$a$1(_t,_o[El],yl||_r.handleEvent,!1,_r.h||_r);if(!_l)break;_r.g[_l.key]=_l}}function Fb(_r){Qa(_r.g,function(_t,_o){this.g.hasOwnProperty(_o)&&ib(_t)},_r),_r.g={}}D.prototype.M=function(){D.X.M.call(this),Fb(this)};D.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Gb(){this.g=!0}Gb.prototype.Aa=function(){this.g=!1};function Hb(_r,_t,_o,yl,El,_l){_r.info(function(){if(_r.g)if(_l)for(var Tl="",Il=_l.split("&"),Al=0;Al<Il.length;Al++){var Rl=Il[Al].split("=");if(1<Rl.length){var Fl=Rl[0];Rl=Rl[1];var Bl=Fl.split("_");Tl=2<=Bl.length&&Bl[1]=="type"?Tl+(Fl+"="+Rl+"&"):Tl+(Fl+"=redacted&")}}else Tl=null;else Tl=_l;return"XMLHTTP REQ ("+yl+") [attempt "+El+"]: "+_t+`
`+_o+`
`+Tl})}function Ib(_r,_t,_o,yl,El,_l,Tl){_r.info(function(){return"XMLHTTP RESP ("+yl+") [ attempt "+El+"]: "+_t+`
`+_o+`
`+_l+" "+Tl})}function E(_r,_t,_o,yl){_r.info(function(){return"XMLHTTP TEXT ("+_t+"): "+Jb(_r,_o)+(yl?" "+yl:"")})}function Kb(_r,_t){_r.info(function(){return"TIMEOUT: "+_t})}Gb.prototype.info=function(){};function Jb(_r,_t){if(!_r.g)return _t;if(!_t)return null;try{var _o=JSON.parse(_t);if(_o){for(_r=0;_r<_o.length;_r++)if(Array.isArray(_o[_r])){var yl=_o[_r];if(!(2>yl.length)){var El=yl[1];if(Array.isArray(El)&&!(1>El.length)){var _l=El[0];if(_l!="noop"&&_l!="stop"&&_l!="close")for(var Tl=1;Tl<El.length;Tl++)El[Tl]=""}}}}return lb(_o)}catch{return _t}}var G$1={},Lb=null;function Mb(){return Lb=Lb||new B$1}G$1.Pa="serverreachability";function Nb(_r){w.call(this,G$1.Pa,_r)}t(Nb,w);function H$1(_r){const _t=Mb();C$1(_t,new Nb(_t))}G$1.STAT_EVENT="statevent";function Ob(_r,_t){w.call(this,G$1.STAT_EVENT,_r),this.stat=_t}t(Ob,w);function I(_r){const _t=Mb();C$1(_t,new Ob(_t,_r))}G$1.Qa="timingevent";function Pb(_r,_t){w.call(this,G$1.Qa,_r),this.size=_t}t(Pb,w);function J(_r,_t){if(typeof _r!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){_r()},_t)}var Qb={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},Rb={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function Sb(){}Sb.prototype.h=null;function Tb(_r){return _r.h||(_r.h=_r.i())}function Ub(){}var K$1={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function Vb(){w.call(this,"d")}t(Vb,w);function Wb(){w.call(this,"c")}t(Wb,w);var Xb;function Yb(){}t(Yb,Sb);Yb.prototype.g=function(){return new XMLHttpRequest};Yb.prototype.i=function(){return{}};Xb=new Yb;function L$1(_r,_t,_o,yl){this.l=_r,this.j=_t,this.m=_o,this.U=yl||1,this.S=new D(this),this.O=Zb,_r=ya$1?125:void 0,this.T=new yb(_r),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new $b}function $b(){this.i=null,this.g="",this.h=!1}var Zb=45e3,ac$1={},bc$1={};k$1=L$1.prototype;k$1.setTimeout=function(_r){this.O=_r};function cc$1(_r,_t,_o){_r.K=1,_r.v=dc$1(M$1(_t)),_r.s=_o,_r.P=!0,ec$1(_r,null)}function ec$1(_r,_t){_r.F=Date.now(),N$1(_r),_r.A=M$1(_r.v);var _o=_r.A,yl=_r.U;Array.isArray(yl)||(yl=[String(yl)]),fc$1(_o.i,"t",yl),_r.C=0,_o=_r.l.H,_r.h=new $b,_r.g=gc(_r.l,_o?_t:null,!_r.s),0<_r.N&&(_r.L=new Cb(q$1(_r.La,_r,_r.g),_r.N)),Eb(_r.S,_r.g,"readystatechange",_r.ib),_t=_r.H?Ra(_r.H):{},_r.s?(_r.u||(_r.u="POST"),_t["Content-Type"]="application/x-www-form-urlencoded",_r.g.da(_r.A,_r.u,_r.s,_t)):(_r.u="GET",_r.g.da(_r.A,_r.u,null,_t)),H$1(),Hb(_r.j,_r.u,_r.A,_r.m,_r.U,_r.s)}k$1.ib=function(_r){_r=_r.target;const _t=this.L;_t&&O$1(_r)==3?_t.l():this.La(_r)};k$1.La=function(_r){try{if(_r==this.g)e:{const Fl=O$1(this.g);var _t=this.g.Ea();const Bl=this.g.aa();if(!(3>Fl)&&(Fl!=3||ya$1||this.g&&(this.h.h||this.g.fa()||hc$1(this.g)))){this.I||Fl!=4||_t==7||(_t==8||0>=Bl?H$1(3):H$1(2)),ic$1(this);var _o=this.g.aa();this.Y=_o;t:if(jc(this)){var yl=hc$1(this.g);_r="";var El=yl.length,_l=O$1(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){P$1(this),Q$1(this);var Tl="";break t}this.h.i=new l.TextDecoder}for(_t=0;_t<El;_t++)this.h.h=!0,_r+=this.h.i.decode(yl[_t],{stream:_l&&_t==El-1});yl.splice(0,El),this.h.g+=_r,this.C=0,Tl=this.h.g}else Tl=this.g.fa();if(this.i=_o==200,Ib(this.j,this.u,this.A,this.m,this.U,Fl,_o),this.i){if(this.Z&&!this.J){t:{if(this.g){var Il,Al=this.g;if((Il=Al.g?Al.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!pa$1(Il)){var Rl=Il;break t}}Rl=null}if(_o=Rl)E(this.j,this.m,_o,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,kc(this,_o);else{this.i=!1,this.o=3,I(12),P$1(this),Q$1(this);break e}}this.P?(lc$1(this,Fl,Tl),ya$1&&this.i&&Fl==3&&(Eb(this.S,this.T,"tick",this.hb),this.T.start())):(E(this.j,this.m,Tl,null),kc(this,Tl)),Fl==4&&P$1(this),this.i&&!this.I&&(Fl==4?mc(this.l,this):(this.i=!1,N$1(this)))}else _o==400&&0<Tl.indexOf("Unknown SID")?(this.o=3,I(12)):(this.o=0,I(13)),P$1(this),Q$1(this)}}}catch{}finally{}};function jc(_r){return _r.g?_r.u=="GET"&&_r.K!=2&&_r.l.Da:!1}function lc$1(_r,_t,_o){let yl=!0,El;for(;!_r.I&&_r.C<_o.length;)if(El=nc$1(_r,_o),El==bc$1){_t==4&&(_r.o=4,I(14),yl=!1),E(_r.j,_r.m,null,"[Incomplete Response]");break}else if(El==ac$1){_r.o=4,I(15),E(_r.j,_r.m,_o,"[Invalid Chunk]"),yl=!1;break}else E(_r.j,_r.m,El,null),kc(_r,El);jc(_r)&&El!=bc$1&&El!=ac$1&&(_r.h.g="",_r.C=0),_t!=4||_o.length!=0||_r.h.h||(_r.o=1,I(16),yl=!1),_r.i=_r.i&&yl,yl?0<_o.length&&!_r.$&&(_r.$=!0,_t=_r.l,_t.g==_r&&_t.$&&!_t.K&&(_t.j.info("Great, no buffering proxy detected. Bytes received: "+_o.length),oc$1(_t),_t.K=!0,I(11))):(E(_r.j,_r.m,_o,"[Invalid Chunked Response]"),P$1(_r),Q$1(_r))}k$1.hb=function(){if(this.g){var _r=O$1(this.g),_t=this.g.fa();this.C<_t.length&&(ic$1(this),lc$1(this,_r,_t),this.i&&_r!=4&&N$1(this))}};function nc$1(_r,_t){var _o=_r.C,yl=_t.indexOf(`
`,_o);return yl==-1?bc$1:(_o=Number(_t.substring(_o,yl)),isNaN(_o)?ac$1:(yl+=1,yl+_o>_t.length?bc$1:(_t=_t.substr(yl,_o),_r.C=yl+_o,_t)))}k$1.cancel=function(){this.I=!0,P$1(this)};function N$1(_r){_r.V=Date.now()+_r.O,pc$1(_r,_r.O)}function pc$1(_r,_t){if(_r.B!=null)throw Error("WatchDog timer not null");_r.B=J(q$1(_r.gb,_r),_t)}function ic$1(_r){_r.B&&(l.clearTimeout(_r.B),_r.B=null)}k$1.gb=function(){this.B=null;const _r=Date.now();0<=_r-this.V?(Kb(this.j,this.A),this.K!=2&&(H$1(),I(17)),P$1(this),this.o=2,Q$1(this)):pc$1(this,this.V-_r)};function Q$1(_r){_r.l.G==0||_r.I||mc(_r.l,_r)}function P$1(_r){ic$1(_r);var _t=_r.L;_t&&typeof _t.na=="function"&&_t.na(),_r.L=null,zb(_r.T),Fb(_r.S),_r.g&&(_t=_r.g,_r.g=null,_t.abort(),_t.na())}function kc(_r,_t){try{var _o=_r.l;if(_o.G!=0&&(_o.g==_r||qc$1(_o.h,_r))){if(!_r.J&&qc$1(_o.h,_r)&&_o.G==3){try{var yl=_o.Fa.g.parse(_t)}catch{yl=null}if(Array.isArray(yl)&&yl.length==3){var El=yl;if(El[0]==0){e:if(!_o.u){if(_o.g)if(_o.g.F+3e3<_r.F)rc$1(_o),sc$1(_o);else break e;tc$1(_o),I(18)}}else _o.Ba=El[1],0<_o.Ba-_o.T&&37500>El[2]&&_o.L&&_o.A==0&&!_o.v&&(_o.v=J(q$1(_o.cb,_o),6e3));if(1>=uc$1(_o.h)&&_o.ja){try{_o.ja()}catch{}_o.ja=void 0}}else R(_o,11)}else if((_r.J||_o.g==_r)&&rc$1(_o),!pa$1(_t))for(El=_o.Fa.g.parse(_t),_t=0;_t<El.length;_t++){let Rl=El[_t];if(_o.T=Rl[0],Rl=Rl[1],_o.G==2)if(Rl[0]=="c"){_o.I=Rl[1],_o.ka=Rl[2];const Fl=Rl[3];Fl!=null&&(_o.ma=Fl,_o.j.info("VER="+_o.ma));const Bl=Rl[4];Bl!=null&&(_o.Ca=Bl,_o.j.info("SVER="+_o.Ca));const Gl=Rl[5];Gl!=null&&typeof Gl=="number"&&0<Gl&&(yl=1.5*Gl,_o.J=yl,_o.j.info("backChannelRequestTimeoutMs_="+yl)),yl=_o;const Ql=_r.g;if(Ql){const _f=Ql.g?Ql.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(_f){var _l=yl.h;_l.g||_f.indexOf("spdy")==-1&&_f.indexOf("quic")==-1&&_f.indexOf("h2")==-1||(_l.j=_l.l,_l.g=new Set,_l.h&&(vc$1(_l,_l.h),_l.h=null))}if(yl.D){const _h=Ql.g?Ql.g.getResponseHeader("X-HTTP-Session-Id"):null;_h&&(yl.za=_h,S$1(yl.F,yl.D,_h))}}_o.G=3,_o.l&&_o.l.xa(),_o.$&&(_o.P=Date.now()-_r.F,_o.j.info("Handshake RTT: "+_o.P+"ms")),yl=_o;var Tl=_r;if(yl.sa=wc(yl,yl.H?yl.ka:null,yl.V),Tl.J){xc$1(yl.h,Tl);var Il=Tl,Al=yl.J;Al&&Il.setTimeout(Al),Il.B&&(ic$1(Il),N$1(Il)),yl.g=Tl}else yc(yl);0<_o.i.length&&zc(_o)}else Rl[0]!="stop"&&Rl[0]!="close"||R(_o,7);else _o.G==3&&(Rl[0]=="stop"||Rl[0]=="close"?Rl[0]=="stop"?R(_o,7):Ac$1(_o):Rl[0]!="noop"&&_o.l&&_o.l.wa(Rl),_o.A=0)}}H$1(4)}catch{}}function Bc$1(_r){if(_r.W&&typeof _r.W=="function")return _r.W();if(typeof Map<"u"&&_r instanceof Map||typeof Set<"u"&&_r instanceof Set)return Array.from(_r.values());if(typeof _r=="string")return _r.split("");if(ba(_r)){for(var _t=[],_o=_r.length,yl=0;yl<_o;yl++)_t.push(_r[yl]);return _t}_t=[],_o=0;for(yl in _r)_t[_o++]=_r[yl];return _t}function Cc$1(_r){if(_r.oa&&typeof _r.oa=="function")return _r.oa();if(!_r.W||typeof _r.W!="function"){if(typeof Map<"u"&&_r instanceof Map)return Array.from(_r.keys());if(!(typeof Set<"u"&&_r instanceof Set)){if(ba(_r)||typeof _r=="string"){var _t=[];_r=_r.length;for(var _o=0;_o<_r;_o++)_t.push(_o);return _t}_t=[],_o=0;for(const yl in _r)_t[_o++]=yl;return _t}}}function Dc$1(_r,_t){if(_r.forEach&&typeof _r.forEach=="function")_r.forEach(_t,void 0);else if(ba(_r)||typeof _r=="string")Array.prototype.forEach.call(_r,_t,void 0);else for(var _o=Cc$1(_r),yl=Bc$1(_r),El=yl.length,_l=0;_l<El;_l++)_t.call(void 0,yl[_l],_o&&_o[_l],_r)}var Ec$1=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Fc$1(_r,_t){if(_r){_r=_r.split("&");for(var _o=0;_o<_r.length;_o++){var yl=_r[_o].indexOf("="),El=null;if(0<=yl){var _l=_r[_o].substring(0,yl);El=_r[_o].substring(yl+1)}else _l=_r[_o];_t(_l,El?decodeURIComponent(El.replace(/\+/g," ")):"")}}}function T(_r,_t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,_r instanceof T){this.h=_t!==void 0?_t:_r.h,Gc$1(this,_r.j),this.s=_r.s,this.g=_r.g,Hc(this,_r.m),this.l=_r.l,_t=_r.i;var _o=new Ic$1;_o.i=_t.i,_t.g&&(_o.g=new Map(_t.g),_o.h=_t.h),Jc(this,_o),this.o=_r.o}else _r&&(_o=String(_r).match(Ec$1))?(this.h=!!_t,Gc$1(this,_o[1]||"",!0),this.s=Kc$1(_o[2]||""),this.g=Kc$1(_o[3]||"",!0),Hc(this,_o[4]),this.l=Kc$1(_o[5]||"",!0),Jc(this,_o[6]||"",!0),this.o=Kc$1(_o[7]||"")):(this.h=!!_t,this.i=new Ic$1(null,this.h))}T.prototype.toString=function(){var _r=[],_t=this.j;_t&&_r.push(Lc$1(_t,Mc$1,!0),":");var _o=this.g;return(_o||_t=="file")&&(_r.push("//"),(_t=this.s)&&_r.push(Lc$1(_t,Mc$1,!0),"@"),_r.push(encodeURIComponent(String(_o)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_o=this.m,_o!=null&&_r.push(":",String(_o))),(_o=this.l)&&(this.g&&_o.charAt(0)!="/"&&_r.push("/"),_r.push(Lc$1(_o,_o.charAt(0)=="/"?Nc$1:Oc$1,!0))),(_o=this.i.toString())&&_r.push("?",_o),(_o=this.o)&&_r.push("#",Lc$1(_o,Pc$1)),_r.join("")};function M$1(_r){return new T(_r)}function Gc$1(_r,_t,_o){_r.j=_o?Kc$1(_t,!0):_t,_r.j&&(_r.j=_r.j.replace(/:$/,""))}function Hc(_r,_t){if(_t){if(_t=Number(_t),isNaN(_t)||0>_t)throw Error("Bad port number "+_t);_r.m=_t}else _r.m=null}function Jc(_r,_t,_o){_t instanceof Ic$1?(_r.i=_t,Qc(_r.i,_r.h)):(_o||(_t=Lc$1(_t,Rc$1)),_r.i=new Ic$1(_t,_r.h))}function S$1(_r,_t,_o){_r.i.set(_t,_o)}function dc$1(_r){return S$1(_r,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),_r}function Kc$1(_r,_t){return _r?_t?decodeURI(_r.replace(/%25/g,"%2525")):decodeURIComponent(_r):""}function Lc$1(_r,_t,_o){return typeof _r=="string"?(_r=encodeURI(_r).replace(_t,Sc$1),_o&&(_r=_r.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_r):null}function Sc$1(_r){return _r=_r.charCodeAt(0),"%"+(_r>>4&15).toString(16)+(_r&15).toString(16)}var Mc$1=/[#\/\?@]/g,Oc$1=/[#\?:]/g,Nc$1=/[#\?]/g,Rc$1=/[#\?@]/g,Pc$1=/#/g;function Ic$1(_r,_t){this.h=this.g=null,this.i=_r||null,this.j=!!_t}function U$1(_r){_r.g||(_r.g=new Map,_r.h=0,_r.i&&Fc$1(_r.i,function(_t,_o){_r.add(decodeURIComponent(_t.replace(/\+/g," ")),_o)}))}k$1=Ic$1.prototype;k$1.add=function(_r,_t){U$1(this),this.i=null,_r=V$1(this,_r);var _o=this.g.get(_r);return _o||this.g.set(_r,_o=[]),_o.push(_t),this.h+=1,this};function Tc$1(_r,_t){U$1(_r),_t=V$1(_r,_t),_r.g.has(_t)&&(_r.i=null,_r.h-=_r.g.get(_t).length,_r.g.delete(_t))}function Uc$1(_r,_t){return U$1(_r),_t=V$1(_r,_t),_r.g.has(_t)}k$1.forEach=function(_r,_t){U$1(this),this.g.forEach(function(_o,yl){_o.forEach(function(El){_r.call(_t,El,yl,this)},this)},this)};k$1.oa=function(){U$1(this);const _r=Array.from(this.g.values()),_t=Array.from(this.g.keys()),_o=[];for(let yl=0;yl<_t.length;yl++){const El=_r[yl];for(let _l=0;_l<El.length;_l++)_o.push(_t[yl])}return _o};k$1.W=function(_r){U$1(this);let _t=[];if(typeof _r=="string")Uc$1(this,_r)&&(_t=_t.concat(this.g.get(V$1(this,_r))));else{_r=Array.from(this.g.values());for(let _o=0;_o<_r.length;_o++)_t=_t.concat(_r[_o])}return _t};k$1.set=function(_r,_t){return U$1(this),this.i=null,_r=V$1(this,_r),Uc$1(this,_r)&&(this.h-=this.g.get(_r).length),this.g.set(_r,[_t]),this.h+=1,this};k$1.get=function(_r,_t){return _r?(_r=this.W(_r),0<_r.length?String(_r[0]):_t):_t};function fc$1(_r,_t,_o){Tc$1(_r,_t),0<_o.length&&(_r.i=null,_r.g.set(V$1(_r,_t),ma$1(_o)),_r.h+=_o.length)}k$1.toString=function(){if(this.i)return this.i;if(!this.g)return"";const _r=[],_t=Array.from(this.g.keys());for(var _o=0;_o<_t.length;_o++){var yl=_t[_o];const _l=encodeURIComponent(String(yl)),Tl=this.W(yl);for(yl=0;yl<Tl.length;yl++){var El=_l;Tl[yl]!==""&&(El+="="+encodeURIComponent(String(Tl[yl]))),_r.push(El)}}return this.i=_r.join("&")};function V$1(_r,_t){return _t=String(_t),_r.j&&(_t=_t.toLowerCase()),_t}function Qc(_r,_t){_t&&!_r.j&&(U$1(_r),_r.i=null,_r.g.forEach(function(_o,yl){var El=yl.toLowerCase();yl!=El&&(Tc$1(this,yl),fc$1(this,El,_o))},_r)),_r.j=_t}var Vc$1=class{constructor(_t,_o){this.h=_t,this.g=_o}};function Wc(_r){this.l=_r||Xc,l.PerformanceNavigationTiming?(_r=l.performance.getEntriesByType("navigation"),_r=0<_r.length&&(_r[0].nextHopProtocol=="hq"||_r[0].nextHopProtocol=="h2")):_r=!!(l.g&&l.g.Ga&&l.g.Ga()&&l.g.Ga().$b),this.j=_r?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Xc=10;function Yc(_r){return _r.h?!0:_r.g?_r.g.size>=_r.j:!1}function uc$1(_r){return _r.h?1:_r.g?_r.g.size:0}function qc$1(_r,_t){return _r.h?_r.h==_t:_r.g?_r.g.has(_t):!1}function vc$1(_r,_t){_r.g?_r.g.add(_t):_r.h=_t}function xc$1(_r,_t){_r.h&&_r.h==_t?_r.h=null:_r.g&&_r.g.has(_t)&&_r.g.delete(_t)}Wc.prototype.cancel=function(){if(this.i=Zc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const _r of this.g.values())_r.cancel();this.g.clear()}};function Zc(_r){if(_r.h!=null)return _r.i.concat(_r.h.D);if(_r.g!=null&&_r.g.size!==0){let _t=_r.i;for(const _o of _r.g.values())_t=_t.concat(_o.D);return _t}return ma$1(_r.i)}function $c$1(){}$c$1.prototype.stringify=function(_r){return l.JSON.stringify(_r,void 0)};$c$1.prototype.parse=function(_r){return l.JSON.parse(_r,void 0)};function ad(){this.g=new $c$1}function bd(_r,_t,_o){const yl=_o||"";try{Dc$1(_r,function(El,_l){let Tl=El;p(El)&&(Tl=lb(El)),_t.push(yl+_l+"="+encodeURIComponent(Tl))})}catch(El){throw _t.push(yl+"type="+encodeURIComponent("_badmap")),El}}function cd(_r,_t){const _o=new Gb;if(l.Image){const yl=new Image;yl.onload=ia(dd,_o,yl,"TestLoadImage: loaded",!0,_t),yl.onerror=ia(dd,_o,yl,"TestLoadImage: error",!1,_t),yl.onabort=ia(dd,_o,yl,"TestLoadImage: abort",!1,_t),yl.ontimeout=ia(dd,_o,yl,"TestLoadImage: timeout",!1,_t),l.setTimeout(function(){yl.ontimeout&&yl.ontimeout()},1e4),yl.src=_r}else _t(!1)}function dd(_r,_t,_o,yl,El){try{_t.onload=null,_t.onerror=null,_t.onabort=null,_t.ontimeout=null,El(yl)}catch{}}function ed(_r){this.l=_r.ac||null,this.j=_r.jb||!1}t(ed,Sb);ed.prototype.g=function(){return new fd(this.l,this.j)};ed.prototype.i=function(_r){return function(){return _r}}({});function fd(_r,_t){B$1.call(this),this.D=_r,this.u=_t,this.m=void 0,this.readyState=gd,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}t(fd,B$1);var gd=0;k$1=fd.prototype;k$1.open=function(_r,_t){if(this.readyState!=gd)throw this.abort(),Error("Error reopening a connection");this.C=_r,this.B=_t,this.readyState=1,hd(this)};k$1.send=function(_r){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const _t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};_r&&(_t.body=_r),(this.D||l).fetch(new Request(this.B,_t)).then(this.Wa.bind(this),this.ga.bind(this))};k$1.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,id$2(this)),this.readyState=gd};k$1.Wa=function(_r){if(this.g&&(this.l=_r,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=_r.headers,this.readyState=2,hd(this)),this.g&&(this.readyState=3,hd(this),this.g)))if(this.responseType==="arraybuffer")_r.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in _r){if(this.j=_r.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;jd(this)}else _r.text().then(this.Va.bind(this),this.ga.bind(this))};function jd(_r){_r.j.read().then(_r.Ta.bind(_r)).catch(_r.ga.bind(_r))}k$1.Ta=function(_r){if(this.g){if(this.u&&_r.value)this.response.push(_r.value);else if(!this.u){var _t=_r.value?_r.value:new Uint8Array(0);(_t=this.A.decode(_t,{stream:!_r.done}))&&(this.response=this.responseText+=_t)}_r.done?id$2(this):hd(this),this.readyState==3&&jd(this)}};k$1.Va=function(_r){this.g&&(this.response=this.responseText=_r,id$2(this))};k$1.Ua=function(_r){this.g&&(this.response=_r,id$2(this))};k$1.ga=function(){this.g&&id$2(this)};function id$2(_r){_r.readyState=4,_r.l=null,_r.j=null,_r.A=null,hd(_r)}k$1.setRequestHeader=function(_r,_t){this.v.append(_r,_t)};k$1.getResponseHeader=function(_r){return this.h&&this.h.get(_r.toLowerCase())||""};k$1.getAllResponseHeaders=function(){if(!this.h)return"";const _r=[],_t=this.h.entries();for(var _o=_t.next();!_o.done;)_o=_o.value,_r.push(_o[0]+": "+_o[1]),_o=_t.next();return _r.join(`\r
`)};function hd(_r){_r.onreadystatechange&&_r.onreadystatechange.call(_r)}Object.defineProperty(fd.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(_r){this.m=_r?"include":"same-origin"}});var kd=l.JSON.parse;function W$1(_r){B$1.call(this),this.headers=new Map,this.u=_r||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=ld,this.K=this.L=!1}t(W$1,B$1);var ld="",md=/^https?$/i,nd=["POST","PUT"];k$1=W$1.prototype;k$1.Ka=function(_r){this.L=_r};k$1.da=function(_r,_t,_o,yl){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+_r);_t=_t?_t.toUpperCase():"GET",this.H=_r,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Xb.g(),this.C=this.u?Tb(this.u):Tb(Xb),this.g.onreadystatechange=q$1(this.Ha,this);try{this.F=!0,this.g.open(_t,String(_r),!0),this.F=!1}catch(_l){od(this,_l);return}if(_r=_o||"",_o=new Map(this.headers),yl)if(Object.getPrototypeOf(yl)===Object.prototype)for(var El in yl)_o.set(El,yl[El]);else if(typeof yl.keys=="function"&&typeof yl.get=="function")for(const _l of yl.keys())_o.set(_l,yl.get(_l));else throw Error("Unknown input type for opt_headers: "+String(yl));yl=Array.from(_o.keys()).find(_l=>_l.toLowerCase()=="content-type"),El=l.FormData&&_r instanceof l.FormData,!(0<=la$1(nd,_t))||yl||El||_o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[_l,Tl]of _o)this.g.setRequestHeader(_l,Tl);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{pd(this),0<this.B&&((this.K=qd(this.g))?(this.g.timeout=this.B,this.g.ontimeout=q$1(this.qa,this)):this.A=Ab(this.qa,this.B,this)),this.v=!0,this.g.send(_r),this.v=!1}catch(_l){od(this,_l)}};function qd(_r){return y&&Ia$1()&&typeof _r.timeout=="number"&&_r.ontimeout!==void 0}k$1.qa=function(){typeof goog<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,C$1(this,"timeout"),this.abort(8))};function od(_r,_t){_r.h=!1,_r.g&&(_r.l=!0,_r.g.abort(),_r.l=!1),_r.j=_t,_r.m=5,rd(_r),sd(_r)}function rd(_r){_r.D||(_r.D=!0,C$1(_r,"complete"),C$1(_r,"error"))}k$1.abort=function(_r){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=_r||7,C$1(this,"complete"),C$1(this,"abort"),sd(this))};k$1.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),sd(this,!0)),W$1.X.M.call(this)};k$1.Ha=function(){this.s||(this.F||this.v||this.l?td(this):this.fb())};k$1.fb=function(){td(this)};function td(_r){if(_r.h&&typeof goog<"u"&&(!_r.C[1]||O$1(_r)!=4||_r.aa()!=2)){if(_r.v&&O$1(_r)==4)Ab(_r.Ha,0,_r);else if(C$1(_r,"readystatechange"),O$1(_r)==4){_r.h=!1;try{const Il=_r.aa();e:switch(Il){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _t=!0;break e;default:_t=!1}var _o;if(!(_o=_t)){var yl;if(yl=Il===0){var El=String(_r.H).match(Ec$1)[1]||null;if(!El&&l.self&&l.self.location){var _l=l.self.location.protocol;El=_l.substr(0,_l.length-1)}yl=!md.test(El?El.toLowerCase():"")}_o=yl}if(_o)C$1(_r,"complete"),C$1(_r,"success");else{_r.m=6;try{var Tl=2<O$1(_r)?_r.g.statusText:""}catch{Tl=""}_r.j=Tl+" ["+_r.aa()+"]",rd(_r)}}finally{sd(_r)}}}}function sd(_r,_t){if(_r.g){pd(_r);const _o=_r.g,yl=_r.C[0]?aa$1:null;_r.g=null,_r.C=null,_t||C$1(_r,"ready");try{_o.onreadystatechange=yl}catch{}}}function pd(_r){_r.g&&_r.K&&(_r.g.ontimeout=null),_r.A&&(l.clearTimeout(_r.A),_r.A=null)}function O$1(_r){return _r.g?_r.g.readyState:0}k$1.aa=function(){try{return 2<O$1(this)?this.g.status:-1}catch{return-1}};k$1.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}};k$1.Sa=function(_r){if(this.g){var _t=this.g.responseText;return _r&&_t.indexOf(_r)==0&&(_t=_t.substring(_r.length)),kd(_t)}};function hc$1(_r){try{if(!_r.g)return null;if("response"in _r.g)return _r.g.response;switch(_r.J){case ld:case"text":return _r.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in _r.g)return _r.g.mozResponseArrayBuffer}return null}catch{return null}}k$1.Ea=function(){return this.m};k$1.Oa=function(){return typeof this.j=="string"?this.j:String(this.j)};function ud(_r){let _t="";return Qa(_r,function(_o,yl){_t+=yl,_t+=":",_t+=_o,_t+=`\r
`}),_t}function vd(_r,_t,_o){e:{for(yl in _o){var yl=!1;break e}yl=!0}yl||(_o=ud(_o),typeof _r=="string"?_o!=null&&encodeURIComponent(String(_o)):S$1(_r,_t,_o))}function wd(_r,_t,_o){return _o&&_o.internalChannelParams&&_o.internalChannelParams[_r]||_t}function xd(_r){this.Ca=0,this.i=[],this.j=new Gb,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=wd("failFast",!1,_r),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=wd("baseRetryDelayMs",5e3,_r),this.bb=wd("retryDelaySeedMs",1e4,_r),this.$a=wd("forwardChannelMaxRetries",2,_r),this.ta=wd("forwardChannelRequestTimeoutMs",2e4,_r),this.ra=_r&&_r.xmlHttpFactory||void 0,this.Da=_r&&_r.Zb||!1,this.J=void 0,this.H=_r&&_r.supportsCrossDomainXhr||!1,this.I="",this.h=new Wc(_r&&_r.concurrentRequestLimit),this.Fa=new ad,this.O=_r&&_r.fastHandshake||!1,this.N=_r&&_r.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=_r&&_r.Xb||!1,_r&&_r.Aa&&this.j.Aa(),_r&&_r.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&_r&&_r.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}k$1=xd.prototype;k$1.ma=8;k$1.G=1;function Ac$1(_r){if(yd(_r),_r.G==3){var _t=_r.U++,_o=M$1(_r.F);S$1(_o,"SID",_r.I),S$1(_o,"RID",_t),S$1(_o,"TYPE","terminate"),zd(_r,_o),_t=new L$1(_r,_r.j,_t,void 0),_t.K=2,_t.v=dc$1(M$1(_o)),_o=!1,l.navigator&&l.navigator.sendBeacon&&(_o=l.navigator.sendBeacon(_t.v.toString(),"")),!_o&&l.Image&&(new Image().src=_t.v,_o=!0),_o||(_t.g=gc(_t.l,null),_t.g.da(_t.v)),_t.F=Date.now(),N$1(_t)}Ad(_r)}function sc$1(_r){_r.g&&(oc$1(_r),_r.g.cancel(),_r.g=null)}function yd(_r){sc$1(_r),_r.u&&(l.clearTimeout(_r.u),_r.u=null),rc$1(_r),_r.h.cancel(),_r.m&&(typeof _r.m=="number"&&l.clearTimeout(_r.m),_r.m=null)}function zc(_r){Yc(_r.h)||_r.m||(_r.m=!0,sb(_r.Ja,_r),_r.C=0)}function Bd(_r,_t){return uc$1(_r.h)>=_r.h.j-(_r.m?1:0)?!1:_r.m?(_r.i=_t.D.concat(_r.i),!0):_r.G==1||_r.G==2||_r.C>=(_r.Za?0:_r.$a)?!1:(_r.m=J(q$1(_r.Ja,_r,_t),Cd(_r,_r.C)),_r.C++,!0)}k$1.Ja=function(_r){if(this.m)if(this.m=null,this.G==1){if(!_r){this.U=Math.floor(1e5*Math.random()),_r=this.U++;const El=new L$1(this,this.j,_r,void 0);let _l=this.s;if(this.S&&(_l?(_l=Ra(_l),Ta$1(_l,this.S)):_l=this.S),this.o!==null||this.N||(El.H=_l,_l=null),this.O)e:{for(var _t=0,_o=0;_o<this.i.length;_o++){t:{var yl=this.i[_o];if("__data__"in yl.g&&(yl=yl.g.__data__,typeof yl=="string")){yl=yl.length;break t}yl=void 0}if(yl===void 0)break;if(_t+=yl,4096<_t){_t=_o;break e}if(_t===4096||_o===this.i.length-1){_t=_o+1;break e}}_t=1e3}else _t=1e3;_t=Dd(this,El,_t),_o=M$1(this.F),S$1(_o,"RID",_r),S$1(_o,"CVER",22),this.D&&S$1(_o,"X-HTTP-Session-Id",this.D),zd(this,_o),_l&&(this.N?_t="headers="+encodeURIComponent(String(ud(_l)))+"&"+_t:this.o&&vd(_o,this.o,_l)),vc$1(this.h,El),this.Ya&&S$1(_o,"TYPE","init"),this.O?(S$1(_o,"$req",_t),S$1(_o,"SID","null"),El.Z=!0,cc$1(El,_o,null)):cc$1(El,_o,_t),this.G=2}}else this.G==3&&(_r?Ed(this,_r):this.i.length==0||Yc(this.h)||Ed(this))};function Ed(_r,_t){var _o;_t?_o=_t.m:_o=_r.U++;const yl=M$1(_r.F);S$1(yl,"SID",_r.I),S$1(yl,"RID",_o),S$1(yl,"AID",_r.T),zd(_r,yl),_r.o&&_r.s&&vd(yl,_r.o,_r.s),_o=new L$1(_r,_r.j,_o,_r.C+1),_r.o===null&&(_o.H=_r.s),_t&&(_r.i=_t.D.concat(_r.i)),_t=Dd(_r,_o,1e3),_o.setTimeout(Math.round(.5*_r.ta)+Math.round(.5*_r.ta*Math.random())),vc$1(_r.h,_o),cc$1(_o,yl,_t)}function zd(_r,_t){_r.ia&&Qa(_r.ia,function(_o,yl){S$1(_t,yl,_o)}),_r.l&&Dc$1({},function(_o,yl){S$1(_t,yl,_o)})}function Dd(_r,_t,_o){_o=Math.min(_r.i.length,_o);var yl=_r.l?q$1(_r.l.Ra,_r.l,_r):null;e:{var El=_r.i;let _l=-1;for(;;){const Tl=["count="+_o];_l==-1?0<_o?(_l=El[0].h,Tl.push("ofs="+_l)):_l=0:Tl.push("ofs="+_l);let Il=!0;for(let Al=0;Al<_o;Al++){let Rl=El[Al].h;const Fl=El[Al].g;if(Rl-=_l,0>Rl)_l=Math.max(0,El[Al].h-100),Il=!1;else try{bd(Fl,Tl,"req"+Rl+"_")}catch{yl&&yl(Fl)}}if(Il){yl=Tl.join("&");break e}}}return _r=_r.i.splice(0,_o),_t.D=_r,yl}function yc(_r){_r.g||_r.u||(_r.Z=1,sb(_r.Ia,_r),_r.A=0)}function tc$1(_r){return _r.g||_r.u||3<=_r.A?!1:(_r.Z++,_r.u=J(q$1(_r.Ia,_r),Cd(_r,_r.A)),_r.A++,!0)}k$1.Ia=function(){if(this.u=null,Fd(this),this.$&&!(this.K||this.g==null||0>=this.P)){var _r=2*this.P;this.j.info("BP detection timer enabled: "+_r),this.B=J(q$1(this.eb,this),_r)}};k$1.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,I(10),sc$1(this),Fd(this))};function oc$1(_r){_r.B!=null&&(l.clearTimeout(_r.B),_r.B=null)}function Fd(_r){_r.g=new L$1(_r,_r.j,"rpc",_r.Z),_r.o===null&&(_r.g.H=_r.s),_r.g.N=0;var _t=M$1(_r.sa);S$1(_t,"RID","rpc"),S$1(_t,"SID",_r.I),S$1(_t,"CI",_r.L?"0":"1"),S$1(_t,"AID",_r.T),S$1(_t,"TYPE","xmlhttp"),zd(_r,_t),_r.o&&_r.s&&vd(_t,_r.o,_r.s),_r.J&&_r.g.setTimeout(_r.J);var _o=_r.g;_r=_r.ka,_o.K=1,_o.v=dc$1(M$1(_t)),_o.s=null,_o.P=!0,ec$1(_o,_r)}k$1.cb=function(){this.v!=null&&(this.v=null,sc$1(this),tc$1(this),I(19))};function rc$1(_r){_r.v!=null&&(l.clearTimeout(_r.v),_r.v=null)}function mc(_r,_t){var _o=null;if(_r.g==_t){rc$1(_r),oc$1(_r),_r.g=null;var yl=2}else if(qc$1(_r.h,_t))_o=_t.D,xc$1(_r.h,_t),yl=1;else return;if(_r.G!=0){if(_r.pa=_t.Y,_t.i)if(yl==1){_o=_t.s?_t.s.length:0,_t=Date.now()-_t.F;var El=_r.C;yl=Mb(),C$1(yl,new Pb(yl,_o)),zc(_r)}else yc(_r);else if(El=_t.o,El==3||El==0&&0<_r.pa||!(yl==1&&Bd(_r,_t)||yl==2&&tc$1(_r)))switch(_o&&0<_o.length&&(_t=_r.h,_t.i=_t.i.concat(_o)),El){case 1:R(_r,5);break;case 4:R(_r,10);break;case 3:R(_r,6);break;default:R(_r,2)}}}function Cd(_r,_t){let _o=_r.Xa+Math.floor(Math.random()*_r.bb);return _r.l||(_o*=2),_o*_t}function R(_r,_t){if(_r.j.info("Error code "+_t),_t==2){var _o=null;_r.l&&(_o=null);var yl=q$1(_r.kb,_r);_o||(_o=new T("//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Gc$1(_o,"https"),dc$1(_o)),cd(_o.toString(),yl)}else I(2);_r.G=0,_r.l&&_r.l.va(_t),Ad(_r),yd(_r)}k$1.kb=function(_r){_r?(this.j.info("Successfully pinged google.com"),I(2)):(this.j.info("Failed to ping google.com"),I(1))};function Ad(_r){if(_r.G=0,_r.la=[],_r.l){const _t=Zc(_r.h);(_t.length!=0||_r.i.length!=0)&&(na(_r.la,_t),na(_r.la,_r.i),_r.h.i.length=0,ma$1(_r.i),_r.i.length=0),_r.l.ua()}}function wc(_r,_t,_o){var yl=_o instanceof T?M$1(_o):new T(_o,void 0);if(yl.g!="")_t&&(yl.g=_t+"."+yl.g),Hc(yl,yl.m);else{var El=l.location;yl=El.protocol,_t=_t?_t+"."+El.hostname:El.hostname,El=+El.port;var _l=new T(null,void 0);yl&&Gc$1(_l,yl),_t&&(_l.g=_t),El&&Hc(_l,El),_o&&(_l.l=_o),yl=_l}return _o=_r.D,_t=_r.za,_o&&_t&&S$1(yl,_o,_t),S$1(yl,"VER",_r.ma),zd(_r,yl),yl}function gc(_r,_t,_o){if(_t&&!_r.H)throw Error("Can't create secondary domain capable XhrIo object.");return _t=_o&&_r.Da&&!_r.ra?new W$1(new ed({jb:!0})):new W$1(_r.ra),_t.Ka(_r.H),_t}function Gd(){}k$1=Gd.prototype;k$1.xa=function(){};k$1.wa=function(){};k$1.va=function(){};k$1.ua=function(){};k$1.Ra=function(){};function Hd(){if(y&&!(10<=Number(La)))throw Error("Environmental error: no available transport.")}Hd.prototype.g=function(_r,_t){return new X$1(_r,_t)};function X$1(_r,_t){B$1.call(this),this.g=new xd(_t),this.l=_r,this.h=_t&&_t.messageUrlParams||null,_r=_t&&_t.messageHeaders||null,_t&&_t.clientProtocolHeaderRequired&&(_r?_r["X-Client-Protocol"]="webchannel":_r={"X-Client-Protocol":"webchannel"}),this.g.s=_r,_r=_t&&_t.initMessageHeaders||null,_t&&_t.messageContentType&&(_r?_r["X-WebChannel-Content-Type"]=_t.messageContentType:_r={"X-WebChannel-Content-Type":_t.messageContentType}),_t&&_t.ya&&(_r?_r["X-WebChannel-Client-Profile"]=_t.ya:_r={"X-WebChannel-Client-Profile":_t.ya}),this.g.S=_r,(_r=_t&&_t.Yb)&&!pa$1(_r)&&(this.g.o=_r),this.A=_t&&_t.supportsCrossDomainXhr||!1,this.v=_t&&_t.sendRawJson||!1,(_t=_t&&_t.httpSessionIdParam)&&!pa$1(_t)&&(this.g.D=_t,_r=this.h,_r!==null&&_t in _r&&(_r=this.h,_t in _r&&delete _r[_t])),this.j=new Y$1(this)}t(X$1,B$1);X$1.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var _r=this.g,_t=this.l,_o=this.h||void 0;I(0),_r.V=_t,_r.ia=_o||{},_r.L=_r.Y,_r.F=wc(_r,null,_r.V),zc(_r)};X$1.prototype.close=function(){Ac$1(this.g)};X$1.prototype.u=function(_r){var _t=this.g;if(typeof _r=="string"){var _o={};_o.__data__=_r,_r=_o}else this.v&&(_o={},_o.__data__=lb(_r),_r=_o);_t.i.push(new Vc$1(_t.ab++,_r)),_t.G==3&&zc(_t)};X$1.prototype.M=function(){this.g.l=null,delete this.j,Ac$1(this.g),delete this.g,X$1.X.M.call(this)};function Id(_r){Vb.call(this);var _t=_r.__sm__;if(_t){e:{for(const _o in _t){_r=_o;break e}_r=void 0}(this.i=_r)&&(_r=this.i,_t=_t!==null&&_r in _t?_t[_r]:void 0),this.data=_t}else this.data=_r}t(Id,Vb);function Jd(){Wb.call(this),this.status=1}t(Jd,Wb);function Y$1(_r){this.g=_r}t(Y$1,Gd);Y$1.prototype.xa=function(){C$1(this.g,"a")};Y$1.prototype.wa=function(_r){C$1(this.g,new Id(_r))};Y$1.prototype.va=function(_r){C$1(this.g,new Jd)};Y$1.prototype.ua=function(){C$1(this.g,"b")};Hd.prototype.createWebChannel=Hd.prototype.g;X$1.prototype.send=X$1.prototype.u;X$1.prototype.open=X$1.prototype.m;X$1.prototype.close=X$1.prototype.close;Qb.NO_ERROR=0;Qb.TIMEOUT=8;Qb.HTTP_ERROR=6;Rb.COMPLETE="complete";Ub.EventType=K$1;K$1.OPEN="a";K$1.CLOSE="b";K$1.ERROR="c";K$1.MESSAGE="d";B$1.prototype.listen=B$1.prototype.N;W$1.prototype.listenOnce=W$1.prototype.O;W$1.prototype.getLastError=W$1.prototype.Oa;W$1.prototype.getLastErrorCode=W$1.prototype.Ea;W$1.prototype.getStatus=W$1.prototype.aa;W$1.prototype.getResponseJson=W$1.prototype.Sa;W$1.prototype.getResponseText=W$1.prototype.fa;W$1.prototype.send=W$1.prototype.da;W$1.prototype.setWithCredentials=W$1.prototype.Ka;var createWebChannelTransport=function(){return new Hd},getStatEventTarget=function(){return Mb()},ErrorCode$1=Qb,EventType=Rb,Event$1=G$1,Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},FetchXmlHttpFactory=ed,WebChannel=Ub,XhrIo=W$1;const b="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P{constructor(_t){this.uid=_t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(_t){return _t.uid===this.uid}}P.UNAUTHENTICATED=new P(null),P.GOOGLE_CREDENTIALS=new P("google-credentials-uid"),P.FIRST_PARTY=new P("first-party-uid"),P.MOCK_USER=new P("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let v="9.17.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V=new Logger("@firebase/firestore");function S(){return V.logLevel}function C(_r,..._t){if(V.logLevel<=LogLevel.DEBUG){const _o=_t.map(k);V.debug(`Firestore (${v}): ${_r}`,..._o)}}function x(_r,..._t){if(V.logLevel<=LogLevel.ERROR){const _o=_t.map(k);V.error(`Firestore (${v}): ${_r}`,..._o)}}function N(_r,..._t){if(V.logLevel<=LogLevel.WARN){const _o=_t.map(k);V.warn(`Firestore (${v}): ${_r}`,..._o)}}function k(_r){if(typeof _r=="string")return _r;try{return _t=_r,JSON.stringify(_t)}catch{return _r}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var _t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O(_r="Unexpected state"){const _t=`FIRESTORE (${v}) INTERNAL ASSERTION FAILED: `+_r;throw x(_t),new Error(_t)}function M(_r,_t){_r||O()}function $(_r,_t){return _r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class L extends FirebaseError{constructor(_t,_o){super(_t,_o),this.code=_t,this.message=_o,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q{constructor(){this.promise=new Promise((_t,_o)=>{this.resolve=_t,this.reject=_o})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U{constructor(_t,_o){this.user=_o,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${_t}`)}}class K{getToken(){return Promise.resolve(null)}invalidateToken(){}start(_t,_o){_t.enqueueRetryable(()=>_o(P.UNAUTHENTICATED))}shutdown(){}}class G{constructor(_t){this.token=_t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(_t,_o){this.changeListener=_o,_t.enqueueRetryable(()=>_o(this.token.user))}shutdown(){this.changeListener=null}}class Q{constructor(_t){this.t=_t,this.currentUser=P.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(_t,_o){let yl=this.i;const El=Al=>this.i!==yl?(yl=this.i,_o(Al)):Promise.resolve();let _l=new q;this.o=()=>{this.i++,this.currentUser=this.u(),_l.resolve(),_l=new q,_t.enqueueRetryable(()=>El(this.currentUser))};const Tl=()=>{const Al=_l;_t.enqueueRetryable(async()=>{await Al.promise,await El(this.currentUser)})},Il=Al=>{C("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=Al,this.auth.addAuthTokenListener(this.o),Tl()};this.t.onInit(Al=>Il(Al)),setTimeout(()=>{if(!this.auth){const Al=this.t.getImmediate({optional:!0});Al?Il(Al):(C("FirebaseAuthCredentialsProvider","Auth not yet detected"),_l.resolve(),_l=new q)}},0),Tl()}getToken(){const _t=this.i,_o=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(_o).then(yl=>this.i!==_t?(C("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):yl?(M(typeof yl.accessToken=="string"),new U(yl.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const _t=this.auth&&this.auth.getUid();return M(_t===null||typeof _t=="string"),new P(_t)}}class j{constructor(_t,_o,yl,El){this.h=_t,this.l=_o,this.m=yl,this.g=El,this.type="FirstParty",this.user=P.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(M(!(typeof this.h!="object"||this.h===null||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const _t=this.I();return _t&&this.p.set("Authorization",_t),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class W{constructor(_t,_o,yl,El){this.h=_t,this.l=_o,this.m=yl,this.g=El}getToken(){return Promise.resolve(new j(this.h,this.l,this.m,this.g))}start(_t,_o){_t.enqueueRetryable(()=>_o(P.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class z{constructor(_t){this.value=_t,this.type="AppCheck",this.headers=new Map,_t&&_t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class H{constructor(_t){this.T=_t,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(_t,_o){const yl=_l=>{_l.error!=null&&C("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${_l.error.message}`);const Tl=_l.token!==this.A;return this.A=_l.token,C("FirebaseAppCheckTokenProvider",`Received ${Tl?"new":"existing"} token.`),Tl?_o(_l.token):Promise.resolve()};this.o=_l=>{_t.enqueueRetryable(()=>yl(_l))};const El=_l=>{C("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=_l,this.appCheck.addTokenListener(this.o)};this.T.onInit(_l=>El(_l)),setTimeout(()=>{if(!this.appCheck){const _l=this.T.getImmediate({optional:!0});_l?El(_l):C("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const _t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(_t).then(_o=>_o?(M(typeof _o.token=="string"),this.A=_o.token,new z(_o.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y(_r){const _t=typeof self<"u"&&(self.crypto||self.msCrypto),_o=new Uint8Array(_r);if(_t&&typeof _t.getRandomValues=="function")_t.getRandomValues(_o);else for(let yl=0;yl<_r;yl++)_o[yl]=Math.floor(256*Math.random());return _o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{static R(){const _t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",_o=Math.floor(256/_t.length)*_t.length;let yl="";for(;yl.length<20;){const El=Y(40);for(let _l=0;_l<El.length;++_l)yl.length<20&&El[_l]<_o&&(yl+=_t.charAt(El[_l]%_t.length))}return yl}}function Z(_r,_t){return _r<_t?-1:_r>_t?1:0}function tt(_r,_t,_o){return _r.length===_t.length&&_r.every((yl,El)=>_o(yl,_t[El]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nt{constructor(_t,_o){if(this.seconds=_t,this.nanoseconds=_o,_o<0)throw new L(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+_o);if(_o>=1e9)throw new L(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+_o);if(_t<-62135596800)throw new L(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+_t);if(_t>=253402300800)throw new L(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+_t)}static now(){return nt.fromMillis(Date.now())}static fromDate(_t){return nt.fromMillis(_t.getTime())}static fromMillis(_t){const _o=Math.floor(_t/1e3),yl=Math.floor(1e6*(_t-1e3*_o));return new nt(_o,yl)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(_t){return this.seconds===_t.seconds?Z(this.nanoseconds,_t.nanoseconds):Z(this.seconds,_t.seconds)}isEqual(_t){return _t.seconds===this.seconds&&_t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const _t=this.seconds- -62135596800;return String(_t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class st{constructor(_t){this.timestamp=_t}static fromTimestamp(_t){return new st(_t)}static min(){return new st(new nt(0,0))}static max(){return new st(new nt(253402300799,999999999))}compareTo(_t){return this.timestamp._compareTo(_t.timestamp)}isEqual(_t){return this.timestamp.isEqual(_t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class it{constructor(_t,_o,yl){_o===void 0?_o=0:_o>_t.length&&O(),yl===void 0?yl=_t.length-_o:yl>_t.length-_o&&O(),this.segments=_t,this.offset=_o,this.len=yl}get length(){return this.len}isEqual(_t){return it.comparator(this,_t)===0}child(_t){const _o=this.segments.slice(this.offset,this.limit());return _t instanceof it?_t.forEach(yl=>{_o.push(yl)}):_o.push(_t),this.construct(_o)}limit(){return this.offset+this.length}popFirst(_t){return _t=_t===void 0?1:_t,this.construct(this.segments,this.offset+_t,this.length-_t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(_t){return this.segments[this.offset+_t]}isEmpty(){return this.length===0}isPrefixOf(_t){if(_t.length<this.length)return!1;for(let _o=0;_o<this.length;_o++)if(this.get(_o)!==_t.get(_o))return!1;return!0}isImmediateParentOf(_t){if(this.length+1!==_t.length)return!1;for(let _o=0;_o<this.length;_o++)if(this.get(_o)!==_t.get(_o))return!1;return!0}forEach(_t){for(let _o=this.offset,yl=this.limit();_o<yl;_o++)_t(this.segments[_o])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(_t,_o){const yl=Math.min(_t.length,_o.length);for(let El=0;El<yl;El++){const _l=_t.get(El),Tl=_o.get(El);if(_l<Tl)return-1;if(_l>Tl)return 1}return _t.length<_o.length?-1:_t.length>_o.length?1:0}}class rt extends it{construct(_t,_o,yl){return new rt(_t,_o,yl)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(..._t){const _o=[];for(const yl of _t){if(yl.indexOf("//")>=0)throw new L(B.INVALID_ARGUMENT,`Invalid segment (${yl}). Paths must not contain // in them.`);_o.push(...yl.split("/").filter(El=>El.length>0))}return new rt(_o)}static emptyPath(){return new rt([])}}const ot=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ut extends it{construct(_t,_o,yl){return new ut(_t,_o,yl)}static isValidIdentifier(_t){return ot.test(_t)}canonicalString(){return this.toArray().map(_t=>(_t=_t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ut.isValidIdentifier(_t)||(_t="`"+_t+"`"),_t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new ut(["__name__"])}static fromServerFormat(_t){const _o=[];let yl="",El=0;const _l=()=>{if(yl.length===0)throw new L(B.INVALID_ARGUMENT,`Invalid field path (${_t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);_o.push(yl),yl=""};let Tl=!1;for(;El<_t.length;){const Il=_t[El];if(Il==="\\"){if(El+1===_t.length)throw new L(B.INVALID_ARGUMENT,"Path has trailing escape character: "+_t);const Al=_t[El+1];if(Al!=="\\"&&Al!=="."&&Al!=="`")throw new L(B.INVALID_ARGUMENT,"Path has invalid escape sequence: "+_t);yl+=Al,El+=2}else Il==="`"?(Tl=!Tl,El++):Il!=="."||Tl?(yl+=Il,El++):(_l(),El++)}if(_l(),Tl)throw new L(B.INVALID_ARGUMENT,"Unterminated ` in path: "+_t);return new ut(_o)}static emptyPath(){return new ut([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(_t){this.path=_t}static fromPath(_t){return new ct(rt.fromString(_t))}static fromName(_t){return new ct(rt.fromString(_t).popFirst(5))}static empty(){return new ct(rt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(_t){return this.path.length>=2&&this.path.get(this.path.length-2)===_t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(_t){return _t!==null&&rt.comparator(this.path,_t.path)===0}toString(){return this.path.toString()}static comparator(_t,_o){return rt.comparator(_t.path,_o.path)}static isDocumentKey(_t){return _t.length%2==0}static fromSegments(_t){return new ct(new rt(_t.slice()))}}function mt(_r,_t){const _o=_r.toTimestamp().seconds,yl=_r.toTimestamp().nanoseconds+1,El=st.fromTimestamp(yl===1e9?new nt(_o+1,0):new nt(_o,yl));return new yt(El,ct.empty(),_t)}function gt(_r){return new yt(_r.readTime,_r.key,-1)}class yt{constructor(_t,_o,yl){this.readTime=_t,this.documentKey=_o,this.largestBatchId=yl}static min(){return new yt(st.min(),ct.empty(),-1)}static max(){return new yt(st.max(),ct.empty(),-1)}}function pt(_r,_t){let _o=_r.readTime.compareTo(_t.readTime);return _o!==0?_o:(_o=ct.comparator(_r.documentKey,_t.documentKey),_o!==0?_o:Z(_r.largestBatchId,_t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const It="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Tt{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(_t){this.onCommittedListeners.push(_t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(_t=>_t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Et(_r){if(_r.code!==B.FAILED_PRECONDITION||_r.message!==It)throw _r;C("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{constructor(_t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,_t(_o=>{this.isDone=!0,this.result=_o,this.nextCallback&&this.nextCallback(_o)},_o=>{this.isDone=!0,this.error=_o,this.catchCallback&&this.catchCallback(_o)})}catch(_t){return this.next(void 0,_t)}next(_t,_o){return this.callbackAttached&&O(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(_o,this.error):this.wrapSuccess(_t,this.result):new At((yl,El)=>{this.nextCallback=_l=>{this.wrapSuccess(_t,_l).next(yl,El)},this.catchCallback=_l=>{this.wrapFailure(_o,_l).next(yl,El)}})}toPromise(){return new Promise((_t,_o)=>{this.next(_t,_o)})}wrapUserFunction(_t){try{const _o=_t();return _o instanceof At?_o:At.resolve(_o)}catch(_o){return At.reject(_o)}}wrapSuccess(_t,_o){return _t?this.wrapUserFunction(()=>_t(_o)):At.resolve(_o)}wrapFailure(_t,_o){return _t?this.wrapUserFunction(()=>_t(_o)):At.reject(_o)}static resolve(_t){return new At((_o,yl)=>{_o(_t)})}static reject(_t){return new At((_o,yl)=>{yl(_t)})}static waitFor(_t){return new At((_o,yl)=>{let El=0,_l=0,Tl=!1;_t.forEach(Il=>{++El,Il.next(()=>{++_l,Tl&&_l===El&&_o()},Al=>yl(Al))}),Tl=!0,_l===El&&_o()})}static or(_t){let _o=At.resolve(!1);for(const yl of _t)_o=_o.next(El=>El?At.resolve(El):yl());return _o}static forEach(_t,_o){const yl=[];return _t.forEach((El,_l)=>{yl.push(_o.call(this,El,_l))}),this.waitFor(yl)}static mapArray(_t,_o){return new At((yl,El)=>{const _l=_t.length,Tl=new Array(_l);let Il=0;for(let Al=0;Al<_l;Al++){const Rl=Al;_o(_t[Rl]).next(Fl=>{Tl[Rl]=Fl,++Il,Il===_l&&yl(Tl)},Fl=>El(Fl))}})}static doWhile(_t,_o){return new At((yl,El)=>{const _l=()=>{_t()===!0?_o().next(()=>{_l()},El):yl()};_l()})}}function Vt(_r){return _r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(_t,_o){this.previousValue=_t,_o&&(_o.sequenceNumberHandler=yl=>this.ut(yl),this.ct=yl=>_o.writeSequenceNumber(yl))}ut(_t){return this.previousValue=Math.max(_t,this.previousValue),this.previousValue}next(){const _t=++this.previousValue;return this.ct&&this.ct(_t),_t}}Ot.at=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(_t,_o,yl,El,_l,Tl,Il,Al){this.databaseId=_t,this.appId=_o,this.persistenceKey=yl,this.host=El,this.ssl=_l,this.forceLongPolling=Tl,this.autoDetectLongPolling=Il,this.useFetchStreams=Al}}class Ft{constructor(_t,_o){this.projectId=_t,this.database=_o||"(default)"}static empty(){return new Ft("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(_t){return _t instanceof Ft&&_t.projectId===this.projectId&&_t.database===this.database}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $t(_r){let _t=0;for(const _o in _r)Object.prototype.hasOwnProperty.call(_r,_o)&&_t++;return _t}function Bt(_r,_t){for(const _o in _r)Object.prototype.hasOwnProperty.call(_r,_o)&&_t(_o,_r[_o])}function Lt(_r){for(const _t in _r)if(Object.prototype.hasOwnProperty.call(_r,_t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qt(_r){return _r==null}function Ut(_r){return _r===0&&1/_r==-1/0}function Kt(_r){return typeof _r=="number"&&Number.isInteger(_r)&&!Ut(_r)&&_r<=Number.MAX_SAFE_INTEGER&&_r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(_t){this.binaryString=_t}static fromBase64String(_t){const _o=atob(_t);return new Qt(_o)}static fromUint8Array(_t){const _o=function(yl){let El="";for(let _l=0;_l<yl.length;++_l)El+=String.fromCharCode(yl[_l]);return El}(_t);return new Qt(_o)}[Symbol.iterator](){let _t=0;return{next:()=>_t<this.binaryString.length?{value:this.binaryString.charCodeAt(_t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return _t=this.binaryString,btoa(_t);var _t}toUint8Array(){return function(_t){const _o=new Uint8Array(_t.length);for(let yl=0;yl<_t.length;yl++)_o[yl]=_t.charCodeAt(yl);return _o}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(_t){return Z(this.binaryString,_t.binaryString)}isEqual(_t){return this.binaryString===_t.binaryString}}Qt.EMPTY_BYTE_STRING=new Qt("");const jt=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Wt(_r){if(M(!!_r),typeof _r=="string"){let _t=0;const _o=jt.exec(_r);if(M(!!_o),_o[1]){let El=_o[1];El=(El+"000000000").substr(0,9),_t=Number(El)}const yl=new Date(_r);return{seconds:Math.floor(yl.getTime()/1e3),nanos:_t}}return{seconds:zt(_r.seconds),nanos:zt(_r.nanos)}}function zt(_r){return typeof _r=="number"?_r:typeof _r=="string"?Number(_r):0}function Ht(_r){return typeof _r=="string"?Qt.fromBase64String(_r):Qt.fromUint8Array(_r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jt(_r){var _t,_o;return((_o=(((_t=_r==null?void 0:_r.mapValue)===null||_t===void 0?void 0:_t.fields)||{}).__type__)===null||_o===void 0?void 0:_o.stringValue)==="server_timestamp"}function Yt(_r){const _t=_r.mapValue.fields.__previous_value__;return Jt(_t)?Yt(_t):_t}function Xt(_r){const _t=Wt(_r.mapValue.fields.__local_write_time__.timestampValue);return new nt(_t.seconds,_t.nanos)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zt={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ee(_r){return"nullValue"in _r?0:"booleanValue"in _r?1:"integerValue"in _r||"doubleValue"in _r?2:"timestampValue"in _r?3:"stringValue"in _r?5:"bytesValue"in _r?6:"referenceValue"in _r?7:"geoPointValue"in _r?8:"arrayValue"in _r?9:"mapValue"in _r?Jt(_r)?4:we(_r)?9007199254740991:10:O()}function ne(_r,_t){if(_r===_t)return!0;const _o=ee(_r);if(_o!==ee(_t))return!1;switch(_o){case 0:case 9007199254740991:return!0;case 1:return _r.booleanValue===_t.booleanValue;case 4:return Xt(_r).isEqual(Xt(_t));case 3:return function(yl,El){if(typeof yl.timestampValue=="string"&&typeof El.timestampValue=="string"&&yl.timestampValue.length===El.timestampValue.length)return yl.timestampValue===El.timestampValue;const _l=Wt(yl.timestampValue),Tl=Wt(El.timestampValue);return _l.seconds===Tl.seconds&&_l.nanos===Tl.nanos}(_r,_t);case 5:return _r.stringValue===_t.stringValue;case 6:return function(yl,El){return Ht(yl.bytesValue).isEqual(Ht(El.bytesValue))}(_r,_t);case 7:return _r.referenceValue===_t.referenceValue;case 8:return function(yl,El){return zt(yl.geoPointValue.latitude)===zt(El.geoPointValue.latitude)&&zt(yl.geoPointValue.longitude)===zt(El.geoPointValue.longitude)}(_r,_t);case 2:return function(yl,El){if("integerValue"in yl&&"integerValue"in El)return zt(yl.integerValue)===zt(El.integerValue);if("doubleValue"in yl&&"doubleValue"in El){const _l=zt(yl.doubleValue),Tl=zt(El.doubleValue);return _l===Tl?Ut(_l)===Ut(Tl):isNaN(_l)&&isNaN(Tl)}return!1}(_r,_t);case 9:return tt(_r.arrayValue.values||[],_t.arrayValue.values||[],ne);case 10:return function(yl,El){const _l=yl.mapValue.fields||{},Tl=El.mapValue.fields||{};if($t(_l)!==$t(Tl))return!1;for(const Il in _l)if(_l.hasOwnProperty(Il)&&(Tl[Il]===void 0||!ne(_l[Il],Tl[Il])))return!1;return!0}(_r,_t);default:return O()}}function se(_r,_t){return(_r.values||[]).find(_o=>ne(_o,_t))!==void 0}function ie(_r,_t){if(_r===_t)return 0;const _o=ee(_r),yl=ee(_t);if(_o!==yl)return Z(_o,yl);switch(_o){case 0:case 9007199254740991:return 0;case 1:return Z(_r.booleanValue,_t.booleanValue);case 2:return function(El,_l){const Tl=zt(El.integerValue||El.doubleValue),Il=zt(_l.integerValue||_l.doubleValue);return Tl<Il?-1:Tl>Il?1:Tl===Il?0:isNaN(Tl)?isNaN(Il)?0:-1:1}(_r,_t);case 3:return re(_r.timestampValue,_t.timestampValue);case 4:return re(Xt(_r),Xt(_t));case 5:return Z(_r.stringValue,_t.stringValue);case 6:return function(El,_l){const Tl=Ht(El),Il=Ht(_l);return Tl.compareTo(Il)}(_r.bytesValue,_t.bytesValue);case 7:return function(El,_l){const Tl=El.split("/"),Il=_l.split("/");for(let Al=0;Al<Tl.length&&Al<Il.length;Al++){const Rl=Z(Tl[Al],Il[Al]);if(Rl!==0)return Rl}return Z(Tl.length,Il.length)}(_r.referenceValue,_t.referenceValue);case 8:return function(El,_l){const Tl=Z(zt(El.latitude),zt(_l.latitude));return Tl!==0?Tl:Z(zt(El.longitude),zt(_l.longitude))}(_r.geoPointValue,_t.geoPointValue);case 9:return function(El,_l){const Tl=El.values||[],Il=_l.values||[];for(let Al=0;Al<Tl.length&&Al<Il.length;++Al){const Rl=ie(Tl[Al],Il[Al]);if(Rl)return Rl}return Z(Tl.length,Il.length)}(_r.arrayValue,_t.arrayValue);case 10:return function(El,_l){if(El===Zt.mapValue&&_l===Zt.mapValue)return 0;if(El===Zt.mapValue)return 1;if(_l===Zt.mapValue)return-1;const Tl=El.fields||{},Il=Object.keys(Tl),Al=_l.fields||{},Rl=Object.keys(Al);Il.sort(),Rl.sort();for(let Fl=0;Fl<Il.length&&Fl<Rl.length;++Fl){const Bl=Z(Il[Fl],Rl[Fl]);if(Bl!==0)return Bl;const Gl=ie(Tl[Il[Fl]],Al[Rl[Fl]]);if(Gl!==0)return Gl}return Z(Il.length,Rl.length)}(_r.mapValue,_t.mapValue);default:throw O()}}function re(_r,_t){if(typeof _r=="string"&&typeof _t=="string"&&_r.length===_t.length)return Z(_r,_t);const _o=Wt(_r),yl=Wt(_t),El=Z(_o.seconds,yl.seconds);return El!==0?El:Z(_o.nanos,yl.nanos)}function oe(_r){return ue(_r)}function ue(_r){return"nullValue"in _r?"null":"booleanValue"in _r?""+_r.booleanValue:"integerValue"in _r?""+_r.integerValue:"doubleValue"in _r?""+_r.doubleValue:"timestampValue"in _r?function(yl){const El=Wt(yl);return`time(${El.seconds},${El.nanos})`}(_r.timestampValue):"stringValue"in _r?_r.stringValue:"bytesValue"in _r?Ht(_r.bytesValue).toBase64():"referenceValue"in _r?(_o=_r.referenceValue,ct.fromName(_o).toString()):"geoPointValue"in _r?`geo(${(_t=_r.geoPointValue).latitude},${_t.longitude})`:"arrayValue"in _r?function(yl){let El="[",_l=!0;for(const Tl of yl.values||[])_l?_l=!1:El+=",",El+=ue(Tl);return El+"]"}(_r.arrayValue):"mapValue"in _r?function(yl){const El=Object.keys(yl.fields||{}).sort();let _l="{",Tl=!0;for(const Il of El)Tl?Tl=!1:_l+=",",_l+=`${Il}:${ue(yl.fields[Il])}`;return _l+"}"}(_r.mapValue):O();var _t,_o}function ae(_r){return!!_r&&"integerValue"in _r}function he(_r){return!!_r&&"arrayValue"in _r}function le(_r){return!!_r&&"nullValue"in _r}function fe(_r){return!!_r&&"doubleValue"in _r&&isNaN(Number(_r.doubleValue))}function de(_r){return!!_r&&"mapValue"in _r}function _e(_r){if(_r.geoPointValue)return{geoPointValue:Object.assign({},_r.geoPointValue)};if(_r.timestampValue&&typeof _r.timestampValue=="object")return{timestampValue:Object.assign({},_r.timestampValue)};if(_r.mapValue){const _t={mapValue:{fields:{}}};return Bt(_r.mapValue.fields,(_o,yl)=>_t.mapValue.fields[_o]=_e(yl)),_t}if(_r.arrayValue){const _t={arrayValue:{values:[]}};for(let _o=0;_o<(_r.arrayValue.values||[]).length;++_o)_t.arrayValue.values[_o]=_e(_r.arrayValue.values[_o]);return _t}return Object.assign({},_r)}function we(_r){return(((_r.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{constructor(_t,_o){this.position=_t,this.inclusive=_o}}function Te(_r,_t,_o){let yl=0;for(let El=0;El<_r.position.length;El++){const _l=_t[El],Tl=_r.position[El];if(_l.field.isKeyField()?yl=ct.comparator(ct.fromName(Tl.referenceValue),_o.key):yl=ie(Tl,_o.data.field(_l.field)),_l.dir==="desc"&&(yl*=-1),yl!==0)break}return yl}function Ee(_r,_t){if(_r===null)return _t===null;if(_t===null||_r.inclusive!==_t.inclusive||_r.position.length!==_t.position.length)return!1;for(let _o=0;_o<_r.position.length;_o++)if(!ne(_r.position[_o],_t.position[_o]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{}class Re extends Ae{constructor(_t,_o,yl){super(),this.field=_t,this.op=_o,this.value=yl}static create(_t,_o,yl){return _t.isKeyField()?_o==="in"||_o==="not-in"?this.createKeyFieldInFilter(_t,_o,yl):new ke(_t,_o,yl):_o==="array-contains"?new $e(_t,yl):_o==="in"?new Be(_t,yl):_o==="not-in"?new Le(_t,yl):_o==="array-contains-any"?new qe(_t,yl):new Re(_t,_o,yl)}static createKeyFieldInFilter(_t,_o,yl){return _o==="in"?new Oe(_t,yl):new Me(_t,yl)}matches(_t){const _o=_t.data.field(this.field);return this.op==="!="?_o!==null&&this.matchesComparison(ie(_o,this.value)):_o!==null&&ee(this.value)===ee(_o)&&this.matchesComparison(ie(_o,this.value))}matchesComparison(_t){switch(this.op){case"<":return _t<0;case"<=":return _t<=0;case"==":return _t===0;case"!=":return _t!==0;case">":return _t>0;case">=":return _t>=0;default:return O()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class be extends Ae{constructor(_t,_o){super(),this.filters=_t,this.op=_o,this.ht=null}static create(_t,_o){return new be(_t,_o)}matches(_t){return Pe(this)?this.filters.find(_o=>!_o.matches(_t))===void 0:this.filters.find(_o=>_o.matches(_t))!==void 0}getFlattenedFilters(){return this.ht!==null||(this.ht=this.filters.reduce((_t,_o)=>_t.concat(_o.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const _t=this.lt(_o=>_o.isInequality());return _t!==null?_t.field:null}lt(_t){for(const _o of this.getFlattenedFilters())if(_t(_o))return _o;return null}}function Pe(_r){return _r.op==="and"}function Ve(_r){return Se(_r)&&Pe(_r)}function Se(_r){for(const _t of _r.filters)if(_t instanceof be)return!1;return!0}function De(_r){if(_r instanceof Re)return _r.field.canonicalString()+_r.op.toString()+oe(_r.value);if(Ve(_r))return _r.filters.map(_t=>De(_t)).join(",");{const _t=_r.filters.map(_o=>De(_o)).join(",");return`${_r.op}(${_t})`}}function Ce(_r,_t){return _r instanceof Re?function(_o,yl){return yl instanceof Re&&_o.op===yl.op&&_o.field.isEqual(yl.field)&&ne(_o.value,yl.value)}(_r,_t):_r instanceof be?function(_o,yl){return yl instanceof be&&_o.op===yl.op&&_o.filters.length===yl.filters.length?_o.filters.reduce((El,_l,Tl)=>El&&Ce(_l,yl.filters[Tl]),!0):!1}(_r,_t):void O()}function Ne(_r){return _r instanceof Re?function(_t){return`${_t.field.canonicalString()} ${_t.op} ${oe(_t.value)}`}(_r):_r instanceof be?function(_t){return _t.op.toString()+" {"+_t.getFilters().map(Ne).join(" ,")+"}"}(_r):"Filter"}class ke extends Re{constructor(_t,_o,yl){super(_t,_o,yl),this.key=ct.fromName(yl.referenceValue)}matches(_t){const _o=ct.comparator(_t.key,this.key);return this.matchesComparison(_o)}}class Oe extends Re{constructor(_t,_o){super(_t,"in",_o),this.keys=Fe("in",_o)}matches(_t){return this.keys.some(_o=>_o.isEqual(_t.key))}}class Me extends Re{constructor(_t,_o){super(_t,"not-in",_o),this.keys=Fe("not-in",_o)}matches(_t){return!this.keys.some(_o=>_o.isEqual(_t.key))}}function Fe(_r,_t){var _o;return(((_o=_t.arrayValue)===null||_o===void 0?void 0:_o.values)||[]).map(yl=>ct.fromName(yl.referenceValue))}class $e extends Re{constructor(_t,_o){super(_t,"array-contains",_o)}matches(_t){const _o=_t.data.field(this.field);return he(_o)&&se(_o.arrayValue,this.value)}}class Be extends Re{constructor(_t,_o){super(_t,"in",_o)}matches(_t){const _o=_t.data.field(this.field);return _o!==null&&se(this.value.arrayValue,_o)}}class Le extends Re{constructor(_t,_o){super(_t,"not-in",_o)}matches(_t){if(se(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const _o=_t.data.field(this.field);return _o!==null&&!se(this.value.arrayValue,_o)}}class qe extends Re{constructor(_t,_o){super(_t,"array-contains-any",_o)}matches(_t){const _o=_t.data.field(this.field);return!(!he(_o)||!_o.arrayValue.values)&&_o.arrayValue.values.some(yl=>se(this.value.arrayValue,yl))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ue{constructor(_t,_o="asc"){this.field=_t,this.dir=_o}}function Ke(_r,_t){return _r.dir===_t.dir&&_r.field.isEqual(_t.field)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{constructor(_t,_o){this.comparator=_t,this.root=_o||je.EMPTY}insert(_t,_o){return new Ge(this.comparator,this.root.insert(_t,_o,this.comparator).copy(null,null,je.BLACK,null,null))}remove(_t){return new Ge(this.comparator,this.root.remove(_t,this.comparator).copy(null,null,je.BLACK,null,null))}get(_t){let _o=this.root;for(;!_o.isEmpty();){const yl=this.comparator(_t,_o.key);if(yl===0)return _o.value;yl<0?_o=_o.left:yl>0&&(_o=_o.right)}return null}indexOf(_t){let _o=0,yl=this.root;for(;!yl.isEmpty();){const El=this.comparator(_t,yl.key);if(El===0)return _o+yl.left.size;El<0?yl=yl.left:(_o+=yl.left.size+1,yl=yl.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(_t){return this.root.inorderTraversal(_t)}forEach(_t){this.inorderTraversal((_o,yl)=>(_t(_o,yl),!1))}toString(){const _t=[];return this.inorderTraversal((_o,yl)=>(_t.push(`${_o}:${yl}`),!1)),`{${_t.join(", ")}}`}reverseTraversal(_t){return this.root.reverseTraversal(_t)}getIterator(){return new Qe(this.root,null,this.comparator,!1)}getIteratorFrom(_t){return new Qe(this.root,_t,this.comparator,!1)}getReverseIterator(){return new Qe(this.root,null,this.comparator,!0)}getReverseIteratorFrom(_t){return new Qe(this.root,_t,this.comparator,!0)}}class Qe{constructor(_t,_o,yl,El){this.isReverse=El,this.nodeStack=[];let _l=1;for(;!_t.isEmpty();)if(_l=_o?yl(_t.key,_o):1,_o&&El&&(_l*=-1),_l<0)_t=this.isReverse?_t.left:_t.right;else{if(_l===0){this.nodeStack.push(_t);break}this.nodeStack.push(_t),_t=this.isReverse?_t.right:_t.left}}getNext(){let _t=this.nodeStack.pop();const _o={key:_t.key,value:_t.value};if(this.isReverse)for(_t=_t.left;!_t.isEmpty();)this.nodeStack.push(_t),_t=_t.right;else for(_t=_t.right;!_t.isEmpty();)this.nodeStack.push(_t),_t=_t.left;return _o}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const _t=this.nodeStack[this.nodeStack.length-1];return{key:_t.key,value:_t.value}}}class je{constructor(_t,_o,yl,El,_l){this.key=_t,this.value=_o,this.color=yl??je.RED,this.left=El??je.EMPTY,this.right=_l??je.EMPTY,this.size=this.left.size+1+this.right.size}copy(_t,_o,yl,El,_l){return new je(_t??this.key,_o??this.value,yl??this.color,El??this.left,_l??this.right)}isEmpty(){return!1}inorderTraversal(_t){return this.left.inorderTraversal(_t)||_t(this.key,this.value)||this.right.inorderTraversal(_t)}reverseTraversal(_t){return this.right.reverseTraversal(_t)||_t(this.key,this.value)||this.left.reverseTraversal(_t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(_t,_o,yl){let El=this;const _l=yl(_t,El.key);return El=_l<0?El.copy(null,null,null,El.left.insert(_t,_o,yl),null):_l===0?El.copy(null,_o,null,null,null):El.copy(null,null,null,null,El.right.insert(_t,_o,yl)),El.fixUp()}removeMin(){if(this.left.isEmpty())return je.EMPTY;let _t=this;return _t.left.isRed()||_t.left.left.isRed()||(_t=_t.moveRedLeft()),_t=_t.copy(null,null,null,_t.left.removeMin(),null),_t.fixUp()}remove(_t,_o){let yl,El=this;if(_o(_t,El.key)<0)El.left.isEmpty()||El.left.isRed()||El.left.left.isRed()||(El=El.moveRedLeft()),El=El.copy(null,null,null,El.left.remove(_t,_o),null);else{if(El.left.isRed()&&(El=El.rotateRight()),El.right.isEmpty()||El.right.isRed()||El.right.left.isRed()||(El=El.moveRedRight()),_o(_t,El.key)===0){if(El.right.isEmpty())return je.EMPTY;yl=El.right.min(),El=El.copy(yl.key,yl.value,null,null,El.right.removeMin())}El=El.copy(null,null,null,null,El.right.remove(_t,_o))}return El.fixUp()}isRed(){return this.color}fixUp(){let _t=this;return _t.right.isRed()&&!_t.left.isRed()&&(_t=_t.rotateLeft()),_t.left.isRed()&&_t.left.left.isRed()&&(_t=_t.rotateRight()),_t.left.isRed()&&_t.right.isRed()&&(_t=_t.colorFlip()),_t}moveRedLeft(){let _t=this.colorFlip();return _t.right.left.isRed()&&(_t=_t.copy(null,null,null,null,_t.right.rotateRight()),_t=_t.rotateLeft(),_t=_t.colorFlip()),_t}moveRedRight(){let _t=this.colorFlip();return _t.left.left.isRed()&&(_t=_t.rotateRight(),_t=_t.colorFlip()),_t}rotateLeft(){const _t=this.copy(null,null,je.RED,null,this.right.left);return this.right.copy(null,null,this.color,_t,null)}rotateRight(){const _t=this.copy(null,null,je.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,_t)}colorFlip(){const _t=this.left.copy(null,null,!this.left.color,null,null),_o=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,_t,_o)}checkMaxDepth(){const _t=this.check();return Math.pow(2,_t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw O();const _t=this.left.check();if(_t!==this.right.check())throw O();return _t+(this.isRed()?0:1)}}je.EMPTY=null,je.RED=!0,je.BLACK=!1;je.EMPTY=new class{constructor(){this.size=0}get key(){throw O()}get value(){throw O()}get color(){throw O()}get left(){throw O()}get right(){throw O()}copy(_r,_t,_o,yl,El){return this}insert(_r,_t,_o){return new je(_r,_t)}remove(_r,_t){return this}isEmpty(){return!0}inorderTraversal(_r){return!1}reverseTraversal(_r){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class We{constructor(_t){this.comparator=_t,this.data=new Ge(this.comparator)}has(_t){return this.data.get(_t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(_t){return this.data.indexOf(_t)}forEach(_t){this.data.inorderTraversal((_o,yl)=>(_t(_o),!1))}forEachInRange(_t,_o){const yl=this.data.getIteratorFrom(_t[0]);for(;yl.hasNext();){const El=yl.getNext();if(this.comparator(El.key,_t[1])>=0)return;_o(El.key)}}forEachWhile(_t,_o){let yl;for(yl=_o!==void 0?this.data.getIteratorFrom(_o):this.data.getIterator();yl.hasNext();)if(!_t(yl.getNext().key))return}firstAfterOrEqual(_t){const _o=this.data.getIteratorFrom(_t);return _o.hasNext()?_o.getNext().key:null}getIterator(){return new ze(this.data.getIterator())}getIteratorFrom(_t){return new ze(this.data.getIteratorFrom(_t))}add(_t){return this.copy(this.data.remove(_t).insert(_t,!0))}delete(_t){return this.has(_t)?this.copy(this.data.remove(_t)):this}isEmpty(){return this.data.isEmpty()}unionWith(_t){let _o=this;return _o.size<_t.size&&(_o=_t,_t=this),_t.forEach(yl=>{_o=_o.add(yl)}),_o}isEqual(_t){if(!(_t instanceof We)||this.size!==_t.size)return!1;const _o=this.data.getIterator(),yl=_t.data.getIterator();for(;_o.hasNext();){const El=_o.getNext().key,_l=yl.getNext().key;if(this.comparator(El,_l)!==0)return!1}return!0}toArray(){const _t=[];return this.forEach(_o=>{_t.push(_o)}),_t}toString(){const _t=[];return this.forEach(_o=>_t.push(_o)),"SortedSet("+_t.toString()+")"}copy(_t){const _o=new We(this.comparator);return _o.data=_t,_o}}class ze{constructor(_t){this.iter=_t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Je{constructor(_t){this.fields=_t,_t.sort(ut.comparator)}static empty(){return new Je([])}unionWith(_t){let _o=new We(ut.comparator);for(const yl of this.fields)_o=_o.add(yl);for(const yl of _t)_o=_o.add(yl);return new Je(_o.toArray())}covers(_t){for(const _o of this.fields)if(_o.isPrefixOf(_t))return!0;return!1}isEqual(_t){return tt(this.fields,_t.fields,(_o,yl)=>_o.isEqual(yl))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(_t){this.value=_t}static empty(){return new Ye({mapValue:{}})}field(_t){if(_t.isEmpty())return this.value;{let _o=this.value;for(let yl=0;yl<_t.length-1;++yl)if(_o=(_o.mapValue.fields||{})[_t.get(yl)],!de(_o))return null;return _o=(_o.mapValue.fields||{})[_t.lastSegment()],_o||null}}set(_t,_o){this.getFieldsMap(_t.popLast())[_t.lastSegment()]=_e(_o)}setAll(_t){let _o=ut.emptyPath(),yl={},El=[];_t.forEach((Tl,Il)=>{if(!_o.isImmediateParentOf(Il)){const Al=this.getFieldsMap(_o);this.applyChanges(Al,yl,El),yl={},El=[],_o=Il.popLast()}Tl?yl[Il.lastSegment()]=_e(Tl):El.push(Il.lastSegment())});const _l=this.getFieldsMap(_o);this.applyChanges(_l,yl,El)}delete(_t){const _o=this.field(_t.popLast());de(_o)&&_o.mapValue.fields&&delete _o.mapValue.fields[_t.lastSegment()]}isEqual(_t){return ne(this.value,_t.value)}getFieldsMap(_t){let _o=this.value;_o.mapValue.fields||(_o.mapValue={fields:{}});for(let yl=0;yl<_t.length;++yl){let El=_o.mapValue.fields[_t.get(yl)];de(El)&&El.mapValue.fields||(El={mapValue:{fields:{}}},_o.mapValue.fields[_t.get(yl)]=El),_o=El}return _o.mapValue.fields}applyChanges(_t,_o,yl){Bt(_o,(El,_l)=>_t[El]=_l);for(const El of yl)delete _t[El]}clone(){return new Ye(_e(this.value))}}function Xe(_r){const _t=[];return Bt(_r.fields,(_o,yl)=>{const El=new ut([_o]);if(de(yl)){const _l=Xe(yl.mapValue).fields;if(_l.length===0)_t.push(El);else for(const Tl of _l)_t.push(El.child(Tl))}else _t.push(El)}),new Je(_t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ze{constructor(_t,_o,yl,El,_l,Tl,Il){this.key=_t,this.documentType=_o,this.version=yl,this.readTime=El,this.createTime=_l,this.data=Tl,this.documentState=Il}static newInvalidDocument(_t){return new Ze(_t,0,st.min(),st.min(),st.min(),Ye.empty(),0)}static newFoundDocument(_t,_o,yl,El){return new Ze(_t,1,_o,st.min(),yl,El,0)}static newNoDocument(_t,_o){return new Ze(_t,2,_o,st.min(),st.min(),Ye.empty(),0)}static newUnknownDocument(_t,_o){return new Ze(_t,3,_o,st.min(),st.min(),Ye.empty(),2)}convertToFoundDocument(_t,_o){return!this.createTime.isEqual(st.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=_t),this.version=_t,this.documentType=1,this.data=_o,this.documentState=0,this}convertToNoDocument(_t){return this.version=_t,this.documentType=2,this.data=Ye.empty(),this.documentState=0,this}convertToUnknownDocument(_t){return this.version=_t,this.documentType=3,this.data=Ye.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=st.min(),this}setReadTime(_t){return this.readTime=_t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(_t){return _t instanceof Ze&&this.key.isEqual(_t.key)&&this.version.isEqual(_t.version)&&this.documentType===_t.documentType&&this.documentState===_t.documentState&&this.data.isEqual(_t.data)}mutableCopy(){return new Ze(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(_t,_o=null,yl=[],El=[],_l=null,Tl=null,Il=null){this.path=_t,this.collectionGroup=_o,this.orderBy=yl,this.filters=El,this.limit=_l,this.startAt=Tl,this.endAt=Il,this.ft=null}}function en(_r,_t=null,_o=[],yl=[],El=null,_l=null,Tl=null){return new tn(_r,_t,_o,yl,El,_l,Tl)}function nn(_r){const _t=$(_r);if(_t.ft===null){let _o=_t.path.canonicalString();_t.collectionGroup!==null&&(_o+="|cg:"+_t.collectionGroup),_o+="|f:",_o+=_t.filters.map(yl=>De(yl)).join(","),_o+="|ob:",_o+=_t.orderBy.map(yl=>function(El){return El.field.canonicalString()+El.dir}(yl)).join(","),qt(_t.limit)||(_o+="|l:",_o+=_t.limit),_t.startAt&&(_o+="|lb:",_o+=_t.startAt.inclusive?"b:":"a:",_o+=_t.startAt.position.map(yl=>oe(yl)).join(",")),_t.endAt&&(_o+="|ub:",_o+=_t.endAt.inclusive?"a:":"b:",_o+=_t.endAt.position.map(yl=>oe(yl)).join(",")),_t.ft=_o}return _t.ft}function sn(_r,_t){if(_r.limit!==_t.limit||_r.orderBy.length!==_t.orderBy.length)return!1;for(let _o=0;_o<_r.orderBy.length;_o++)if(!Ke(_r.orderBy[_o],_t.orderBy[_o]))return!1;if(_r.filters.length!==_t.filters.length)return!1;for(let _o=0;_o<_r.filters.length;_o++)if(!Ce(_r.filters[_o],_t.filters[_o]))return!1;return _r.collectionGroup===_t.collectionGroup&&!!_r.path.isEqual(_t.path)&&!!Ee(_r.startAt,_t.startAt)&&Ee(_r.endAt,_t.endAt)}function rn(_r){return ct.isDocumentKey(_r.path)&&_r.collectionGroup===null&&_r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(_t,_o=null,yl=[],El=[],_l=null,Tl="F",Il=null,Al=null){this.path=_t,this.collectionGroup=_o,this.explicitOrderBy=yl,this.filters=El,this.limit=_l,this.limitType=Tl,this.startAt=Il,this.endAt=Al,this.dt=null,this._t=null,this.startAt,this.endAt}}function hn(_r,_t,_o,yl,El,_l,Tl,Il){return new an(_r,_t,_o,yl,El,_l,Tl,Il)}function ln(_r){return new an(_r)}function fn(_r){return _r.filters.length===0&&_r.limit===null&&_r.startAt==null&&_r.endAt==null&&(_r.explicitOrderBy.length===0||_r.explicitOrderBy.length===1&&_r.explicitOrderBy[0].field.isKeyField())}function dn(_r){return _r.explicitOrderBy.length>0?_r.explicitOrderBy[0].field:null}function _n(_r){for(const _t of _r.filters){const _o=_t.getFirstInequalityField();if(_o!==null)return _o}return null}function wn(_r){return _r.collectionGroup!==null}function mn(_r){const _t=$(_r);if(_t.dt===null){_t.dt=[];const _o=_n(_t),yl=dn(_t);if(_o!==null&&yl===null)_o.isKeyField()||_t.dt.push(new Ue(_o)),_t.dt.push(new Ue(ut.keyField(),"asc"));else{let El=!1;for(const _l of _t.explicitOrderBy)_t.dt.push(_l),_l.field.isKeyField()&&(El=!0);if(!El){const _l=_t.explicitOrderBy.length>0?_t.explicitOrderBy[_t.explicitOrderBy.length-1].dir:"asc";_t.dt.push(new Ue(ut.keyField(),_l))}}}return _t.dt}function gn(_r){const _t=$(_r);if(!_t._t)if(_t.limitType==="F")_t._t=en(_t.path,_t.collectionGroup,mn(_t),_t.filters,_t.limit,_t.startAt,_t.endAt);else{const _o=[];for(const _l of mn(_t)){const Tl=_l.dir==="desc"?"asc":"desc";_o.push(new Ue(_l.field,Tl))}const yl=_t.endAt?new Ie(_t.endAt.position,_t.endAt.inclusive):null,El=_t.startAt?new Ie(_t.startAt.position,_t.startAt.inclusive):null;_t._t=en(_t.path,_t.collectionGroup,_o,_t.filters,_t.limit,yl,El)}return _t._t}function pn(_r,_t,_o){return new an(_r.path,_r.collectionGroup,_r.explicitOrderBy.slice(),_r.filters.slice(),_t,_o,_r.startAt,_r.endAt)}function In(_r,_t){return sn(gn(_r),gn(_t))&&_r.limitType===_t.limitType}function Tn(_r){return`${nn(gn(_r))}|lt:${_r.limitType}`}function En(_r){return`Query(target=${function(_t){let _o=_t.path.canonicalString();return _t.collectionGroup!==null&&(_o+=" collectionGroup="+_t.collectionGroup),_t.filters.length>0&&(_o+=`, filters: [${_t.filters.map(yl=>Ne(yl)).join(", ")}]`),qt(_t.limit)||(_o+=", limit: "+_t.limit),_t.orderBy.length>0&&(_o+=`, orderBy: [${_t.orderBy.map(yl=>function(El){return`${El.field.canonicalString()} (${El.dir})`}(yl)).join(", ")}]`),_t.startAt&&(_o+=", startAt: ",_o+=_t.startAt.inclusive?"b:":"a:",_o+=_t.startAt.position.map(yl=>oe(yl)).join(",")),_t.endAt&&(_o+=", endAt: ",_o+=_t.endAt.inclusive?"a:":"b:",_o+=_t.endAt.position.map(yl=>oe(yl)).join(",")),`Target(${_o})`}(gn(_r))}; limitType=${_r.limitType})`}function An(_r,_t){return _t.isFoundDocument()&&function(_o,yl){const El=yl.key.path;return _o.collectionGroup!==null?yl.key.hasCollectionId(_o.collectionGroup)&&_o.path.isPrefixOf(El):ct.isDocumentKey(_o.path)?_o.path.isEqual(El):_o.path.isImmediateParentOf(El)}(_r,_t)&&function(_o,yl){for(const El of mn(_o))if(!El.field.isKeyField()&&yl.data.field(El.field)===null)return!1;return!0}(_r,_t)&&function(_o,yl){for(const El of _o.filters)if(!El.matches(yl))return!1;return!0}(_r,_t)&&function(_o,yl){return!(_o.startAt&&!function(El,_l,Tl){const Il=Te(El,_l,Tl);return El.inclusive?Il<=0:Il<0}(_o.startAt,mn(_o),yl)||_o.endAt&&!function(El,_l,Tl){const Il=Te(El,_l,Tl);return El.inclusive?Il>=0:Il>0}(_o.endAt,mn(_o),yl))}(_r,_t)}function Rn(_r){return _r.collectionGroup||(_r.path.length%2==1?_r.path.lastSegment():_r.path.get(_r.path.length-2))}function bn(_r){return(_t,_o)=>{let yl=!1;for(const El of mn(_r)){const _l=Pn(El,_t,_o);if(_l!==0)return _l;yl=yl||El.field.isKeyField()}return 0}}function Pn(_r,_t,_o){const yl=_r.field.isKeyField()?ct.comparator(_t.key,_o.key):function(El,_l,Tl){const Il=_l.data.field(El),Al=Tl.data.field(El);return Il!==null&&Al!==null?ie(Il,Al):O()}(_r.field,_t,_o);switch(_r.dir){case"asc":return yl;case"desc":return-1*yl;default:return O()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vn(_r,_t){if(_r.wt){if(isNaN(_t))return{doubleValue:"NaN"};if(_t===1/0)return{doubleValue:"Infinity"};if(_t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ut(_t)?"-0":_t}}function Vn(_r){return{integerValue:""+_r}}function Sn(_r,_t){return Kt(_t)?Vn(_t):vn(_r,_t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(){this._=void 0}}function Cn(_r,_t,_o){return _r instanceof kn?function(yl,El){const _l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:yl.seconds,nanos:yl.nanoseconds}}}};return El&&(_l.fields.__previous_value__=El),{mapValue:_l}}(_o,_t):_r instanceof On?Mn(_r,_t):_r instanceof Fn?$n(_r,_t):function(yl,El){const _l=Nn(yl,El),Tl=Ln(_l)+Ln(yl.gt);return ae(_l)&&ae(yl.gt)?Vn(Tl):vn(yl.yt,Tl)}(_r,_t)}function xn(_r,_t,_o){return _r instanceof On?Mn(_r,_t):_r instanceof Fn?$n(_r,_t):_o}function Nn(_r,_t){return _r instanceof Bn?ae(_o=_t)||function(yl){return!!yl&&"doubleValue"in yl}(_o)?_t:{integerValue:0}:null;var _o}class kn extends Dn{}class On extends Dn{constructor(_t){super(),this.elements=_t}}function Mn(_r,_t){const _o=qn(_t);for(const yl of _r.elements)_o.some(El=>ne(El,yl))||_o.push(yl);return{arrayValue:{values:_o}}}class Fn extends Dn{constructor(_t){super(),this.elements=_t}}function $n(_r,_t){let _o=qn(_t);for(const yl of _r.elements)_o=_o.filter(El=>!ne(El,yl));return{arrayValue:{values:_o}}}class Bn extends Dn{constructor(_t,_o){super(),this.yt=_t,this.gt=_o}}function Ln(_r){return zt(_r.integerValue||_r.doubleValue)}function qn(_r){return he(_r)&&_r.arrayValue.values?_r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(_t,_o){this.field=_t,this.transform=_o}}function Kn(_r,_t){return _r.field.isEqual(_t.field)&&function(_o,yl){return _o instanceof On&&yl instanceof On||_o instanceof Fn&&yl instanceof Fn?tt(_o.elements,yl.elements,ne):_o instanceof Bn&&yl instanceof Bn?ne(_o.gt,yl.gt):_o instanceof kn&&yl instanceof kn}(_r.transform,_t.transform)}class Gn{constructor(_t,_o){this.version=_t,this.transformResults=_o}}class Qn{constructor(_t,_o){this.updateTime=_t,this.exists=_o}static none(){return new Qn}static exists(_t){return new Qn(void 0,_t)}static updateTime(_t){return new Qn(_t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(_t){return this.exists===_t.exists&&(this.updateTime?!!_t.updateTime&&this.updateTime.isEqual(_t.updateTime):!_t.updateTime)}}function jn(_r,_t){return _r.updateTime!==void 0?_t.isFoundDocument()&&_t.version.isEqual(_r.updateTime):_r.exists===void 0||_r.exists===_t.isFoundDocument()}class Wn{}function zn(_r,_t){if(!_r.hasLocalMutations||_t&&_t.fields.length===0)return null;if(_t===null)return _r.isNoDocument()?new is(_r.key,Qn.none()):new Zn(_r.key,_r.data,Qn.none());{const _o=_r.data,yl=Ye.empty();let El=new We(ut.comparator);for(let _l of _t.fields)if(!El.has(_l)){let Tl=_o.field(_l);Tl===null&&_l.length>1&&(_l=_l.popLast(),Tl=_o.field(_l)),Tl===null?yl.delete(_l):yl.set(_l,Tl),El=El.add(_l)}return new ts(_r.key,yl,new Je(El.toArray()),Qn.none())}}function Hn(_r,_t,_o){_r instanceof Zn?function(yl,El,_l){const Tl=yl.value.clone(),Il=ns(yl.fieldTransforms,El,_l.transformResults);Tl.setAll(Il),El.convertToFoundDocument(_l.version,Tl).setHasCommittedMutations()}(_r,_t,_o):_r instanceof ts?function(yl,El,_l){if(!jn(yl.precondition,El))return void El.convertToUnknownDocument(_l.version);const Tl=ns(yl.fieldTransforms,El,_l.transformResults),Il=El.data;Il.setAll(es(yl)),Il.setAll(Tl),El.convertToFoundDocument(_l.version,Il).setHasCommittedMutations()}(_r,_t,_o):function(yl,El,_l){El.convertToNoDocument(_l.version).setHasCommittedMutations()}(0,_t,_o)}function Jn(_r,_t,_o,yl){return _r instanceof Zn?function(El,_l,Tl,Il){if(!jn(El.precondition,_l))return Tl;const Al=El.value.clone(),Rl=ss(El.fieldTransforms,Il,_l);return Al.setAll(Rl),_l.convertToFoundDocument(_l.version,Al).setHasLocalMutations(),null}(_r,_t,_o,yl):_r instanceof ts?function(El,_l,Tl,Il){if(!jn(El.precondition,_l))return Tl;const Al=ss(El.fieldTransforms,Il,_l),Rl=_l.data;return Rl.setAll(es(El)),Rl.setAll(Al),_l.convertToFoundDocument(_l.version,Rl).setHasLocalMutations(),Tl===null?null:Tl.unionWith(El.fieldMask.fields).unionWith(El.fieldTransforms.map(Fl=>Fl.field))}(_r,_t,_o,yl):function(El,_l,Tl){return jn(El.precondition,_l)?(_l.convertToNoDocument(_l.version).setHasLocalMutations(),null):Tl}(_r,_t,_o)}function Yn(_r,_t){let _o=null;for(const yl of _r.fieldTransforms){const El=_t.data.field(yl.field),_l=Nn(yl.transform,El||null);_l!=null&&(_o===null&&(_o=Ye.empty()),_o.set(yl.field,_l))}return _o||null}function Xn(_r,_t){return _r.type===_t.type&&!!_r.key.isEqual(_t.key)&&!!_r.precondition.isEqual(_t.precondition)&&!!function(_o,yl){return _o===void 0&&yl===void 0||!(!_o||!yl)&&tt(_o,yl,(El,_l)=>Kn(El,_l))}(_r.fieldTransforms,_t.fieldTransforms)&&(_r.type===0?_r.value.isEqual(_t.value):_r.type!==1||_r.data.isEqual(_t.data)&&_r.fieldMask.isEqual(_t.fieldMask))}class Zn extends Wn{constructor(_t,_o,yl,El=[]){super(),this.key=_t,this.value=_o,this.precondition=yl,this.fieldTransforms=El,this.type=0}getFieldMask(){return null}}class ts extends Wn{constructor(_t,_o,yl,El,_l=[]){super(),this.key=_t,this.data=_o,this.fieldMask=yl,this.precondition=El,this.fieldTransforms=_l,this.type=1}getFieldMask(){return this.fieldMask}}function es(_r){const _t=new Map;return _r.fieldMask.fields.forEach(_o=>{if(!_o.isEmpty()){const yl=_r.data.field(_o);_t.set(_o,yl)}}),_t}function ns(_r,_t,_o){const yl=new Map;M(_r.length===_o.length);for(let El=0;El<_o.length;El++){const _l=_r[El],Tl=_l.transform,Il=_t.data.field(_l.field);yl.set(_l.field,xn(Tl,Il,_o[El]))}return yl}function ss(_r,_t,_o){const yl=new Map;for(const El of _r){const _l=El.transform,Tl=_o.data.field(El.field);yl.set(El.field,Cn(_l,Tl,_t))}return yl}class is extends Wn{constructor(_t,_o){super(),this.key=_t,this.precondition=_o,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class rs extends Wn{constructor(_t,_o){super(),this.key=_t,this.precondition=_o,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os{constructor(_t){this.count=_t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var us,cs;function as(_r){switch(_r){default:return O();case B.CANCELLED:case B.UNKNOWN:case B.DEADLINE_EXCEEDED:case B.RESOURCE_EXHAUSTED:case B.INTERNAL:case B.UNAVAILABLE:case B.UNAUTHENTICATED:return!1;case B.INVALID_ARGUMENT:case B.NOT_FOUND:case B.ALREADY_EXISTS:case B.PERMISSION_DENIED:case B.FAILED_PRECONDITION:case B.ABORTED:case B.OUT_OF_RANGE:case B.UNIMPLEMENTED:case B.DATA_LOSS:return!0}}function hs(_r){if(_r===void 0)return x("GRPC error has no .code"),B.UNKNOWN;switch(_r){case us.OK:return B.OK;case us.CANCELLED:return B.CANCELLED;case us.UNKNOWN:return B.UNKNOWN;case us.DEADLINE_EXCEEDED:return B.DEADLINE_EXCEEDED;case us.RESOURCE_EXHAUSTED:return B.RESOURCE_EXHAUSTED;case us.INTERNAL:return B.INTERNAL;case us.UNAVAILABLE:return B.UNAVAILABLE;case us.UNAUTHENTICATED:return B.UNAUTHENTICATED;case us.INVALID_ARGUMENT:return B.INVALID_ARGUMENT;case us.NOT_FOUND:return B.NOT_FOUND;case us.ALREADY_EXISTS:return B.ALREADY_EXISTS;case us.PERMISSION_DENIED:return B.PERMISSION_DENIED;case us.FAILED_PRECONDITION:return B.FAILED_PRECONDITION;case us.ABORTED:return B.ABORTED;case us.OUT_OF_RANGE:return B.OUT_OF_RANGE;case us.UNIMPLEMENTED:return B.UNIMPLEMENTED;case us.DATA_LOSS:return B.DATA_LOSS;default:return O()}}(cs=us||(us={}))[cs.OK=0]="OK",cs[cs.CANCELLED=1]="CANCELLED",cs[cs.UNKNOWN=2]="UNKNOWN",cs[cs.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",cs[cs.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",cs[cs.NOT_FOUND=5]="NOT_FOUND",cs[cs.ALREADY_EXISTS=6]="ALREADY_EXISTS",cs[cs.PERMISSION_DENIED=7]="PERMISSION_DENIED",cs[cs.UNAUTHENTICATED=16]="UNAUTHENTICATED",cs[cs.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",cs[cs.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",cs[cs.ABORTED=10]="ABORTED",cs[cs.OUT_OF_RANGE=11]="OUT_OF_RANGE",cs[cs.UNIMPLEMENTED=12]="UNIMPLEMENTED",cs[cs.INTERNAL=13]="INTERNAL",cs[cs.UNAVAILABLE=14]="UNAVAILABLE",cs[cs.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls{constructor(_t,_o){this.mapKeyFn=_t,this.equalsFn=_o,this.inner={},this.innerSize=0}get(_t){const _o=this.mapKeyFn(_t),yl=this.inner[_o];if(yl!==void 0){for(const[El,_l]of yl)if(this.equalsFn(El,_t))return _l}}has(_t){return this.get(_t)!==void 0}set(_t,_o){const yl=this.mapKeyFn(_t),El=this.inner[yl];if(El===void 0)return this.inner[yl]=[[_t,_o]],void this.innerSize++;for(let _l=0;_l<El.length;_l++)if(this.equalsFn(El[_l][0],_t))return void(El[_l]=[_t,_o]);El.push([_t,_o]),this.innerSize++}delete(_t){const _o=this.mapKeyFn(_t),yl=this.inner[_o];if(yl===void 0)return!1;for(let El=0;El<yl.length;El++)if(this.equalsFn(yl[El][0],_t))return yl.length===1?delete this.inner[_o]:yl.splice(El,1),this.innerSize--,!0;return!1}forEach(_t){Bt(this.inner,(_o,yl)=>{for(const[El,_l]of yl)_t(El,_l)})}isEmpty(){return Lt(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fs=new Ge(ct.comparator);function ds(){return fs}const _s=new Ge(ct.comparator);function ws(..._r){let _t=_s;for(const _o of _r)_t=_t.insert(_o.key,_o);return _t}function ms(_r){let _t=_s;return _r.forEach((_o,yl)=>_t=_t.insert(_o,yl.overlayedDocument)),_t}function gs(){return ps()}function ys(){return ps()}function ps(){return new ls(_r=>_r.toString(),(_r,_t)=>_r.isEqual(_t))}const Is=new Ge(ct.comparator),Ts=new We(ct.comparator);function Es(..._r){let _t=Ts;for(const _o of _r)_t=_t.add(_o);return _t}const As=new We(Z);function Rs(){return As}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs{constructor(_t,_o,yl,El,_l){this.snapshotVersion=_t,this.targetChanges=_o,this.targetMismatches=yl,this.documentUpdates=El,this.resolvedLimboDocuments=_l}static createSynthesizedRemoteEventForCurrentChange(_t,_o,yl){const El=new Map;return El.set(_t,Ps.createSynthesizedTargetChangeForCurrentChange(_t,_o,yl)),new bs(st.min(),El,Rs(),ds(),Es())}}class Ps{constructor(_t,_o,yl,El,_l){this.resumeToken=_t,this.current=_o,this.addedDocuments=yl,this.modifiedDocuments=El,this.removedDocuments=_l}static createSynthesizedTargetChangeForCurrentChange(_t,_o,yl){return new Ps(yl,_o,Es(),Es(),Es())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs{constructor(_t,_o,yl,El){this.It=_t,this.removedTargetIds=_o,this.key=yl,this.Tt=El}}class Vs{constructor(_t,_o){this.targetId=_t,this.Et=_o}}class Ss{constructor(_t,_o,yl=Qt.EMPTY_BYTE_STRING,El=null){this.state=_t,this.targetIds=_o,this.resumeToken=yl,this.cause=El}}class Ds{constructor(){this.At=0,this.Rt=Ns(),this.bt=Qt.EMPTY_BYTE_STRING,this.Pt=!1,this.vt=!0}get current(){return this.Pt}get resumeToken(){return this.bt}get Vt(){return this.At!==0}get St(){return this.vt}Dt(_t){_t.approximateByteSize()>0&&(this.vt=!0,this.bt=_t)}Ct(){let _t=Es(),_o=Es(),yl=Es();return this.Rt.forEach((El,_l)=>{switch(_l){case 0:_t=_t.add(El);break;case 2:_o=_o.add(El);break;case 1:yl=yl.add(El);break;default:O()}}),new Ps(this.bt,this.Pt,_t,_o,yl)}xt(){this.vt=!1,this.Rt=Ns()}Nt(_t,_o){this.vt=!0,this.Rt=this.Rt.insert(_t,_o)}kt(_t){this.vt=!0,this.Rt=this.Rt.remove(_t)}Ot(){this.At+=1}Mt(){this.At-=1}Ft(){this.vt=!0,this.Pt=!0}}class Cs{constructor(_t){this.$t=_t,this.Bt=new Map,this.Lt=ds(),this.qt=xs(),this.Ut=new We(Z)}Kt(_t){for(const _o of _t.It)_t.Tt&&_t.Tt.isFoundDocument()?this.Gt(_o,_t.Tt):this.Qt(_o,_t.key,_t.Tt);for(const _o of _t.removedTargetIds)this.Qt(_o,_t.key,_t.Tt)}jt(_t){this.forEachTarget(_t,_o=>{const yl=this.Wt(_o);switch(_t.state){case 0:this.zt(_o)&&yl.Dt(_t.resumeToken);break;case 1:yl.Mt(),yl.Vt||yl.xt(),yl.Dt(_t.resumeToken);break;case 2:yl.Mt(),yl.Vt||this.removeTarget(_o);break;case 3:this.zt(_o)&&(yl.Ft(),yl.Dt(_t.resumeToken));break;case 4:this.zt(_o)&&(this.Ht(_o),yl.Dt(_t.resumeToken));break;default:O()}})}forEachTarget(_t,_o){_t.targetIds.length>0?_t.targetIds.forEach(_o):this.Bt.forEach((yl,El)=>{this.zt(El)&&_o(El)})}Jt(_t){const _o=_t.targetId,yl=_t.Et.count,El=this.Yt(_o);if(El){const _l=El.target;if(rn(_l))if(yl===0){const Tl=new ct(_l.path);this.Qt(_o,Tl,Ze.newNoDocument(Tl,st.min()))}else M(yl===1);else this.Xt(_o)!==yl&&(this.Ht(_o),this.Ut=this.Ut.add(_o))}}Zt(_t){const _o=new Map;this.Bt.forEach((_l,Tl)=>{const Il=this.Yt(Tl);if(Il){if(_l.current&&rn(Il.target)){const Al=new ct(Il.target.path);this.Lt.get(Al)!==null||this.te(Tl,Al)||this.Qt(Tl,Al,Ze.newNoDocument(Al,_t))}_l.St&&(_o.set(Tl,_l.Ct()),_l.xt())}});let yl=Es();this.qt.forEach((_l,Tl)=>{let Il=!0;Tl.forEachWhile(Al=>{const Rl=this.Yt(Al);return!Rl||Rl.purpose===2||(Il=!1,!1)}),Il&&(yl=yl.add(_l))}),this.Lt.forEach((_l,Tl)=>Tl.setReadTime(_t));const El=new bs(_t,_o,this.Ut,this.Lt,yl);return this.Lt=ds(),this.qt=xs(),this.Ut=new We(Z),El}Gt(_t,_o){if(!this.zt(_t))return;const yl=this.te(_t,_o.key)?2:0;this.Wt(_t).Nt(_o.key,yl),this.Lt=this.Lt.insert(_o.key,_o),this.qt=this.qt.insert(_o.key,this.ee(_o.key).add(_t))}Qt(_t,_o,yl){if(!this.zt(_t))return;const El=this.Wt(_t);this.te(_t,_o)?El.Nt(_o,1):El.kt(_o),this.qt=this.qt.insert(_o,this.ee(_o).delete(_t)),yl&&(this.Lt=this.Lt.insert(_o,yl))}removeTarget(_t){this.Bt.delete(_t)}Xt(_t){const _o=this.Wt(_t).Ct();return this.$t.getRemoteKeysForTarget(_t).size+_o.addedDocuments.size-_o.removedDocuments.size}Ot(_t){this.Wt(_t).Ot()}Wt(_t){let _o=this.Bt.get(_t);return _o||(_o=new Ds,this.Bt.set(_t,_o)),_o}ee(_t){let _o=this.qt.get(_t);return _o||(_o=new We(Z),this.qt=this.qt.insert(_t,_o)),_o}zt(_t){const _o=this.Yt(_t)!==null;return _o||C("WatchChangeAggregator","Detected inactive target",_t),_o}Yt(_t){const _o=this.Bt.get(_t);return _o&&_o.Vt?null:this.$t.ne(_t)}Ht(_t){this.Bt.set(_t,new Ds),this.$t.getRemoteKeysForTarget(_t).forEach(_o=>{this.Qt(_t,_o,null)})}te(_t,_o){return this.$t.getRemoteKeysForTarget(_t).has(_o)}}function xs(){return new Ge(ct.comparator)}function Ns(){return new Ge(ct.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ks=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),Os=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),Ms=(()=>({and:"AND",or:"OR"}))();class Fs{constructor(_t,_o){this.databaseId=_t,this.wt=_o}}function $s(_r,_t){return _r.wt?`${new Date(1e3*_t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+_t.nanoseconds).slice(-9)}Z`:{seconds:""+_t.seconds,nanos:_t.nanoseconds}}function Bs(_r,_t){return _r.wt?_t.toBase64():_t.toUint8Array()}function Ls(_r,_t){return $s(_r,_t.toTimestamp())}function qs(_r){return M(!!_r),st.fromTimestamp(function(_t){const _o=Wt(_t);return new nt(_o.seconds,_o.nanos)}(_r))}function Us(_r,_t){return function(_o){return new rt(["projects",_o.projectId,"databases",_o.database])}(_r).child("documents").child(_t).canonicalString()}function Ks(_r){const _t=rt.fromString(_r);return M(wi(_t)),_t}function Gs(_r,_t){return Us(_r.databaseId,_t.path)}function Qs(_r,_t){const _o=Ks(_t);if(_o.get(1)!==_r.databaseId.projectId)throw new L(B.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+_o.get(1)+" vs "+_r.databaseId.projectId);if(_o.get(3)!==_r.databaseId.database)throw new L(B.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+_o.get(3)+" vs "+_r.databaseId.database);return new ct(Hs(_o))}function js(_r,_t){return Us(_r.databaseId,_t)}function Ws(_r){const _t=Ks(_r);return _t.length===4?rt.emptyPath():Hs(_t)}function zs(_r){return new rt(["projects",_r.databaseId.projectId,"databases",_r.databaseId.database]).canonicalString()}function Hs(_r){return M(_r.length>4&&_r.get(4)==="documents"),_r.popFirst(5)}function Js(_r,_t,_o){return{name:Gs(_r,_t),fields:_o.value.mapValue.fields}}function Zs(_r,_t){let _o;if("targetChange"in _t){_t.targetChange;const yl=function(Al){return Al==="NO_CHANGE"?0:Al==="ADD"?1:Al==="REMOVE"?2:Al==="CURRENT"?3:Al==="RESET"?4:O()}(_t.targetChange.targetChangeType||"NO_CHANGE"),El=_t.targetChange.targetIds||[],_l=function(Al,Rl){return Al.wt?(M(Rl===void 0||typeof Rl=="string"),Qt.fromBase64String(Rl||"")):(M(Rl===void 0||Rl instanceof Uint8Array),Qt.fromUint8Array(Rl||new Uint8Array))}(_r,_t.targetChange.resumeToken),Tl=_t.targetChange.cause,Il=Tl&&function(Al){const Rl=Al.code===void 0?B.UNKNOWN:hs(Al.code);return new L(Rl,Al.message||"")}(Tl);_o=new Ss(yl,El,_l,Il||null)}else if("documentChange"in _t){_t.documentChange;const yl=_t.documentChange;yl.document,yl.document.name,yl.document.updateTime;const El=Qs(_r,yl.document.name),_l=qs(yl.document.updateTime),Tl=yl.document.createTime?qs(yl.document.createTime):st.min(),Il=new Ye({mapValue:{fields:yl.document.fields}}),Al=Ze.newFoundDocument(El,_l,Tl,Il),Rl=yl.targetIds||[],Fl=yl.removedTargetIds||[];_o=new vs(Rl,Fl,Al.key,Al)}else if("documentDelete"in _t){_t.documentDelete;const yl=_t.documentDelete;yl.document;const El=Qs(_r,yl.document),_l=yl.readTime?qs(yl.readTime):st.min(),Tl=Ze.newNoDocument(El,_l),Il=yl.removedTargetIds||[];_o=new vs([],Il,Tl.key,Tl)}else if("documentRemove"in _t){_t.documentRemove;const yl=_t.documentRemove;yl.document;const El=Qs(_r,yl.document),_l=yl.removedTargetIds||[];_o=new vs([],_l,El,null)}else{if(!("filter"in _t))return O();{_t.filter;const yl=_t.filter;yl.targetId;const El=yl.count||0,_l=new os(El),Tl=yl.targetId;_o=new Vs(Tl,_l)}}return _o}function ti(_r,_t){let _o;if(_t instanceof Zn)_o={update:Js(_r,_t.key,_t.value)};else if(_t instanceof is)_o={delete:Gs(_r,_t.key)};else if(_t instanceof ts)_o={update:Js(_r,_t.key,_t.data),updateMask:_i(_t.fieldMask)};else{if(!(_t instanceof rs))return O();_o={verify:Gs(_r,_t.key)}}return _t.fieldTransforms.length>0&&(_o.updateTransforms=_t.fieldTransforms.map(yl=>function(El,_l){const Tl=_l.transform;if(Tl instanceof kn)return{fieldPath:_l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(Tl instanceof On)return{fieldPath:_l.field.canonicalString(),appendMissingElements:{values:Tl.elements}};if(Tl instanceof Fn)return{fieldPath:_l.field.canonicalString(),removeAllFromArray:{values:Tl.elements}};if(Tl instanceof Bn)return{fieldPath:_l.field.canonicalString(),increment:Tl.gt};throw O()}(0,yl))),_t.precondition.isNone||(_o.currentDocument=function(yl,El){return El.updateTime!==void 0?{updateTime:Ls(yl,El.updateTime)}:El.exists!==void 0?{exists:El.exists}:O()}(_r,_t.precondition)),_o}function ni(_r,_t){return _r&&_r.length>0?(M(_t!==void 0),_r.map(_o=>function(yl,El){let _l=yl.updateTime?qs(yl.updateTime):qs(El);return _l.isEqual(st.min())&&(_l=qs(El)),new Gn(_l,yl.transformResults||[])}(_o,_t))):[]}function si(_r,_t){return{documents:[js(_r,_t.path)]}}function ii(_r,_t){const _o={structuredQuery:{}},yl=_t.path;_t.collectionGroup!==null?(_o.parent=js(_r,yl),_o.structuredQuery.from=[{collectionId:_t.collectionGroup,allDescendants:!0}]):(_o.parent=js(_r,yl.popLast()),_o.structuredQuery.from=[{collectionId:yl.lastSegment()}]);const El=function(Al){if(Al.length!==0)return di(be.create(Al,"and"))}(_t.filters);El&&(_o.structuredQuery.where=El);const _l=function(Al){if(Al.length!==0)return Al.map(Rl=>function(Fl){return{field:li(Fl.field),direction:ci(Fl.dir)}}(Rl))}(_t.orderBy);_l&&(_o.structuredQuery.orderBy=_l);const Tl=function(Al,Rl){return Al.wt||qt(Rl)?Rl:{value:Rl}}(_r,_t.limit);var Il;return Tl!==null&&(_o.structuredQuery.limit=Tl),_t.startAt&&(_o.structuredQuery.startAt={before:(Il=_t.startAt).inclusive,values:Il.position}),_t.endAt&&(_o.structuredQuery.endAt=function(Al){return{before:!Al.inclusive,values:Al.position}}(_t.endAt)),_o}function ri(_r){let _t=Ws(_r.parent);const _o=_r.structuredQuery,yl=_o.from?_o.from.length:0;let El=null;if(yl>0){M(yl===1);const Fl=_o.from[0];Fl.allDescendants?El=Fl.collectionId:_t=_t.child(Fl.collectionId)}let _l=[];_o.where&&(_l=function(Fl){const Bl=ui(Fl);return Bl instanceof be&&Ve(Bl)?Bl.getFilters():[Bl]}(_o.where));let Tl=[];_o.orderBy&&(Tl=_o.orderBy.map(Fl=>function(Bl){return new Ue(fi(Bl.field),function(Gl){switch(Gl){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Bl.direction))}(Fl)));let Il=null;_o.limit&&(Il=function(Fl){let Bl;return Bl=typeof Fl=="object"?Fl.value:Fl,qt(Bl)?null:Bl}(_o.limit));let Al=null;_o.startAt&&(Al=function(Fl){const Bl=!!Fl.before,Gl=Fl.values||[];return new Ie(Gl,Bl)}(_o.startAt));let Rl=null;return _o.endAt&&(Rl=function(Fl){const Bl=!Fl.before,Gl=Fl.values||[];return new Ie(Gl,Bl)}(_o.endAt)),hn(_t,El,Tl,_l,Il,"F",Al,Rl)}function oi(_r,_t){const _o=function(yl,El){switch(El){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return O()}}(0,_t.purpose);return _o==null?null:{"goog-listen-tags":_o}}function ui(_r){return _r.unaryFilter!==void 0?function(_t){switch(_t.unaryFilter.op){case"IS_NAN":const _o=fi(_t.unaryFilter.field);return Re.create(_o,"==",{doubleValue:NaN});case"IS_NULL":const yl=fi(_t.unaryFilter.field);return Re.create(yl,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const El=fi(_t.unaryFilter.field);return Re.create(El,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const _l=fi(_t.unaryFilter.field);return Re.create(_l,"!=",{nullValue:"NULL_VALUE"});default:return O()}}(_r):_r.fieldFilter!==void 0?function(_t){return Re.create(fi(_t.fieldFilter.field),function(_o){switch(_o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return O()}}(_t.fieldFilter.op),_t.fieldFilter.value)}(_r):_r.compositeFilter!==void 0?function(_t){return be.create(_t.compositeFilter.filters.map(_o=>ui(_o)),function(_o){switch(_o){case"AND":return"and";case"OR":return"or";default:return O()}}(_t.compositeFilter.op))}(_r):O()}function ci(_r){return ks[_r]}function ai(_r){return Os[_r]}function hi(_r){return Ms[_r]}function li(_r){return{fieldPath:_r.canonicalString()}}function fi(_r){return ut.fromServerFormat(_r.fieldPath)}function di(_r){return _r instanceof Re?function(_t){if(_t.op==="=="){if(fe(_t.value))return{unaryFilter:{field:li(_t.field),op:"IS_NAN"}};if(le(_t.value))return{unaryFilter:{field:li(_t.field),op:"IS_NULL"}}}else if(_t.op==="!="){if(fe(_t.value))return{unaryFilter:{field:li(_t.field),op:"IS_NOT_NAN"}};if(le(_t.value))return{unaryFilter:{field:li(_t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:li(_t.field),op:ai(_t.op),value:_t.value}}}(_r):_r instanceof be?function(_t){const _o=_t.getFilters().map(yl=>di(yl));return _o.length===1?_o[0]:{compositeFilter:{op:hi(_t.op),filters:_o}}}(_r):O()}function _i(_r){const _t=[];return _r.fields.forEach(_o=>_t.push(_o.canonicalString())),{fieldPaths:_t}}function wi(_r){return _r.length>=4&&_r.get(0)==="projects"&&_r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi{constructor(_t,_o,yl,El){this.batchId=_t,this.localWriteTime=_o,this.baseMutations=yl,this.mutations=El}applyToRemoteDocument(_t,_o){const yl=_o.mutationResults;for(let El=0;El<this.mutations.length;El++){const _l=this.mutations[El];_l.key.isEqual(_t.key)&&Hn(_l,_t,yl[El])}}applyToLocalView(_t,_o){for(const yl of this.baseMutations)yl.key.isEqual(_t.key)&&(_o=Jn(yl,_t,_o,this.localWriteTime));for(const yl of this.mutations)yl.key.isEqual(_t.key)&&(_o=Jn(yl,_t,_o,this.localWriteTime));return _o}applyToLocalDocumentSet(_t,_o){const yl=ys();return this.mutations.forEach(El=>{const _l=_t.get(El.key),Tl=_l.overlayedDocument;let Il=this.applyToLocalView(Tl,_l.mutatedFields);Il=_o.has(El.key)?null:Il;const Al=zn(Tl,Il);Al!==null&&yl.set(El.key,Al),Tl.isValidDocument()||Tl.convertToNoDocument(st.min())}),yl}keys(){return this.mutations.reduce((_t,_o)=>_t.add(_o.key),Es())}isEqual(_t){return this.batchId===_t.batchId&&tt(this.mutations,_t.mutations,(_o,yl)=>Xn(_o,yl))&&tt(this.baseMutations,_t.baseMutations,(_o,yl)=>Xn(_o,yl))}}class ji{constructor(_t,_o,yl,El){this.batch=_t,this.commitVersion=_o,this.mutationResults=yl,this.docVersions=El}static from(_t,_o,yl){M(_t.mutations.length===yl.length);let El=Is;const _l=_t.mutations;for(let Tl=0;Tl<_l.length;Tl++)El=El.insert(_l[Tl].key,yl[Tl].version);return new ji(_t,_o,yl,El)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi{constructor(_t,_o){this.largestBatchId=_t,this.mutation=_o}getKey(){return this.mutation.key}isEqual(_t){return _t!==null&&this.mutation===_t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi{constructor(_t,_o,yl,El,_l=st.min(),Tl=st.min(),Il=Qt.EMPTY_BYTE_STRING){this.target=_t,this.targetId=_o,this.purpose=yl,this.sequenceNumber=El,this.snapshotVersion=_l,this.lastLimboFreeSnapshotVersion=Tl,this.resumeToken=Il}withSequenceNumber(_t){return new zi(this.target,this.targetId,this.purpose,_t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(_t,_o){return new zi(this.target,this.targetId,this.purpose,this.sequenceNumber,_o,this.lastLimboFreeSnapshotVersion,_t)}withLastLimboFreeSnapshotVersion(_t){return new zi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,_t,this.resumeToken)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi{constructor(_t){this.ie=_t}}function ir(_r){const _t=ri({parent:_r.parent,structuredQuery:_r.structuredQuery});return _r.limitType==="LAST"?pn(_t,_t.limit,"L"):_t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr{constructor(){this.Je=new kr}addToCollectionParentIndex(_t,_o){return this.Je.add(_o),At.resolve()}getCollectionParents(_t,_o){return At.resolve(this.Je.getEntries(_o))}addFieldIndex(_t,_o){return At.resolve()}deleteFieldIndex(_t,_o){return At.resolve()}getDocumentsMatchingTarget(_t,_o){return At.resolve(null)}getIndexType(_t,_o){return At.resolve(0)}getFieldIndexes(_t,_o){return At.resolve([])}getNextCollectionGroupToUpdate(_t){return At.resolve(null)}getMinOffset(_t,_o){return At.resolve(yt.min())}getMinOffsetFromCollectionGroup(_t,_o){return At.resolve(yt.min())}updateCollectionGroup(_t,_o,yl){return At.resolve()}updateIndexEntries(_t,_o){return At.resolve()}}class kr{constructor(){this.index={}}add(_t){const _o=_t.lastSegment(),yl=_t.popLast(),El=this.index[_o]||new We(rt.comparator),_l=!El.has(yl);return this.index[_o]=El.add(yl),_l}has(_t){const _o=_t.lastSegment(),yl=_t.popLast(),El=this.index[_o];return El&&El.has(yl)}getEntries(_t){return(this.index[_t]||new We(rt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr{constructor(_t){this.bn=_t}next(){return this.bn+=2,this.bn}static Pn(){return new Yr(0)}static vn(){return new Yr(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{constructor(){this.changes=new ls(_t=>_t.toString(),(_t,_o)=>_t.isEqual(_o)),this.changesApplied=!1}addEntry(_t){this.assertNotApplied(),this.changes.set(_t.key,_t)}removeEntry(_t,_o){this.assertNotApplied(),this.changes.set(_t,Ze.newInvalidDocument(_t).setReadTime(_o))}getEntry(_t,_o){this.assertNotApplied();const yl=this.changes.get(_o);return yl!==void 0?At.resolve(yl):this.getFromCache(_t,_o)}getEntries(_t,_o){return this.getAllFromCache(_t,_o)}apply(_t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(_t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo{constructor(_t,_o){this.overlayedDocument=_t,this.mutatedFields=_o}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{constructor(_t,_o,yl,El){this.remoteDocumentCache=_t,this.mutationQueue=_o,this.documentOverlayCache=yl,this.indexManager=El}getDocument(_t,_o){let yl=null;return this.documentOverlayCache.getOverlay(_t,_o).next(El=>(yl=El,this.remoteDocumentCache.getEntry(_t,_o))).next(El=>(yl!==null&&Jn(yl.mutation,El,Je.empty(),nt.now()),El))}getDocuments(_t,_o){return this.remoteDocumentCache.getEntries(_t,_o).next(yl=>this.getLocalViewOfDocuments(_t,yl,Es()).next(()=>yl))}getLocalViewOfDocuments(_t,_o,yl=Es()){const El=gs();return this.populateOverlays(_t,El,_o).next(()=>this.computeViews(_t,_o,El,yl).next(_l=>{let Tl=ws();return _l.forEach((Il,Al)=>{Tl=Tl.insert(Il,Al.overlayedDocument)}),Tl}))}getOverlayedDocuments(_t,_o){const yl=gs();return this.populateOverlays(_t,yl,_o).next(()=>this.computeViews(_t,_o,yl,Es()))}populateOverlays(_t,_o,yl){const El=[];return yl.forEach(_l=>{_o.has(_l)||El.push(_l)}),this.documentOverlayCache.getOverlays(_t,El).next(_l=>{_l.forEach((Tl,Il)=>{_o.set(Tl,Il)})})}computeViews(_t,_o,yl,El){let _l=ds();const Tl=ps(),Il=ps();return _o.forEach((Al,Rl)=>{const Fl=yl.get(Rl.key);El.has(Rl.key)&&(Fl===void 0||Fl.mutation instanceof ts)?_l=_l.insert(Rl.key,Rl):Fl!==void 0?(Tl.set(Rl.key,Fl.mutation.getFieldMask()),Jn(Fl.mutation,Rl,Fl.mutation.getFieldMask(),nt.now())):Tl.set(Rl.key,Je.empty())}),this.recalculateAndSaveOverlays(_t,_l).next(Al=>(Al.forEach((Rl,Fl)=>Tl.set(Rl,Fl)),_o.forEach((Rl,Fl)=>{var Bl;return Il.set(Rl,new yo(Fl,(Bl=Tl.get(Rl))!==null&&Bl!==void 0?Bl:null))}),Il))}recalculateAndSaveOverlays(_t,_o){const yl=ps();let El=new Ge((Tl,Il)=>Tl-Il),_l=Es();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(_t,_o).next(Tl=>{for(const Il of Tl)Il.keys().forEach(Al=>{const Rl=_o.get(Al);if(Rl===null)return;let Fl=yl.get(Al)||Je.empty();Fl=Il.applyToLocalView(Rl,Fl),yl.set(Al,Fl);const Bl=(El.get(Il.batchId)||Es()).add(Al);El=El.insert(Il.batchId,Bl)})}).next(()=>{const Tl=[],Il=El.getReverseIterator();for(;Il.hasNext();){const Al=Il.getNext(),Rl=Al.key,Fl=Al.value,Bl=ys();Fl.forEach(Gl=>{if(!_l.has(Gl)){const Ql=zn(_o.get(Gl),yl.get(Gl));Ql!==null&&Bl.set(Gl,Ql),_l=_l.add(Gl)}}),Tl.push(this.documentOverlayCache.saveOverlays(_t,Rl,Bl))}return At.waitFor(Tl)}).next(()=>yl)}recalculateAndSaveOverlaysForDocumentKeys(_t,_o){return this.remoteDocumentCache.getEntries(_t,_o).next(yl=>this.recalculateAndSaveOverlays(_t,yl))}getDocumentsMatchingQuery(_t,_o,yl){return function(El){return ct.isDocumentKey(El.path)&&El.collectionGroup===null&&El.filters.length===0}(_o)?this.getDocumentsMatchingDocumentQuery(_t,_o.path):wn(_o)?this.getDocumentsMatchingCollectionGroupQuery(_t,_o,yl):this.getDocumentsMatchingCollectionQuery(_t,_o,yl)}getNextDocuments(_t,_o,yl,El){return this.remoteDocumentCache.getAllFromCollectionGroup(_t,_o,yl,El).next(_l=>{const Tl=El-_l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(_t,_o,yl.largestBatchId,El-_l.size):At.resolve(gs());let Il=-1,Al=_l;return Tl.next(Rl=>At.forEach(Rl,(Fl,Bl)=>(Il<Bl.largestBatchId&&(Il=Bl.largestBatchId),_l.get(Fl)?At.resolve():this.remoteDocumentCache.getEntry(_t,Fl).next(Gl=>{Al=Al.insert(Fl,Gl)}))).next(()=>this.populateOverlays(_t,Rl,_l)).next(()=>this.computeViews(_t,Al,Rl,Es())).next(Fl=>({batchId:Il,changes:ms(Fl)})))})}getDocumentsMatchingDocumentQuery(_t,_o){return this.getDocument(_t,new ct(_o)).next(yl=>{let El=ws();return yl.isFoundDocument()&&(El=El.insert(yl.key,yl)),El})}getDocumentsMatchingCollectionGroupQuery(_t,_o,yl){const El=_o.collectionGroup;let _l=ws();return this.indexManager.getCollectionParents(_t,El).next(Tl=>At.forEach(Tl,Il=>{const Al=function(Rl,Fl){return new an(Fl,null,Rl.explicitOrderBy.slice(),Rl.filters.slice(),Rl.limit,Rl.limitType,Rl.startAt,Rl.endAt)}(_o,Il.child(El));return this.getDocumentsMatchingCollectionQuery(_t,Al,yl).next(Rl=>{Rl.forEach((Fl,Bl)=>{_l=_l.insert(Fl,Bl)})})}).next(()=>_l))}getDocumentsMatchingCollectionQuery(_t,_o,yl){let El;return this.documentOverlayCache.getOverlaysForCollection(_t,_o.path,yl.largestBatchId).next(_l=>(El=_l,this.remoteDocumentCache.getDocumentsMatchingQuery(_t,_o,yl,El))).next(_l=>{El.forEach((Il,Al)=>{const Rl=Al.getKey();_l.get(Rl)===null&&(_l=_l.insert(Rl,Ze.newInvalidDocument(Rl)))});let Tl=ws();return _l.forEach((Il,Al)=>{const Rl=El.get(Il);Rl!==void 0&&Jn(Rl.mutation,Al,Je.empty(),nt.now()),An(_o,Al)&&(Tl=Tl.insert(Il,Al))}),Tl})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{constructor(_t){this.yt=_t,this.Zn=new Map,this.ts=new Map}getBundleMetadata(_t,_o){return At.resolve(this.Zn.get(_o))}saveBundleMetadata(_t,_o){var yl;return this.Zn.set(_o.id,{id:(yl=_o).id,version:yl.version,createTime:qs(yl.createTime)}),At.resolve()}getNamedQuery(_t,_o){return At.resolve(this.ts.get(_o))}saveNamedQuery(_t,_o){return this.ts.set(_o.name,function(yl){return{name:yl.name,query:ir(yl.bundledQuery),readTime:qs(yl.readTime)}}(_o)),At.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{constructor(){this.overlays=new Ge(ct.comparator),this.es=new Map}getOverlay(_t,_o){return At.resolve(this.overlays.get(_o))}getOverlays(_t,_o){const yl=gs();return At.forEach(_o,El=>this.getOverlay(_t,El).next(_l=>{_l!==null&&yl.set(El,_l)})).next(()=>yl)}saveOverlays(_t,_o,yl){return yl.forEach((El,_l)=>{this.oe(_t,_o,_l)}),At.resolve()}removeOverlaysForBatchId(_t,_o,yl){const El=this.es.get(yl);return El!==void 0&&(El.forEach(_l=>this.overlays=this.overlays.remove(_l)),this.es.delete(yl)),At.resolve()}getOverlaysForCollection(_t,_o,yl){const El=gs(),_l=_o.length+1,Tl=new ct(_o.child("")),Il=this.overlays.getIteratorFrom(Tl);for(;Il.hasNext();){const Al=Il.getNext().value,Rl=Al.getKey();if(!_o.isPrefixOf(Rl.path))break;Rl.path.length===_l&&Al.largestBatchId>yl&&El.set(Al.getKey(),Al)}return At.resolve(El)}getOverlaysForCollectionGroup(_t,_o,yl,El){let _l=new Ge((Rl,Fl)=>Rl-Fl);const Tl=this.overlays.getIterator();for(;Tl.hasNext();){const Rl=Tl.getNext().value;if(Rl.getKey().getCollectionGroup()===_o&&Rl.largestBatchId>yl){let Fl=_l.get(Rl.largestBatchId);Fl===null&&(Fl=gs(),_l=_l.insert(Rl.largestBatchId,Fl)),Fl.set(Rl.getKey(),Rl)}}const Il=gs(),Al=_l.getIterator();for(;Al.hasNext()&&(Al.getNext().value.forEach((Rl,Fl)=>Il.set(Rl,Fl)),!(Il.size()>=El)););return At.resolve(Il)}oe(_t,_o,yl){const El=this.overlays.get(yl.key);if(El!==null){const Tl=this.es.get(El.largestBatchId).delete(yl.key);this.es.set(El.largestBatchId,Tl)}this.overlays=this.overlays.insert(yl.key,new Wi(_o,yl));let _l=this.es.get(_o);_l===void 0&&(_l=Es(),this.es.set(_o,_l)),this.es.set(_o,_l.add(yl.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo{constructor(){this.ns=new We(Ao.ss),this.rs=new We(Ao.os)}isEmpty(){return this.ns.isEmpty()}addReference(_t,_o){const yl=new Ao(_t,_o);this.ns=this.ns.add(yl),this.rs=this.rs.add(yl)}us(_t,_o){_t.forEach(yl=>this.addReference(yl,_o))}removeReference(_t,_o){this.cs(new Ao(_t,_o))}hs(_t,_o){_t.forEach(yl=>this.removeReference(yl,_o))}ls(_t){const _o=new ct(new rt([])),yl=new Ao(_o,_t),El=new Ao(_o,_t+1),_l=[];return this.rs.forEachInRange([yl,El],Tl=>{this.cs(Tl),_l.push(Tl.key)}),_l}fs(){this.ns.forEach(_t=>this.cs(_t))}cs(_t){this.ns=this.ns.delete(_t),this.rs=this.rs.delete(_t)}ds(_t){const _o=new ct(new rt([])),yl=new Ao(_o,_t),El=new Ao(_o,_t+1);let _l=Es();return this.rs.forEachInRange([yl,El],Tl=>{_l=_l.add(Tl.key)}),_l}containsKey(_t){const _o=new Ao(_t,0),yl=this.ns.firstAfterOrEqual(_o);return yl!==null&&_t.isEqual(yl.key)}}class Ao{constructor(_t,_o){this.key=_t,this._s=_o}static ss(_t,_o){return ct.comparator(_t.key,_o.key)||Z(_t._s,_o._s)}static os(_t,_o){return Z(_t._s,_o._s)||ct.comparator(_t.key,_o.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{constructor(_t,_o){this.indexManager=_t,this.referenceDelegate=_o,this.mutationQueue=[],this.ws=1,this.gs=new We(Ao.ss)}checkEmpty(_t){return At.resolve(this.mutationQueue.length===0)}addMutationBatch(_t,_o,yl,El){const _l=this.ws;this.ws++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const Tl=new Qi(_l,_o,yl,El);this.mutationQueue.push(Tl);for(const Il of El)this.gs=this.gs.add(new Ao(Il.key,_l)),this.indexManager.addToCollectionParentIndex(_t,Il.key.path.popLast());return At.resolve(Tl)}lookupMutationBatch(_t,_o){return At.resolve(this.ys(_o))}getNextMutationBatchAfterBatchId(_t,_o){const yl=_o+1,El=this.ps(yl),_l=El<0?0:El;return At.resolve(this.mutationQueue.length>_l?this.mutationQueue[_l]:null)}getHighestUnacknowledgedBatchId(){return At.resolve(this.mutationQueue.length===0?-1:this.ws-1)}getAllMutationBatches(_t){return At.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(_t,_o){const yl=new Ao(_o,0),El=new Ao(_o,Number.POSITIVE_INFINITY),_l=[];return this.gs.forEachInRange([yl,El],Tl=>{const Il=this.ys(Tl._s);_l.push(Il)}),At.resolve(_l)}getAllMutationBatchesAffectingDocumentKeys(_t,_o){let yl=new We(Z);return _o.forEach(El=>{const _l=new Ao(El,0),Tl=new Ao(El,Number.POSITIVE_INFINITY);this.gs.forEachInRange([_l,Tl],Il=>{yl=yl.add(Il._s)})}),At.resolve(this.Is(yl))}getAllMutationBatchesAffectingQuery(_t,_o){const yl=_o.path,El=yl.length+1;let _l=yl;ct.isDocumentKey(_l)||(_l=_l.child(""));const Tl=new Ao(new ct(_l),0);let Il=new We(Z);return this.gs.forEachWhile(Al=>{const Rl=Al.key.path;return!!yl.isPrefixOf(Rl)&&(Rl.length===El&&(Il=Il.add(Al._s)),!0)},Tl),At.resolve(this.Is(Il))}Is(_t){const _o=[];return _t.forEach(yl=>{const El=this.ys(yl);El!==null&&_o.push(El)}),_o}removeMutationBatch(_t,_o){M(this.Ts(_o.batchId,"removed")===0),this.mutationQueue.shift();let yl=this.gs;return At.forEach(_o.mutations,El=>{const _l=new Ao(El.key,_o.batchId);return yl=yl.delete(_l),this.referenceDelegate.markPotentiallyOrphaned(_t,El.key)}).next(()=>{this.gs=yl})}An(_t){}containsKey(_t,_o){const yl=new Ao(_o,0),El=this.gs.firstAfterOrEqual(yl);return At.resolve(_o.isEqual(El&&El.key))}performConsistencyCheck(_t){return this.mutationQueue.length,At.resolve()}Ts(_t,_o){return this.ps(_t)}ps(_t){return this.mutationQueue.length===0?0:_t-this.mutationQueue[0].batchId}ys(_t){const _o=this.ps(_t);return _o<0||_o>=this.mutationQueue.length?null:this.mutationQueue[_o]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{constructor(_t){this.Es=_t,this.docs=new Ge(ct.comparator),this.size=0}setIndexManager(_t){this.indexManager=_t}addEntry(_t,_o){const yl=_o.key,El=this.docs.get(yl),_l=El?El.size:0,Tl=this.Es(_o);return this.docs=this.docs.insert(yl,{document:_o.mutableCopy(),size:Tl}),this.size+=Tl-_l,this.indexManager.addToCollectionParentIndex(_t,yl.path.popLast())}removeEntry(_t){const _o=this.docs.get(_t);_o&&(this.docs=this.docs.remove(_t),this.size-=_o.size)}getEntry(_t,_o){const yl=this.docs.get(_o);return At.resolve(yl?yl.document.mutableCopy():Ze.newInvalidDocument(_o))}getEntries(_t,_o){let yl=ds();return _o.forEach(El=>{const _l=this.docs.get(El);yl=yl.insert(El,_l?_l.document.mutableCopy():Ze.newInvalidDocument(El))}),At.resolve(yl)}getDocumentsMatchingQuery(_t,_o,yl,El){let _l=ds();const Tl=_o.path,Il=new ct(Tl.child("")),Al=this.docs.getIteratorFrom(Il);for(;Al.hasNext();){const{key:Rl,value:{document:Fl}}=Al.getNext();if(!Tl.isPrefixOf(Rl.path))break;Rl.path.length>Tl.length+1||pt(gt(Fl),yl)<=0||(El.has(Fl.key)||An(_o,Fl))&&(_l=_l.insert(Fl.key,Fl.mutableCopy()))}return At.resolve(_l)}getAllFromCollectionGroup(_t,_o,yl,El){O()}As(_t,_o){return At.forEach(this.docs,yl=>_o(yl))}newChangeBuffer(_t){return new Po(this)}getSize(_t){return At.resolve(this.size)}}class Po extends co{constructor(_t){super(),this.Yn=_t}applyChanges(_t){const _o=[];return this.changes.forEach((yl,El)=>{El.isValidDocument()?_o.push(this.Yn.addEntry(_t,El)):this.Yn.removeEntry(yl)}),At.waitFor(_o)}getFromCache(_t,_o){return this.Yn.getEntry(_t,_o)}getAllFromCache(_t,_o){return this.Yn.getEntries(_t,_o)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(_t){this.persistence=_t,this.Rs=new ls(_o=>nn(_o),sn),this.lastRemoteSnapshotVersion=st.min(),this.highestTargetId=0,this.bs=0,this.Ps=new Eo,this.targetCount=0,this.vs=Yr.Pn()}forEachTarget(_t,_o){return this.Rs.forEach((yl,El)=>_o(El)),At.resolve()}getLastRemoteSnapshotVersion(_t){return At.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(_t){return At.resolve(this.bs)}allocateTargetId(_t){return this.highestTargetId=this.vs.next(),At.resolve(this.highestTargetId)}setTargetsMetadata(_t,_o,yl){return yl&&(this.lastRemoteSnapshotVersion=yl),_o>this.bs&&(this.bs=_o),At.resolve()}Dn(_t){this.Rs.set(_t.target,_t);const _o=_t.targetId;_o>this.highestTargetId&&(this.vs=new Yr(_o),this.highestTargetId=_o),_t.sequenceNumber>this.bs&&(this.bs=_t.sequenceNumber)}addTargetData(_t,_o){return this.Dn(_o),this.targetCount+=1,At.resolve()}updateTargetData(_t,_o){return this.Dn(_o),At.resolve()}removeTargetData(_t,_o){return this.Rs.delete(_o.target),this.Ps.ls(_o.targetId),this.targetCount-=1,At.resolve()}removeTargets(_t,_o,yl){let El=0;const _l=[];return this.Rs.forEach((Tl,Il)=>{Il.sequenceNumber<=_o&&yl.get(Il.targetId)===null&&(this.Rs.delete(Tl),_l.push(this.removeMatchingKeysForTargetId(_t,Il.targetId)),El++)}),At.waitFor(_l).next(()=>El)}getTargetCount(_t){return At.resolve(this.targetCount)}getTargetData(_t,_o){const yl=this.Rs.get(_o)||null;return At.resolve(yl)}addMatchingKeys(_t,_o,yl){return this.Ps.us(_o,yl),At.resolve()}removeMatchingKeys(_t,_o,yl){this.Ps.hs(_o,yl);const El=this.persistence.referenceDelegate,_l=[];return El&&_o.forEach(Tl=>{_l.push(El.markPotentiallyOrphaned(_t,Tl))}),At.waitFor(_l)}removeMatchingKeysForTargetId(_t,_o){return this.Ps.ls(_o),At.resolve()}getMatchingKeysForTargetId(_t,_o){const yl=this.Ps.ds(_o);return At.resolve(yl)}containsKey(_t,_o){return At.resolve(this.Ps.containsKey(_o))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{constructor(_t,_o){this.Vs={},this.overlays={},this.Ss=new Ot(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=_t(this),this.Cs=new vo(this),this.indexManager=new Nr,this.remoteDocumentCache=function(yl){return new bo(yl)}(yl=>this.referenceDelegate.xs(yl)),this.yt=new Hi(_o),this.Ns=new Io(this.yt)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(_t){return this.indexManager}getDocumentOverlayCache(_t){let _o=this.overlays[_t.toKey()];return _o||(_o=new To,this.overlays[_t.toKey()]=_o),_o}getMutationQueue(_t,_o){let yl=this.Vs[_t.toKey()];return yl||(yl=new Ro(_o,this.referenceDelegate),this.Vs[_t.toKey()]=yl),yl}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(_t,_o,yl){C("MemoryPersistence","Starting transaction:",_t);const El=new So(this.Ss.next());return this.referenceDelegate.ks(),yl(El).next(_l=>this.referenceDelegate.Os(El).next(()=>_l)).toPromise().then(_l=>(El.raiseOnCommittedEvent(),_l))}Ms(_t,_o){return At.or(Object.values(this.Vs).map(yl=>()=>yl.containsKey(_t,_o)))}}class So extends Tt{constructor(_t){super(),this.currentSequenceNumber=_t}}class Do{constructor(_t){this.persistence=_t,this.Fs=new Eo,this.$s=null}static Bs(_t){return new Do(_t)}get Ls(){if(this.$s)return this.$s;throw O()}addReference(_t,_o,yl){return this.Fs.addReference(yl,_o),this.Ls.delete(yl.toString()),At.resolve()}removeReference(_t,_o,yl){return this.Fs.removeReference(yl,_o),this.Ls.add(yl.toString()),At.resolve()}markPotentiallyOrphaned(_t,_o){return this.Ls.add(_o.toString()),At.resolve()}removeTarget(_t,_o){this.Fs.ls(_o.targetId).forEach(El=>this.Ls.add(El.toString()));const yl=this.persistence.getTargetCache();return yl.getMatchingKeysForTargetId(_t,_o.targetId).next(El=>{El.forEach(_l=>this.Ls.add(_l.toString()))}).next(()=>yl.removeTargetData(_t,_o))}ks(){this.$s=new Set}Os(_t){const _o=this.persistence.getRemoteDocumentCache().newChangeBuffer();return At.forEach(this.Ls,yl=>{const El=ct.fromPath(yl);return this.qs(_t,El).next(_l=>{_l||_o.removeEntry(El,st.min())})}).next(()=>(this.$s=null,_o.apply(_t)))}updateLimboDocument(_t,_o){return this.qs(_t,_o).next(yl=>{yl?this.Ls.delete(_o.toString()):this.Ls.add(_o.toString())})}xs(_t){return 0}qs(_t,_o){return At.or([()=>At.resolve(this.Fs.containsKey(_o)),()=>this.persistence.getTargetCache().containsKey(_t,_o),()=>this.persistence.Ms(_t,_o)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o{constructor(_t,_o,yl,El){this.targetId=_t,this.fromCache=_o,this.Si=yl,this.Di=El}static Ci(_t,_o){let yl=Es(),El=Es();for(const _l of _o.docChanges)switch(_l.type){case 0:yl=yl.add(_l.doc.key);break;case 1:El=El.add(_l.doc.key)}return new $o(_t,_o.fromCache,yl,El)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo{constructor(){this.xi=!1}initialize(_t,_o){this.Ni=_t,this.indexManager=_o,this.xi=!0}getDocumentsMatchingQuery(_t,_o,yl,El){return this.ki(_t,_o).next(_l=>_l||this.Oi(_t,_o,El,yl)).next(_l=>_l||this.Mi(_t,_o))}ki(_t,_o){if(fn(_o))return At.resolve(null);let yl=gn(_o);return this.indexManager.getIndexType(_t,yl).next(El=>El===0?null:(_o.limit!==null&&El===1&&(_o=pn(_o,null,"F"),yl=gn(_o)),this.indexManager.getDocumentsMatchingTarget(_t,yl).next(_l=>{const Tl=Es(..._l);return this.Ni.getDocuments(_t,Tl).next(Il=>this.indexManager.getMinOffset(_t,yl).next(Al=>{const Rl=this.Fi(_o,Il);return this.$i(_o,Rl,Tl,Al.readTime)?this.ki(_t,pn(_o,null,"F")):this.Bi(_t,Rl,_o,Al)}))})))}Oi(_t,_o,yl,El){return fn(_o)||El.isEqual(st.min())?this.Mi(_t,_o):this.Ni.getDocuments(_t,yl).next(_l=>{const Tl=this.Fi(_o,_l);return this.$i(_o,Tl,yl,El)?this.Mi(_t,_o):(S()<=LogLevel.DEBUG&&C("QueryEngine","Re-using previous result from %s to execute query: %s",El.toString(),En(_o)),this.Bi(_t,Tl,_o,mt(El,-1)))})}Fi(_t,_o){let yl=new We(bn(_t));return _o.forEach((El,_l)=>{An(_t,_l)&&(yl=yl.add(_l))}),yl}$i(_t,_o,yl,El){if(_t.limit===null)return!1;if(yl.size!==_o.size)return!0;const _l=_t.limitType==="F"?_o.last():_o.first();return!!_l&&(_l.hasPendingWrites||_l.version.compareTo(El)>0)}Mi(_t,_o){return S()<=LogLevel.DEBUG&&C("QueryEngine","Using full collection scan to execute query:",En(_o)),this.Ni.getDocumentsMatchingQuery(_t,_o,yt.min())}Bi(_t,_o,yl,El){return this.Ni.getDocumentsMatchingQuery(_t,yl,El).next(_l=>(_o.forEach(Tl=>{_l=_l.insert(Tl.key,Tl)}),_l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{constructor(_t,_o,yl,El){this.persistence=_t,this.Li=_o,this.yt=El,this.qi=new Ge(Z),this.Ui=new ls(_l=>nn(_l),sn),this.Ki=new Map,this.Gi=_t.getRemoteDocumentCache(),this.Cs=_t.getTargetCache(),this.Ns=_t.getBundleCache(),this.Qi(yl)}Qi(_t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(_t),this.indexManager=this.persistence.getIndexManager(_t),this.mutationQueue=this.persistence.getMutationQueue(_t,this.indexManager),this.localDocuments=new po(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(_t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",_o=>_t.collect(_o,this.qi))}}function qo(_r,_t,_o,yl){return new Lo(_r,_t,_o,yl)}async function Uo(_r,_t){const _o=$(_r);return await _o.persistence.runTransaction("Handle user change","readonly",yl=>{let El;return _o.mutationQueue.getAllMutationBatches(yl).next(_l=>(El=_l,_o.Qi(_t),_o.mutationQueue.getAllMutationBatches(yl))).next(_l=>{const Tl=[],Il=[];let Al=Es();for(const Rl of El){Tl.push(Rl.batchId);for(const Fl of Rl.mutations)Al=Al.add(Fl.key)}for(const Rl of _l){Il.push(Rl.batchId);for(const Fl of Rl.mutations)Al=Al.add(Fl.key)}return _o.localDocuments.getDocuments(yl,Al).next(Rl=>({ji:Rl,removedBatchIds:Tl,addedBatchIds:Il}))})})}function Ko(_r,_t){const _o=$(_r);return _o.persistence.runTransaction("Acknowledge batch","readwrite-primary",yl=>{const El=_t.batch.keys(),_l=_o.Gi.newChangeBuffer({trackRemovals:!0});return function(Tl,Il,Al,Rl){const Fl=Al.batch,Bl=Fl.keys();let Gl=At.resolve();return Bl.forEach(Ql=>{Gl=Gl.next(()=>Rl.getEntry(Il,Ql)).next(_f=>{const _h=Al.docVersions.get(Ql);M(_h!==null),_f.version.compareTo(_h)<0&&(Fl.applyToRemoteDocument(_f,Al),_f.isValidDocument()&&(_f.setReadTime(Al.commitVersion),Rl.addEntry(_f)))})}),Gl.next(()=>Tl.mutationQueue.removeMutationBatch(Il,Fl))}(_o,yl,_t,_l).next(()=>_l.apply(yl)).next(()=>_o.mutationQueue.performConsistencyCheck(yl)).next(()=>_o.documentOverlayCache.removeOverlaysForBatchId(yl,El,_t.batch.batchId)).next(()=>_o.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(yl,function(Tl){let Il=Es();for(let Al=0;Al<Tl.mutationResults.length;++Al)Tl.mutationResults[Al].transformResults.length>0&&(Il=Il.add(Tl.batch.mutations[Al].key));return Il}(_t))).next(()=>_o.localDocuments.getDocuments(yl,El))})}function Go(_r){const _t=$(_r);return _t.persistence.runTransaction("Get last remote snapshot version","readonly",_o=>_t.Cs.getLastRemoteSnapshotVersion(_o))}function Qo(_r,_t){const _o=$(_r),yl=_t.snapshotVersion;let El=_o.qi;return _o.persistence.runTransaction("Apply remote event","readwrite-primary",_l=>{const Tl=_o.Gi.newChangeBuffer({trackRemovals:!0});El=_o.qi;const Il=[];_t.targetChanges.forEach((Fl,Bl)=>{const Gl=El.get(Bl);if(!Gl)return;Il.push(_o.Cs.removeMatchingKeys(_l,Fl.removedDocuments,Bl).next(()=>_o.Cs.addMatchingKeys(_l,Fl.addedDocuments,Bl)));let Ql=Gl.withSequenceNumber(_l.currentSequenceNumber);_t.targetMismatches.has(Bl)?Ql=Ql.withResumeToken(Qt.EMPTY_BYTE_STRING,st.min()).withLastLimboFreeSnapshotVersion(st.min()):Fl.resumeToken.approximateByteSize()>0&&(Ql=Ql.withResumeToken(Fl.resumeToken,yl)),El=El.insert(Bl,Ql),function(_f,_h,vp){return _f.resumeToken.approximateByteSize()===0||_h.snapshotVersion.toMicroseconds()-_f.snapshotVersion.toMicroseconds()>=3e8?!0:vp.addedDocuments.size+vp.modifiedDocuments.size+vp.removedDocuments.size>0}(Gl,Ql,Fl)&&Il.push(_o.Cs.updateTargetData(_l,Ql))});let Al=ds(),Rl=Es();if(_t.documentUpdates.forEach(Fl=>{_t.resolvedLimboDocuments.has(Fl)&&Il.push(_o.persistence.referenceDelegate.updateLimboDocument(_l,Fl))}),Il.push(jo(_l,Tl,_t.documentUpdates).next(Fl=>{Al=Fl.Wi,Rl=Fl.zi})),!yl.isEqual(st.min())){const Fl=_o.Cs.getLastRemoteSnapshotVersion(_l).next(Bl=>_o.Cs.setTargetsMetadata(_l,_l.currentSequenceNumber,yl));Il.push(Fl)}return At.waitFor(Il).next(()=>Tl.apply(_l)).next(()=>_o.localDocuments.getLocalViewOfDocuments(_l,Al,Rl)).next(()=>Al)}).then(_l=>(_o.qi=El,_l))}function jo(_r,_t,_o){let yl=Es(),El=Es();return _o.forEach(_l=>yl=yl.add(_l)),_t.getEntries(_r,yl).next(_l=>{let Tl=ds();return _o.forEach((Il,Al)=>{const Rl=_l.get(Il);Al.isFoundDocument()!==Rl.isFoundDocument()&&(El=El.add(Il)),Al.isNoDocument()&&Al.version.isEqual(st.min())?(_t.removeEntry(Il,Al.readTime),Tl=Tl.insert(Il,Al)):!Rl.isValidDocument()||Al.version.compareTo(Rl.version)>0||Al.version.compareTo(Rl.version)===0&&Rl.hasPendingWrites?(_t.addEntry(Al),Tl=Tl.insert(Il,Al)):C("LocalStore","Ignoring outdated watch update for ",Il,". Current version:",Rl.version," Watch version:",Al.version)}),{Wi:Tl,zi:El}})}function Wo(_r,_t){const _o=$(_r);return _o.persistence.runTransaction("Get next mutation batch","readonly",yl=>(_t===void 0&&(_t=-1),_o.mutationQueue.getNextMutationBatchAfterBatchId(yl,_t)))}function zo(_r,_t){const _o=$(_r);return _o.persistence.runTransaction("Allocate target","readwrite",yl=>{let El;return _o.Cs.getTargetData(yl,_t).next(_l=>_l?(El=_l,At.resolve(El)):_o.Cs.allocateTargetId(yl).next(Tl=>(El=new zi(_t,Tl,0,yl.currentSequenceNumber),_o.Cs.addTargetData(yl,El).next(()=>El))))}).then(yl=>{const El=_o.qi.get(yl.targetId);return(El===null||yl.snapshotVersion.compareTo(El.snapshotVersion)>0)&&(_o.qi=_o.qi.insert(yl.targetId,yl),_o.Ui.set(_t,yl.targetId)),yl})}async function Ho(_r,_t,_o){const yl=$(_r),El=yl.qi.get(_t),_l=_o?"readwrite":"readwrite-primary";try{_o||await yl.persistence.runTransaction("Release target",_l,Tl=>yl.persistence.referenceDelegate.removeTarget(Tl,El))}catch(Tl){if(!Vt(Tl))throw Tl;C("LocalStore",`Failed to update sequence numbers for target ${_t}: ${Tl}`)}yl.qi=yl.qi.remove(_t),yl.Ui.delete(El.target)}function Jo(_r,_t,_o){const yl=$(_r);let El=st.min(),_l=Es();return yl.persistence.runTransaction("Execute query","readonly",Tl=>function(Il,Al,Rl){const Fl=$(Il),Bl=Fl.Ui.get(Rl);return Bl!==void 0?At.resolve(Fl.qi.get(Bl)):Fl.Cs.getTargetData(Al,Rl)}(yl,Tl,gn(_t)).next(Il=>{if(Il)return El=Il.lastLimboFreeSnapshotVersion,yl.Cs.getMatchingKeysForTargetId(Tl,Il.targetId).next(Al=>{_l=Al})}).next(()=>yl.Li.getDocumentsMatchingQuery(Tl,_t,_o?El:st.min(),_o?_l:Es())).next(Il=>(Zo(yl,Rn(_t),Il),{documents:Il,Hi:_l})))}function Zo(_r,_t,_o){let yl=_r.Ki.get(_t)||st.min();_o.forEach((El,_l)=>{_l.readTime.compareTo(yl)>0&&(yl=_l.readTime)}),_r.Ki.set(_t,yl)}class au{constructor(){this.activeTargetIds=Rs()}er(_t){this.activeTargetIds=this.activeTargetIds.add(_t)}nr(_t){this.activeTargetIds=this.activeTargetIds.delete(_t)}tr(){const _t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(_t)}}class lu{constructor(){this.Lr=new au,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(_t){}updateMutationState(_t,_o,yl){}addLocalQueryTarget(_t){return this.Lr.er(_t),this.qr[_t]||"not-current"}updateQueryState(_t,_o,yl){this.qr[_t]=_o}removeLocalQueryTarget(_t){this.Lr.nr(_t)}isLocalQueryTarget(_t){return this.Lr.activeTargetIds.has(_t)}clearQueryState(_t){delete this.qr[_t]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(_t){return this.Lr.activeTargetIds.has(_t)}start(){return this.Lr=new au,Promise.resolve()}handleUserChange(_t,_o,yl){}setOnlineState(_t){}shutdown(){}writeSequenceNumber(_t){}notifyBundleLoaded(_t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu{Ur(_t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class du{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}Ur(_t){this.Wr.push(_t)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){C("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const _t of this.Wr)_t(0)}jr(){C("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const _t of this.Wr)_t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _u={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wu{constructor(_t){this.Hr=_t.Hr,this.Jr=_t.Jr}Yr(_t){this.Xr=_t}Zr(_t){this.eo=_t}onMessage(_t){this.no=_t}close(){this.Jr()}send(_t){this.Hr(_t)}so(){this.Xr()}io(_t){this.eo(_t)}ro(_t){this.no(_t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mu extends class{constructor(_t){this.databaseInfo=_t,this.databaseId=_t.databaseId;const _o=_t.ssl?"https":"http";this.oo=_o+"://"+_t.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(_t,_o,yl,El,_l){const Tl=this.ho(_t,_o);C("RestConnection","Sending: ",Tl,yl);const Il={};return this.lo(Il,El,_l),this.fo(_t,Tl,Il,yl).then(Al=>(C("RestConnection","Received: ",Al),Al),Al=>{throw N("RestConnection",`${_t} failed with error: `,Al,"url: ",Tl,"request:",yl),Al})}_o(_t,_o,yl,El,_l,Tl){return this.ao(_t,_o,yl,El,_l)}lo(_t,_o,yl){_t["X-Goog-Api-Client"]="gl-js/ fire/"+v,_t["Content-Type"]="text/plain",this.databaseInfo.appId&&(_t["X-Firebase-GMPID"]=this.databaseInfo.appId),_o&&_o.headers.forEach((El,_l)=>_t[_l]=El),yl&&yl.headers.forEach((El,_l)=>_t[_l]=El)}ho(_t,_o){const yl=_u[_t];return`${this.oo}/v1/${_o}:${yl}`}}{constructor(_t){super(_t),this.forceLongPolling=_t.forceLongPolling,this.autoDetectLongPolling=_t.autoDetectLongPolling,this.useFetchStreams=_t.useFetchStreams}fo(_t,_o,yl,El){return new Promise((_l,Tl)=>{const Il=new XhrIo;Il.setWithCredentials(!0),Il.listenOnce(EventType.COMPLETE,()=>{try{switch(Il.getLastErrorCode()){case ErrorCode$1.NO_ERROR:const Rl=Il.getResponseJson();C("Connection","XHR received:",JSON.stringify(Rl)),_l(Rl);break;case ErrorCode$1.TIMEOUT:C("Connection",'RPC "'+_t+'" timed out'),Tl(new L(B.DEADLINE_EXCEEDED,"Request time out"));break;case ErrorCode$1.HTTP_ERROR:const Fl=Il.getStatus();if(C("Connection",'RPC "'+_t+'" failed with status:',Fl,"response text:",Il.getResponseText()),Fl>0){let Bl=Il.getResponseJson();Array.isArray(Bl)&&(Bl=Bl[0]);const Gl=Bl==null?void 0:Bl.error;if(Gl&&Gl.status&&Gl.message){const Ql=function(_f){const _h=_f.toLowerCase().replace(/_/g,"-");return Object.values(B).indexOf(_h)>=0?_h:B.UNKNOWN}(Gl.status);Tl(new L(Ql,Gl.message))}else Tl(new L(B.UNKNOWN,"Server responded with status "+Il.getStatus()))}else Tl(new L(B.UNAVAILABLE,"Connection failed."));break;default:O()}}finally{C("Connection",'RPC "'+_t+'" completed.')}});const Al=JSON.stringify(El);Il.send(_o,"POST",Al,yl,15)})}wo(_t,_o,yl){const El=[this.oo,"/","google.firestore.v1.Firestore","/",_t,"/channel"],_l=createWebChannelTransport(),Tl=getStatEventTarget(),Il={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(Il.xmlHttpFactory=new FetchXmlHttpFactory({})),this.lo(Il.initMessageHeaders,_o,yl),Il.encodeInitMessageHeaders=!0;const Al=El.join("");C("Connection","Creating WebChannel: "+Al,Il);const Rl=_l.createWebChannel(Al,Il);let Fl=!1,Bl=!1;const Gl=new wu({Hr:_f=>{Bl?C("Connection","Not sending because WebChannel is closed:",_f):(Fl||(C("Connection","Opening WebChannel transport."),Rl.open(),Fl=!0),C("Connection","WebChannel sending:",_f),Rl.send(_f))},Jr:()=>Rl.close()}),Ql=(_f,_h,vp)=>{_f.listen(_h,up=>{try{vp(up)}catch(_d){setTimeout(()=>{throw _d},0)}})};return Ql(Rl,WebChannel.EventType.OPEN,()=>{Bl||C("Connection","WebChannel transport opened.")}),Ql(Rl,WebChannel.EventType.CLOSE,()=>{Bl||(Bl=!0,C("Connection","WebChannel transport closed"),Gl.io())}),Ql(Rl,WebChannel.EventType.ERROR,_f=>{Bl||(Bl=!0,N("Connection","WebChannel transport errored:",_f),Gl.io(new L(B.UNAVAILABLE,"The operation could not be completed")))}),Ql(Rl,WebChannel.EventType.MESSAGE,_f=>{var _h;if(!Bl){const vp=_f.data[0];M(!!vp);const up=vp,_d=up.error||((_h=up[0])===null||_h===void 0?void 0:_h.error);if(_d){C("Connection","WebChannel received error:",_d);const Ep=_d.status;let Op=function(Pp){const xp=us[Pp];if(xp!==void 0)return hs(xp)}(Ep),Ip=_d.message;Op===void 0&&(Op=B.INTERNAL,Ip="Unknown error status: "+Ep+" with message "+_d.message),Bl=!0,Gl.io(new L(Op,Ip)),Rl.close()}else C("Connection","WebChannel received:",vp),Gl.ro(vp)}}),Ql(Tl,Event$1.STAT_EVENT,_f=>{_f.stat===Stat.PROXY?C("Connection","Detected buffering proxy"):_f.stat===Stat.NOPROXY&&C("Connection","Detected no buffering proxy")}),setTimeout(()=>{Gl.so()},0),Gl}}function yu(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pu(_r){return new Fs(_r,!0)}class Iu{constructor(_t,_o,yl=1e3,El=1.5,_l=6e4){this.Hs=_t,this.timerId=_o,this.mo=yl,this.yo=El,this.po=_l,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(_t){this.cancel();const _o=Math.floor(this.Io+this.bo()),yl=Math.max(0,Date.now()-this.Eo),El=Math.max(0,_o-yl);El>0&&C("ExponentialBackoff",`Backing off for ${El} ms (base delay: ${this.Io} ms, delay with jitter: ${_o} ms, last attempt: ${yl} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,El,()=>(this.Eo=Date.now(),_t())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){this.To!==null&&(this.To.skipDelay(),this.To=null)}cancel(){this.To!==null&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tu{constructor(_t,_o,yl,El,_l,Tl,Il,Al){this.Hs=_t,this.vo=yl,this.Vo=El,this.connection=_l,this.authCredentialsProvider=Tl,this.appCheckCredentialsProvider=Il,this.listener=Al,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new Iu(_t,_o)}No(){return this.state===1||this.state===5||this.ko()}ko(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Oo()}async stop(){this.No()&&await this.close(0)}Mo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&this.Do===null&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.$o()))}Bo(_t){this.Lo(),this.stream.send(_t)}async $o(){if(this.ko())return this.close(0)}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}qo(){this.Co&&(this.Co.cancel(),this.Co=null)}async close(_t,_o){this.Lo(),this.qo(),this.xo.cancel(),this.So++,_t!==4?this.xo.reset():_o&&_o.code===B.RESOURCE_EXHAUSTED?(x(_o.toString()),x("Using maximum backoff delay to prevent overloading the backend."),this.xo.Ao()):_o&&_o.code===B.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Uo(),this.stream.close(),this.stream=null),this.state=_t,await this.listener.Zr(_o)}Uo(){}auth(){this.state=1;const _t=this.Ko(this.So),_o=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([yl,El])=>{this.So===_o&&this.Go(yl,El)},yl=>{_t(()=>{const El=new L(B.UNKNOWN,"Fetching auth token failed: "+yl.message);return this.Qo(El)})})}Go(_t,_o){const yl=this.Ko(this.So);this.stream=this.jo(_t,_o),this.stream.Yr(()=>{yl(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(El=>{yl(()=>this.Qo(El))}),this.stream.onMessage(El=>{yl(()=>this.onMessage(El))})}Oo(){this.state=5,this.xo.Ro(async()=>{this.state=0,this.start()})}Qo(_t){return C("PersistentStream",`close with error: ${_t}`),this.stream=null,this.close(4,_t)}Ko(_t){return _o=>{this.Hs.enqueueAndForget(()=>this.So===_t?_o():(C("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Eu extends Tu{constructor(_t,_o,yl,El,_l,Tl){super(_t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",_o,yl,El,Tl),this.yt=_l}jo(_t,_o){return this.connection.wo("Listen",_t,_o)}onMessage(_t){this.xo.reset();const _o=Zs(this.yt,_t),yl=function(El){if(!("targetChange"in El))return st.min();const _l=El.targetChange;return _l.targetIds&&_l.targetIds.length?st.min():_l.readTime?qs(_l.readTime):st.min()}(_t);return this.listener.Wo(_o,yl)}zo(_t){const _o={};_o.database=zs(this.yt),_o.addTarget=function(El,_l){let Tl;const Il=_l.target;return Tl=rn(Il)?{documents:si(El,Il)}:{query:ii(El,Il)},Tl.targetId=_l.targetId,_l.resumeToken.approximateByteSize()>0?Tl.resumeToken=Bs(El,_l.resumeToken):_l.snapshotVersion.compareTo(st.min())>0&&(Tl.readTime=$s(El,_l.snapshotVersion.toTimestamp())),Tl}(this.yt,_t);const yl=oi(this.yt,_t);yl&&(_o.labels=yl),this.Bo(_o)}Ho(_t){const _o={};_o.database=zs(this.yt),_o.removeTarget=_t,this.Bo(_o)}}class Au extends Tu{constructor(_t,_o,yl,El,_l,Tl){super(_t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",_o,yl,El,Tl),this.yt=_l,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}Uo(){this.Jo&&this.Xo([])}jo(_t,_o){return this.connection.wo("Write",_t,_o)}onMessage(_t){if(M(!!_t.streamToken),this.lastStreamToken=_t.streamToken,this.Jo){this.xo.reset();const _o=ni(_t.writeResults,_t.commitTime),yl=qs(_t.commitTime);return this.listener.Zo(yl,_o)}return M(!_t.writeResults||_t.writeResults.length===0),this.Jo=!0,this.listener.tu()}eu(){const _t={};_t.database=zs(this.yt),this.Bo(_t)}Xo(_t){const _o={streamToken:this.lastStreamToken,writes:_t.map(yl=>ti(this.yt,yl))};this.Bo(_o)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ru extends class{}{constructor(_t,_o,yl,El){super(),this.authCredentials=_t,this.appCheckCredentials=_o,this.connection=yl,this.yt=El,this.nu=!1}su(){if(this.nu)throw new L(B.FAILED_PRECONDITION,"The client has already been terminated.")}ao(_t,_o,yl){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([El,_l])=>this.connection.ao(_t,_o,yl,El,_l)).catch(El=>{throw El.name==="FirebaseError"?(El.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),El):new L(B.UNKNOWN,El.toString())})}_o(_t,_o,yl,El){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([_l,Tl])=>this.connection._o(_t,_o,yl,_l,Tl,El)).catch(_l=>{throw _l.name==="FirebaseError"?(_l.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),_l):new L(B.UNKNOWN,_l.toString())})}terminate(){this.nu=!0}}class Pu{constructor(_t,_o){this.asyncQueue=_t,this.onlineStateHandler=_o,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){this.iu===0&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(_t){this.state==="Online"?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${_t.toString()}`),this.cu("Offline")))}set(_t){this.lu(),this.iu=0,_t==="Online"&&(this.ou=!1),this.cu(_t)}cu(_t){_t!==this.state&&(this.state=_t,this.onlineStateHandler(_t))}au(_t){const _o=`Could not reach Cloud Firestore backend. ${_t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(x(_o),this.ou=!1):C("OnlineStateTracker",_o)}lu(){this.ru!==null&&(this.ru.cancel(),this.ru=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vu{constructor(_t,_o,yl,El,_l){this.localStore=_t,this.datastore=_o,this.asyncQueue=yl,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=_l,this.mu.Ur(Tl=>{yl.enqueueAndForget(async()=>{Mu(this)&&(C("RemoteStore","Restarting streams for network reachability change."),await async function(Il){const Al=$(Il);Al._u.add(4),await Su(Al),Al.gu.set("Unknown"),Al._u.delete(4),await Vu(Al)}(this))})}),this.gu=new Pu(yl,El)}}async function Vu(_r){if(Mu(_r))for(const _t of _r.wu)await _t(!0)}async function Su(_r){for(const _t of _r.wu)await _t(!1)}function Du(_r,_t){const _o=$(_r);_o.du.has(_t.targetId)||(_o.du.set(_t.targetId,_t),Ou(_o)?ku(_o):tc(_o).ko()&&xu(_o,_t))}function Cu(_r,_t){const _o=$(_r),yl=tc(_o);_o.du.delete(_t),yl.ko()&&Nu(_o,_t),_o.du.size===0&&(yl.ko()?yl.Fo():Mu(_o)&&_o.gu.set("Unknown"))}function xu(_r,_t){_r.yu.Ot(_t.targetId),tc(_r).zo(_t)}function Nu(_r,_t){_r.yu.Ot(_t),tc(_r).Ho(_t)}function ku(_r){_r.yu=new Cs({getRemoteKeysForTarget:_t=>_r.remoteSyncer.getRemoteKeysForTarget(_t),ne:_t=>_r.du.get(_t)||null}),tc(_r).start(),_r.gu.uu()}function Ou(_r){return Mu(_r)&&!tc(_r).No()&&_r.du.size>0}function Mu(_r){return $(_r)._u.size===0}function Fu(_r){_r.yu=void 0}async function $u(_r){_r.du.forEach((_t,_o)=>{xu(_r,_t)})}async function Bu(_r,_t){Fu(_r),Ou(_r)?(_r.gu.hu(_t),ku(_r)):_r.gu.set("Unknown")}async function Lu(_r,_t,_o){if(_r.gu.set("Online"),_t instanceof Ss&&_t.state===2&&_t.cause)try{await async function(yl,El){const _l=El.cause;for(const Tl of El.targetIds)yl.du.has(Tl)&&(await yl.remoteSyncer.rejectListen(Tl,_l),yl.du.delete(Tl),yl.yu.removeTarget(Tl))}(_r,_t)}catch(yl){C("RemoteStore","Failed to remove targets %s: %s ",_t.targetIds.join(","),yl),await qu(_r,yl)}else if(_t instanceof vs?_r.yu.Kt(_t):_t instanceof Vs?_r.yu.Jt(_t):_r.yu.jt(_t),!_o.isEqual(st.min()))try{const yl=await Go(_r.localStore);_o.compareTo(yl)>=0&&await function(El,_l){const Tl=El.yu.Zt(_l);return Tl.targetChanges.forEach((Il,Al)=>{if(Il.resumeToken.approximateByteSize()>0){const Rl=El.du.get(Al);Rl&&El.du.set(Al,Rl.withResumeToken(Il.resumeToken,_l))}}),Tl.targetMismatches.forEach(Il=>{const Al=El.du.get(Il);if(!Al)return;El.du.set(Il,Al.withResumeToken(Qt.EMPTY_BYTE_STRING,Al.snapshotVersion)),Nu(El,Il);const Rl=new zi(Al.target,Il,1,Al.sequenceNumber);xu(El,Rl)}),El.remoteSyncer.applyRemoteEvent(Tl)}(_r,_o)}catch(yl){C("RemoteStore","Failed to raise snapshot:",yl),await qu(_r,yl)}}async function qu(_r,_t,_o){if(!Vt(_t))throw _t;_r._u.add(1),await Su(_r),_r.gu.set("Offline"),_o||(_o=()=>Go(_r.localStore)),_r.asyncQueue.enqueueRetryable(async()=>{C("RemoteStore","Retrying IndexedDB access"),await _o(),_r._u.delete(1),await Vu(_r)})}function Uu(_r,_t){return _t().catch(_o=>qu(_r,_o,_t))}async function Ku(_r){const _t=$(_r),_o=ec(_t);let yl=_t.fu.length>0?_t.fu[_t.fu.length-1].batchId:-1;for(;Gu(_t);)try{const El=await Wo(_t.localStore,yl);if(El===null){_t.fu.length===0&&_o.Fo();break}yl=El.batchId,Qu(_t,El)}catch(El){await qu(_t,El)}ju(_t)&&Wu(_t)}function Gu(_r){return Mu(_r)&&_r.fu.length<10}function Qu(_r,_t){_r.fu.push(_t);const _o=ec(_r);_o.ko()&&_o.Yo&&_o.Xo(_t.mutations)}function ju(_r){return Mu(_r)&&!ec(_r).No()&&_r.fu.length>0}function Wu(_r){ec(_r).start()}async function zu(_r){ec(_r).eu()}async function Hu(_r){const _t=ec(_r);for(const _o of _r.fu)_t.Xo(_o.mutations)}async function Ju(_r,_t,_o){const yl=_r.fu.shift(),El=ji.from(yl,_t,_o);await Uu(_r,()=>_r.remoteSyncer.applySuccessfulWrite(El)),await Ku(_r)}async function Yu(_r,_t){_t&&ec(_r).Yo&&await async function(_o,yl){if(El=yl.code,as(El)&&El!==B.ABORTED){const _l=_o.fu.shift();ec(_o).Mo(),await Uu(_o,()=>_o.remoteSyncer.rejectFailedWrite(_l.batchId,yl)),await Ku(_o)}var El}(_r,_t),ju(_r)&&Wu(_r)}async function Xu(_r,_t){const _o=$(_r);_o.asyncQueue.verifyOperationInProgress(),C("RemoteStore","RemoteStore received new credentials");const yl=Mu(_o);_o._u.add(3),await Su(_o),yl&&_o.gu.set("Unknown"),await _o.remoteSyncer.handleCredentialChange(_t),_o._u.delete(3),await Vu(_o)}async function Zu(_r,_t){const _o=$(_r);_t?(_o._u.delete(2),await Vu(_o)):_t||(_o._u.add(2),await Su(_o),_o.gu.set("Unknown"))}function tc(_r){return _r.pu||(_r.pu=function(_t,_o,yl){const El=$(_t);return El.su(),new Eu(_o,El.connection,El.authCredentials,El.appCheckCredentials,El.yt,yl)}(_r.datastore,_r.asyncQueue,{Yr:$u.bind(null,_r),Zr:Bu.bind(null,_r),Wo:Lu.bind(null,_r)}),_r.wu.push(async _t=>{_t?(_r.pu.Mo(),Ou(_r)?ku(_r):_r.gu.set("Unknown")):(await _r.pu.stop(),Fu(_r))})),_r.pu}function ec(_r){return _r.Iu||(_r.Iu=function(_t,_o,yl){const El=$(_t);return El.su(),new Au(_o,El.connection,El.authCredentials,El.appCheckCredentials,El.yt,yl)}(_r.datastore,_r.asyncQueue,{Yr:zu.bind(null,_r),Zr:Yu.bind(null,_r),tu:Hu.bind(null,_r),Zo:Ju.bind(null,_r)}),_r.wu.push(async _t=>{_t?(_r.Iu.Mo(),await Ku(_r)):(await _r.Iu.stop(),_r.fu.length>0&&(C("RemoteStore",`Stopping write stream with ${_r.fu.length} pending writes`),_r.fu=[]))})),_r.Iu}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nc{constructor(_t,_o,yl,El,_l){this.asyncQueue=_t,this.timerId=_o,this.targetTimeMs=yl,this.op=El,this.removalCallback=_l,this.deferred=new q,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(Tl=>{})}static createAndSchedule(_t,_o,yl,El,_l){const Tl=Date.now()+yl,Il=new nc(_t,_o,Tl,El,_l);return Il.start(yl),Il}start(_t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),_t)}skipDelay(){return this.handleDelayElapsed()}cancel(_t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new L(B.CANCELLED,"Operation cancelled"+(_t?": "+_t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(_t=>this.deferred.resolve(_t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function sc(_r,_t){if(x("AsyncQueue",`${_t}: ${_r}`),Vt(_r))return new L(B.UNAVAILABLE,`${_t}: ${_r}`);throw _r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic{constructor(_t){this.comparator=_t?(_o,yl)=>_t(_o,yl)||ct.comparator(_o.key,yl.key):(_o,yl)=>ct.comparator(_o.key,yl.key),this.keyedMap=ws(),this.sortedSet=new Ge(this.comparator)}static emptySet(_t){return new ic(_t.comparator)}has(_t){return this.keyedMap.get(_t)!=null}get(_t){return this.keyedMap.get(_t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(_t){const _o=this.keyedMap.get(_t);return _o?this.sortedSet.indexOf(_o):-1}get size(){return this.sortedSet.size}forEach(_t){this.sortedSet.inorderTraversal((_o,yl)=>(_t(_o),!1))}add(_t){const _o=this.delete(_t.key);return _o.copy(_o.keyedMap.insert(_t.key,_t),_o.sortedSet.insert(_t,null))}delete(_t){const _o=this.get(_t);return _o?this.copy(this.keyedMap.remove(_t),this.sortedSet.remove(_o)):this}isEqual(_t){if(!(_t instanceof ic)||this.size!==_t.size)return!1;const _o=this.sortedSet.getIterator(),yl=_t.sortedSet.getIterator();for(;_o.hasNext();){const El=_o.getNext().key,_l=yl.getNext().key;if(!El.isEqual(_l))return!1}return!0}toString(){const _t=[];return this.forEach(_o=>{_t.push(_o.toString())}),_t.length===0?"DocumentSet ()":`DocumentSet (
  `+_t.join(`  
`)+`
)`}copy(_t,_o){const yl=new ic;return yl.comparator=this.comparator,yl.keyedMap=_t,yl.sortedSet=_o,yl}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rc{constructor(){this.Tu=new Ge(ct.comparator)}track(_t){const _o=_t.doc.key,yl=this.Tu.get(_o);yl?_t.type!==0&&yl.type===3?this.Tu=this.Tu.insert(_o,_t):_t.type===3&&yl.type!==1?this.Tu=this.Tu.insert(_o,{type:yl.type,doc:_t.doc}):_t.type===2&&yl.type===2?this.Tu=this.Tu.insert(_o,{type:2,doc:_t.doc}):_t.type===2&&yl.type===0?this.Tu=this.Tu.insert(_o,{type:0,doc:_t.doc}):_t.type===1&&yl.type===0?this.Tu=this.Tu.remove(_o):_t.type===1&&yl.type===2?this.Tu=this.Tu.insert(_o,{type:1,doc:yl.doc}):_t.type===0&&yl.type===1?this.Tu=this.Tu.insert(_o,{type:2,doc:_t.doc}):O():this.Tu=this.Tu.insert(_o,_t)}Eu(){const _t=[];return this.Tu.inorderTraversal((_o,yl)=>{_t.push(yl)}),_t}}class oc{constructor(_t,_o,yl,El,_l,Tl,Il,Al,Rl){this.query=_t,this.docs=_o,this.oldDocs=yl,this.docChanges=El,this.mutatedKeys=_l,this.fromCache=Tl,this.syncStateChanged=Il,this.excludesMetadataChanges=Al,this.hasCachedResults=Rl}static fromInitialDocuments(_t,_o,yl,El,_l){const Tl=[];return _o.forEach(Il=>{Tl.push({type:0,doc:Il})}),new oc(_t,_o,ic.emptySet(_o),Tl,yl,El,!0,!1,_l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(_t){if(!(this.fromCache===_t.fromCache&&this.hasCachedResults===_t.hasCachedResults&&this.syncStateChanged===_t.syncStateChanged&&this.mutatedKeys.isEqual(_t.mutatedKeys)&&In(this.query,_t.query)&&this.docs.isEqual(_t.docs)&&this.oldDocs.isEqual(_t.oldDocs)))return!1;const _o=this.docChanges,yl=_t.docChanges;if(_o.length!==yl.length)return!1;for(let El=0;El<_o.length;El++)if(_o[El].type!==yl[El].type||!_o[El].doc.isEqual(yl[El].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uc{constructor(){this.Au=void 0,this.listeners=[]}}class cc{constructor(){this.queries=new ls(_t=>Tn(_t),In),this.onlineState="Unknown",this.Ru=new Set}}async function ac(_r,_t){const _o=$(_r),yl=_t.query;let El=!1,_l=_o.queries.get(yl);if(_l||(El=!0,_l=new uc),El)try{_l.Au=await _o.onListen(yl)}catch(Tl){const Il=sc(Tl,`Initialization of query '${En(_t.query)}' failed`);return void _t.onError(Il)}_o.queries.set(yl,_l),_l.listeners.push(_t),_t.bu(_o.onlineState),_l.Au&&_t.Pu(_l.Au)&&dc(_o)}async function hc(_r,_t){const _o=$(_r),yl=_t.query;let El=!1;const _l=_o.queries.get(yl);if(_l){const Tl=_l.listeners.indexOf(_t);Tl>=0&&(_l.listeners.splice(Tl,1),El=_l.listeners.length===0)}if(El)return _o.queries.delete(yl),_o.onUnlisten(yl)}function lc(_r,_t){const _o=$(_r);let yl=!1;for(const El of _t){const _l=El.query,Tl=_o.queries.get(_l);if(Tl){for(const Il of Tl.listeners)Il.Pu(El)&&(yl=!0);Tl.Au=El}}yl&&dc(_o)}function fc(_r,_t,_o){const yl=$(_r),El=yl.queries.get(_t);if(El)for(const _l of El.listeners)_l.onError(_o);yl.queries.delete(_t)}function dc(_r){_r.Ru.forEach(_t=>{_t.next()})}class _c{constructor(_t,_o,yl){this.query=_t,this.vu=_o,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=yl||{}}Pu(_t){if(!this.options.includeMetadataChanges){const yl=[];for(const El of _t.docChanges)El.type!==3&&yl.push(El);_t=new oc(_t.query,_t.docs,_t.oldDocs,yl,_t.mutatedKeys,_t.fromCache,_t.syncStateChanged,!0,_t.hasCachedResults)}let _o=!1;return this.Vu?this.Du(_t)&&(this.vu.next(_t),_o=!0):this.Cu(_t,this.onlineState)&&(this.xu(_t),_o=!0),this.Su=_t,_o}onError(_t){this.vu.error(_t)}bu(_t){this.onlineState=_t;let _o=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,_t)&&(this.xu(this.Su),_o=!0),_o}Cu(_t,_o){if(!_t.fromCache)return!0;const yl=_o!=="Offline";return(!this.options.Nu||!yl)&&(!_t.docs.isEmpty()||_t.hasCachedResults||_o==="Offline")}Du(_t){if(_t.docChanges.length>0)return!0;const _o=this.Su&&this.Su.hasPendingWrites!==_t.hasPendingWrites;return!(!_t.syncStateChanged&&!_o)&&this.options.includeMetadataChanges===!0}xu(_t){_t=oc.fromInitialDocuments(_t.query,_t.docs,_t.mutatedKeys,_t.fromCache,_t.hasCachedResults),this.Vu=!0,this.vu.next(_t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc{constructor(_t){this.key=_t}}class Ic{constructor(_t){this.key=_t}}class Tc{constructor(_t,_o){this.query=_t,this.qu=_o,this.Uu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=Es(),this.mutatedKeys=Es(),this.Gu=bn(_t),this.Qu=new ic(this.Gu)}get ju(){return this.qu}Wu(_t,_o){const yl=_o?_o.zu:new rc,El=_o?_o.Qu:this.Qu;let _l=_o?_o.mutatedKeys:this.mutatedKeys,Tl=El,Il=!1;const Al=this.query.limitType==="F"&&El.size===this.query.limit?El.last():null,Rl=this.query.limitType==="L"&&El.size===this.query.limit?El.first():null;if(_t.inorderTraversal((Fl,Bl)=>{const Gl=El.get(Fl),Ql=An(this.query,Bl)?Bl:null,_f=!!Gl&&this.mutatedKeys.has(Gl.key),_h=!!Ql&&(Ql.hasLocalMutations||this.mutatedKeys.has(Ql.key)&&Ql.hasCommittedMutations);let vp=!1;Gl&&Ql?Gl.data.isEqual(Ql.data)?_f!==_h&&(yl.track({type:3,doc:Ql}),vp=!0):this.Hu(Gl,Ql)||(yl.track({type:2,doc:Ql}),vp=!0,(Al&&this.Gu(Ql,Al)>0||Rl&&this.Gu(Ql,Rl)<0)&&(Il=!0)):!Gl&&Ql?(yl.track({type:0,doc:Ql}),vp=!0):Gl&&!Ql&&(yl.track({type:1,doc:Gl}),vp=!0,(Al||Rl)&&(Il=!0)),vp&&(Ql?(Tl=Tl.add(Ql),_l=_h?_l.add(Fl):_l.delete(Fl)):(Tl=Tl.delete(Fl),_l=_l.delete(Fl)))}),this.query.limit!==null)for(;Tl.size>this.query.limit;){const Fl=this.query.limitType==="F"?Tl.last():Tl.first();Tl=Tl.delete(Fl.key),_l=_l.delete(Fl.key),yl.track({type:1,doc:Fl})}return{Qu:Tl,zu:yl,$i:Il,mutatedKeys:_l}}Hu(_t,_o){return _t.hasLocalMutations&&_o.hasCommittedMutations&&!_o.hasLocalMutations}applyChanges(_t,_o,yl){const El=this.Qu;this.Qu=_t.Qu,this.mutatedKeys=_t.mutatedKeys;const _l=_t.zu.Eu();_l.sort((Rl,Fl)=>function(Bl,Gl){const Ql=_f=>{switch(_f){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return O()}};return Ql(Bl)-Ql(Gl)}(Rl.type,Fl.type)||this.Gu(Rl.doc,Fl.doc)),this.Ju(yl);const Tl=_o?this.Yu():[],Il=this.Ku.size===0&&this.current?1:0,Al=Il!==this.Uu;return this.Uu=Il,_l.length!==0||Al?{snapshot:new oc(this.query,_t.Qu,El,_l,_t.mutatedKeys,Il===0,Al,!1,!!yl&&yl.resumeToken.approximateByteSize()>0),Xu:Tl}:{Xu:Tl}}bu(_t){return this.current&&_t==="Offline"?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new rc,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(_t){return!this.qu.has(_t)&&!!this.Qu.has(_t)&&!this.Qu.get(_t).hasLocalMutations}Ju(_t){_t&&(_t.addedDocuments.forEach(_o=>this.qu=this.qu.add(_o)),_t.modifiedDocuments.forEach(_o=>{}),_t.removedDocuments.forEach(_o=>this.qu=this.qu.delete(_o)),this.current=_t.current)}Yu(){if(!this.current)return[];const _t=this.Ku;this.Ku=Es(),this.Qu.forEach(yl=>{this.Zu(yl.key)&&(this.Ku=this.Ku.add(yl.key))});const _o=[];return _t.forEach(yl=>{this.Ku.has(yl)||_o.push(new Ic(yl))}),this.Ku.forEach(yl=>{_t.has(yl)||_o.push(new pc(yl))}),_o}tc(_t){this.qu=_t.Hi,this.Ku=Es();const _o=this.Wu(_t.documents);return this.applyChanges(_o,!0)}ec(){return oc.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,this.Uu===0,this.hasCachedResults)}}class Ec{constructor(_t,_o,yl){this.query=_t,this.targetId=_o,this.view=yl}}class Ac{constructor(_t){this.key=_t,this.nc=!1}}class Rc{constructor(_t,_o,yl,El,_l,Tl){this.localStore=_t,this.remoteStore=_o,this.eventManager=yl,this.sharedClientState=El,this.currentUser=_l,this.maxConcurrentLimboResolutions=Tl,this.sc={},this.ic=new ls(Il=>Tn(Il),In),this.rc=new Map,this.oc=new Set,this.uc=new Ge(ct.comparator),this.cc=new Map,this.ac=new Eo,this.hc={},this.lc=new Map,this.fc=Yr.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return this.dc===!0}}async function bc(_r,_t){const _o=ta(_r);let yl,El;const _l=_o.ic.get(_t);if(_l)yl=_l.targetId,_o.sharedClientState.addLocalQueryTarget(yl),El=_l.view.ec();else{const Tl=await zo(_o.localStore,gn(_t));_o.isPrimaryClient&&Du(_o.remoteStore,Tl);const Il=_o.sharedClientState.addLocalQueryTarget(Tl.targetId);yl=Tl.targetId,El=await Pc(_o,_t,yl,Il==="current",Tl.resumeToken)}return El}async function Pc(_r,_t,_o,yl,El){_r._c=(Bl,Gl,Ql)=>async function(_f,_h,vp,up){let _d=_h.view.Wu(vp);_d.$i&&(_d=await Jo(_f.localStore,_h.query,!1).then(({documents:Ip})=>_h.view.Wu(Ip,_d)));const Ep=up&&up.targetChanges.get(_h.targetId),Op=_h.view.applyChanges(_d,_f.isPrimaryClient,Ep);return Bc(_f,_h.targetId,Op.Xu),Op.snapshot}(_r,Bl,Gl,Ql);const _l=await Jo(_r.localStore,_t,!0),Tl=new Tc(_t,_l.Hi),Il=Tl.Wu(_l.documents),Al=Ps.createSynthesizedTargetChangeForCurrentChange(_o,yl&&_r.onlineState!=="Offline",El),Rl=Tl.applyChanges(Il,_r.isPrimaryClient,Al);Bc(_r,_o,Rl.Xu);const Fl=new Ec(_t,_o,Tl);return _r.ic.set(_t,Fl),_r.rc.has(_o)?_r.rc.get(_o).push(_t):_r.rc.set(_o,[_t]),Rl.snapshot}async function vc(_r,_t){const _o=$(_r),yl=_o.ic.get(_t),El=_o.rc.get(yl.targetId);if(El.length>1)return _o.rc.set(yl.targetId,El.filter(_l=>!In(_l,_t))),void _o.ic.delete(_t);_o.isPrimaryClient?(_o.sharedClientState.removeLocalQueryTarget(yl.targetId),_o.sharedClientState.isActiveQueryTarget(yl.targetId)||await Ho(_o.localStore,yl.targetId,!1).then(()=>{_o.sharedClientState.clearQueryState(yl.targetId),Cu(_o.remoteStore,yl.targetId),Fc(_o,yl.targetId)}).catch(Et)):(Fc(_o,yl.targetId),await Ho(_o.localStore,yl.targetId,!0))}async function Vc(_r,_t,_o){const yl=ea(_r);try{const El=await function(_l,Tl){const Il=$(_l),Al=nt.now(),Rl=Tl.reduce((Gl,Ql)=>Gl.add(Ql.key),Es());let Fl,Bl;return Il.persistence.runTransaction("Locally write mutations","readwrite",Gl=>{let Ql=ds(),_f=Es();return Il.Gi.getEntries(Gl,Rl).next(_h=>{Ql=_h,Ql.forEach((vp,up)=>{up.isValidDocument()||(_f=_f.add(vp))})}).next(()=>Il.localDocuments.getOverlayedDocuments(Gl,Ql)).next(_h=>{Fl=_h;const vp=[];for(const up of Tl){const _d=Yn(up,Fl.get(up.key).overlayedDocument);_d!=null&&vp.push(new ts(up.key,_d,Xe(_d.value.mapValue),Qn.exists(!0)))}return Il.mutationQueue.addMutationBatch(Gl,Al,vp,Tl)}).next(_h=>{Bl=_h;const vp=_h.applyToLocalDocumentSet(Fl,_f);return Il.documentOverlayCache.saveOverlays(Gl,_h.batchId,vp)})}).then(()=>({batchId:Bl.batchId,changes:ms(Fl)}))}(yl.localStore,_t);yl.sharedClientState.addPendingMutation(El.batchId),function(_l,Tl,Il){let Al=_l.hc[_l.currentUser.toKey()];Al||(Al=new Ge(Z)),Al=Al.insert(Tl,Il),_l.hc[_l.currentUser.toKey()]=Al}(yl,El.batchId,_o),await Uc(yl,El.changes),await Ku(yl.remoteStore)}catch(El){const _l=sc(El,"Failed to persist write");_o.reject(_l)}}async function Sc(_r,_t){const _o=$(_r);try{const yl=await Qo(_o.localStore,_t);_t.targetChanges.forEach((El,_l)=>{const Tl=_o.cc.get(_l);Tl&&(M(El.addedDocuments.size+El.modifiedDocuments.size+El.removedDocuments.size<=1),El.addedDocuments.size>0?Tl.nc=!0:El.modifiedDocuments.size>0?M(Tl.nc):El.removedDocuments.size>0&&(M(Tl.nc),Tl.nc=!1))}),await Uc(_o,yl,_t)}catch(yl){await Et(yl)}}function Dc(_r,_t,_o){const yl=$(_r);if(yl.isPrimaryClient&&_o===0||!yl.isPrimaryClient&&_o===1){const El=[];yl.ic.forEach((_l,Tl)=>{const Il=Tl.view.bu(_t);Il.snapshot&&El.push(Il.snapshot)}),function(_l,Tl){const Il=$(_l);Il.onlineState=Tl;let Al=!1;Il.queries.forEach((Rl,Fl)=>{for(const Bl of Fl.listeners)Bl.bu(Tl)&&(Al=!0)}),Al&&dc(Il)}(yl.eventManager,_t),El.length&&yl.sc.Wo(El),yl.onlineState=_t,yl.isPrimaryClient&&yl.sharedClientState.setOnlineState(_t)}}async function Cc(_r,_t,_o){const yl=$(_r);yl.sharedClientState.updateQueryState(_t,"rejected",_o);const El=yl.cc.get(_t),_l=El&&El.key;if(_l){let Tl=new Ge(ct.comparator);Tl=Tl.insert(_l,Ze.newNoDocument(_l,st.min()));const Il=Es().add(_l),Al=new bs(st.min(),new Map,new We(Z),Tl,Il);await Sc(yl,Al),yl.uc=yl.uc.remove(_l),yl.cc.delete(_t),qc(yl)}else await Ho(yl.localStore,_t,!1).then(()=>Fc(yl,_t,_o)).catch(Et)}async function xc(_r,_t){const _o=$(_r),yl=_t.batch.batchId;try{const El=await Ko(_o.localStore,_t);Mc(_o,yl,null),Oc(_o,yl),_o.sharedClientState.updateMutationState(yl,"acknowledged"),await Uc(_o,El)}catch(El){await Et(El)}}async function Nc(_r,_t,_o){const yl=$(_r);try{const El=await function(_l,Tl){const Il=$(_l);return Il.persistence.runTransaction("Reject batch","readwrite-primary",Al=>{let Rl;return Il.mutationQueue.lookupMutationBatch(Al,Tl).next(Fl=>(M(Fl!==null),Rl=Fl.keys(),Il.mutationQueue.removeMutationBatch(Al,Fl))).next(()=>Il.mutationQueue.performConsistencyCheck(Al)).next(()=>Il.documentOverlayCache.removeOverlaysForBatchId(Al,Rl,Tl)).next(()=>Il.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(Al,Rl)).next(()=>Il.localDocuments.getDocuments(Al,Rl))})}(yl.localStore,_t);Mc(yl,_t,_o),Oc(yl,_t),yl.sharedClientState.updateMutationState(_t,"rejected",_o),await Uc(yl,El)}catch(El){await Et(El)}}function Oc(_r,_t){(_r.lc.get(_t)||[]).forEach(_o=>{_o.resolve()}),_r.lc.delete(_t)}function Mc(_r,_t,_o){const yl=$(_r);let El=yl.hc[yl.currentUser.toKey()];if(El){const _l=El.get(_t);_l&&(_o?_l.reject(_o):_l.resolve(),El=El.remove(_t)),yl.hc[yl.currentUser.toKey()]=El}}function Fc(_r,_t,_o=null){_r.sharedClientState.removeLocalQueryTarget(_t);for(const yl of _r.rc.get(_t))_r.ic.delete(yl),_o&&_r.sc.wc(yl,_o);_r.rc.delete(_t),_r.isPrimaryClient&&_r.ac.ls(_t).forEach(yl=>{_r.ac.containsKey(yl)||$c(_r,yl)})}function $c(_r,_t){_r.oc.delete(_t.path.canonicalString());const _o=_r.uc.get(_t);_o!==null&&(Cu(_r.remoteStore,_o),_r.uc=_r.uc.remove(_t),_r.cc.delete(_o),qc(_r))}function Bc(_r,_t,_o){for(const yl of _o)yl instanceof pc?(_r.ac.addReference(yl.key,_t),Lc(_r,yl)):yl instanceof Ic?(C("SyncEngine","Document no longer in limbo: "+yl.key),_r.ac.removeReference(yl.key,_t),_r.ac.containsKey(yl.key)||$c(_r,yl.key)):O()}function Lc(_r,_t){const _o=_t.key,yl=_o.path.canonicalString();_r.uc.get(_o)||_r.oc.has(yl)||(C("SyncEngine","New document in limbo: "+_o),_r.oc.add(yl),qc(_r))}function qc(_r){for(;_r.oc.size>0&&_r.uc.size<_r.maxConcurrentLimboResolutions;){const _t=_r.oc.values().next().value;_r.oc.delete(_t);const _o=new ct(rt.fromString(_t)),yl=_r.fc.next();_r.cc.set(yl,new Ac(_o)),_r.uc=_r.uc.insert(_o,yl),Du(_r.remoteStore,new zi(gn(ln(_o.path)),yl,2,Ot.at))}}async function Uc(_r,_t,_o){const yl=$(_r),El=[],_l=[],Tl=[];yl.ic.isEmpty()||(yl.ic.forEach((Il,Al)=>{Tl.push(yl._c(Al,_t,_o).then(Rl=>{if((Rl||_o)&&yl.isPrimaryClient&&yl.sharedClientState.updateQueryState(Al.targetId,Rl!=null&&Rl.fromCache?"not-current":"current"),Rl){El.push(Rl);const Fl=$o.Ci(Al.targetId,Rl);_l.push(Fl)}}))}),await Promise.all(Tl),yl.sc.Wo(El),await async function(Il,Al){const Rl=$(Il);try{await Rl.persistence.runTransaction("notifyLocalViewChanges","readwrite",Fl=>At.forEach(Al,Bl=>At.forEach(Bl.Si,Gl=>Rl.persistence.referenceDelegate.addReference(Fl,Bl.targetId,Gl)).next(()=>At.forEach(Bl.Di,Gl=>Rl.persistence.referenceDelegate.removeReference(Fl,Bl.targetId,Gl)))))}catch(Fl){if(!Vt(Fl))throw Fl;C("LocalStore","Failed to update sequence numbers: "+Fl)}for(const Fl of Al){const Bl=Fl.targetId;if(!Fl.fromCache){const Gl=Rl.qi.get(Bl),Ql=Gl.snapshotVersion,_f=Gl.withLastLimboFreeSnapshotVersion(Ql);Rl.qi=Rl.qi.insert(Bl,_f)}}}(yl.localStore,_l))}async function Kc(_r,_t){const _o=$(_r);if(!_o.currentUser.isEqual(_t)){C("SyncEngine","User change. New user:",_t.toKey());const yl=await Uo(_o.localStore,_t);_o.currentUser=_t,function(El,_l){El.lc.forEach(Tl=>{Tl.forEach(Il=>{Il.reject(new L(B.CANCELLED,_l))})}),El.lc.clear()}(_o,"'waitForPendingWrites' promise is rejected due to a user change."),_o.sharedClientState.handleUserChange(_t,yl.removedBatchIds,yl.addedBatchIds),await Uc(_o,yl.ji)}}function Gc(_r,_t){const _o=$(_r),yl=_o.cc.get(_t);if(yl&&yl.nc)return Es().add(yl.key);{let El=Es();const _l=_o.rc.get(_t);if(!_l)return El;for(const Tl of _l){const Il=_o.ic.get(Tl);El=El.unionWith(Il.view.ju)}return El}}function ta(_r){const _t=$(_r);return _t.remoteStore.remoteSyncer.applyRemoteEvent=Sc.bind(null,_t),_t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Gc.bind(null,_t),_t.remoteStore.remoteSyncer.rejectListen=Cc.bind(null,_t),_t.sc.Wo=lc.bind(null,_t.eventManager),_t.sc.wc=fc.bind(null,_t.eventManager),_t}function ea(_r){const _t=$(_r);return _t.remoteStore.remoteSyncer.applySuccessfulWrite=xc.bind(null,_t),_t.remoteStore.remoteSyncer.rejectFailedWrite=Nc.bind(null,_t),_t}class sa{constructor(){this.synchronizeTabs=!1}async initialize(_t){this.yt=pu(_t.databaseInfo.databaseId),this.sharedClientState=this.gc(_t),this.persistence=this.yc(_t),await this.persistence.start(),this.localStore=this.Ic(_t),this.gcScheduler=this.Tc(_t,this.localStore),this.indexBackfillerScheduler=this.Ec(_t,this.localStore)}Tc(_t,_o){return null}Ec(_t,_o){return null}Ic(_t){return qo(this.persistence,new Bo,_t.initialUser,this.yt)}yc(_t){return new Vo(Do.Bs,this.yt)}gc(_t){return new lu}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class oa{async initialize(_t,_o){this.localStore||(this.localStore=_t.localStore,this.sharedClientState=_t.sharedClientState,this.datastore=this.createDatastore(_o),this.remoteStore=this.createRemoteStore(_o),this.eventManager=this.createEventManager(_o),this.syncEngine=this.createSyncEngine(_o,!_t.synchronizeTabs),this.sharedClientState.onlineStateHandler=yl=>Dc(this.syncEngine,yl,1),this.remoteStore.remoteSyncer.handleCredentialChange=Kc.bind(null,this.syncEngine),await Zu(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(_t){return new cc}createDatastore(_t){const _o=pu(_t.databaseInfo.databaseId),yl=(El=_t.databaseInfo,new mu(El));var El;return function(_l,Tl,Il,Al){return new Ru(_l,Tl,Il,Al)}(_t.authCredentials,_t.appCheckCredentials,yl,_o)}createRemoteStore(_t){return _o=this.localStore,yl=this.datastore,El=_t.asyncQueue,_l=Il=>Dc(this.syncEngine,Il,0),Tl=du.C()?new du:new fu,new vu(_o,yl,El,_l,Tl);var _o,yl,El,_l,Tl}createSyncEngine(_t,_o){return function(yl,El,_l,Tl,Il,Al,Rl){const Fl=new Rc(yl,El,_l,Tl,Il,Al);return Rl&&(Fl.dc=!0),Fl}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,_t.initialUser,_t.maxConcurrentLimboResolutions,_o)}terminate(){return async function(_t){const _o=$(_t);C("RemoteStore","RemoteStore shutting down."),_o._u.add(5),await Su(_o),_o.mu.shutdown(),_o.gu.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ua(_r,_t,_o){if(!_o)throw new L(B.INVALID_ARGUMENT,`Function ${_r}() cannot be called with an empty ${_t}.`)}function ca(_r,_t,_o,yl){if(_t===!0&&yl===!0)throw new L(B.INVALID_ARGUMENT,`${_r} and ${_o} cannot be used together.`)}function aa(_r){if(!ct.isDocumentKey(_r))throw new L(B.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${_r} has ${_r.length}.`)}function ha(_r){if(ct.isDocumentKey(_r))throw new L(B.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${_r} has ${_r.length}.`)}function la(_r){if(_r===void 0)return"undefined";if(_r===null)return"null";if(typeof _r=="string")return _r.length>20&&(_r=`${_r.substring(0,20)}...`),JSON.stringify(_r);if(typeof _r=="number"||typeof _r=="boolean")return""+_r;if(typeof _r=="object"){if(_r instanceof Array)return"an array";{const _t=function(_o){return _o.constructor?_o.constructor.name:null}(_r);return _t?`a custom ${_t} object`:"an object"}}return typeof _r=="function"?"a function":O()}function fa(_r,_t){if("_delegate"in _r&&(_r=_r._delegate),!(_r instanceof _t)){if(_t.name===_r.constructor.name)throw new L(B.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const _o=la(_r);throw new L(B.INVALID_ARGUMENT,`Expected type '${_t.name}', but it was: ${_o}`)}}return _r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _a=new Map;class wa{constructor(_t){var _o;if(_t.host===void 0){if(_t.ssl!==void 0)throw new L(B.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=_t.host,this.ssl=(_o=_t.ssl)===null||_o===void 0||_o;if(this.credentials=_t.credentials,this.ignoreUndefinedProperties=!!_t.ignoreUndefinedProperties,_t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(_t.cacheSizeBytes!==-1&&_t.cacheSizeBytes<1048576)throw new L(B.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=_t.cacheSizeBytes}this.experimentalForceLongPolling=!!_t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!_t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!_t.useFetchStreams,ca("experimentalForceLongPolling",_t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",_t.experimentalAutoDetectLongPolling)}isEqual(_t){return this.host===_t.host&&this.ssl===_t.ssl&&this.credentials===_t.credentials&&this.cacheSizeBytes===_t.cacheSizeBytes&&this.experimentalForceLongPolling===_t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===_t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===_t.ignoreUndefinedProperties&&this.useFetchStreams===_t.useFetchStreams}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{constructor(_t,_o,yl,El){this._authCredentials=_t,this._appCheckCredentials=_o,this._databaseId=yl,this._app=El,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new wa({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new L(B.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(_t){if(this._settingsFrozen)throw new L(B.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new wa(_t),_t.credentials!==void 0&&(this._authCredentials=function(_o){if(!_o)return new K;switch(_o.type){case"gapi":const yl=_o.client;return new W(yl,_o.sessionIndex||"0",_o.iamToken||null,_o.authTokenFactory||null);case"provider":return _o.client;default:throw new L(B.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(_t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(_t){const _o=_a.get(_t);_o&&(C("ComponentProvider","Removing Datastore"),_a.delete(_t),_o.terminate())}(this),Promise.resolve()}}function ga(_r,_t,_o,yl={}){var El;const _l=(_r=fa(_r,ma))._getSettings();if(_l.host!=="firestore.googleapis.com"&&_l.host!==_t&&N("Host has been set in both settings() and useEmulator(), emulator host will be used"),_r._setSettings(Object.assign(Object.assign({},_l),{host:`${_t}:${_o}`,ssl:!1})),yl.mockUserToken){let Tl,Il;if(typeof yl.mockUserToken=="string")Tl=yl.mockUserToken,Il=P.MOCK_USER;else{Tl=createMockUserToken(yl.mockUserToken,(El=_r._app)===null||El===void 0?void 0:El.options.projectId);const Al=yl.mockUserToken.sub||yl.mockUserToken.user_id;if(!Al)throw new L(B.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");Il=new P(Al)}_r._authCredentials=new G(new U(Tl,Il))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ya{constructor(_t,_o,yl){this.converter=_o,this._key=yl,this.type="document",this.firestore=_t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ia(this.firestore,this.converter,this._key.path.popLast())}withConverter(_t){return new ya(this.firestore,_t,this._key)}}class pa{constructor(_t,_o,yl){this.converter=_o,this._query=yl,this.type="query",this.firestore=_t}withConverter(_t){return new pa(this.firestore,_t,this._query)}}class Ia extends pa{constructor(_t,_o,yl){super(_t,_o,ln(yl)),this._path=yl,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const _t=this._path.popLast();return _t.isEmpty()?null:new ya(this.firestore,null,new ct(_t))}withConverter(_t){return new Ia(this.firestore,_t,this._path)}}function Ta(_r,_t,..._o){if(_r=getModularInstance(_r),ua("collection","path",_t),_r instanceof ma){const yl=rt.fromString(_t,..._o);return ha(yl),new Ia(_r,null,yl)}{if(!(_r instanceof ya||_r instanceof Ia))throw new L(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const yl=_r._path.child(rt.fromString(_t,..._o));return ha(yl),new Ia(_r.firestore,null,yl)}}function Aa(_r,_t,..._o){if(_r=getModularInstance(_r),arguments.length===1&&(_t=X.R()),ua("doc","path",_t),_r instanceof ma){const yl=rt.fromString(_t,..._o);return aa(yl),new ya(_r,null,new ct(yl))}{if(!(_r instanceof ya||_r instanceof Ia))throw new L(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const yl=_r._path.child(rt.fromString(_t,..._o));return aa(yl),new ya(_r.firestore,_r instanceof Ia?_r.converter:null,new ct(yl))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va{constructor(_t){this.observer=_t,this.muted=!1}next(_t){this.observer.next&&this.Rc(this.observer.next,_t)}error(_t){this.observer.error?this.Rc(this.observer.error,_t):x("Uncaught Error in snapshot listener:",_t.toString())}bc(){this.muted=!0}Rc(_t,_o){this.muted||setTimeout(()=>{this.muted||_t(_o)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ka{constructor(_t,_o,yl,El){this.authCredentials=_t,this.appCheckCredentials=_o,this.asyncQueue=yl,this.databaseInfo=El,this.user=P.UNAUTHENTICATED,this.clientId=X.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(yl,async _l=>{C("FirestoreClient","Received user=",_l.uid),await this.authCredentialListener(_l),this.user=_l}),this.appCheckCredentials.start(yl,_l=>(C("FirestoreClient","Received new app check token=",_l),this.appCheckCredentialListener(_l,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(_t){this.authCredentialListener=_t}setAppCheckTokenChangeListener(_t){this.appCheckCredentialListener=_t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new L(B.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const _t=new q;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this.onlineComponents&&await this.onlineComponents.terminate(),this.offlineComponents&&await this.offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),_t.resolve()}catch(_o){const yl=sc(_o,"Failed to shutdown persistence");_t.reject(yl)}}),_t.promise}}async function Oa(_r,_t){_r.asyncQueue.verifyOperationInProgress(),C("FirestoreClient","Initializing OfflineComponentProvider");const _o=await _r.getConfiguration();await _t.initialize(_o);let yl=_o.initialUser;_r.setCredentialChangeListener(async El=>{yl.isEqual(El)||(await Uo(_t.localStore,El),yl=El)}),_t.persistence.setDatabaseDeletedListener(()=>_r.terminate()),_r.offlineComponents=_t}async function Ma(_r,_t){_r.asyncQueue.verifyOperationInProgress();const _o=await Fa(_r);C("FirestoreClient","Initializing OnlineComponentProvider");const yl=await _r.getConfiguration();await _t.initialize(_o,yl),_r.setCredentialChangeListener(El=>Xu(_t.remoteStore,El)),_r.setAppCheckTokenChangeListener((El,_l)=>Xu(_t.remoteStore,_l)),_r.onlineComponents=_t}async function Fa(_r){return _r.offlineComponents||(C("FirestoreClient","Using default OfflineComponentProvider"),await Oa(_r,new sa)),_r.offlineComponents}async function $a(_r){return _r.onlineComponents||(C("FirestoreClient","Using default OnlineComponentProvider"),await Ma(_r,new oa)),_r.onlineComponents}function Ua(_r){return $a(_r).then(_t=>_t.syncEngine)}async function Ga(_r){const _t=await $a(_r),_o=_t.eventManager;return _o.onListen=bc.bind(null,_t.syncEngine),_o.onUnlisten=vc.bind(null,_t.syncEngine),_o}function za(_r,_t,_o={}){const yl=new q;return _r.asyncQueue.enqueueAndForget(async()=>function(El,_l,Tl,Il,Al){const Rl=new va({next:Bl=>{_l.enqueueAndForget(()=>hc(El,Fl));const Gl=Bl.docs.has(Tl);!Gl&&Bl.fromCache?Al.reject(new L(B.UNAVAILABLE,"Failed to get document because the client is offline.")):Gl&&Bl.fromCache&&Il&&Il.source==="server"?Al.reject(new L(B.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):Al.resolve(Bl)},error:Bl=>Al.reject(Bl)}),Fl=new _c(ln(Tl.path),Rl,{includeMetadataChanges:!0,Nu:!0});return ac(El,Fl)}(await Ga(_r),_r.asyncQueue,_t,_o,yl)),yl.promise}class th{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.qc=!1,this.Uc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new Iu(this,"async_queue_retry"),this.Wc=()=>{const _o=yu();_o&&C("AsyncQueue","Visibility state changed to "+_o.visibilityState),this.xo.Po()};const _t=yu();_t&&typeof _t.addEventListener=="function"&&_t.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.qc}enqueueAndForget(_t){this.enqueue(_t)}enqueueAndForgetEvenWhileRestricted(_t){this.zc(),this.Hc(_t)}enterRestrictedMode(_t){if(!this.qc){this.qc=!0,this.Qc=_t||!1;const _o=yu();_o&&typeof _o.removeEventListener=="function"&&_o.removeEventListener("visibilitychange",this.Wc)}}enqueue(_t){if(this.zc(),this.qc)return new Promise(()=>{});const _o=new q;return this.Hc(()=>this.qc&&this.Qc?Promise.resolve():(_t().then(_o.resolve,_o.reject),_o.promise)).then(()=>_o.promise)}enqueueRetryable(_t){this.enqueueAndForget(()=>(this.Lc.push(_t),this.Jc()))}async Jc(){if(this.Lc.length!==0){try{await this.Lc[0](),this.Lc.shift(),this.xo.reset()}catch(_t){if(!Vt(_t))throw _t;C("AsyncQueue","Operation failed with retryable error: "+_t)}this.Lc.length>0&&this.xo.Ro(()=>this.Jc())}}Hc(_t){const _o=this.Bc.then(()=>(this.Gc=!0,_t().catch(yl=>{this.Kc=yl,this.Gc=!1;const El=function(_l){let Tl=_l.message||"";return _l.stack&&(Tl=_l.stack.includes(_l.message)?_l.stack:_l.message+`
`+_l.stack),Tl}(yl);throw x("INTERNAL UNHANDLED ERROR: ",El),yl}).then(yl=>(this.Gc=!1,yl))));return this.Bc=_o,_o}enqueueAfterDelay(_t,_o,yl){this.zc(),this.jc.indexOf(_t)>-1&&(_o=0);const El=nc.createAndSchedule(this,_t,_o,yl,_l=>this.Yc(_l));return this.Uc.push(El),El}zc(){this.Kc&&O()}verifyOperationInProgress(){}async Xc(){let _t;do _t=this.Bc,await _t;while(_t!==this.Bc)}Zc(_t){for(const _o of this.Uc)if(_o.timerId===_t)return!0;return!1}ta(_t){return this.Xc().then(()=>{this.Uc.sort((_o,yl)=>_o.targetTimeMs-yl.targetTimeMs);for(const _o of this.Uc)if(_o.skipDelay(),_t!=="all"&&_o.timerId===_t)break;return this.Xc()})}ea(_t){this.jc.push(_t)}Yc(_t){const _o=this.Uc.indexOf(_t);this.Uc.splice(_o,1)}}function eh(_r){return function(_t,_o){if(typeof _t!="object"||_t===null)return!1;const yl=_t;for(const El of _o)if(El in yl&&typeof yl[El]=="function")return!0;return!1}(_r,["next","error","complete"])}class ih extends ma{constructor(_t,_o,yl,El){super(_t,_o,yl,El),this.type="firestore",this._queue=new th,this._persistenceKey=(El==null?void 0:El.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||ch(this),this._firestoreClient.terminate()}}function oh(_r,_t){const _o=typeof _r=="object"?_r:getApp(),yl=typeof _r=="string"?_r:_t||"(default)",El=_getProvider(_o,"firestore").getImmediate({identifier:yl});if(!El._initialized){const _l=getDefaultEmulatorHostnameAndPort("firestore");_l&&ga(El,..._l)}return El}function uh(_r){return _r._firestoreClient||ch(_r),_r._firestoreClient.verifyNotTerminated(),_r._firestoreClient}function ch(_r){var _t;const _o=_r._freezeSettings(),yl=function(El,_l,Tl,Il){return new Mt(El,_l,Tl,Il.host,Il.ssl,Il.experimentalForceLongPolling,Il.experimentalAutoDetectLongPolling,Il.useFetchStreams)}(_r._databaseId,((_t=_r._app)===null||_t===void 0?void 0:_t.options.appId)||"",_r._persistenceKey,_o);_r._firestoreClient=new ka(_r._authCredentials,_r._appCheckCredentials,_r._queue,yl)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ih{constructor(_t){this._byteString=_t}static fromBase64String(_t){try{return new Ih(Qt.fromBase64String(_t))}catch(_o){throw new L(B.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+_o)}}static fromUint8Array(_t){return new Ih(Qt.fromUint8Array(_t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(_t){return this._byteString.isEqual(_t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Th{constructor(..._t){for(let _o=0;_o<_t.length;++_o)if(_t[_o].length===0)throw new L(B.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ut(_t)}isEqual(_t){return this._internalPath.isEqual(_t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah{constructor(_t){this._methodName=_t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh{constructor(_t,_o){if(!isFinite(_t)||_t<-90||_t>90)throw new L(B.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+_t);if(!isFinite(_o)||_o<-180||_o>180)throw new L(B.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+_o);this._lat=_t,this._long=_o}get latitude(){return this._lat}get longitude(){return this._long}isEqual(_t){return this._lat===_t._lat&&this._long===_t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(_t){return Z(this._lat,_t._lat)||Z(this._long,_t._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bh=/^__.*__$/;class Ph{constructor(_t,_o,yl){this.data=_t,this.fieldMask=_o,this.fieldTransforms=yl}toMutation(_t,_o){return this.fieldMask!==null?new ts(_t,this.data,this.fieldMask,_o,this.fieldTransforms):new Zn(_t,this.data,_o,this.fieldTransforms)}}let vh$1=class{constructor(_t,_o,yl){this.data=_t,this.fieldMask=_o,this.fieldTransforms=yl}toMutation(_t,_o){return new ts(_t,this.data,this.fieldMask,_o,this.fieldTransforms)}};function Vh(_r){switch(_r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw O()}}class Sh{constructor(_t,_o,yl,El,_l,Tl){this.settings=_t,this.databaseId=_o,this.yt=yl,this.ignoreUndefinedProperties=El,_l===void 0&&this.na(),this.fieldTransforms=_l||[],this.fieldMask=Tl||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(_t){return new Sh(Object.assign(Object.assign({},this.settings),_t),this.databaseId,this.yt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(_t){var _o;const yl=(_o=this.path)===null||_o===void 0?void 0:_o.child(_t),El=this.ia({path:yl,oa:!1});return El.ua(_t),El}ca(_t){var _o;const yl=(_o=this.path)===null||_o===void 0?void 0:_o.child(_t),El=this.ia({path:yl,oa:!1});return El.na(),El}aa(_t){return this.ia({path:void 0,oa:!0})}ha(_t){return Hh(_t,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(_t){return this.fieldMask.find(_o=>_t.isPrefixOf(_o))!==void 0||this.fieldTransforms.find(_o=>_t.isPrefixOf(_o.field))!==void 0}na(){if(this.path)for(let _t=0;_t<this.path.length;_t++)this.ua(this.path.get(_t))}ua(_t){if(_t.length===0)throw this.ha("Document fields must not be empty");if(Vh(this.sa)&&bh.test(_t))throw this.ha('Document fields cannot begin and end with "__"')}}class Dh{constructor(_t,_o,yl){this.databaseId=_t,this.ignoreUndefinedProperties=_o,this.yt=yl||pu(_t)}da(_t,_o,yl,El=!1){return new Sh({sa:_t,methodName:_o,fa:yl,path:ut.emptyPath(),oa:!1,la:El},this.databaseId,this.yt,this.ignoreUndefinedProperties)}}function Ch(_r){const _t=_r._freezeSettings(),_o=pu(_r._databaseId);return new Dh(_r._databaseId,!!_t.ignoreUndefinedProperties,_o)}function xh(_r,_t,_o,yl,El,_l={}){const Tl=_r.da(_l.merge||_l.mergeFields?2:0,_t,_o,El);Qh("Data must be an object, but it was:",Tl,yl);const Il=Kh(yl,Tl);let Al,Rl;if(_l.merge)Al=new Je(Tl.fieldMask),Rl=Tl.fieldTransforms;else if(_l.mergeFields){const Fl=[];for(const Bl of _l.mergeFields){const Gl=jh(_t,Bl,_o);if(!Tl.contains(Gl))throw new L(B.INVALID_ARGUMENT,`Field '${Gl}' is specified in your field mask but missing from your input data.`);Jh(Fl,Gl)||Fl.push(Gl)}Al=new Je(Fl),Rl=Tl.fieldTransforms.filter(Bl=>Al.covers(Bl.field))}else Al=null,Rl=Tl.fieldTransforms;return new Ph(new Ye(Il),Al,Rl)}class Nh extends Ah{_toFieldTransform(_t){if(_t.sa!==2)throw _t.sa===1?_t.ha(`${this._methodName}() can only appear at the top level of your update data`):_t.ha(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return _t.fieldMask.push(_t.path),null}isEqual(_t){return _t instanceof Nh}}function kh(_r,_t,_o){return new Sh({sa:3,fa:_t.settings.fa,methodName:_r._methodName,oa:_o},_t.databaseId,_t.yt,_t.ignoreUndefinedProperties)}class Mh extends Ah{constructor(_t,_o){super(_t),this._a=_o}_toFieldTransform(_t){const _o=kh(this,_t,!0),yl=this._a.map(_l=>Uh(_l,_o)),El=new On(yl);return new Un(_t.path,El)}isEqual(_t){return this===_t}}class Fh extends Ah{constructor(_t,_o){super(_t),this._a=_o}_toFieldTransform(_t){const _o=kh(this,_t,!0),yl=this._a.map(_l=>Uh(_l,_o)),El=new Fn(yl);return new Un(_t.path,El)}isEqual(_t){return this===_t}}function Bh(_r,_t,_o,yl){const El=_r.da(1,_t,_o);Qh("Data must be an object, but it was:",El,yl);const _l=[],Tl=Ye.empty();Bt(yl,(Al,Rl)=>{const Fl=zh(_t,Al,_o);Rl=getModularInstance(Rl);const Bl=El.ca(Fl);if(Rl instanceof Nh)_l.push(Fl);else{const Gl=Uh(Rl,Bl);Gl!=null&&(_l.push(Fl),Tl.set(Fl,Gl))}});const Il=new Je(_l);return new vh$1(Tl,Il,El.fieldTransforms)}function Lh(_r,_t,_o,yl,El,_l){const Tl=_r.da(1,_t,_o),Il=[jh(_t,yl,_o)],Al=[El];if(_l.length%2!=0)throw new L(B.INVALID_ARGUMENT,`Function ${_t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Gl=0;Gl<_l.length;Gl+=2)Il.push(jh(_t,_l[Gl])),Al.push(_l[Gl+1]);const Rl=[],Fl=Ye.empty();for(let Gl=Il.length-1;Gl>=0;--Gl)if(!Jh(Rl,Il[Gl])){const Ql=Il[Gl];let _f=Al[Gl];_f=getModularInstance(_f);const _h=Tl.ca(Ql);if(_f instanceof Nh)Rl.push(Ql);else{const vp=Uh(_f,_h);vp!=null&&(Rl.push(Ql),Fl.set(Ql,vp))}}const Bl=new Je(Rl);return new vh$1(Fl,Bl,Tl.fieldTransforms)}function Uh(_r,_t){if(Gh(_r=getModularInstance(_r)))return Qh("Unsupported field value:",_t,_r),Kh(_r,_t);if(_r instanceof Ah)return function(_o,yl){if(!Vh(yl.sa))throw yl.ha(`${_o._methodName}() can only be used with update() and set()`);if(!yl.path)throw yl.ha(`${_o._methodName}() is not currently supported inside arrays`);const El=_o._toFieldTransform(yl);El&&yl.fieldTransforms.push(El)}(_r,_t),null;if(_r===void 0&&_t.ignoreUndefinedProperties)return null;if(_t.path&&_t.fieldMask.push(_t.path),_r instanceof Array){if(_t.settings.oa&&_t.sa!==4)throw _t.ha("Nested arrays are not supported");return function(_o,yl){const El=[];let _l=0;for(const Tl of _o){let Il=Uh(Tl,yl.aa(_l));Il==null&&(Il={nullValue:"NULL_VALUE"}),El.push(Il),_l++}return{arrayValue:{values:El}}}(_r,_t)}return function(_o,yl){if((_o=getModularInstance(_o))===null)return{nullValue:"NULL_VALUE"};if(typeof _o=="number")return Sn(yl.yt,_o);if(typeof _o=="boolean")return{booleanValue:_o};if(typeof _o=="string")return{stringValue:_o};if(_o instanceof Date){const El=nt.fromDate(_o);return{timestampValue:$s(yl.yt,El)}}if(_o instanceof nt){const El=new nt(_o.seconds,1e3*Math.floor(_o.nanoseconds/1e3));return{timestampValue:$s(yl.yt,El)}}if(_o instanceof Rh)return{geoPointValue:{latitude:_o.latitude,longitude:_o.longitude}};if(_o instanceof Ih)return{bytesValue:Bs(yl.yt,_o._byteString)};if(_o instanceof ya){const El=yl.databaseId,_l=_o.firestore._databaseId;if(!_l.isEqual(El))throw yl.ha(`Document reference is for database ${_l.projectId}/${_l.database} but should be for database ${El.projectId}/${El.database}`);return{referenceValue:Us(_o.firestore._databaseId||yl.databaseId,_o._key.path)}}throw yl.ha(`Unsupported field value: ${la(_o)}`)}(_r,_t)}function Kh(_r,_t){const _o={};return Lt(_r)?_t.path&&_t.path.length>0&&_t.fieldMask.push(_t.path):Bt(_r,(yl,El)=>{const _l=Uh(El,_t.ra(yl));_l!=null&&(_o[yl]=_l)}),{mapValue:{fields:_o}}}function Gh(_r){return!(typeof _r!="object"||_r===null||_r instanceof Array||_r instanceof Date||_r instanceof nt||_r instanceof Rh||_r instanceof Ih||_r instanceof ya||_r instanceof Ah)}function Qh(_r,_t,_o){if(!Gh(_o)||!function(yl){return typeof yl=="object"&&yl!==null&&(Object.getPrototypeOf(yl)===Object.prototype||Object.getPrototypeOf(yl)===null)}(_o)){const yl=la(_o);throw yl==="an object"?_t.ha(_r+" a custom object"):_t.ha(_r+" "+yl)}}function jh(_r,_t,_o){if((_t=getModularInstance(_t))instanceof Th)return _t._internalPath;if(typeof _t=="string")return zh(_r,_t);throw Hh("Field path arguments must be of type string or ",_r,!1,void 0,_o)}const Wh=new RegExp("[~\\*/\\[\\]]");function zh(_r,_t,_o){if(_t.search(Wh)>=0)throw Hh(`Invalid field path (${_t}). Paths must not contain '~', '*', '/', '[', or ']'`,_r,!1,void 0,_o);try{return new Th(..._t.split("."))._internalPath}catch{throw Hh(`Invalid field path (${_t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,_r,!1,void 0,_o)}}function Hh(_r,_t,_o,yl,El){const _l=yl&&!yl.isEmpty(),Tl=El!==void 0;let Il=`Function ${_t}() called with invalid data`;_o&&(Il+=" (via `toFirestore()`)"),Il+=". ";let Al="";return(_l||Tl)&&(Al+=" (found",_l&&(Al+=` in field ${yl}`),Tl&&(Al+=` in document ${El}`),Al+=")"),new L(B.INVALID_ARGUMENT,Il+_r+Al)}function Jh(_r,_t){return _r.some(_o=>_o.isEqual(_t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh{constructor(_t,_o,yl,El,_l){this._firestore=_t,this._userDataWriter=_o,this._key=yl,this._document=El,this._converter=_l}get id(){return this._key.path.lastSegment()}get ref(){return new ya(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const _t=new Xh(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(_t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(_t){if(this._document){const _o=this._document.data.field(Zh("DocumentSnapshot.get",_t));if(_o!==null)return this._userDataWriter.convertValue(_o)}}}class Xh extends Yh{data(){return super.data()}}function Zh(_r,_t){return typeof _t=="string"?zh(_r,_t):_t instanceof Th?_t._internalPath:_t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tl(_r){if(_r.limitType==="L"&&_r.explicitOrderBy.length===0)throw new L(B.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Pl{convertValue(_t,_o="none"){switch(ee(_t)){case 0:return null;case 1:return _t.booleanValue;case 2:return zt(_t.integerValue||_t.doubleValue);case 3:return this.convertTimestamp(_t.timestampValue);case 4:return this.convertServerTimestamp(_t,_o);case 5:return _t.stringValue;case 6:return this.convertBytes(Ht(_t.bytesValue));case 7:return this.convertReference(_t.referenceValue);case 8:return this.convertGeoPoint(_t.geoPointValue);case 9:return this.convertArray(_t.arrayValue,_o);case 10:return this.convertObject(_t.mapValue,_o);default:throw O()}}convertObject(_t,_o){const yl={};return Bt(_t.fields,(El,_l)=>{yl[El]=this.convertValue(_l,_o)}),yl}convertGeoPoint(_t){return new Rh(zt(_t.latitude),zt(_t.longitude))}convertArray(_t,_o){return(_t.values||[]).map(yl=>this.convertValue(yl,_o))}convertServerTimestamp(_t,_o){switch(_o){case"previous":const yl=Yt(_t);return yl==null?null:this.convertValue(yl,_o);case"estimate":return this.convertTimestamp(Xt(_t));default:return null}}convertTimestamp(_t){const _o=Wt(_t);return new nt(_o.seconds,_o.nanos)}convertDocumentKey(_t,_o){const yl=rt.fromString(_t);M(wi(yl));const El=new Ft(yl.get(1),yl.get(3)),_l=new ct(yl.popFirst(5));return El.isEqual(_o)||x(`Document ${_l} contains a document reference within a different database (${El.projectId}/${El.database}) which is not supported. It will be treated as a reference in the current database (${_o.projectId}/${_o.database}) instead.`),_l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vl(_r,_t,_o){let yl;return yl=_r?_o&&(_o.merge||_o.mergeFields)?_r.toFirestore(_t,_o):_r.toFirestore(_t):_t,yl}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sl{constructor(_t,_o){this.hasPendingWrites=_t,this.fromCache=_o}isEqual(_t){return this.hasPendingWrites===_t.hasPendingWrites&&this.fromCache===_t.fromCache}}class Dl extends Yh{constructor(_t,_o,yl,El,_l,Tl){super(_t,_o,yl,El,Tl),this._firestore=_t,this._firestoreImpl=_t,this.metadata=_l}exists(){return super.exists()}data(_t={}){if(this._document){if(this._converter){const _o=new Cl(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(_o,_t)}return this._userDataWriter.convertValue(this._document.data.value,_t.serverTimestamps)}}get(_t,_o={}){if(this._document){const yl=this._document.data.field(Zh("DocumentSnapshot.get",_t));if(yl!==null)return this._userDataWriter.convertValue(yl,_o.serverTimestamps)}}}class Cl extends Dl{data(_t={}){return super.data(_t)}}class xl{constructor(_t,_o,yl,El){this._firestore=_t,this._userDataWriter=_o,this._snapshot=El,this.metadata=new Sl(El.hasPendingWrites,El.fromCache),this.query=yl}get docs(){const _t=[];return this.forEach(_o=>_t.push(_o)),_t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(_t,_o){this._snapshot.docs.forEach(yl=>{_t.call(_o,new Cl(this._firestore,this._userDataWriter,yl.key,yl,new Sl(this._snapshot.mutatedKeys.has(yl.key),this._snapshot.fromCache),this.query.converter))})}docChanges(_t={}){const _o=!!_t.includeMetadataChanges;if(_o&&this._snapshot.excludesMetadataChanges)throw new L(B.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===_o||(this._cachedChanges=function(yl,El){if(yl._snapshot.oldDocs.isEmpty()){let _l=0;return yl._snapshot.docChanges.map(Tl=>{const Il=new Cl(yl._firestore,yl._userDataWriter,Tl.doc.key,Tl.doc,new Sl(yl._snapshot.mutatedKeys.has(Tl.doc.key),yl._snapshot.fromCache),yl.query.converter);return Tl.doc,{type:"added",doc:Il,oldIndex:-1,newIndex:_l++}})}{let _l=yl._snapshot.oldDocs;return yl._snapshot.docChanges.filter(Tl=>El||Tl.type!==3).map(Tl=>{const Il=new Cl(yl._firestore,yl._userDataWriter,Tl.doc.key,Tl.doc,new Sl(yl._snapshot.mutatedKeys.has(Tl.doc.key),yl._snapshot.fromCache),yl.query.converter);let Al=-1,Rl=-1;return Tl.type!==0&&(Al=_l.indexOf(Tl.doc.key),_l=_l.delete(Tl.doc.key)),Tl.type!==1&&(_l=_l.add(Tl.doc),Rl=_l.indexOf(Tl.doc.key)),{type:Nl(Tl.type),doc:Il,oldIndex:Al,newIndex:Rl}})}}(this,_o),this._cachedChangesIncludeMetadataChanges=_o),this._cachedChanges}}function Nl(_r){switch(_r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return O()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ol(_r){_r=fa(_r,ya);const _t=fa(_r.firestore,ih);return za(uh(_t),_r._key).then(_o=>Hl(_t,_r,_o))}class Ml extends Pl{constructor(_t){super(),this.firestore=_t}convertBytes(_t){return new Ih(_t)}convertReference(_t){const _o=this.convertDocumentKey(_t,this.firestore._databaseId);return new ya(this.firestore,null,_o)}}function Ul(_r,_t,_o){_r=fa(_r,ya);const yl=fa(_r.firestore,ih),El=vl(_r.converter,_t,_o);return zl(yl,[xh(Ch(yl),"setDoc",_r._key,El,_r.converter!==null,_o).toMutation(_r._key,Qn.none())])}function Kl(_r,_t,_o,...yl){_r=fa(_r,ya);const El=fa(_r.firestore,ih),_l=Ch(El);let Tl;return Tl=typeof(_t=getModularInstance(_t))=="string"||_t instanceof Th?Lh(_l,"updateDoc",_r._key,_t,_o,yl):Bh(_l,"updateDoc",_r._key,_t),zl(El,[Tl.toMutation(_r._key,Qn.exists(!0))])}function jl(_r,..._t){var _o,yl,El;_r=getModularInstance(_r);let _l={includeMetadataChanges:!1},Tl=0;typeof _t[Tl]!="object"||eh(_t[Tl])||(_l=_t[Tl],Tl++);const Il={includeMetadataChanges:_l.includeMetadataChanges};if(eh(_t[Tl])){const Bl=_t[Tl];_t[Tl]=(_o=Bl.next)===null||_o===void 0?void 0:_o.bind(Bl),_t[Tl+1]=(yl=Bl.error)===null||yl===void 0?void 0:yl.bind(Bl),_t[Tl+2]=(El=Bl.complete)===null||El===void 0?void 0:El.bind(Bl)}let Al,Rl,Fl;if(_r instanceof ya)Rl=fa(_r.firestore,ih),Fl=ln(_r._key.path),Al={next:Bl=>{_t[Tl]&&_t[Tl](Hl(Rl,_r,Bl))},error:_t[Tl+1],complete:_t[Tl+2]};else{const Bl=fa(_r,pa);Rl=fa(Bl.firestore,ih),Fl=Bl._query;const Gl=new Ml(Rl);Al={next:Ql=>{_t[Tl]&&_t[Tl](new xl(Rl,Gl,Bl,Ql))},error:_t[Tl+1],complete:_t[Tl+2]},tl(_r._query)}return function(Bl,Gl,Ql,_f){const _h=new va(_f),vp=new _c(Gl,_h,Ql);return Bl.asyncQueue.enqueueAndForget(async()=>ac(await Ga(Bl),vp)),()=>{_h.bc(),Bl.asyncQueue.enqueueAndForget(async()=>hc(await Ga(Bl),vp))}}(uh(Rl),Fl,Il,Al)}function zl(_r,_t){return function(_o,yl){const El=new q;return _o.asyncQueue.enqueueAndForget(async()=>Vc(await Ua(_o),yl,El)),El.promise}(uh(_r),_t)}function Hl(_r,_t,_o){const yl=_o.docs.get(_t._key),El=new Ml(_r);return new Dl(_r,El,_t._key,yl,new Sl(_o.hasPendingWrites,_o.fromCache),_t.converter)}function of(..._r){return new Mh("arrayUnion",_r)}function uf(..._r){return new Fh("arrayRemove",_r)}(function(_r,_t=!0){(function(_o){v=_o})(SDK_VERSION),_registerComponent(new Component("firestore",(_o,{instanceIdentifier:yl,options:El})=>{const _l=_o.getProvider("app").getImmediate(),Tl=new ih(new Q(_o.getProvider("auth-internal")),new H(_o.getProvider("app-check-internal")),function(Il,Al){if(!Object.prototype.hasOwnProperty.apply(Il.options,["projectId"]))throw new L(B.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ft(Il.options.projectId,Al)}(_l,yl),_l);return El=Object.assign({useFetchStreams:_t},El),Tl._setSettings(El),Tl},"PUBLIC").setMultipleInstances(!0)),registerVersion(b,"3.8.3",_r),registerVersion(b,"3.8.3","esm2017")})();var name$2="firebase",version$2="9.17.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */registerVersion(name$2,version$2,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_HOST="firebasestorage.googleapis.com",CONFIG_STORAGE_BUCKET_KEY="storageBucket",DEFAULT_MAX_OPERATION_RETRY_TIME=2*60*1e3,DEFAULT_MAX_UPLOAD_RETRY_TIME=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class StorageError extends FirebaseError{constructor(_t,_o,yl=0){super(prependCode(_t),`Firebase Storage: ${_o} (${prependCode(_t)})`),this.status_=yl,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,StorageError.prototype)}get status(){return this.status_}set status(_t){this.status_=_t}_codeEquals(_t){return prependCode(_t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(_t){this.customData.serverResponse=_t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var StorageErrorCode;(function(_r){_r.UNKNOWN="unknown",_r.OBJECT_NOT_FOUND="object-not-found",_r.BUCKET_NOT_FOUND="bucket-not-found",_r.PROJECT_NOT_FOUND="project-not-found",_r.QUOTA_EXCEEDED="quota-exceeded",_r.UNAUTHENTICATED="unauthenticated",_r.UNAUTHORIZED="unauthorized",_r.UNAUTHORIZED_APP="unauthorized-app",_r.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",_r.INVALID_CHECKSUM="invalid-checksum",_r.CANCELED="canceled",_r.INVALID_EVENT_NAME="invalid-event-name",_r.INVALID_URL="invalid-url",_r.INVALID_DEFAULT_BUCKET="invalid-default-bucket",_r.NO_DEFAULT_BUCKET="no-default-bucket",_r.CANNOT_SLICE_BLOB="cannot-slice-blob",_r.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",_r.NO_DOWNLOAD_URL="no-download-url",_r.INVALID_ARGUMENT="invalid-argument",_r.INVALID_ARGUMENT_COUNT="invalid-argument-count",_r.APP_DELETED="app-deleted",_r.INVALID_ROOT_OPERATION="invalid-root-operation",_r.INVALID_FORMAT="invalid-format",_r.INTERNAL_ERROR="internal-error",_r.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(StorageErrorCode||(StorageErrorCode={}));function prependCode(_r){return"storage/"+_r}function unknown(){const _r="An unknown error occurred, please check the error payload for server response.";return new StorageError(StorageErrorCode.UNKNOWN,_r)}function retryLimitExceeded(){return new StorageError(StorageErrorCode.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function canceled(){return new StorageError(StorageErrorCode.CANCELED,"User canceled the upload/download.")}function invalidUrl(_r){return new StorageError(StorageErrorCode.INVALID_URL,"Invalid URL '"+_r+"'.")}function invalidDefaultBucket(_r){return new StorageError(StorageErrorCode.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+_r+"'.")}function invalidArgument(_r){return new StorageError(StorageErrorCode.INVALID_ARGUMENT,_r)}function appDeleted(){return new StorageError(StorageErrorCode.APP_DELETED,"The Firebase app was deleted.")}function invalidRootOperation(_r){return new StorageError(StorageErrorCode.INVALID_ROOT_OPERATION,"The operation '"+_r+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Location{constructor(_t,_o){this.bucket=_t,this.path_=_o}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const _t=encodeURIComponent;return"/b/"+_t(this.bucket)+"/o/"+_t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(_t,_o){let yl;try{yl=Location.makeFromUrl(_t,_o)}catch{return new Location(_t,"")}if(yl.path==="")return yl;throw invalidDefaultBucket(_t)}static makeFromUrl(_t,_o){let yl=null;const El="([A-Za-z0-9.\\-_]+)";function _l(Op){Op.path.charAt(Op.path.length-1)==="/"&&(Op.path_=Op.path_.slice(0,-1))}const Tl="(/(.*))?$",Il=new RegExp("^gs://"+El+Tl,"i"),Al={bucket:1,path:3};function Rl(Op){Op.path_=decodeURIComponent(Op.path)}const Fl="v[A-Za-z0-9_]+",Bl=_o.replace(/[.]/g,"\\."),Gl="(/([^?#]*).*)?$",Ql=new RegExp(`^https?://${Bl}/${Fl}/b/${El}/o${Gl}`,"i"),_f={bucket:1,path:3},_h=_o===DEFAULT_HOST?"(?:storage.googleapis.com|storage.cloud.google.com)":_o,vp="([^?#]*)",up=new RegExp(`^https?://${_h}/${El}/${vp}`,"i"),Ep=[{regex:Il,indices:Al,postModify:_l},{regex:Ql,indices:_f,postModify:Rl},{regex:up,indices:{bucket:1,path:2},postModify:Rl}];for(let Op=0;Op<Ep.length;Op++){const Ip=Ep[Op],Pp=Ip.regex.exec(_t);if(Pp){const xp=Pp[Ip.indices.bucket];let Np=Pp[Ip.indices.path];Np||(Np=""),yl=new Location(xp,Np),Ip.postModify(yl);break}}if(yl==null)throw invalidUrl(_t);return yl}}class FailRequest{constructor(_t){this.promise_=Promise.reject(_t)}getPromise(){return this.promise_}cancel(_t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function start(_r,_t,_o){let yl=1,El=null,_l=null,Tl=!1,Il=0;function Al(){return Il===2}let Rl=!1;function Fl(...vp){Rl||(Rl=!0,_t.apply(null,vp))}function Bl(vp){El=setTimeout(()=>{El=null,_r(Ql,Al())},vp)}function Gl(){_l&&clearTimeout(_l)}function Ql(vp,...up){if(Rl){Gl();return}if(vp){Gl(),Fl.call(null,vp,...up);return}if(Al()||Tl){Gl(),Fl.call(null,vp,...up);return}yl<64&&(yl*=2);let Ep;Il===1?(Il=2,Ep=0):Ep=(yl+Math.random())*1e3,Bl(Ep)}let _f=!1;function _h(vp){_f||(_f=!0,Gl(),!Rl&&(El!==null?(vp||(Il=2),clearTimeout(El),Bl(0)):vp||(Il=1)))}return Bl(0),_l=setTimeout(()=>{Tl=!0,_h(!0)},_o),_h}function stop(_r){_r(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function isJustDef(_r){return _r!==void 0}function validateNumber(_r,_t,_o,yl){if(yl<_t)throw invalidArgument(`Invalid value for '${_r}'. Expected ${_t} or greater.`);if(yl>_o)throw invalidArgument(`Invalid value for '${_r}'. Expected ${_o} or less.`)}function makeQueryString(_r){const _t=encodeURIComponent;let _o="?";for(const yl in _r)if(_r.hasOwnProperty(yl)){const El=_t(yl)+"="+_t(_r[yl]);_o=_o+El+"&"}return _o=_o.slice(0,-1),_o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ErrorCode;(function(_r){_r[_r.NO_ERROR=0]="NO_ERROR",_r[_r.NETWORK_ERROR=1]="NETWORK_ERROR",_r[_r.ABORT=2]="ABORT"})(ErrorCode||(ErrorCode={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function isRetryStatusCode(_r,_t){const _o=_r>=500&&_r<600,El=[408,429].indexOf(_r)!==-1,_l=_t.indexOf(_r)!==-1;return _o||El||_l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NetworkRequest{constructor(_t,_o,yl,El,_l,Tl,Il,Al,Rl,Fl,Bl,Gl=!0){this.url_=_t,this.method_=_o,this.headers_=yl,this.body_=El,this.successCodes_=_l,this.additionalRetryCodes_=Tl,this.callback_=Il,this.errorCallback_=Al,this.timeout_=Rl,this.progressCallback_=Fl,this.connectionFactory_=Bl,this.retry=Gl,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((Ql,_f)=>{this.resolve_=Ql,this.reject_=_f,this.start_()})}start_(){const _t=(yl,El)=>{if(El){yl(!1,new RequestEndStatus(!1,null,!0));return}const _l=this.connectionFactory_();this.pendingConnection_=_l;const Tl=Il=>{const Al=Il.loaded,Rl=Il.lengthComputable?Il.total:-1;this.progressCallback_!==null&&this.progressCallback_(Al,Rl)};this.progressCallback_!==null&&_l.addUploadProgressListener(Tl),_l.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&_l.removeUploadProgressListener(Tl),this.pendingConnection_=null;const Il=_l.getErrorCode()===ErrorCode.NO_ERROR,Al=_l.getStatus();if(!Il||isRetryStatusCode(Al,this.additionalRetryCodes_)&&this.retry){const Fl=_l.getErrorCode()===ErrorCode.ABORT;yl(!1,new RequestEndStatus(!1,null,Fl));return}const Rl=this.successCodes_.indexOf(Al)!==-1;yl(!0,new RequestEndStatus(Rl,_l))})},_o=(yl,El)=>{const _l=this.resolve_,Tl=this.reject_,Il=El.connection;if(El.wasSuccessCode)try{const Al=this.callback_(Il,Il.getResponse());isJustDef(Al)?_l(Al):_l()}catch(Al){Tl(Al)}else if(Il!==null){const Al=unknown();Al.serverResponse=Il.getErrorText(),this.errorCallback_?Tl(this.errorCallback_(Il,Al)):Tl(Al)}else if(El.canceled){const Al=this.appDelete_?appDeleted():canceled();Tl(Al)}else{const Al=retryLimitExceeded();Tl(Al)}};this.canceled_?_o(!1,new RequestEndStatus(!1,null,!0)):this.backoffId_=start(_t,_o,this.timeout_)}getPromise(){return this.promise_}cancel(_t){this.canceled_=!0,this.appDelete_=_t||!1,this.backoffId_!==null&&stop(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class RequestEndStatus{constructor(_t,_o,yl){this.wasSuccessCode=_t,this.connection=_o,this.canceled=!!yl}}function addAuthHeader_(_r,_t){_t!==null&&_t.length>0&&(_r.Authorization="Firebase "+_t)}function addVersionHeader_(_r,_t){_r["X-Firebase-Storage-Version"]="webjs/"+(_t??"AppManager")}function addGmpidHeader_(_r,_t){_t&&(_r["X-Firebase-GMPID"]=_t)}function addAppCheckHeader_(_r,_t){_t!==null&&(_r["X-Firebase-AppCheck"]=_t)}function makeRequest(_r,_t,_o,yl,El,_l,Tl=!0){const Il=makeQueryString(_r.urlParams),Al=_r.url+Il,Rl=Object.assign({},_r.headers);return addGmpidHeader_(Rl,_t),addAuthHeader_(Rl,_o),addVersionHeader_(Rl,_l),addAppCheckHeader_(Rl,yl),new NetworkRequest(Al,_r.method,Rl,_r.body,_r.successCodes,_r.additionalRetryCodes,_r.handler,_r.errorHandler,_r.timeout,_r.progressCallback,El,Tl)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function parent(_r){if(_r.length===0)return null;const _t=_r.lastIndexOf("/");return _t===-1?"":_r.slice(0,_t)}function lastComponent(_r){const _t=_r.lastIndexOf("/",_r.length-2);return _t===-1?_r:_r.slice(_t+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Reference{constructor(_t,_o){this._service=_t,_o instanceof Location?this._location=_o:this._location=Location.makeFromUrl(_o,_t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(_t,_o){return new Reference(_t,_o)}get root(){const _t=new Location(this._location.bucket,"");return this._newRef(this._service,_t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return lastComponent(this._location.path)}get storage(){return this._service}get parent(){const _t=parent(this._location.path);if(_t===null)return null;const _o=new Location(this._location.bucket,_t);return new Reference(this._service,_o)}_throwIfRoot(_t){if(this._location.path==="")throw invalidRootOperation(_t)}}function extractBucket(_r,_t){const _o=_t==null?void 0:_t[CONFIG_STORAGE_BUCKET_KEY];return _o==null?null:Location.makeFromBucketSpec(_o,_r)}function connectStorageEmulator$1(_r,_t,_o,yl={}){_r.host=`${_t}:${_o}`,_r._protocol="http";const{mockUserToken:El}=yl;El&&(_r._overrideAuthToken=typeof El=="string"?El:createMockUserToken(El,_r.app.options.projectId))}class FirebaseStorageImpl{constructor(_t,_o,yl,El,_l){this.app=_t,this._authProvider=_o,this._appCheckProvider=yl,this._url=El,this._firebaseVersion=_l,this._bucket=null,this._host=DEFAULT_HOST,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=DEFAULT_MAX_OPERATION_RETRY_TIME,this._maxUploadRetryTime=DEFAULT_MAX_UPLOAD_RETRY_TIME,this._requests=new Set,El!=null?this._bucket=Location.makeFromBucketSpec(El,this._host):this._bucket=extractBucket(this._host,this.app.options)}get host(){return this._host}set host(_t){this._host=_t,this._url!=null?this._bucket=Location.makeFromBucketSpec(this._url,_t):this._bucket=extractBucket(_t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(_t){validateNumber("time",0,Number.POSITIVE_INFINITY,_t),this._maxUploadRetryTime=_t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(_t){validateNumber("time",0,Number.POSITIVE_INFINITY,_t),this._maxOperationRetryTime=_t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const _t=this._authProvider.getImmediate({optional:!0});if(_t){const _o=await _t.getToken();if(_o!==null)return _o.accessToken}return null}async _getAppCheckToken(){const _t=this._appCheckProvider.getImmediate({optional:!0});return _t?(await _t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(_t=>_t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(_t){return new Reference(this,_t)}_makeRequest(_t,_o,yl,El,_l=!0){if(this._deleted)return new FailRequest(appDeleted());{const Tl=makeRequest(_t,this._appId,yl,El,_o,this._firebaseVersion,_l);return this._requests.add(Tl),Tl.getPromise().then(()=>this._requests.delete(Tl),()=>this._requests.delete(Tl)),Tl}}async makeRequestWithTokens(_t,_o){const[yl,El]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(_t,_o,yl,El).getPromise()}}const name$1="@firebase/storage",version$1="0.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const STORAGE_TYPE="storage";function getStorage(_r=getApp(),_t){_r=getModularInstance(_r);const yl=_getProvider(_r,STORAGE_TYPE).getImmediate({identifier:_t}),El=getDefaultEmulatorHostnameAndPort("storage");return El&&connectStorageEmulator(yl,...El),yl}function connectStorageEmulator(_r,_t,_o,yl={}){connectStorageEmulator$1(_r,_t,_o,yl)}function factory(_r,{instanceIdentifier:_t}){const _o=_r.getProvider("app").getImmediate(),yl=_r.getProvider("auth-internal"),El=_r.getProvider("app-check-internal");return new FirebaseStorageImpl(_o,yl,El,_t,SDK_VERSION)}function registerStorage(){_registerComponent(new Component(STORAGE_TYPE,factory,"PUBLIC").setMultipleInstances(!0)),registerVersion(name$1,version$1,""),registerVersion(name$1,version$1,"esm2017")}registerStorage();const firebaseConfig={apiKey:"AIzaSyAJ8vwk3rDyJUIR4D4Lbq71VanDtxi63Wg",authDomain:"chat-app-fe14a.firebaseapp.com",projectId:"chat-app-fe14a",storageBucket:"chat-app-fe14a.appspot.com",messagingSenderId:"417269468408",appId:"1:417269468408:web:0592a8fcc0c3920dd4bf0d"},app=initializeApp(firebaseConfig),auth=getAuth(app),googleProvider=new GoogleAuthProvider;new FacebookAuthProvider;getStorage(app);const database=oh(app),initialState={user:null,isLoggedIn:!1,inviteId:"",errorMessage:""},userState=createSlice({name:"user",initialState,reducers:{login(_r,_t){const{payload:_o}=_t;if(_o.user&&(_r.user=_o.user,_r.isLoggedIn=!0,_o.navigateFn("/channels"),_r.inviteId.length)){const yl=Aa(database,"channels",_r.inviteId);(async()=>await Kl(yl,{members:of({id:auth.currentUser.uid,photoURL:auth.currentUser.photoURL,name:auth.currentUser.displayName,email:auth.currentUser.email})}))()}},setInviteId(_r,_t){_r.inviteId=_t.payload.inviteId},logout(_r){_r.user=null,_r.isLoggedIn=!1},resetErrorMessage(_r,_t){window.scrollTo(0,0),_r.errorMessage=_t.payload}}}),signIn=function({type:_r,email:_t,password:_o,navigateFn:yl}){return async function(El){try{switch(_r){case"GOOGLE":{const Tl=(await signInWithPopup(auth,googleProvider)).user;El(userState.actions.login({user:Tl,navigateFn:yl}));const Il=Aa(database,"channels","16A4w32PivaHAasvXbflX1676971533389");(async()=>await Kl(Il,{members:of({id:Tl.uid,photoURL:Tl.photoURL,name:Tl.displayName,email:Tl.email})}))();break}case"EMAILANDPASSWORDLOGIN":{const Tl=(await signInWithEmailAndPassword(auth,_t,_o)).user;El(userState.actions.login({user:Tl,navigateFn:yl}));break}case"EMAILANDPASSWORDSIGNUP":{const Tl=(await createUserWithEmailAndPassword(auth,_t,_o)).user,Il=Aa(database,"channels","16A4w32PivaHAasvXbflX1676971533389");El(userState.actions.login({user:Tl,navigateFn:yl})),(async()=>await Kl(Il,{members:of({id:Tl.uid,photoURL:Tl.photoURL,name:Tl.displayName,email:Tl.email})}))()}}}catch(_l){El(actions.resetErrorMessage(_l.message)),console.log("Error:",_l.message)}}},actions=userState.actions,store=configureStore({reducer:userState.reducer,middleware:[thunk$1]}),MotionConfigContext=reactExports.createContext({transformPagePoint:_r=>_r,isStatic:!1,reducedMotion:"never"}),MotionContext=reactExports.createContext({});function useVisualElementContext(){return reactExports.useContext(MotionContext).visualElement}const PresenceContext=reactExports.createContext(null),isBrowser=typeof document<"u",useIsomorphicLayoutEffect=isBrowser?reactExports.useLayoutEffect:reactExports.useEffect,LazyContext=reactExports.createContext({strict:!1});function useVisualElement(_r,_t,_o,yl){const El=useVisualElementContext(),_l=reactExports.useContext(LazyContext),Tl=reactExports.useContext(PresenceContext),Il=reactExports.useContext(MotionConfigContext).reducedMotion,Al=reactExports.useRef();yl=yl||_l.renderer,!Al.current&&yl&&(Al.current=yl(_r,{visualState:_t,parent:El,props:_o,presenceId:Tl?Tl.id:void 0,blockInitialAnimation:Tl?Tl.initial===!1:!1,reducedMotionConfig:Il}));const Rl=Al.current;return useIsomorphicLayoutEffect(()=>{Rl&&Rl.render()}),(window.HandoffAppearAnimations?useIsomorphicLayoutEffect:reactExports.useEffect)(()=>{Rl&&Rl.animationState&&Rl.animationState.animateChanges()}),Rl}function isRefObject(_r){return typeof _r=="object"&&Object.prototype.hasOwnProperty.call(_r,"current")}function useMotionRef(_r,_t,_o){return reactExports.useCallback(yl=>{yl&&_r.mount&&_r.mount(yl),_t&&(yl?_t.mount(yl):_t.unmount()),_o&&(typeof _o=="function"?_o(yl):isRefObject(_o)&&(_o.current=yl))},[_t])}function isVariantLabel(_r){return typeof _r=="string"||Array.isArray(_r)}function isAnimationControls(_r){return typeof _r=="object"&&typeof _r.start=="function"}const variantProps$1=["initial","animate","exit","whileHover","whileDrag","whileTap","whileFocus","whileInView"];function isControllingVariants(_r){return isAnimationControls(_r.animate)||variantProps$1.some(_t=>isVariantLabel(_r[_t]))}function isVariantNode(_r){return Boolean(isControllingVariants(_r)||_r.variants)}function getCurrentTreeVariants(_r,_t){if(isControllingVariants(_r)){const{initial:_o,animate:yl}=_r;return{initial:_o===!1||isVariantLabel(_o)?_o:void 0,animate:isVariantLabel(yl)?yl:void 0}}return _r.inherit!==!1?_t:{}}function useCreateMotionContext(_r){const{initial:_t,animate:_o}=getCurrentTreeVariants(_r,reactExports.useContext(MotionContext));return reactExports.useMemo(()=>({initial:_t,animate:_o}),[variantLabelsAsDependency(_t),variantLabelsAsDependency(_o)])}function variantLabelsAsDependency(_r){return Array.isArray(_r)?_r.join(" "):_r}const createDefinition=_r=>({isEnabled:_t=>_r.some(_o=>!!_t[_o])}),featureDefinitions={measureLayout:createDefinition(["layout","layoutId","drag"]),animation:createDefinition(["animate","exit","variants","whileHover","whileTap","whileFocus","whileDrag","whileInView"]),exit:createDefinition(["exit"]),drag:createDefinition(["drag","dragControls"]),focus:createDefinition(["whileFocus"]),hover:createDefinition(["whileHover","onHoverStart","onHoverEnd"]),tap:createDefinition(["whileTap","onTap","onTapStart","onTapCancel"]),pan:createDefinition(["onPan","onPanStart","onPanSessionStart","onPanEnd"]),inView:createDefinition(["whileInView","onViewportEnter","onViewportLeave"])};function loadFeatures(_r){for(const _t in _r)_t==="projectionNodeConstructor"?featureDefinitions.projectionNodeConstructor=_r[_t]:featureDefinitions[_t].Component=_r[_t]}function useConstant(_r){const _t=reactExports.useRef(null);return _t.current===null&&(_t.current=_r()),_t.current}const globalProjectionState={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let id$1=1;function useProjectionId(){return useConstant(()=>{if(globalProjectionState.hasEverUpdated)return id$1++})}const LayoutGroupContext=reactExports.createContext({});class VisualElementHandler extends React.Component{getSnapshotBeforeUpdate(){const{visualElement:_t,props:_o}=this.props;return _t&&_t.setProps(_o),null}componentDidUpdate(){}render(){return this.props.children}}const SwitchLayoutGroupContext=reactExports.createContext({}),motionComponentSymbol=Symbol.for("motionComponentSymbol");function createMotionComponent({preloadedFeatures:_r,createVisualElement:_t,projectionNodeConstructor:_o,useRender:yl,useVisualState:El,Component:_l}){_r&&loadFeatures(_r);function Tl(Al,Rl){const Fl={...reactExports.useContext(MotionConfigContext),...Al,layoutId:useLayoutId(Al)},{isStatic:Bl}=Fl;let Gl=null;const Ql=useCreateMotionContext(Al),_f=Bl?void 0:useProjectionId(),_h=El(Al,Bl);if(!Bl&&isBrowser){Ql.visualElement=useVisualElement(_l,_h,Fl,_t);const vp=reactExports.useContext(SwitchLayoutGroupContext);Ql.visualElement&&(Gl=Ql.visualElement.loadFeatures(Fl,reactExports.useContext(LazyContext).strict,_r,_f,_o||featureDefinitions.projectionNodeConstructor,vp))}return reactExports.createElement(VisualElementHandler,{visualElement:Ql.visualElement,props:Fl},Gl,reactExports.createElement(MotionContext.Provider,{value:Ql},yl(_l,Al,_f,useMotionRef(_h,Ql.visualElement,Rl),_h,Bl,Ql.visualElement)))}const Il=reactExports.forwardRef(Tl);return Il[motionComponentSymbol]=_l,Il}function useLayoutId({layoutId:_r}){const _t=reactExports.useContext(LayoutGroupContext).id;return _t&&_r!==void 0?_t+"-"+_r:_r}function createMotionProxy(_r){function _t(yl,El={}){return createMotionComponent(_r(yl,El))}if(typeof Proxy>"u")return _t;const _o=new Map;return new Proxy(_t,{get:(yl,El)=>(_o.has(El)||_o.set(El,_t(El)),_o.get(El))})}const lowercaseSVGElements=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function isSVGComponent(_r){return typeof _r!="string"||_r.includes("-")?!1:!!(lowercaseSVGElements.indexOf(_r)>-1||/[A-Z]/.test(_r))}const scaleCorrectors={};function addScaleCorrector(_r){Object.assign(scaleCorrectors,_r)}const transformPropOrder=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],transformProps=new Set(transformPropOrder);function isForcedMotionValue(_r,{layout:_t,layoutId:_o}){return transformProps.has(_r)||_r.startsWith("origin")||(_t||_o!==void 0)&&(!!scaleCorrectors[_r]||_r==="opacity")}const isMotionValue=_r=>!!(_r!=null&&_r.getVelocity),translateAlias={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},sortTransformProps=(_r,_t)=>transformPropOrder.indexOf(_r)-transformPropOrder.indexOf(_t);function buildTransform({transform:_r,transformKeys:_t},{enableHardwareAcceleration:_o=!0,allowTransformNone:yl=!0},El,_l){let Tl="";_t.sort(sortTransformProps);for(const Il of _t)Tl+=`${translateAlias[Il]||Il}(${_r[Il]}) `;return _o&&!_r.z&&(Tl+="translateZ(0)"),Tl=Tl.trim(),_l?Tl=_l(_r,El?"":Tl):yl&&El&&(Tl="none"),Tl}function isCSSVariable$1(_r){return _r.startsWith("--")}const getValueAsType=(_r,_t)=>_t&&typeof _r=="number"?_t.transform(_r):_r,clamp=(_r,_t,_o)=>Math.min(Math.max(_o,_r),_t),number={test:_r=>typeof _r=="number",parse:parseFloat,transform:_r=>_r},alpha={...number,transform:_r=>clamp(0,1,_r)},scale={...number,default:1},sanitize=_r=>Math.round(_r*1e5)/1e5,floatRegex=/(-)?([\d]*\.?[\d])+/g,colorRegex=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,singleColorRegex=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function isString$1(_r){return typeof _r=="string"}const createUnitType=_r=>({test:_t=>isString$1(_t)&&_t.endsWith(_r)&&_t.split(" ").length===1,parse:parseFloat,transform:_t=>`${_t}${_r}`}),degrees=createUnitType("deg"),percent=createUnitType("%"),px=createUnitType("px"),vh=createUnitType("vh"),vw=createUnitType("vw"),progressPercentage={...percent,parse:_r=>percent.parse(_r)/100,transform:_r=>percent.transform(_r*100)},int={...number,transform:Math.round},numberValueTypes={borderWidth:px,borderTopWidth:px,borderRightWidth:px,borderBottomWidth:px,borderLeftWidth:px,borderRadius:px,radius:px,borderTopLeftRadius:px,borderTopRightRadius:px,borderBottomRightRadius:px,borderBottomLeftRadius:px,width:px,maxWidth:px,height:px,maxHeight:px,size:px,top:px,right:px,bottom:px,left:px,padding:px,paddingTop:px,paddingRight:px,paddingBottom:px,paddingLeft:px,margin:px,marginTop:px,marginRight:px,marginBottom:px,marginLeft:px,rotate:degrees,rotateX:degrees,rotateY:degrees,rotateZ:degrees,scale,scaleX:scale,scaleY:scale,scaleZ:scale,skew:degrees,skewX:degrees,skewY:degrees,distance:px,translateX:px,translateY:px,translateZ:px,x:px,y:px,z:px,perspective:px,transformPerspective:px,opacity:alpha,originX:progressPercentage,originY:progressPercentage,originZ:px,zIndex:int,fillOpacity:alpha,strokeOpacity:alpha,numOctaves:int};function buildHTMLStyles(_r,_t,_o,yl){const{style:El,vars:_l,transform:Tl,transformKeys:Il,transformOrigin:Al}=_r;Il.length=0;let Rl=!1,Fl=!1,Bl=!0;for(const Gl in _t){const Ql=_t[Gl];if(isCSSVariable$1(Gl)){_l[Gl]=Ql;continue}const _f=numberValueTypes[Gl],_h=getValueAsType(Ql,_f);if(transformProps.has(Gl)){if(Rl=!0,Tl[Gl]=_h,Il.push(Gl),!Bl)continue;Ql!==(_f.default||0)&&(Bl=!1)}else Gl.startsWith("origin")?(Fl=!0,Al[Gl]=_h):El[Gl]=_h}if(_t.transform||(Rl||yl?El.transform=buildTransform(_r,_o,Bl,yl):El.transform&&(El.transform="none")),Fl){const{originX:Gl="50%",originY:Ql="50%",originZ:_f=0}=Al;El.transformOrigin=`${Gl} ${Ql} ${_f}`}}const createHtmlRenderState=()=>({style:{},transform:{},transformKeys:[],transformOrigin:{},vars:{}});function copyRawValuesOnly(_r,_t,_o){for(const yl in _t)!isMotionValue(_t[yl])&&!isForcedMotionValue(yl,_o)&&(_r[yl]=_t[yl])}function useInitialMotionValues({transformTemplate:_r},_t,_o){return reactExports.useMemo(()=>{const yl=createHtmlRenderState();return buildHTMLStyles(yl,_t,{enableHardwareAcceleration:!_o},_r),Object.assign({},yl.vars,yl.style)},[_t])}function useStyle(_r,_t,_o){const yl=_r.style||{},El={};return copyRawValuesOnly(El,yl,_r),Object.assign(El,useInitialMotionValues(_r,_t,_o)),_r.transformValues?_r.transformValues(El):El}function useHTMLProps(_r,_t,_o){const yl={},El=useStyle(_r,_t,_o);return _r.drag&&_r.dragListener!==!1&&(yl.draggable=!1,El.userSelect=El.WebkitUserSelect=El.WebkitTouchCallout="none",El.touchAction=_r.drag===!0?"none":`pan-${_r.drag==="x"?"y":"x"}`),_r.tabIndex===void 0&&(_r.onTap||_r.onTapStart||_r.whileTap)&&(yl.tabIndex=0),yl.style=El,yl}const validMotionProps=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onLayoutAnimationStart","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","ignoreStrict","viewport"]);function isValidMotionProp(_r){return _r.startsWith("while")||_r.startsWith("drag")&&_r!=="draggable"||_r.startsWith("layout")||_r.startsWith("onTap")||_r.startsWith("onPan")||validMotionProps.has(_r)}let shouldForward=_r=>!isValidMotionProp(_r);function loadExternalIsValidProp(_r){_r&&(shouldForward=_t=>_t.startsWith("on")?!isValidMotionProp(_t):_r(_t))}try{loadExternalIsValidProp(require("@emotion/is-prop-valid").default)}catch{}function filterProps(_r,_t,_o){const yl={};for(const El in _r)El==="values"&&typeof _r.values=="object"||(shouldForward(El)||_o===!0&&isValidMotionProp(El)||!_t&&!isValidMotionProp(El)||_r.draggable&&El.startsWith("onDrag"))&&(yl[El]=_r[El]);return yl}function calcOrigin$1(_r,_t,_o){return typeof _r=="string"?_r:px.transform(_t+_o*_r)}function calcSVGTransformOrigin(_r,_t,_o){const yl=calcOrigin$1(_t,_r.x,_r.width),El=calcOrigin$1(_o,_r.y,_r.height);return`${yl} ${El}`}const dashKeys={offset:"stroke-dashoffset",array:"stroke-dasharray"},camelKeys={offset:"strokeDashoffset",array:"strokeDasharray"};function buildSVGPath(_r,_t,_o=1,yl=0,El=!0){_r.pathLength=1;const _l=El?dashKeys:camelKeys;_r[_l.offset]=px.transform(-yl);const Tl=px.transform(_t),Il=px.transform(_o);_r[_l.array]=`${Tl} ${Il}`}function buildSVGAttrs(_r,{attrX:_t,attrY:_o,originX:yl,originY:El,pathLength:_l,pathSpacing:Tl=1,pathOffset:Il=0,...Al},Rl,Fl,Bl){if(buildHTMLStyles(_r,Al,Rl,Bl),Fl){_r.style.viewBox&&(_r.attrs.viewBox=_r.style.viewBox);return}_r.attrs=_r.style,_r.style={};const{attrs:Gl,style:Ql,dimensions:_f}=_r;Gl.transform&&(_f&&(Ql.transform=Gl.transform),delete Gl.transform),_f&&(yl!==void 0||El!==void 0||Ql.transform)&&(Ql.transformOrigin=calcSVGTransformOrigin(_f,yl!==void 0?yl:.5,El!==void 0?El:.5)),_t!==void 0&&(Gl.x=_t),_o!==void 0&&(Gl.y=_o),_l!==void 0&&buildSVGPath(Gl,_l,Tl,Il,!1)}const createSvgRenderState=()=>({...createHtmlRenderState(),attrs:{}}),isSVGTag=_r=>typeof _r=="string"&&_r.toLowerCase()==="svg";function useSVGProps(_r,_t,_o,yl){const El=reactExports.useMemo(()=>{const _l=createSvgRenderState();return buildSVGAttrs(_l,_t,{enableHardwareAcceleration:!1},isSVGTag(yl),_r.transformTemplate),{..._l.attrs,style:{..._l.style}}},[_t]);if(_r.style){const _l={};copyRawValuesOnly(_l,_r.style,_r),El.style={..._l,...El.style}}return El}function createUseRender(_r=!1){return(_o,yl,El,_l,{latestValues:Tl},Il)=>{const Rl=(isSVGComponent(_o)?useSVGProps:useHTMLProps)(yl,Tl,Il,_o),Bl={...filterProps(yl,typeof _o=="string",_r),...Rl,ref:_l},{children:Gl}=yl,Ql=reactExports.useMemo(()=>isMotionValue(Gl)?Gl.get():Gl,[Gl]);return El&&(Bl["data-projection-id"]=El),reactExports.createElement(_o,{...Bl,children:Ql})}}const camelToDash=_r=>_r.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();function renderHTML(_r,{style:_t,vars:_o},yl,El){Object.assign(_r.style,_t,El&&El.getProjectionStyles(yl));for(const _l in _o)_r.style.setProperty(_l,_o[_l])}const camelCaseAttributes=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function renderSVG(_r,_t,_o,yl){renderHTML(_r,_t,void 0,yl);for(const El in _t.attrs)_r.setAttribute(camelCaseAttributes.has(El)?El:camelToDash(El),_t.attrs[El])}function scrapeMotionValuesFromProps$1(_r,_t){const{style:_o}=_r,yl={};for(const El in _o)(isMotionValue(_o[El])||_t.style&&isMotionValue(_t.style[El])||isForcedMotionValue(El,_r))&&(yl[El]=_o[El]);return yl}function scrapeMotionValuesFromProps(_r,_t){const _o=scrapeMotionValuesFromProps$1(_r,_t);for(const yl in _r)if(isMotionValue(_r[yl])||isMotionValue(_t[yl])){const El=yl==="x"||yl==="y"?"attr"+yl.toUpperCase():yl;_o[El]=_r[yl]}return _o}function resolveVariantFromProps(_r,_t,_o,yl={},El={}){return typeof _t=="function"&&(_t=_t(_o!==void 0?_o:_r.custom,yl,El)),typeof _t=="string"&&(_t=_r.variants&&_r.variants[_t]),typeof _t=="function"&&(_t=_t(_o!==void 0?_o:_r.custom,yl,El)),_t}const isKeyframesTarget=_r=>Array.isArray(_r),isCustomValue=_r=>Boolean(_r&&typeof _r=="object"&&_r.mix&&_r.toValue),resolveFinalValueInKeyframes=_r=>isKeyframesTarget(_r)?_r[_r.length-1]||0:_r;function resolveMotionValue(_r){const _t=isMotionValue(_r)?_r.get():_r;return isCustomValue(_t)?_t.toValue():_t}function makeState({scrapeMotionValuesFromProps:_r,createRenderState:_t,onMount:_o},yl,El,_l){const Tl={latestValues:makeLatestValues(yl,El,_l,_r),renderState:_t()};return _o&&(Tl.mount=Il=>_o(yl,Il,Tl)),Tl}const makeUseVisualState=_r=>(_t,_o)=>{const yl=reactExports.useContext(MotionContext),El=reactExports.useContext(PresenceContext),_l=()=>makeState(_r,_t,yl,El);return _o?_l():useConstant(_l)};function makeLatestValues(_r,_t,_o,yl){const El={},_l=yl(_r,{});for(const Gl in _l)El[Gl]=resolveMotionValue(_l[Gl]);let{initial:Tl,animate:Il}=_r;const Al=isControllingVariants(_r),Rl=isVariantNode(_r);_t&&Rl&&!Al&&_r.inherit!==!1&&(Tl===void 0&&(Tl=_t.initial),Il===void 0&&(Il=_t.animate));let Fl=_o?_o.initial===!1:!1;Fl=Fl||Tl===!1;const Bl=Fl?Il:Tl;return Bl&&typeof Bl!="boolean"&&!isAnimationControls(Bl)&&(Array.isArray(Bl)?Bl:[Bl]).forEach(Ql=>{const _f=resolveVariantFromProps(_r,Ql);if(!_f)return;const{transitionEnd:_h,transition:vp,...up}=_f;for(const _d in up){let Ep=up[_d];if(Array.isArray(Ep)){const Op=Fl?Ep.length-1:0;Ep=Ep[Op]}Ep!==null&&(El[_d]=Ep)}for(const _d in _h)El[_d]=_h[_d]}),El}const svgMotionConfig={useVisualState:makeUseVisualState({scrapeMotionValuesFromProps,createRenderState:createSvgRenderState,onMount:(_r,_t,{renderState:_o,latestValues:yl})=>{try{_o.dimensions=typeof _t.getBBox=="function"?_t.getBBox():_t.getBoundingClientRect()}catch{_o.dimensions={x:0,y:0,width:0,height:0}}buildSVGAttrs(_o,yl,{enableHardwareAcceleration:!1},isSVGTag(_t.tagName),_r.transformTemplate),renderSVG(_t,_o)}})},htmlMotionConfig={useVisualState:makeUseVisualState({scrapeMotionValuesFromProps:scrapeMotionValuesFromProps$1,createRenderState:createHtmlRenderState})};function createDomMotionConfig(_r,{forwardMotionProps:_t=!1},_o,yl,El){return{...isSVGComponent(_r)?svgMotionConfig:htmlMotionConfig,preloadedFeatures:_o,useRender:createUseRender(_t),createVisualElement:yl,projectionNodeConstructor:El,Component:_r}}var AnimationType;(function(_r){_r.Animate="animate",_r.Hover="whileHover",_r.Tap="whileTap",_r.Drag="whileDrag",_r.Focus="whileFocus",_r.InView="whileInView",_r.Exit="exit"})(AnimationType||(AnimationType={}));function addDomEvent(_r,_t,_o,yl={passive:!0}){return _r.addEventListener(_t,_o,yl),()=>_r.removeEventListener(_t,_o)}function useDomEvent(_r,_t,_o,yl){reactExports.useEffect(()=>{const El=_r.current;if(_o&&El)return addDomEvent(El,_t,_o,yl)},[_r,_t,_o,yl])}function useFocusGesture({whileFocus:_r,visualElement:_t}){const _o=reactExports.useRef(!1),{animationState:yl}=_t,El=reactExports.useCallback(()=>{let Tl=!1;try{Tl=_t.current.matches(":focus-visible")}catch{Tl=!0}!Tl||!yl||(yl.setActive(AnimationType.Focus,!0),_o.current=!0)},[yl]),_l=reactExports.useCallback(()=>{!_o.current||!yl||(yl.setActive(AnimationType.Focus,!1),_o.current=!1)},[yl]);useDomEvent(_t,"focus",_r?El:void 0),useDomEvent(_t,"blur",_r?_l:void 0)}const isPrimaryPointer=_r=>_r.pointerType==="mouse"?typeof _r.button!="number"||_r.button<=0:_r.isPrimary!==!1;function extractEventInfo(_r,_t="page"){return{point:{x:_r[_t+"X"],y:_r[_t+"Y"]}}}const addPointerInfo=_r=>_t=>isPrimaryPointer(_t)&&_r(_t,extractEventInfo(_t));function addPointerEvent(_r,_t,_o,yl){return addDomEvent(_r,_t,addPointerInfo(_o),yl)}function usePointerEvent(_r,_t,_o,yl){return useDomEvent(_r,_t,_o&&addPointerInfo(_o),yl)}function createLock(_r){let _t=null;return()=>{const _o=()=>{_t=null};return _t===null?(_t=_r,_o):!1}}const globalHorizontalLock=createLock("dragHorizontal"),globalVerticalLock=createLock("dragVertical");function getGlobalLock(_r){let _t=!1;if(_r==="y")_t=globalVerticalLock();else if(_r==="x")_t=globalHorizontalLock();else{const _o=globalHorizontalLock(),yl=globalVerticalLock();_o&&yl?_t=()=>{_o(),yl()}:(_o&&_o(),yl&&yl())}return _t}function isDragActive(){const _r=getGlobalLock(!0);return _r?(_r(),!1):!0}function createHoverEvent(_r,_t,_o,yl){return(El,_l)=>{El.type==="touch"||isDragActive()||(_o&&_r.animationState&&_r.animationState.setActive(AnimationType.Hover,_t),yl&&yl(El,_l))}}function useHoverGesture({onHoverStart:_r,onHoverEnd:_t,whileHover:_o,visualElement:yl}){usePointerEvent(yl,"pointerenter",reactExports.useMemo(()=>_r||_o?createHoverEvent(yl,!0,Boolean(_o),_r):void 0,[_r,Boolean(_o),yl]),{passive:!_r}),usePointerEvent(yl,"pointerleave",reactExports.useMemo(()=>_t||_o?createHoverEvent(yl,!1,Boolean(_o),_t):void 0,[_r,Boolean(_o),yl]),{passive:!_t})}const isNodeOrChild=(_r,_t)=>_t?_r===_t?!0:isNodeOrChild(_r,_t.parentElement):!1;function useUnmountEffect(_r){return reactExports.useEffect(()=>()=>_r(),[])}const combineFunctions=(_r,_t)=>_o=>_t(_r(_o)),pipe=(..._r)=>_r.reduce(combineFunctions);function fireSyntheticPointerEvent(_r,_t){if(!_t)return;const _o=new PointerEvent("pointer"+_r);_t(_o,extractEventInfo(_o))}function useTapGesture({onTap:_r,onTapStart:_t,onTapCancel:_o,whileTap:yl,visualElement:El,..._l}){const Tl=_r||_t||_o||yl,Il=reactExports.useRef(!1),Al=reactExports.useRef(null),Rl={passive:!(_t||_r||_o||_l.onPointerDown)};function Fl(){Al.current&&Al.current(),Al.current=null}function Bl(){return Fl(),Il.current=!1,El.getProps().whileTap&&El.animationState&&El.animationState.setActive(AnimationType.Tap,!1),!isDragActive()}function Gl(_d,Ep){var Op,Ip,Pp,xp;Bl()&&(isNodeOrChild(El.current,_d.target)?(xp=(Pp=El.getProps()).onTap)===null||xp===void 0||xp.call(Pp,_d,Ep):(Ip=(Op=El.getProps()).onTapCancel)===null||Ip===void 0||Ip.call(Op,_d,Ep))}function Ql(_d,Ep){var Op,Ip;Bl()&&((Ip=(Op=El.getProps()).onTapCancel)===null||Ip===void 0||Ip.call(Op,_d,Ep))}function _f(_d,Ep){var Op;const Ip=El.getProps();Ip.whileTap&&El.animationState&&El.animationState.setActive(AnimationType.Tap,!0),(Op=Ip.onTapStart)===null||Op===void 0||Op.call(Ip,_d,Ep)}const _h=[Boolean(_t),Boolean(_r),Boolean(yl),El],vp=reactExports.useCallback((_d,Ep)=>{Fl(),!Il.current&&(Il.current=!0,Al.current=pipe(addPointerEvent(window,"pointerup",Gl,Rl),addPointerEvent(window,"pointercancel",Ql,Rl)),_f(_d,Ep))},_h);usePointerEvent(El,"pointerdown",Tl?vp:void 0,Rl);const up=reactExports.useCallback(()=>{const _d=addDomEvent(El.current,"keydown",Op=>{Op.key!=="Enter"||Il.current||(Il.current=!0,Al.current=addDomEvent(El.current,"keyup",()=>{Op.key!=="Enter"||!Bl()||fireSyntheticPointerEvent("up",El.getProps().onTap)},Rl),fireSyntheticPointerEvent("down",_f))}),Ep=addDomEvent(El.current,"blur",()=>{_d(),Ep(),Il.current&&fireSyntheticPointerEvent("cancel",Ql)})},_h);useDomEvent(El,"focus",Tl?up:void 0),useUnmountEffect(Fl)}const observerCallbacks=new WeakMap,observers=new WeakMap,fireObserverCallback=_r=>{const _t=observerCallbacks.get(_r.target);_t&&_t(_r)},fireAllObserverCallbacks=_r=>{_r.forEach(fireObserverCallback)};function initIntersectionObserver({root:_r,..._t}){const _o=_r||document;observers.has(_o)||observers.set(_o,{});const yl=observers.get(_o),El=JSON.stringify(_t);return yl[El]||(yl[El]=new IntersectionObserver(fireAllObserverCallbacks,{root:_r,..._t})),yl[El]}function observeIntersection(_r,_t,_o){const yl=initIntersectionObserver(_t);return observerCallbacks.set(_r,_o),yl.observe(_r),()=>{observerCallbacks.delete(_r),yl.unobserve(_r)}}function useViewport({visualElement:_r,whileInView:_t,onViewportEnter:_o,onViewportLeave:yl,viewport:El={}}){const _l=reactExports.useRef({hasEnteredView:!1,isInView:!1});let Tl=Boolean(_t||_o||yl);El.once&&_l.current.hasEnteredView&&(Tl=!1),(typeof IntersectionObserver>"u"?useMissingIntersectionObserver:useIntersectionObserver)(Tl,_l.current,_r,El)}const thresholdNames={some:0,all:1};function useIntersectionObserver(_r,_t,_o,{root:yl,margin:El,amount:_l="some",once:Tl}){reactExports.useEffect(()=>{if(!_r||!_o.current)return;const Il={root:yl==null?void 0:yl.current,rootMargin:El,threshold:typeof _l=="number"?_l:thresholdNames[_l]},Al=Rl=>{const{isIntersecting:Fl}=Rl;if(_t.isInView===Fl||(_t.isInView=Fl,Tl&&!Fl&&_t.hasEnteredView))return;Fl&&(_t.hasEnteredView=!0),_o.animationState&&_o.animationState.setActive(AnimationType.InView,Fl);const Bl=_o.getProps(),Gl=Fl?Bl.onViewportEnter:Bl.onViewportLeave;Gl&&Gl(Rl)};return observeIntersection(_o.current,Il,Al)},[_r,yl,El,_l])}function useMissingIntersectionObserver(_r,_t,_o,{fallback:yl=!0}){reactExports.useEffect(()=>{!_r||!yl||requestAnimationFrame(()=>{_t.hasEnteredView=!0;const{onViewportEnter:El}=_o.getProps();El&&El(null),_o.animationState&&_o.animationState.setActive(AnimationType.InView,!0)})},[_r])}const makeRenderlessComponent=_r=>_t=>(_r(_t),null),gestureAnimations={inView:makeRenderlessComponent(useViewport),tap:makeRenderlessComponent(useTapGesture),focus:makeRenderlessComponent(useFocusGesture),hover:makeRenderlessComponent(useHoverGesture)};function usePresence(){const _r=reactExports.useContext(PresenceContext);if(_r===null)return[!0,null];const{isPresent:_t,onExitComplete:_o,register:yl}=_r,El=reactExports.useId();return reactExports.useEffect(()=>yl(El),[]),!_t&&_o?[!1,()=>_o&&_o(El)]:[!0]}function shallowCompare(_r,_t){if(!Array.isArray(_t))return!1;const _o=_t.length;if(_o!==_r.length)return!1;for(let yl=0;yl<_o;yl++)if(_t[yl]!==_r[yl])return!1;return!0}const isNumericalString=_r=>/^\-?\d*\.?\d+$/.test(_r),isZeroValueString=_r=>/^0[^.\s]+$/.test(_r),frameData={delta:0,timestamp:0},defaultTimestep=1/60*1e3,getCurrentTime=typeof performance<"u"?()=>performance.now():()=>Date.now(),onNextFrame=typeof window<"u"?_r=>window.requestAnimationFrame(_r):_r=>setTimeout(()=>_r(getCurrentTime()),defaultTimestep);function createRenderStep(_r){let _t=[],_o=[],yl=0,El=!1,_l=!1;const Tl=new WeakSet,Il={schedule:(Al,Rl=!1,Fl=!1)=>{const Bl=Fl&&El,Gl=Bl?_t:_o;return Rl&&Tl.add(Al),Gl.indexOf(Al)===-1&&(Gl.push(Al),Bl&&El&&(yl=_t.length)),Al},cancel:Al=>{const Rl=_o.indexOf(Al);Rl!==-1&&_o.splice(Rl,1),Tl.delete(Al)},process:Al=>{if(El){_l=!0;return}if(El=!0,[_t,_o]=[_o,_t],_o.length=0,yl=_t.length,yl)for(let Rl=0;Rl<yl;Rl++){const Fl=_t[Rl];Fl(Al),Tl.has(Fl)&&(Il.schedule(Fl),_r())}El=!1,_l&&(_l=!1,Il.process(Al))}};return Il}const maxElapsed=40;let useDefaultElapsed=!0,runNextFrame=!1,isProcessing=!1;const stepsOrder=["read","update","preRender","render","postRender"],steps=stepsOrder.reduce((_r,_t)=>(_r[_t]=createRenderStep(()=>runNextFrame=!0),_r),{}),sync=stepsOrder.reduce((_r,_t)=>{const _o=steps[_t];return _r[_t]=(yl,El=!1,_l=!1)=>(runNextFrame||startLoop(),_o.schedule(yl,El,_l)),_r},{}),cancelSync=stepsOrder.reduce((_r,_t)=>(_r[_t]=steps[_t].cancel,_r),{}),flushSync=stepsOrder.reduce((_r,_t)=>(_r[_t]=()=>steps[_t].process(frameData),_r),{}),processStep=_r=>steps[_r].process(frameData),processFrame=_r=>{runNextFrame=!1,frameData.delta=useDefaultElapsed?defaultTimestep:Math.max(Math.min(_r-frameData.timestamp,maxElapsed),1),frameData.timestamp=_r,isProcessing=!0,stepsOrder.forEach(processStep),isProcessing=!1,runNextFrame&&(useDefaultElapsed=!1,onNextFrame(processFrame))},startLoop=()=>{runNextFrame=!0,useDefaultElapsed=!0,isProcessing||onNextFrame(processFrame)};function addUniqueItem(_r,_t){_r.indexOf(_t)===-1&&_r.push(_t)}function removeItem(_r,_t){const _o=_r.indexOf(_t);_o>-1&&_r.splice(_o,1)}class SubscriptionManager{constructor(){this.subscriptions=[]}add(_t){return addUniqueItem(this.subscriptions,_t),()=>removeItem(this.subscriptions,_t)}notify(_t,_o,yl){const El=this.subscriptions.length;if(El)if(El===1)this.subscriptions[0](_t,_o,yl);else for(let _l=0;_l<El;_l++){const Tl=this.subscriptions[_l];Tl&&Tl(_t,_o,yl)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function velocityPerSecond(_r,_t){return _t?_r*(1e3/_t):0}const isFloat=_r=>!isNaN(parseFloat(_r));class MotionValue{constructor(_t,_o={}){this.version="9.0.2",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(yl,El=!0)=>{this.prev=this.current,this.current=yl;const{delta:_l,timestamp:Tl}=frameData;this.lastUpdated!==Tl&&(this.timeDelta=_l,this.lastUpdated=Tl,sync.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),El&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>sync.postRender(this.velocityCheck),this.velocityCheck=({timestamp:yl})=>{yl!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=_t,this.canTrackVelocity=isFloat(this.current),this.owner=_o.owner}onChange(_t){return this.on("change",_t)}on(_t,_o){this.events[_t]||(this.events[_t]=new SubscriptionManager);const yl=this.events[_t].add(_o);return _t==="change"?()=>{yl(),sync.read(()=>{this.events.change.getSize()||this.stop()})}:yl}clearListeners(){for(const _t in this.events)this.events[_t].clear()}attach(_t,_o){this.passiveEffect=_t,this.stopPassiveEffect=_o}set(_t,_o=!0){!_o||!this.passiveEffect?this.updateAndNotify(_t,_o):this.passiveEffect(_t,this.updateAndNotify)}setWithVelocity(_t,_o,yl){this.set(_o),this.prev=_t,this.timeDelta=yl}jump(_t){this.updateAndNotify(_t),this.prev=_t,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?velocityPerSecond(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(_t){return this.stop(),new Promise(_o=>{this.hasAnimated=!0,this.animation=_t(_o)||null,this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){this.animation=null}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function motionValue(_r,_t){return new MotionValue(_r,_t)}const isColorString=(_r,_t)=>_o=>Boolean(isString$1(_o)&&singleColorRegex.test(_o)&&_o.startsWith(_r)||_t&&Object.prototype.hasOwnProperty.call(_o,_t)),splitColor=(_r,_t,_o)=>yl=>{if(!isString$1(yl))return yl;const[El,_l,Tl,Il]=yl.match(floatRegex);return{[_r]:parseFloat(El),[_t]:parseFloat(_l),[_o]:parseFloat(Tl),alpha:Il!==void 0?parseFloat(Il):1}},clampRgbUnit=_r=>clamp(0,255,_r),rgbUnit={...number,transform:_r=>Math.round(clampRgbUnit(_r))},rgba={test:isColorString("rgb","red"),parse:splitColor("red","green","blue"),transform:({red:_r,green:_t,blue:_o,alpha:yl=1})=>"rgba("+rgbUnit.transform(_r)+", "+rgbUnit.transform(_t)+", "+rgbUnit.transform(_o)+", "+sanitize(alpha.transform(yl))+")"};function parseHex(_r){let _t="",_o="",yl="",El="";return _r.length>5?(_t=_r.substring(1,3),_o=_r.substring(3,5),yl=_r.substring(5,7),El=_r.substring(7,9)):(_t=_r.substring(1,2),_o=_r.substring(2,3),yl=_r.substring(3,4),El=_r.substring(4,5),_t+=_t,_o+=_o,yl+=yl,El+=El),{red:parseInt(_t,16),green:parseInt(_o,16),blue:parseInt(yl,16),alpha:El?parseInt(El,16)/255:1}}const hex={test:isColorString("#"),parse:parseHex,transform:rgba.transform},hsla={test:isColorString("hsl","hue"),parse:splitColor("hue","saturation","lightness"),transform:({hue:_r,saturation:_t,lightness:_o,alpha:yl=1})=>"hsla("+Math.round(_r)+", "+percent.transform(sanitize(_t))+", "+percent.transform(sanitize(_o))+", "+sanitize(alpha.transform(yl))+")"},color={test:_r=>rgba.test(_r)||hex.test(_r)||hsla.test(_r),parse:_r=>rgba.test(_r)?rgba.parse(_r):hsla.test(_r)?hsla.parse(_r):hex.parse(_r),transform:_r=>isString$1(_r)?_r:_r.hasOwnProperty("red")?rgba.transform(_r):hsla.transform(_r)},colorToken="${c}",numberToken="${n}";function test(_r){var _t,_o;return isNaN(_r)&&isString$1(_r)&&(((_t=_r.match(floatRegex))===null||_t===void 0?void 0:_t.length)||0)+(((_o=_r.match(colorRegex))===null||_o===void 0?void 0:_o.length)||0)>0}function analyseComplexValue(_r){typeof _r=="number"&&(_r=`${_r}`);const _t=[];let _o=0,yl=0;const El=_r.match(colorRegex);El&&(_o=El.length,_r=_r.replace(colorRegex,colorToken),_t.push(...El.map(color.parse)));const _l=_r.match(floatRegex);return _l&&(yl=_l.length,_r=_r.replace(floatRegex,numberToken),_t.push(..._l.map(number.parse))),{values:_t,numColors:_o,numNumbers:yl,tokenised:_r}}function parse(_r){return analyseComplexValue(_r).values}function createTransformer(_r){const{values:_t,numColors:_o,tokenised:yl}=analyseComplexValue(_r),El=_t.length;return _l=>{let Tl=yl;for(let Il=0;Il<El;Il++)Tl=Tl.replace(Il<_o?colorToken:numberToken,Il<_o?color.transform(_l[Il]):sanitize(_l[Il]));return Tl}}const convertNumbersToZero=_r=>typeof _r=="number"?0:_r;function getAnimatableNone$1(_r){const _t=parse(_r);return createTransformer(_r)(_t.map(convertNumbersToZero))}const complex={test,parse,createTransformer,getAnimatableNone:getAnimatableNone$1},maxDefaults=new Set(["brightness","contrast","saturate","opacity"]);function applyDefaultFilter(_r){const[_t,_o]=_r.slice(0,-1).split("(");if(_t==="drop-shadow")return _r;const[yl]=_o.match(floatRegex)||[];if(!yl)return _r;const El=_o.replace(yl,"");let _l=maxDefaults.has(_t)?1:0;return yl!==_o&&(_l*=100),_t+"("+_l+El+")"}const functionRegex=/([a-z-]*)\(.*?\)/g,filter={...complex,getAnimatableNone:_r=>{const _t=_r.match(functionRegex);return _t?_t.map(applyDefaultFilter).join(" "):_r}},defaultValueTypes={...numberValueTypes,color,backgroundColor:color,outlineColor:color,fill:color,stroke:color,borderColor:color,borderTopColor:color,borderRightColor:color,borderBottomColor:color,borderLeftColor:color,filter,WebkitFilter:filter},getDefaultValueType=_r=>defaultValueTypes[_r];function getAnimatableNone(_r,_t){var _o;let yl=getDefaultValueType(_r);return yl!==filter&&(yl=complex),(_o=yl.getAnimatableNone)===null||_o===void 0?void 0:_o.call(yl,_t)}const testValueType=_r=>_t=>_t.test(_r),auto={test:_r=>_r==="auto",parse:_r=>_r},dimensionValueTypes=[number,px,percent,degrees,vw,vh,auto],findDimensionValueType=_r=>dimensionValueTypes.find(testValueType(_r)),valueTypes=[...dimensionValueTypes,color,complex],findValueType=_r=>valueTypes.find(testValueType(_r));function getCurrent(_r){const _t={};return _r.values.forEach((_o,yl)=>_t[yl]=_o.get()),_t}function getVelocity$1(_r){const _t={};return _r.values.forEach((_o,yl)=>_t[yl]=_o.getVelocity()),_t}function resolveVariant(_r,_t,_o){const yl=_r.getProps();return resolveVariantFromProps(yl,_t,_o!==void 0?_o:yl.custom,getCurrent(_r),getVelocity$1(_r))}function setMotionValue(_r,_t,_o){_r.hasValue(_t)?_r.getValue(_t).set(_o):_r.addValue(_t,motionValue(_o))}function setTarget(_r,_t){const _o=resolveVariant(_r,_t);let{transitionEnd:yl={},transition:El={},..._l}=_o?_r.makeTargetAnimatable(_o,!1):{};_l={..._l,...yl};for(const Tl in _l){const Il=resolveFinalValueInKeyframes(_l[Tl]);setMotionValue(_r,Tl,Il)}}function checkTargetForNewValues(_r,_t,_o){var yl,El;const _l=Object.keys(_t).filter(Il=>!_r.hasValue(Il)),Tl=_l.length;if(Tl)for(let Il=0;Il<Tl;Il++){const Al=_l[Il],Rl=_t[Al];let Fl=null;Array.isArray(Rl)&&(Fl=Rl[0]),Fl===null&&(Fl=(El=(yl=_o[Al])!==null&&yl!==void 0?yl:_r.readValue(Al))!==null&&El!==void 0?El:_t[Al]),Fl!=null&&(typeof Fl=="string"&&(isNumericalString(Fl)||isZeroValueString(Fl))?Fl=parseFloat(Fl):!findValueType(Fl)&&complex.test(Rl)&&(Fl=getAnimatableNone(Al,Rl)),_r.addValue(Al,motionValue(Fl,{owner:_r})),_o[Al]===void 0&&(_o[Al]=Fl),Fl!==null&&_r.setBaseTarget(Al,Fl))}}function getOriginFromTransition(_r,_t){return _t?(_t[_r]||_t.default||_t).from:void 0}function getOrigin(_r,_t,_o){var yl;const El={};for(const _l in _r){const Tl=getOriginFromTransition(_l,_t);El[_l]=Tl!==void 0?Tl:(yl=_o.getValue(_l))===null||yl===void 0?void 0:yl.get()}return El}function isWillChangeMotionValue(_r){return Boolean(isMotionValue(_r)&&_r.add)}const optimizedAppearDataId="framerAppearId",optimizedAppearDataAttribute="data-"+camelToDash(optimizedAppearDataId);var warning=function(){},invariant=function(){};const secondsToMilliseconds=_r=>_r*1e3,instantAnimationState={current:!1},mirrorEasing=_r=>_t=>_t<=.5?_r(2*_t)/2:(2-_r(2*(1-_t)))/2,reverseEasing=_r=>_t=>1-_r(1-_t),easeIn=_r=>_r*_r,easeOut=reverseEasing(easeIn),easeInOut=mirrorEasing(easeIn),mix=(_r,_t,_o)=>-_o*_r+_o*_t+_r;function hueToRgb(_r,_t,_o){return _o<0&&(_o+=1),_o>1&&(_o-=1),_o<1/6?_r+(_t-_r)*6*_o:_o<1/2?_t:_o<2/3?_r+(_t-_r)*(2/3-_o)*6:_r}function hslaToRgba({hue:_r,saturation:_t,lightness:_o,alpha:yl}){_r/=360,_t/=100,_o/=100;let El=0,_l=0,Tl=0;if(!_t)El=_l=Tl=_o;else{const Il=_o<.5?_o*(1+_t):_o+_t-_o*_t,Al=2*_o-Il;El=hueToRgb(Al,Il,_r+1/3),_l=hueToRgb(Al,Il,_r),Tl=hueToRgb(Al,Il,_r-1/3)}return{red:Math.round(El*255),green:Math.round(_l*255),blue:Math.round(Tl*255),alpha:yl}}const mixLinearColor=(_r,_t,_o)=>{const yl=_r*_r;return Math.sqrt(Math.max(0,_o*(_t*_t-yl)+yl))},colorTypes=[hex,rgba,hsla],getColorType=_r=>colorTypes.find(_t=>_t.test(_r));function asRGBA(_r){const _t=getColorType(_r);let _o=_t.parse(_r);return _t===hsla&&(_o=hslaToRgba(_o)),_o}const mixColor=(_r,_t)=>{const _o=asRGBA(_r),yl=asRGBA(_t),El={..._o};return _l=>(El.red=mixLinearColor(_o.red,yl.red,_l),El.green=mixLinearColor(_o.green,yl.green,_l),El.blue=mixLinearColor(_o.blue,yl.blue,_l),El.alpha=mix(_o.alpha,yl.alpha,_l),rgba.transform(El))};function getMixer(_r,_t){return typeof _r=="number"?_o=>mix(_r,_t,_o):color.test(_r)?mixColor(_r,_t):mixComplex(_r,_t)}const mixArray=(_r,_t)=>{const _o=[..._r],yl=_o.length,El=_r.map((_l,Tl)=>getMixer(_l,_t[Tl]));return _l=>{for(let Tl=0;Tl<yl;Tl++)_o[Tl]=El[Tl](_l);return _o}},mixObject=(_r,_t)=>{const _o={..._r,..._t},yl={};for(const El in _o)_r[El]!==void 0&&_t[El]!==void 0&&(yl[El]=getMixer(_r[El],_t[El]));return El=>{for(const _l in yl)_o[_l]=yl[_l](El);return _o}},mixComplex=(_r,_t)=>{const _o=complex.createTransformer(_t),yl=analyseComplexValue(_r),El=analyseComplexValue(_t);return yl.numColors===El.numColors&&yl.numNumbers>=El.numNumbers?pipe(mixArray(yl.values,El.values),_o):Tl=>`${Tl>0?_t:_r}`},progress=(_r,_t,_o)=>{const yl=_t-_r;return yl===0?1:(_o-_r)/yl},mixNumber=(_r,_t)=>_o=>mix(_r,_t,_o);function detectMixerFactory(_r){return typeof _r=="number"?mixNumber:typeof _r=="string"?color.test(_r)?mixColor:mixComplex:Array.isArray(_r)?mixArray:typeof _r=="object"?mixObject:mixNumber}function createMixers(_r,_t,_o){const yl=[],El=_o||detectMixerFactory(_r[0]),_l=_r.length-1;for(let Tl=0;Tl<_l;Tl++){let Il=El(_r[Tl],_r[Tl+1]);if(_t){const Al=Array.isArray(_t)?_t[Tl]:_t;Il=pipe(Al,Il)}yl.push(Il)}return yl}function interpolate(_r,_t,{clamp:_o=!0,ease:yl,mixer:El}={}){const _l=_r.length;invariant(_l===_t.length),invariant(!yl||!Array.isArray(yl)||yl.length===_l-1),_r[0]>_r[_l-1]&&(_r=[..._r].reverse(),_t=[..._t].reverse());const Tl=createMixers(_t,yl,El),Il=Tl.length,Al=Rl=>{let Fl=0;if(Il>1)for(;Fl<_r.length-2&&!(Rl<_r[Fl+1]);Fl++);const Bl=progress(_r[Fl],_r[Fl+1],Rl);return Tl[Fl](Bl)};return _o?Rl=>Al(clamp(_r[0],_r[_l-1],Rl)):Al}const noop=_r=>_r,calcBezier=(_r,_t,_o)=>(((1-3*_o+3*_t)*_r+(3*_o-6*_t))*_r+3*_t)*_r,subdivisionPrecision=1e-7,subdivisionMaxIterations=12;function binarySubdivide(_r,_t,_o,yl,El){let _l,Tl,Il=0;do Tl=_t+(_o-_t)/2,_l=calcBezier(Tl,yl,El)-_r,_l>0?_o=Tl:_t=Tl;while(Math.abs(_l)>subdivisionPrecision&&++Il<subdivisionMaxIterations);return Tl}function cubicBezier(_r,_t,_o,yl){if(_r===_t&&_o===yl)return noop;const El=_l=>binarySubdivide(_l,0,1,_r,_o);return _l=>_l===0||_l===1?_l:calcBezier(El(_l),_t,yl)}const circIn=_r=>1-Math.sin(Math.acos(_r)),circOut=reverseEasing(circIn),circInOut=mirrorEasing(circOut),backOut=cubicBezier(.33,1.53,.69,.99),backIn=reverseEasing(backOut),backInOut=mirrorEasing(backIn),anticipate=_r=>(_r*=2)<1?.5*backIn(_r):.5*(2-Math.pow(2,-10*(_r-1))),easingLookup={linear:noop,easeIn,easeInOut,easeOut,circIn,circInOut,circOut,backIn,backInOut,backOut,anticipate},easingDefinitionToFunction=_r=>{if(Array.isArray(_r)){invariant(_r.length===4);const[_t,_o,yl,El]=_r;return cubicBezier(_t,_o,yl,El)}else if(typeof _r=="string")return easingLookup[_r];return _r},isEasingArray=_r=>Array.isArray(_r)&&typeof _r[0]!="number";function defaultEasing(_r,_t){return _r.map(()=>_t||easeInOut).splice(0,_r.length-1)}function defaultOffset(_r){const _t=_r.length;return _r.map((_o,yl)=>yl!==0?yl/(_t-1):0)}function convertOffsetToTimes(_r,_t){return _r.map(_o=>_o*_t)}function keyframes({keyframes:_r,ease:_t=easeInOut,times:_o,duration:yl=300}){_r=[..._r];const El=isEasingArray(_t)?_t.map(easingDefinitionToFunction):easingDefinitionToFunction(_t),_l={done:!1,value:_r[0]},Tl=convertOffsetToTimes(_o&&_o.length===_r.length?_o:defaultOffset(_r),yl);function Il(){return interpolate(Tl,_r,{ease:Array.isArray(El)?El:defaultEasing(_r,El)})}let Al=Il();return{next:Rl=>(_l.value=Al(Rl),_l.done=Rl>=yl,_l),flipTarget:()=>{_r.reverse(),Al=Il()}}}const safeMin=.001,minDuration=.01,maxDuration=10,minDamping=.05,maxDamping=1;function findSpring({duration:_r=800,bounce:_t=.25,velocity:_o=0,mass:yl=1}){let El,_l;warning(_r<=maxDuration*1e3);let Tl=1-_t;Tl=clamp(minDamping,maxDamping,Tl),_r=clamp(minDuration,maxDuration,_r/1e3),Tl<1?(El=Rl=>{const Fl=Rl*Tl,Bl=Fl*_r,Gl=Fl-_o,Ql=calcAngularFreq(Rl,Tl),_f=Math.exp(-Bl);return safeMin-Gl/Ql*_f},_l=Rl=>{const Bl=Rl*Tl*_r,Gl=Bl*_o+_o,Ql=Math.pow(Tl,2)*Math.pow(Rl,2)*_r,_f=Math.exp(-Bl),_h=calcAngularFreq(Math.pow(Rl,2),Tl);return(-El(Rl)+safeMin>0?-1:1)*((Gl-Ql)*_f)/_h}):(El=Rl=>{const Fl=Math.exp(-Rl*_r),Bl=(Rl-_o)*_r+1;return-safeMin+Fl*Bl},_l=Rl=>{const Fl=Math.exp(-Rl*_r),Bl=(_o-Rl)*(_r*_r);return Fl*Bl});const Il=5/_r,Al=approximateRoot(El,_l,Il);if(_r=_r*1e3,isNaN(Al))return{stiffness:100,damping:10,duration:_r};{const Rl=Math.pow(Al,2)*yl;return{stiffness:Rl,damping:Tl*2*Math.sqrt(yl*Rl),duration:_r}}}const rootIterations=12;function approximateRoot(_r,_t,_o){let yl=_o;for(let El=1;El<rootIterations;El++)yl=yl-_r(yl)/_t(yl);return yl}function calcAngularFreq(_r,_t){return _r*Math.sqrt(1-_t*_t)}const durationKeys=["duration","bounce"],physicsKeys=["stiffness","damping","mass"];function isSpringType(_r,_t){return _t.some(_o=>_r[_o]!==void 0)}function getSpringOptions(_r){let _t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,..._r};if(!isSpringType(_r,physicsKeys)&&isSpringType(_r,durationKeys)){const _o=findSpring(_r);_t={..._t,..._o,velocity:0,mass:1},_t.isResolvedFromDuration=!0}return _t}const velocitySampleDuration=5;function spring({keyframes:_r,restDelta:_t,restSpeed:_o,...yl}){let El=_r[0],_l=_r[_r.length-1];const Tl={done:!1,value:El},{stiffness:Il,damping:Al,mass:Rl,velocity:Fl,duration:Bl,isResolvedFromDuration:Gl}=getSpringOptions(yl);let Ql=zero,_f=Fl?-(Fl/1e3):0;const _h=Al/(2*Math.sqrt(Il*Rl));function vp(){const up=_l-El,_d=Math.sqrt(Il/Rl)/1e3,Ep=Math.abs(up)<5;if(_o||(_o=Ep?.01:2),_t||(_t=Ep?.005:.5),_h<1){const Op=calcAngularFreq(_d,_h);Ql=Ip=>{const Pp=Math.exp(-_h*_d*Ip);return _l-Pp*((_f+_h*_d*up)/Op*Math.sin(Op*Ip)+up*Math.cos(Op*Ip))}}else if(_h===1)Ql=Op=>_l-Math.exp(-_d*Op)*(up+(_f+_d*up)*Op);else{const Op=_d*Math.sqrt(_h*_h-1);Ql=Ip=>{const Pp=Math.exp(-_h*_d*Ip),xp=Math.min(Op*Ip,300);return _l-Pp*((_f+_h*_d*up)*Math.sinh(xp)+Op*up*Math.cosh(xp))/Op}}}return vp(),{next:up=>{const _d=Ql(up);if(Gl)Tl.done=up>=Bl;else{let Ep=_f;if(up!==0)if(_h<1){const Pp=Math.max(0,up-velocitySampleDuration);Ep=velocityPerSecond(_d-Ql(Pp),up-Pp)}else Ep=0;const Op=Math.abs(Ep)<=_o,Ip=Math.abs(_l-_d)<=_t;Tl.done=Op&&Ip}return Tl.value=Tl.done?_l:_d,Tl},flipTarget:()=>{_f=-_f,[El,_l]=[_l,El],vp()}}}spring.needsInterpolation=(_r,_t)=>typeof _r=="string"||typeof _t=="string";const zero=_r=>0;function decay({keyframes:_r=[0],velocity:_t=0,power:_o=.8,timeConstant:yl=350,restDelta:El=.5,modifyTarget:_l}){const Tl=_r[0],Il={done:!1,value:Tl};let Al=_o*_t;const Rl=Tl+Al,Fl=_l===void 0?Rl:_l(Rl);return Fl!==Rl&&(Al=Fl-Tl),{next:Bl=>{const Gl=-Al*Math.exp(-Bl/yl);return Il.done=!(Gl>El||Gl<-El),Il.value=Il.done?Fl:Fl+Gl,Il},flipTarget:()=>{}}}const types$1={decay,keyframes,tween:keyframes,spring};function loopElapsed(_r,_t,_o=0){return _r-_t-_o}function reverseElapsed(_r,_t=0,_o=0,yl=!0){return yl?loopElapsed(_t+-_r,_t,_o):_t-(_r-_t)+_o}function hasRepeatDelayElapsed(_r,_t,_o,yl){return yl?_r>=_t+_o:_r<=-_o}const framesync=_r=>{const _t=({delta:_o})=>_r(_o);return{start:()=>sync.update(_t,!0),stop:()=>cancelSync.update(_t)}};function animate$1({duration:_r,driver:_t=framesync,elapsed:_o=0,repeat:yl=0,repeatType:El="loop",repeatDelay:_l=0,keyframes:Tl,autoplay:Il=!0,onPlay:Al,onStop:Rl,onComplete:Fl,onRepeat:Bl,onUpdate:Gl,type:Ql="keyframes",..._f}){var _h,vp;const up=_o;let _d,Ep=0,Op=_r,Ip=!1,Pp=!0,xp;const Np=types$1[Tl.length>2?"keyframes":Ql]||keyframes,Kp=Tl[0],Tp=Tl[Tl.length-1];let Dp={done:!1,value:Kp};!((vp=(_h=Np).needsInterpolation)===null||vp===void 0)&&vp.call(_h,Kp,Tp)&&(xp=interpolate([0,100],[Kp,Tp],{clamp:!1}),Tl=[0,100]);const Bp=Np({..._f,duration:_r,keyframes:Tl});function Qp(){Ep++,El==="reverse"?(Pp=Ep%2===0,_o=reverseElapsed(_o,Op,_l,Pp)):(_o=loopElapsed(_o,Op,_l),El==="mirror"&&Bp.flipTarget()),Ip=!1,Bl&&Bl()}function Cp(){_d&&_d.stop(),Fl&&Fl()}function $p(Hp){Pp||(Hp=-Hp),_o+=Hp,Ip||(Dp=Bp.next(Math.max(0,_o)),xp&&(Dp.value=xp(Dp.value)),Ip=Pp?Dp.done:_o<=0),Gl&&Gl(Dp.value),Ip&&(Ep===0&&(Op=Op!==void 0?Op:_o),Ep<yl?hasRepeatDelayElapsed(_o,Op,_l,Pp)&&Qp():Cp())}function Vp(){Al&&Al(),_d=_t($p),_d.start()}return Il&&Vp(),{stop:()=>{Rl&&Rl(),_d&&_d.stop()},set currentTime(Hp){_o=up,$p(Hp)},sample:Hp=>{_o=up;const Up=_r&&typeof _r=="number"?Math.max(_r*.5,50):50;let Yp=0;for($p(0);Yp<=Hp;){const zp=Hp-Yp;$p(Math.min(zp,Up)),Yp+=Up}return Dp}}}function isWaapiSupportedEasing(_r){return!_r||Array.isArray(_r)||typeof _r=="string"&&supportedWaapiEasing[_r]}const cubicBezierAsString=([_r,_t,_o,yl])=>`cubic-bezier(${_r}, ${_t}, ${_o}, ${yl})`,supportedWaapiEasing={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:cubicBezierAsString([0,.65,.55,1]),circOut:cubicBezierAsString([.55,0,1,.45]),backIn:cubicBezierAsString([.31,.01,.66,-.59]),backOut:cubicBezierAsString([.33,1.53,.69,.99])};function mapEasingToNativeEasing(_r){if(_r)return Array.isArray(_r)?cubicBezierAsString(_r):supportedWaapiEasing[_r]}function animateStyle(_r,_t,_o,{delay:yl=0,duration:El,repeat:_l=0,repeatType:Tl="loop",ease:Il,times:Al}={}){return _r.animate({[_t]:_o,offset:Al},{delay:yl,duration:El,easing:mapEasingToNativeEasing(Il),fill:"both",iterations:_l+1,direction:Tl==="reverse"?"alternate":"normal"})}const featureTests={waapi:()=>Object.hasOwnProperty.call(Element.prototype,"animate")},results={},supports={};for(const _r in featureTests)supports[_r]=()=>(results[_r]===void 0&&(results[_r]=featureTests[_r]()),results[_r]);function getFinalKeyframe(_r,{repeat:_t,repeatType:_o="loop"}){const yl=_t&&_o!=="loop"&&_t%2===1?0:_r.length-1;return _r[yl]}const acceleratedValues=new Set(["opacity"]),sampleDelta=10;function createAcceleratedAnimation(_r,_t,{onUpdate:_o,onComplete:yl,...El}){if(!(supports.waapi()&&acceleratedValues.has(_t)&&!El.repeatDelay&&El.repeatType!=="mirror"&&El.damping!==0))return!1;let{keyframes:Tl,duration:Il=300,elapsed:Al=0,ease:Rl}=El;if(El.type==="spring"||!isWaapiSupportedEasing(El.ease)){if(El.repeat===1/0)return;const Bl=animate$1({...El,elapsed:0});let Gl={done:!1,value:Tl[0]};const Ql=[];let _f=0;for(;!Gl.done&&_f<2e4;)Gl=Bl.sample(_f),Ql.push(Gl.value),_f+=sampleDelta;Tl=Ql,Il=_f-sampleDelta,Rl="linear"}const Fl=animateStyle(_r.owner.current,_t,Tl,{...El,delay:-Al,duration:Il,ease:Rl});return Fl.onfinish=()=>{_r.set(getFinalKeyframe(Tl,El)),sync.update(()=>Fl.cancel()),yl&&yl()},{get currentTime(){return Fl.currentTime||0},set currentTime(Bl){Fl.currentTime=Bl},stop:()=>{const{currentTime:Bl}=Fl;if(Bl){const Gl=animate$1({...El,autoplay:!1});_r.setWithVelocity(Gl.sample(Bl-sampleDelta).value,Gl.sample(Bl).value,sampleDelta)}sync.update(()=>Fl.cancel())}}}function delay(_r,_t){const _o=performance.now(),yl=({timestamp:El})=>{const _l=El-_o;_l>=_t&&(cancelSync.read(yl),_r(_l-_t))};return sync.read(yl,!0),()=>cancelSync.read(yl)}function createInstantAnimation({keyframes:_r,elapsed:_t,onUpdate:_o,onComplete:yl}){const El=()=>{_o&&_o(_r[_r.length-1]),yl&&yl()};return _t?{stop:delay(El,-_t)}:El()}function inertia({keyframes:_r,velocity:_t=0,min:_o,max:yl,power:El=.8,timeConstant:_l=750,bounceStiffness:Tl=500,bounceDamping:Il=10,restDelta:Al=1,modifyTarget:Rl,driver:Fl,onUpdate:Bl,onComplete:Gl,onStop:Ql}){const _f=_r[0];let _h;function vp(Op){return _o!==void 0&&Op<_o||yl!==void 0&&Op>yl}function up(Op){return _o===void 0?yl:yl===void 0||Math.abs(_o-Op)<Math.abs(yl-Op)?_o:yl}function _d(Op){_h==null||_h.stop(),_h=animate$1({keyframes:[0,1],velocity:0,...Op,driver:Fl,onUpdate:Ip=>{var Pp;Bl==null||Bl(Ip),(Pp=Op.onUpdate)===null||Pp===void 0||Pp.call(Op,Ip)},onComplete:Gl,onStop:Ql})}function Ep(Op){_d({type:"spring",stiffness:Tl,damping:Il,restDelta:Al,...Op})}if(vp(_f))Ep({velocity:_t,keyframes:[_f,up(_f)]});else{let Op=El*_t+_f;typeof Rl<"u"&&(Op=Rl(Op));const Ip=up(Op),Pp=Ip===_o?-1:1;let xp,Np;const Kp=Tp=>{xp=Np,Np=Tp,_t=velocityPerSecond(Tp-xp,frameData.delta),(Pp===1&&Tp>Ip||Pp===-1&&Tp<Ip)&&Ep({keyframes:[Tp,Ip],velocity:_t})};_d({type:"decay",keyframes:[_f,0],velocity:_t,timeConstant:_l,power:El,restDelta:Al,modifyTarget:Rl,onUpdate:vp(Op)?Kp:void 0})}return{stop:()=>_h==null?void 0:_h.stop()}}const underDampedSpring=()=>({type:"spring",stiffness:500,damping:25,restSpeed:10}),criticallyDampedSpring=_r=>({type:"spring",stiffness:550,damping:_r===0?2*Math.sqrt(550):30,restSpeed:10}),linearTween=()=>({type:"keyframes",ease:"linear",duration:.3}),keyframesTransition={type:"keyframes",duration:.8},defaultTransitions={x:underDampedSpring,y:underDampedSpring,z:underDampedSpring,rotate:underDampedSpring,rotateX:underDampedSpring,rotateY:underDampedSpring,rotateZ:underDampedSpring,scaleX:criticallyDampedSpring,scaleY:criticallyDampedSpring,scale:criticallyDampedSpring,opacity:linearTween,backgroundColor:linearTween,color:linearTween,default:criticallyDampedSpring},getDefaultTransition=(_r,{keyframes:_t})=>_t.length>2?keyframesTransition:(defaultTransitions[_r]||defaultTransitions.default)(_t[1]),isAnimatable=(_r,_t)=>_r==="zIndex"?!1:!!(typeof _t=="number"||Array.isArray(_t)||typeof _t=="string"&&complex.test(_t)&&!_t.startsWith("url("));function isTransitionDefined({when:_r,delay:_t,delayChildren:_o,staggerChildren:yl,staggerDirection:El,repeat:_l,repeatType:Tl,repeatDelay:Il,from:Al,elapsed:Rl,...Fl}){return!!Object.keys(Fl).length}function isZero(_r){return _r===0||typeof _r=="string"&&parseFloat(_r)===0&&_r.indexOf(" ")===-1}function getZeroUnit(_r){return typeof _r=="number"?0:getAnimatableNone("",_r)}function getValueTransition(_r,_t){return _r[_t]||_r.default||_r}function getKeyframes(_r,_t,_o,yl){const El=isAnimatable(_t,_o);let _l=yl.from!==void 0?yl.from:_r.get();return _l==="none"&&El&&typeof _o=="string"?_l=getAnimatableNone(_t,_o):isZero(_l)&&typeof _o=="string"?_l=getZeroUnit(_o):!Array.isArray(_o)&&isZero(_o)&&typeof _l=="string"&&(_o=getZeroUnit(_l)),Array.isArray(_o)?(_o[0]===null&&(_o[0]=_l),_o):[_l,_o]}const createMotionValueAnimation=(_r,_t,_o,yl={})=>El=>{const _l=getValueTransition(yl,_r)||{},Tl=_l.delay||yl.delay||0;let{elapsed:Il=0}=yl;Il=Il-secondsToMilliseconds(Tl);const Al=getKeyframes(_t,_r,_o,_l),Rl=Al[0],Fl=Al[Al.length-1],Bl=isAnimatable(_r,Rl),Gl=isAnimatable(_r,Fl);let Ql={keyframes:Al,velocity:_t.getVelocity(),..._l,elapsed:Il,onUpdate:vp=>{_t.set(vp),_l.onUpdate&&_l.onUpdate(vp)},onComplete:()=>{El(),_l.onComplete&&_l.onComplete()}};if(!Bl||!Gl||instantAnimationState.current||_l.type===!1)return createInstantAnimation(Ql);if(_l.type==="inertia")return inertia(Ql);isTransitionDefined(_l)||(Ql={...Ql,...getDefaultTransition(_r,Ql)}),Ql.duration&&(Ql.duration=secondsToMilliseconds(Ql.duration)),Ql.repeatDelay&&(Ql.repeatDelay=secondsToMilliseconds(Ql.repeatDelay));const _f=_t.owner,_h=_f&&_f.current;if(_f&&_h instanceof HTMLElement&&!(_f!=null&&_f.getProps().onUpdate)){const vp=createAcceleratedAnimation(_t,_r,Ql);if(vp)return vp}return animate$1(Ql)};function animateVisualElement(_r,_t,_o={}){_r.notify("AnimationStart",_t);let yl;if(Array.isArray(_t)){const El=_t.map(_l=>animateVariant(_r,_l,_o));yl=Promise.all(El)}else if(typeof _t=="string")yl=animateVariant(_r,_t,_o);else{const El=typeof _t=="function"?resolveVariant(_r,_t,_o.custom):_t;yl=animateTarget(_r,El,_o)}return yl.then(()=>_r.notify("AnimationComplete",_t))}function animateVariant(_r,_t,_o={}){var yl;const El=resolveVariant(_r,_t,_o.custom);let{transition:_l=_r.getDefaultTransition()||{}}=El||{};_o.transitionOverride&&(_l=_o.transitionOverride);const Tl=El?()=>animateTarget(_r,El,_o):()=>Promise.resolve(),Il=!((yl=_r.variantChildren)===null||yl===void 0)&&yl.size?(Rl=0)=>{const{delayChildren:Fl=0,staggerChildren:Bl,staggerDirection:Gl}=_l;return animateChildren(_r,_t,Fl+Rl,Bl,Gl,_o)}:()=>Promise.resolve(),{when:Al}=_l;if(Al){const[Rl,Fl]=Al==="beforeChildren"?[Tl,Il]:[Il,Tl];return Rl().then(Fl)}else return Promise.all([Tl(),Il(_o.delay)])}function animateTarget(_r,_t,{delay:_o=0,transitionOverride:yl,type:El}={}){var _l;let{transition:Tl=_r.getDefaultTransition(),transitionEnd:Il,...Al}=_r.makeTargetAnimatable(_t);const Rl=_r.getValue("willChange");yl&&(Tl=yl);const Fl=[],Bl=El&&((_l=_r.animationState)===null||_l===void 0?void 0:_l.getState()[El]);for(const Gl in Al){const Ql=_r.getValue(Gl),_f=Al[Gl];if(!Ql||_f===void 0||Bl&&shouldBlockAnimation(Bl,Gl))continue;const _h={delay:_o,elapsed:0,...Tl};if(window.HandoffAppearAnimations&&!Ql.hasAnimated){const up=_r.getProps()[optimizedAppearDataAttribute];up&&(_h.elapsed=window.HandoffAppearAnimations(up,Gl,Ql,sync))}let vp=Ql.start(createMotionValueAnimation(Gl,Ql,_f,_r.shouldReduceMotion&&transformProps.has(Gl)?{type:!1}:_h));isWillChangeMotionValue(Rl)&&(Rl.add(Gl),vp=vp.then(()=>Rl.remove(Gl))),Fl.push(vp)}return Promise.all(Fl).then(()=>{Il&&setTarget(_r,Il)})}function animateChildren(_r,_t,_o=0,yl=0,El=1,_l){const Tl=[],Il=(_r.variantChildren.size-1)*yl,Al=El===1?(Rl=0)=>Rl*yl:(Rl=0)=>Il-Rl*yl;return Array.from(_r.variantChildren).sort(sortByTreeOrder).forEach((Rl,Fl)=>{Rl.notify("AnimationStart",_t),Tl.push(animateVariant(Rl,_t,{..._l,delay:_o+Al(Fl)}).then(()=>Rl.notify("AnimationComplete",_t)))}),Promise.all(Tl)}function sortByTreeOrder(_r,_t){return _r.sortNodePosition(_t)}function shouldBlockAnimation({protectedKeys:_r,needsAnimating:_t},_o){const yl=_r.hasOwnProperty(_o)&&_t[_o]!==!0;return _t[_o]=!1,yl}const variantPriorityOrder=[AnimationType.Animate,AnimationType.InView,AnimationType.Focus,AnimationType.Hover,AnimationType.Tap,AnimationType.Drag,AnimationType.Exit],reversePriorityOrder=[...variantPriorityOrder].reverse(),numAnimationTypes=variantPriorityOrder.length;function animateList(_r){return _t=>Promise.all(_t.map(({animation:_o,options:yl})=>animateVisualElement(_r,_o,yl)))}function createAnimationState(_r){let _t=animateList(_r);const _o=createState();let yl=!0;const El=(Al,Rl)=>{const Fl=resolveVariant(_r,Rl);if(Fl){const{transition:Bl,transitionEnd:Gl,...Ql}=Fl;Al={...Al,...Ql,...Gl}}return Al};function _l(Al){_t=Al(_r)}function Tl(Al,Rl){const Fl=_r.getProps(),Bl=_r.getVariantContext(!0)||{},Gl=[],Ql=new Set;let _f={},_h=1/0;for(let up=0;up<numAnimationTypes;up++){const _d=reversePriorityOrder[up],Ep=_o[_d],Op=Fl[_d]!==void 0?Fl[_d]:Bl[_d],Ip=isVariantLabel(Op),Pp=_d===Rl?Ep.isActive:null;Pp===!1&&(_h=up);let xp=Op===Bl[_d]&&Op!==Fl[_d]&&Ip;if(xp&&yl&&_r.manuallyAnimateOnMount&&(xp=!1),Ep.protectedKeys={..._f},!Ep.isActive&&Pp===null||!Op&&!Ep.prevProp||isAnimationControls(Op)||typeof Op=="boolean")continue;const Np=checkVariantsDidChange(Ep.prevProp,Op);let Kp=Np||_d===Rl&&Ep.isActive&&!xp&&Ip||up>_h&&Ip;const Tp=Array.isArray(Op)?Op:[Op];let Dp=Tp.reduce(El,{});Pp===!1&&(Dp={});const{prevResolvedValues:Bp={}}=Ep,Qp={...Bp,...Dp},Cp=$p=>{Kp=!0,Ql.delete($p),Ep.needsAnimating[$p]=!0};for(const $p in Qp){const Vp=Dp[$p],Hp=Bp[$p];_f.hasOwnProperty($p)||(Vp!==Hp?isKeyframesTarget(Vp)&&isKeyframesTarget(Hp)?!shallowCompare(Vp,Hp)||Np?Cp($p):Ep.protectedKeys[$p]=!0:Vp!==void 0?Cp($p):Ql.add($p):Vp!==void 0&&Ql.has($p)?Cp($p):Ep.protectedKeys[$p]=!0)}Ep.prevProp=Op,Ep.prevResolvedValues=Dp,Ep.isActive&&(_f={..._f,...Dp}),yl&&_r.blockInitialAnimation&&(Kp=!1),Kp&&!xp&&Gl.push(...Tp.map($p=>({animation:$p,options:{type:_d,...Al}})))}if(Ql.size){const up={};Ql.forEach(_d=>{const Ep=_r.getBaseTarget(_d);Ep!==void 0&&(up[_d]=Ep)}),Gl.push({animation:up})}let vp=Boolean(Gl.length);return yl&&Fl.initial===!1&&!_r.manuallyAnimateOnMount&&(vp=!1),yl=!1,vp?_t(Gl):Promise.resolve()}function Il(Al,Rl,Fl){var Bl;if(_o[Al].isActive===Rl)return Promise.resolve();(Bl=_r.variantChildren)===null||Bl===void 0||Bl.forEach(Ql=>{var _f;return(_f=Ql.animationState)===null||_f===void 0?void 0:_f.setActive(Al,Rl)}),_o[Al].isActive=Rl;const Gl=Tl(Fl,Al);for(const Ql in _o)_o[Ql].protectedKeys={};return Gl}return{animateChanges:Tl,setActive:Il,setAnimateFunction:_l,getState:()=>_o}}function checkVariantsDidChange(_r,_t){return typeof _t=="string"?_t!==_r:Array.isArray(_t)?!shallowCompare(_t,_r):!1}function createTypeState(_r=!1){return{isActive:_r,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function createState(){return{[AnimationType.Animate]:createTypeState(!0),[AnimationType.InView]:createTypeState(),[AnimationType.Hover]:createTypeState(),[AnimationType.Tap]:createTypeState(),[AnimationType.Drag]:createTypeState(),[AnimationType.Focus]:createTypeState(),[AnimationType.Exit]:createTypeState()}}const animations={animation:makeRenderlessComponent(({visualElement:_r,animate:_t})=>{_r.animationState||(_r.animationState=createAnimationState(_r)),isAnimationControls(_t)&&reactExports.useEffect(()=>_t.subscribe(_r),[_t])}),exit:makeRenderlessComponent(_r=>{const{custom:_t,visualElement:_o}=_r,[yl,El]=usePresence(),_l=reactExports.useContext(PresenceContext);reactExports.useEffect(()=>{_o.isPresent=yl;const Tl=_o.animationState&&_o.animationState.setActive(AnimationType.Exit,!yl,{custom:_l&&_l.custom||_t});Tl&&!yl&&Tl.then(El)},[yl])})},distance=(_r,_t)=>Math.abs(_r-_t);function distance2D(_r,_t){const _o=distance(_r.x,_t.x),yl=distance(_r.y,_t.y);return Math.sqrt(_o**2+yl**2)}class PanSession{constructor(_t,_o,{transformPagePoint:yl}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const Rl=getPanInfo(this.lastMoveEventInfo,this.history),Fl=this.startEvent!==null,Bl=distance2D(Rl.offset,{x:0,y:0})>=3;if(!Fl&&!Bl)return;const{point:Gl}=Rl,{timestamp:Ql}=frameData;this.history.push({...Gl,timestamp:Ql});const{onStart:_f,onMove:_h}=this.handlers;Fl||(_f&&_f(this.lastMoveEvent,Rl),this.startEvent=this.lastMoveEvent),_h&&_h(this.lastMoveEvent,Rl)},this.handlePointerMove=(Rl,Fl)=>{this.lastMoveEvent=Rl,this.lastMoveEventInfo=transformPoint(Fl,this.transformPagePoint),sync.update(this.updatePoint,!0)},this.handlePointerUp=(Rl,Fl)=>{if(this.end(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const{onEnd:Bl,onSessionEnd:Gl}=this.handlers,Ql=getPanInfo(Rl.type==="pointercancel"?this.lastMoveEventInfo:transformPoint(Fl,this.transformPagePoint),this.history);this.startEvent&&Bl&&Bl(Rl,Ql),Gl&&Gl(Rl,Ql)},!isPrimaryPointer(_t))return;this.handlers=_o,this.transformPagePoint=yl;const El=extractEventInfo(_t),_l=transformPoint(El,this.transformPagePoint),{point:Tl}=_l,{timestamp:Il}=frameData;this.history=[{...Tl,timestamp:Il}];const{onSessionStart:Al}=_o;Al&&Al(_t,getPanInfo(_l,this.history)),this.removeListeners=pipe(addPointerEvent(window,"pointermove",this.handlePointerMove),addPointerEvent(window,"pointerup",this.handlePointerUp),addPointerEvent(window,"pointercancel",this.handlePointerUp))}updateHandlers(_t){this.handlers=_t}end(){this.removeListeners&&this.removeListeners(),cancelSync.update(this.updatePoint)}}function transformPoint(_r,_t){return _t?{point:_t(_r.point)}:_r}function subtractPoint(_r,_t){return{x:_r.x-_t.x,y:_r.y-_t.y}}function getPanInfo({point:_r},_t){return{point:_r,delta:subtractPoint(_r,lastDevicePoint(_t)),offset:subtractPoint(_r,startDevicePoint(_t)),velocity:getVelocity(_t,.1)}}function startDevicePoint(_r){return _r[0]}function lastDevicePoint(_r){return _r[_r.length-1]}function getVelocity(_r,_t){if(_r.length<2)return{x:0,y:0};let _o=_r.length-1,yl=null;const El=lastDevicePoint(_r);for(;_o>=0&&(yl=_r[_o],!(El.timestamp-yl.timestamp>secondsToMilliseconds(_t)));)_o--;if(!yl)return{x:0,y:0};const _l=(El.timestamp-yl.timestamp)/1e3;if(_l===0)return{x:0,y:0};const Tl={x:(El.x-yl.x)/_l,y:(El.y-yl.y)/_l};return Tl.x===1/0&&(Tl.x=0),Tl.y===1/0&&(Tl.y=0),Tl}function calcLength(_r){return _r.max-_r.min}function isNear(_r,_t=0,_o=.01){return Math.abs(_r-_t)<=_o}function calcAxisDelta(_r,_t,_o,yl=.5){_r.origin=yl,_r.originPoint=mix(_t.min,_t.max,_r.origin),_r.scale=calcLength(_o)/calcLength(_t),(isNear(_r.scale,1,1e-4)||isNaN(_r.scale))&&(_r.scale=1),_r.translate=mix(_o.min,_o.max,_r.origin)-_r.originPoint,(isNear(_r.translate)||isNaN(_r.translate))&&(_r.translate=0)}function calcBoxDelta(_r,_t,_o,yl){calcAxisDelta(_r.x,_t.x,_o.x,yl==null?void 0:yl.originX),calcAxisDelta(_r.y,_t.y,_o.y,yl==null?void 0:yl.originY)}function calcRelativeAxis(_r,_t,_o){_r.min=_o.min+_t.min,_r.max=_r.min+calcLength(_t)}function calcRelativeBox(_r,_t,_o){calcRelativeAxis(_r.x,_t.x,_o.x),calcRelativeAxis(_r.y,_t.y,_o.y)}function calcRelativeAxisPosition(_r,_t,_o){_r.min=_t.min-_o.min,_r.max=_r.min+calcLength(_t)}function calcRelativePosition(_r,_t,_o){calcRelativeAxisPosition(_r.x,_t.x,_o.x),calcRelativeAxisPosition(_r.y,_t.y,_o.y)}function applyConstraints(_r,{min:_t,max:_o},yl){return _t!==void 0&&_r<_t?_r=yl?mix(_t,_r,yl.min):Math.max(_r,_t):_o!==void 0&&_r>_o&&(_r=yl?mix(_o,_r,yl.max):Math.min(_r,_o)),_r}function calcRelativeAxisConstraints(_r,_t,_o){return{min:_t!==void 0?_r.min+_t:void 0,max:_o!==void 0?_r.max+_o-(_r.max-_r.min):void 0}}function calcRelativeConstraints(_r,{top:_t,left:_o,bottom:yl,right:El}){return{x:calcRelativeAxisConstraints(_r.x,_o,El),y:calcRelativeAxisConstraints(_r.y,_t,yl)}}function calcViewportAxisConstraints(_r,_t){let _o=_t.min-_r.min,yl=_t.max-_r.max;return _t.max-_t.min<_r.max-_r.min&&([_o,yl]=[yl,_o]),{min:_o,max:yl}}function calcViewportConstraints(_r,_t){return{x:calcViewportAxisConstraints(_r.x,_t.x),y:calcViewportAxisConstraints(_r.y,_t.y)}}function calcOrigin(_r,_t){let _o=.5;const yl=calcLength(_r),El=calcLength(_t);return El>yl?_o=progress(_t.min,_t.max-yl,_r.min):yl>El&&(_o=progress(_r.min,_r.max-El,_t.min)),clamp(0,1,_o)}function rebaseAxisConstraints(_r,_t){const _o={};return _t.min!==void 0&&(_o.min=_t.min-_r.min),_t.max!==void 0&&(_o.max=_t.max-_r.min),_o}const defaultElastic=.35;function resolveDragElastic(_r=defaultElastic){return _r===!1?_r=0:_r===!0&&(_r=defaultElastic),{x:resolveAxisElastic(_r,"left","right"),y:resolveAxisElastic(_r,"top","bottom")}}function resolveAxisElastic(_r,_t,_o){return{min:resolvePointElastic(_r,_t),max:resolvePointElastic(_r,_o)}}function resolvePointElastic(_r,_t){return typeof _r=="number"?_r:_r[_t]||0}const createAxisDelta=()=>({translate:0,scale:1,origin:0,originPoint:0}),createDelta=()=>({x:createAxisDelta(),y:createAxisDelta()}),createAxis=()=>({min:0,max:0}),createBox=()=>({x:createAxis(),y:createAxis()});function eachAxis(_r){return[_r("x"),_r("y")]}function convertBoundingBoxToBox({top:_r,left:_t,right:_o,bottom:yl}){return{x:{min:_t,max:_o},y:{min:_r,max:yl}}}function convertBoxToBoundingBox({x:_r,y:_t}){return{top:_t.min,right:_r.max,bottom:_t.max,left:_r.min}}function transformBoxPoints(_r,_t){if(!_t)return _r;const _o=_t({x:_r.left,y:_r.top}),yl=_t({x:_r.right,y:_r.bottom});return{top:_o.y,left:_o.x,bottom:yl.y,right:yl.x}}function isIdentityScale(_r){return _r===void 0||_r===1}function hasScale({scale:_r,scaleX:_t,scaleY:_o}){return!isIdentityScale(_r)||!isIdentityScale(_t)||!isIdentityScale(_o)}function hasTransform(_r){return hasScale(_r)||has2DTranslate(_r)||_r.z||_r.rotate||_r.rotateX||_r.rotateY}function has2DTranslate(_r){return is2DTranslate(_r.x)||is2DTranslate(_r.y)}function is2DTranslate(_r){return _r&&_r!=="0%"}function scalePoint(_r,_t,_o){const yl=_r-_o,El=_t*yl;return _o+El}function applyPointDelta(_r,_t,_o,yl,El){return El!==void 0&&(_r=scalePoint(_r,El,yl)),scalePoint(_r,_o,yl)+_t}function applyAxisDelta(_r,_t=0,_o=1,yl,El){_r.min=applyPointDelta(_r.min,_t,_o,yl,El),_r.max=applyPointDelta(_r.max,_t,_o,yl,El)}function applyBoxDelta(_r,{x:_t,y:_o}){applyAxisDelta(_r.x,_t.translate,_t.scale,_t.originPoint),applyAxisDelta(_r.y,_o.translate,_o.scale,_o.originPoint)}function applyTreeDeltas(_r,_t,_o,yl=!1){var El,_l;const Tl=_o.length;if(!Tl)return;_t.x=_t.y=1;let Il,Al;for(let Rl=0;Rl<Tl;Rl++)Il=_o[Rl],Al=Il.projectionDelta,((_l=(El=Il.instance)===null||El===void 0?void 0:El.style)===null||_l===void 0?void 0:_l.display)!=="contents"&&(yl&&Il.options.layoutScroll&&Il.scroll&&Il!==Il.root&&transformBox(_r,{x:-Il.scroll.offset.x,y:-Il.scroll.offset.y}),Al&&(_t.x*=Al.x.scale,_t.y*=Al.y.scale,applyBoxDelta(_r,Al)),yl&&hasTransform(Il.latestValues)&&transformBox(_r,Il.latestValues));_t.x=snapToDefault(_t.x),_t.y=snapToDefault(_t.y)}function snapToDefault(_r){return Number.isInteger(_r)||_r>1.0000000000001||_r<.999999999999?_r:1}function translateAxis(_r,_t){_r.min=_r.min+_t,_r.max=_r.max+_t}function transformAxis(_r,_t,[_o,yl,El]){const _l=_t[El]!==void 0?_t[El]:.5,Tl=mix(_r.min,_r.max,_l);applyAxisDelta(_r,_t[_o],_t[yl],Tl,_t.scale)}const xKeys$1=["x","scaleX","originX"],yKeys$1=["y","scaleY","originY"];function transformBox(_r,_t){transformAxis(_r.x,_t,xKeys$1),transformAxis(_r.y,_t,yKeys$1)}function measureViewportBox(_r,_t){return convertBoundingBoxToBox(transformBoxPoints(_r.getBoundingClientRect(),_t))}function measurePageBox(_r,_t,_o){const yl=measureViewportBox(_r,_o),{scroll:El}=_t;return El&&(translateAxis(yl.x,El.offset.x),translateAxis(yl.y,El.offset.y)),yl}const elementDragControls=new WeakMap;class VisualElementDragControls{constructor(_t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=createBox(),this.visualElement=_t}start(_t,{snapToCursor:_o=!1}={}){if(this.visualElement.isPresent===!1)return;const yl=Il=>{this.stopAnimation(),_o&&this.snapToCursor(extractEventInfo(Il,"page").point)},El=(Il,Al)=>{var Rl;const{drag:Fl,dragPropagation:Bl,onDragStart:Gl}=this.getProps();Fl&&!Bl&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=getGlobalLock(Fl),!this.openGlobalLock)||(this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),eachAxis(Ql=>{var _f,_h;let vp=this.getAxisMotionValue(Ql).get()||0;if(percent.test(vp)){const up=(_h=(_f=this.visualElement.projection)===null||_f===void 0?void 0:_f.layout)===null||_h===void 0?void 0:_h.layoutBox[Ql];up&&(vp=calcLength(up)*(parseFloat(vp)/100))}this.originPoint[Ql]=vp}),Gl==null||Gl(Il,Al),(Rl=this.visualElement.animationState)===null||Rl===void 0||Rl.setActive(AnimationType.Drag,!0))},_l=(Il,Al)=>{const{dragPropagation:Rl,dragDirectionLock:Fl,onDirectionLock:Bl,onDrag:Gl}=this.getProps();if(!Rl&&!this.openGlobalLock)return;const{offset:Ql}=Al;if(Fl&&this.currentDirection===null){this.currentDirection=getCurrentDirection(Ql),this.currentDirection!==null&&(Bl==null||Bl(this.currentDirection));return}this.updateAxis("x",Al.point,Ql),this.updateAxis("y",Al.point,Ql),this.visualElement.render(),Gl==null||Gl(Il,Al)},Tl=(Il,Al)=>this.stop(Il,Al);this.panSession=new PanSession(_t,{onSessionStart:yl,onStart:El,onMove:_l,onSessionEnd:Tl},{transformPagePoint:this.visualElement.getTransformPagePoint()})}stop(_t,_o){const yl=this.isDragging;if(this.cancel(),!yl)return;const{velocity:El}=_o;this.startAnimation(El);const{onDragEnd:_l}=this.getProps();_l==null||_l(_t,_o)}cancel(){var _t,_o;this.isDragging=!1,this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!1),(_t=this.panSession)===null||_t===void 0||_t.end(),this.panSession=void 0;const{dragPropagation:yl}=this.getProps();!yl&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),(_o=this.visualElement.animationState)===null||_o===void 0||_o.setActive(AnimationType.Drag,!1)}updateAxis(_t,_o,yl){const{drag:El}=this.getProps();if(!yl||!shouldDrag(_t,El,this.currentDirection))return;const _l=this.getAxisMotionValue(_t);let Tl=this.originPoint[_t]+yl[_t];this.constraints&&this.constraints[_t]&&(Tl=applyConstraints(Tl,this.constraints[_t],this.elastic[_t])),_l.set(Tl)}resolveConstraints(){const{dragConstraints:_t,dragElastic:_o}=this.getProps(),{layout:yl}=this.visualElement.projection||{},El=this.constraints;_t&&isRefObject(_t)?this.constraints||(this.constraints=this.resolveRefConstraints()):_t&&yl?this.constraints=calcRelativeConstraints(yl.layoutBox,_t):this.constraints=!1,this.elastic=resolveDragElastic(_o),El!==this.constraints&&yl&&this.constraints&&!this.hasMutatedConstraints&&eachAxis(_l=>{this.getAxisMotionValue(_l)&&(this.constraints[_l]=rebaseAxisConstraints(yl.layoutBox[_l],this.constraints[_l]))})}resolveRefConstraints(){const{dragConstraints:_t,onMeasureDragConstraints:_o}=this.getProps();if(!_t||!isRefObject(_t))return!1;const yl=_t.current,{projection:El}=this.visualElement;if(!El||!El.layout)return!1;const _l=measurePageBox(yl,El.root,this.visualElement.getTransformPagePoint());let Tl=calcViewportConstraints(El.layout.layoutBox,_l);if(_o){const Il=_o(convertBoxToBoundingBox(Tl));this.hasMutatedConstraints=!!Il,Il&&(Tl=convertBoundingBoxToBox(Il))}return Tl}startAnimation(_t){const{drag:_o,dragMomentum:yl,dragElastic:El,dragTransition:_l,dragSnapToOrigin:Tl,onDragTransitionEnd:Il}=this.getProps(),Al=this.constraints||{},Rl=eachAxis(Fl=>{if(!shouldDrag(Fl,_o,this.currentDirection))return;let Bl=(Al==null?void 0:Al[Fl])||{};Tl&&(Bl={min:0,max:0});const Gl=El?200:1e6,Ql=El?40:1e7,_f={type:"inertia",velocity:yl?_t[Fl]:0,bounceStiffness:Gl,bounceDamping:Ql,timeConstant:750,restDelta:1,restSpeed:10,..._l,...Bl};return this.startAxisValueAnimation(Fl,_f)});return Promise.all(Rl).then(Il)}startAxisValueAnimation(_t,_o){const yl=this.getAxisMotionValue(_t);return yl.start(createMotionValueAnimation(_t,yl,0,_o))}stopAnimation(){eachAxis(_t=>this.getAxisMotionValue(_t).stop())}getAxisMotionValue(_t){var _o;const yl="_drag"+_t.toUpperCase(),El=this.visualElement.getProps()[yl];return El||this.visualElement.getValue(_t,((_o=this.visualElement.getProps().initial)===null||_o===void 0?void 0:_o[_t])||0)}snapToCursor(_t){eachAxis(_o=>{const{drag:yl}=this.getProps();if(!shouldDrag(_o,yl,this.currentDirection))return;const{projection:El}=this.visualElement,_l=this.getAxisMotionValue(_o);if(El&&El.layout){const{min:Tl,max:Il}=El.layout.layoutBox[_o];_l.set(_t[_o]-mix(Tl,Il,.5))}})}scalePositionWithinConstraints(){var _t;if(!this.visualElement.current)return;const{drag:_o,dragConstraints:yl}=this.getProps(),{projection:El}=this.visualElement;if(!isRefObject(yl)||!El||!this.constraints)return;this.stopAnimation();const _l={x:0,y:0};eachAxis(Il=>{const Al=this.getAxisMotionValue(Il);if(Al){const Rl=Al.get();_l[Il]=calcOrigin({min:Rl,max:Rl},this.constraints[Il])}});const{transformTemplate:Tl}=this.visualElement.getProps();this.visualElement.current.style.transform=Tl?Tl({},""):"none",(_t=El.root)===null||_t===void 0||_t.updateScroll(),El.updateLayout(),this.resolveConstraints(),eachAxis(Il=>{if(!shouldDrag(Il,_o,null))return;const Al=this.getAxisMotionValue(Il),{min:Rl,max:Fl}=this.constraints[Il];Al.set(mix(Rl,Fl,_l[Il]))})}addListeners(){var _t;if(!this.visualElement.current)return;elementDragControls.set(this.visualElement,this);const _o=this.visualElement.current,yl=addPointerEvent(_o,"pointerdown",Rl=>{const{drag:Fl,dragListener:Bl=!0}=this.getProps();Fl&&Bl&&this.start(Rl)}),El=()=>{const{dragConstraints:Rl}=this.getProps();isRefObject(Rl)&&(this.constraints=this.resolveRefConstraints())},{projection:_l}=this.visualElement,Tl=_l.addEventListener("measure",El);_l&&!_l.layout&&((_t=_l.root)===null||_t===void 0||_t.updateScroll(),_l.updateLayout()),El();const Il=addDomEvent(window,"resize",()=>this.scalePositionWithinConstraints()),Al=_l.addEventListener("didUpdate",({delta:Rl,hasLayoutChanged:Fl})=>{this.isDragging&&Fl&&(eachAxis(Bl=>{const Gl=this.getAxisMotionValue(Bl);Gl&&(this.originPoint[Bl]+=Rl[Bl].translate,Gl.set(Gl.get()+Rl[Bl].translate))}),this.visualElement.render())});return()=>{Il(),yl(),Tl(),Al==null||Al()}}getProps(){const _t=this.visualElement.getProps(),{drag:_o=!1,dragDirectionLock:yl=!1,dragPropagation:El=!1,dragConstraints:_l=!1,dragElastic:Tl=defaultElastic,dragMomentum:Il=!0}=_t;return{..._t,drag:_o,dragDirectionLock:yl,dragPropagation:El,dragConstraints:_l,dragElastic:Tl,dragMomentum:Il}}}function shouldDrag(_r,_t,_o){return(_t===!0||_t===_r)&&(_o===null||_o===_r)}function getCurrentDirection(_r,_t=10){let _o=null;return Math.abs(_r.y)>_t?_o="y":Math.abs(_r.x)>_t&&(_o="x"),_o}function useDrag(_r){const{dragControls:_t,visualElement:_o}=_r,yl=useConstant(()=>new VisualElementDragControls(_o));reactExports.useEffect(()=>_t&&_t.subscribe(yl),[yl,_t]),reactExports.useEffect(()=>yl.addListeners(),[yl])}function usePanGesture({onPan:_r,onPanStart:_t,onPanEnd:_o,onPanSessionStart:yl,visualElement:El}){const _l=_r||_t||_o||yl,Tl=reactExports.useRef(null),{transformPagePoint:Il}=reactExports.useContext(MotionConfigContext),Al={onSessionStart:yl,onStart:_t,onMove:_r,onEnd:(Fl,Bl)=>{Tl.current=null,_o&&_o(Fl,Bl)}};reactExports.useEffect(()=>{Tl.current!==null&&Tl.current.updateHandlers(Al)});function Rl(Fl){Tl.current=new PanSession(Fl,Al,{transformPagePoint:Il})}usePointerEvent(El,"pointerdown",_l&&Rl),useUnmountEffect(()=>Tl.current&&Tl.current.end())}const drag={pan:makeRenderlessComponent(usePanGesture),drag:makeRenderlessComponent(useDrag)};function isCSSVariable(_r){return typeof _r=="string"&&_r.startsWith("var(--")}const cssVariableRegex=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function parseCSSVariable(_r){const _t=cssVariableRegex.exec(_r);if(!_t)return[,];const[,_o,yl]=_t;return[_o,yl]}function getVariableValue(_r,_t,_o=1){const[yl,El]=parseCSSVariable(_r);if(!yl)return;const _l=window.getComputedStyle(_t).getPropertyValue(yl);return _l?_l.trim():isCSSVariable(El)?getVariableValue(El,_t,_o+1):El}function resolveCSSVariables(_r,{..._t},_o){const yl=_r.current;if(!(yl instanceof Element))return{target:_t,transitionEnd:_o};_o&&(_o={..._o}),_r.values.forEach(El=>{const _l=El.get();if(!isCSSVariable(_l))return;const Tl=getVariableValue(_l,yl);Tl&&El.set(Tl)});for(const El in _t){const _l=_t[El];if(!isCSSVariable(_l))continue;const Tl=getVariableValue(_l,yl);Tl&&(_t[El]=Tl,_o&&_o[El]===void 0&&(_o[El]=_l))}return{target:_t,transitionEnd:_o}}const positionalKeys=new Set(["width","height","top","left","right","bottom","x","y"]),isPositionalKey=_r=>positionalKeys.has(_r),hasPositionalKey=_r=>Object.keys(_r).some(isPositionalKey),isNumOrPxType=_r=>_r===number||_r===px;var BoundingBoxDimension;(function(_r){_r.width="width",_r.height="height",_r.left="left",_r.right="right",_r.top="top",_r.bottom="bottom"})(BoundingBoxDimension||(BoundingBoxDimension={}));const getPosFromMatrix=(_r,_t)=>parseFloat(_r.split(", ")[_t]),getTranslateFromMatrix=(_r,_t)=>(_o,{transform:yl})=>{if(yl==="none"||!yl)return 0;const El=yl.match(/^matrix3d\((.+)\)$/);if(El)return getPosFromMatrix(El[1],_t);{const _l=yl.match(/^matrix\((.+)\)$/);return _l?getPosFromMatrix(_l[1],_r):0}},transformKeys=new Set(["x","y","z"]),nonTranslationalTransformKeys=transformPropOrder.filter(_r=>!transformKeys.has(_r));function removeNonTranslationalTransform(_r){const _t=[];return nonTranslationalTransformKeys.forEach(_o=>{const yl=_r.getValue(_o);yl!==void 0&&(_t.push([_o,yl.get()]),yl.set(_o.startsWith("scale")?1:0))}),_t.length&&_r.render(),_t}const positionalValues={width:({x:_r},{paddingLeft:_t="0",paddingRight:_o="0"})=>_r.max-_r.min-parseFloat(_t)-parseFloat(_o),height:({y:_r},{paddingTop:_t="0",paddingBottom:_o="0"})=>_r.max-_r.min-parseFloat(_t)-parseFloat(_o),top:(_r,{top:_t})=>parseFloat(_t),left:(_r,{left:_t})=>parseFloat(_t),bottom:({y:_r},{top:_t})=>parseFloat(_t)+(_r.max-_r.min),right:({x:_r},{left:_t})=>parseFloat(_t)+(_r.max-_r.min),x:getTranslateFromMatrix(4,13),y:getTranslateFromMatrix(5,14)},convertChangedValueTypes=(_r,_t,_o)=>{const yl=_t.measureViewportBox(),El=_t.current,_l=getComputedStyle(El),{display:Tl}=_l,Il={};Tl==="none"&&_t.setStaticValue("display",_r.display||"block"),_o.forEach(Rl=>{Il[Rl]=positionalValues[Rl](yl,_l)}),_t.render();const Al=_t.measureViewportBox();return _o.forEach(Rl=>{const Fl=_t.getValue(Rl);Fl&&Fl.jump(Il[Rl]),_r[Rl]=positionalValues[Rl](Al,_l)}),_r},checkAndConvertChangedValueTypes=(_r,_t,_o={},yl={})=>{_t={..._t},yl={...yl};const El=Object.keys(_t).filter(isPositionalKey);let _l=[],Tl=!1;const Il=[];if(El.forEach(Al=>{const Rl=_r.getValue(Al);if(!_r.hasValue(Al))return;let Fl=_o[Al],Bl=findDimensionValueType(Fl);const Gl=_t[Al];let Ql;if(isKeyframesTarget(Gl)){const _f=Gl.length,_h=Gl[0]===null?1:0;Fl=Gl[_h],Bl=findDimensionValueType(Fl);for(let vp=_h;vp<_f;vp++)Ql?invariant(findDimensionValueType(Gl[vp])===Ql):Ql=findDimensionValueType(Gl[vp])}else Ql=findDimensionValueType(Gl);if(Bl!==Ql)if(isNumOrPxType(Bl)&&isNumOrPxType(Ql)){const _f=Rl.get();typeof _f=="string"&&Rl.set(parseFloat(_f)),typeof Gl=="string"?_t[Al]=parseFloat(Gl):Array.isArray(Gl)&&Ql===px&&(_t[Al]=Gl.map(parseFloat))}else Bl!=null&&Bl.transform&&(Ql!=null&&Ql.transform)&&(Fl===0||Gl===0)?Fl===0?Rl.set(Ql.transform(Fl)):_t[Al]=Bl.transform(Gl):(Tl||(_l=removeNonTranslationalTransform(_r),Tl=!0),Il.push(Al),yl[Al]=yl[Al]!==void 0?yl[Al]:_t[Al],Rl.jump(Gl))}),Il.length){const Al=Il.indexOf("height")>=0?window.pageYOffset:null,Rl=convertChangedValueTypes(_t,_r,Il);return _l.length&&_l.forEach(([Fl,Bl])=>{_r.getValue(Fl).set(Bl)}),_r.render(),isBrowser&&Al!==null&&window.scrollTo({top:Al}),{target:Rl,transitionEnd:yl}}else return{target:_t,transitionEnd:yl}};function unitConversion(_r,_t,_o,yl){return hasPositionalKey(_t)?checkAndConvertChangedValueTypes(_r,_t,_o,yl):{target:_t,transitionEnd:yl}}const parseDomVariant=(_r,_t,_o,yl)=>{const El=resolveCSSVariables(_r,_t,yl);return _t=El.target,yl=El.transitionEnd,unitConversion(_r,_t,_o,yl)},prefersReducedMotion={current:null},hasReducedMotionListener={current:!1};function initPrefersReducedMotion(){if(hasReducedMotionListener.current=!0,!!isBrowser)if(window.matchMedia){const _r=window.matchMedia("(prefers-reduced-motion)"),_t=()=>prefersReducedMotion.current=_r.matches;_r.addListener(_t),_t()}else prefersReducedMotion.current=!1}function updateMotionValuesFromProps(_r,_t,_o){const{willChange:yl}=_t;for(const El in _t){const _l=_t[El],Tl=_o[El];if(isMotionValue(_l))_r.addValue(El,_l),isWillChangeMotionValue(yl)&&yl.add(El);else if(isMotionValue(Tl))_r.addValue(El,motionValue(_l,{owner:_r})),isWillChangeMotionValue(yl)&&yl.remove(El);else if(Tl!==_l)if(_r.hasValue(El)){const Il=_r.getValue(El);!Il.hasAnimated&&Il.set(_l)}else{const Il=_r.getStaticValue(El);_r.addValue(El,motionValue(Il!==void 0?Il:_l,{owner:_r}))}}for(const El in _o)_t[El]===void 0&&_r.removeValue(El);return _t}const featureNames=Object.keys(featureDefinitions),numFeatures=featureNames.length,propEventHandlers=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class VisualElement{constructor({parent:_t,props:_o,reducedMotionConfig:yl,visualState:El},_l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.isPresent=!0,this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>sync.render(this.render,!1,!0);const{latestValues:Tl,renderState:Il}=El;this.latestValues=Tl,this.baseTarget={...Tl},this.initialValues=_o.initial?{...Tl}:{},this.renderState=Il,this.parent=_t,this.props=_o,this.depth=_t?_t.depth+1:0,this.reducedMotionConfig=yl,this.options=_l,this.isControllingVariants=isControllingVariants(_o),this.isVariantNode=isVariantNode(_o),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=Boolean(_t&&_t.current);const{willChange:Al,...Rl}=this.scrapeMotionValuesFromProps(_o,{});for(const Fl in Rl){const Bl=Rl[Fl];Tl[Fl]!==void 0&&isMotionValue(Bl)&&(Bl.set(Tl[Fl],!1),isWillChangeMotionValue(Al)&&Al.add(Fl))}}scrapeMotionValuesFromProps(_t,_o){return{}}mount(_t){var _o;this.current=_t,this.projection&&this.projection.mount(_t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=(_o=this.parent)===null||_o===void 0?void 0:_o.addVariantChild(this)),this.values.forEach((yl,El)=>this.bindToMotionValue(El,yl)),hasReducedMotionListener.current||initPrefersReducedMotion(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:prefersReducedMotion.current,this.parent&&this.parent.children.add(this),this.setProps(this.props)}unmount(){var _t,_o,yl;(_t=this.projection)===null||_t===void 0||_t.unmount(),cancelSync.update(this.notifyUpdate),cancelSync.render(this.render),this.valueSubscriptions.forEach(El=>El()),(_o=this.removeFromVariantTree)===null||_o===void 0||_o.call(this),(yl=this.parent)===null||yl===void 0||yl.children.delete(this);for(const El in this.events)this.events[El].clear();this.current=null}bindToMotionValue(_t,_o){const yl=transformProps.has(_t),El=_o.on("change",Tl=>{this.latestValues[_t]=Tl,this.props.onUpdate&&sync.update(this.notifyUpdate,!1,!0),yl&&this.projection&&(this.projection.isTransformDirty=!0)}),_l=_o.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(_t,()=>{El(),_l()})}sortNodePosition(_t){return!this.current||!this.sortInstanceNodePosition||this.type!==_t.type?0:this.sortInstanceNodePosition(this.current,_t.current)}loadFeatures({children:_t,..._o},yl,El,_l,Tl,Il){const Al=[];for(let Rl=0;Rl<numFeatures;Rl++){const Fl=featureNames[Rl],{isEnabled:Bl,Component:Gl}=featureDefinitions[Fl];Bl(_o)&&Gl&&Al.push(reactExports.createElement(Gl,{key:Fl,..._o,visualElement:this}))}if(!this.projection&&Tl){this.projection=new Tl(_l,this.latestValues,this.parent&&this.parent.projection);const{layoutId:Rl,layout:Fl,drag:Bl,dragConstraints:Gl,layoutScroll:Ql,layoutRoot:_f}=_o;this.projection.setOptions({layoutId:Rl,layout:Fl,alwaysMeasureLayout:Boolean(Bl)||Gl&&isRefObject(Gl),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof Fl=="string"?Fl:"both",initialPromotionConfig:Il,layoutScroll:Ql,layoutRoot:_f})}return Al}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):createBox()}getStaticValue(_t){return this.latestValues[_t]}setStaticValue(_t,_o){this.latestValues[_t]=_o}makeTargetAnimatable(_t,_o=!0){return this.makeTargetAnimatableFromInstance(_t,this.props,_o)}setProps(_t){(_t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender();const _o=this.props;this.props=_t;for(let yl=0;yl<propEventHandlers.length;yl++){const El=propEventHandlers[yl];this.propEventSubscriptions[El]&&(this.propEventSubscriptions[El](),delete this.propEventSubscriptions[El]);const _l=_t["on"+El];_l&&(this.propEventSubscriptions[El]=this.on(El,_l))}this.prevMotionValues=updateMotionValuesFromProps(this,this.scrapeMotionValuesFromProps(_t,_o),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(_t){var _o;return(_o=this.props.variants)===null||_o===void 0?void 0:_o[_t]}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){var _t;return this.isVariantNode?this:(_t=this.parent)===null||_t===void 0?void 0:_t.getClosestVariantNode()}getVariantContext(_t=!1){var _o,yl;if(_t)return(_o=this.parent)===null||_o===void 0?void 0:_o.getVariantContext();if(!this.isControllingVariants){const _l=((yl=this.parent)===null||yl===void 0?void 0:yl.getVariantContext())||{};return this.props.initial!==void 0&&(_l.initial=this.props.initial),_l}const El={};for(let _l=0;_l<numVariantProps;_l++){const Tl=variantProps[_l],Il=this.props[Tl];(isVariantLabel(Il)||Il===!1)&&(El[Tl]=Il)}return El}addVariantChild(_t){var _o;const yl=this.getClosestVariantNode();if(yl)return(_o=yl.variantChildren)===null||_o===void 0||_o.add(_t),()=>yl.variantChildren.delete(_t)}addValue(_t,_o){_o!==this.values.get(_t)&&(this.removeValue(_t),this.bindToMotionValue(_t,_o)),this.values.set(_t,_o),this.latestValues[_t]=_o.get()}removeValue(_t){var _o;this.values.delete(_t),(_o=this.valueSubscriptions.get(_t))===null||_o===void 0||_o(),this.valueSubscriptions.delete(_t),delete this.latestValues[_t],this.removeValueFromRenderState(_t,this.renderState)}hasValue(_t){return this.values.has(_t)}getValue(_t,_o){if(this.props.values&&this.props.values[_t])return this.props.values[_t];let yl=this.values.get(_t);return yl===void 0&&_o!==void 0&&(yl=motionValue(_o,{owner:this}),this.addValue(_t,yl)),yl}readValue(_t){return this.latestValues[_t]!==void 0||!this.current?this.latestValues[_t]:this.readValueFromInstance(this.current,_t,this.options)}setBaseTarget(_t,_o){this.baseTarget[_t]=_o}getBaseTarget(_t){var _o;const{initial:yl}=this.props,El=typeof yl=="string"||typeof yl=="object"?(_o=resolveVariantFromProps(this.props,yl))===null||_o===void 0?void 0:_o[_t]:void 0;if(yl&&El!==void 0)return El;const _l=this.getBaseTargetFromProps(this.props,_t);return _l!==void 0&&!isMotionValue(_l)?_l:this.initialValues[_t]!==void 0&&El===void 0?void 0:this.baseTarget[_t]}on(_t,_o){return this.events[_t]||(this.events[_t]=new SubscriptionManager),this.events[_t].add(_o)}notify(_t,..._o){var yl;(yl=this.events[_t])===null||yl===void 0||yl.notify(..._o)}}const variantProps=["initial",...variantPriorityOrder],numVariantProps=variantProps.length;class DOMVisualElement extends VisualElement{sortInstanceNodePosition(_t,_o){return _t.compareDocumentPosition(_o)&2?1:-1}getBaseTargetFromProps(_t,_o){var yl;return(yl=_t.style)===null||yl===void 0?void 0:yl[_o]}removeValueFromRenderState(_t,{vars:_o,style:yl}){delete _o[_t],delete yl[_t]}makeTargetAnimatableFromInstance({transition:_t,transitionEnd:_o,...yl},{transformValues:El},_l){let Tl=getOrigin(yl,_t||{},this);if(El&&(_o&&(_o=El(_o)),yl&&(yl=El(yl)),Tl&&(Tl=El(Tl))),_l){checkTargetForNewValues(this,yl,Tl);const Il=parseDomVariant(this,yl,Tl,_o);_o=Il.transitionEnd,yl=Il.target}return{transition:_t,transitionEnd:_o,...yl}}}function getComputedStyle$1(_r){return window.getComputedStyle(_r)}class HTMLVisualElement extends DOMVisualElement{readValueFromInstance(_t,_o){if(transformProps.has(_o)){const yl=getDefaultValueType(_o);return yl&&yl.default||0}else{const yl=getComputedStyle$1(_t),El=(isCSSVariable$1(_o)?yl.getPropertyValue(_o):yl[_o])||0;return typeof El=="string"?El.trim():El}}measureInstanceViewportBox(_t,{transformPagePoint:_o}){return measureViewportBox(_t,_o)}build(_t,_o,yl,El){buildHTMLStyles(_t,_o,yl,El.transformTemplate)}scrapeMotionValuesFromProps(_t,_o){return scrapeMotionValuesFromProps$1(_t,_o)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:_t}=this.props;isMotionValue(_t)&&(this.childSubscription=_t.on("change",_o=>{this.current&&(this.current.textContent=`${_o}`)}))}renderInstance(_t,_o,yl,El){renderHTML(_t,_o,yl,El)}}class SVGVisualElement extends DOMVisualElement{constructor(){super(...arguments),this.isSVGTag=!1}getBaseTargetFromProps(_t,_o){return _t[_o]}readValueFromInstance(_t,_o){var yl;return transformProps.has(_o)?((yl=getDefaultValueType(_o))===null||yl===void 0?void 0:yl.default)||0:(_o=camelCaseAttributes.has(_o)?_o:camelToDash(_o),_t.getAttribute(_o))}measureInstanceViewportBox(){return createBox()}scrapeMotionValuesFromProps(_t,_o){return scrapeMotionValuesFromProps(_t,_o)}build(_t,_o,yl,El){buildSVGAttrs(_t,_o,yl,this.isSVGTag,El.transformTemplate)}renderInstance(_t,_o,yl,El){renderSVG(_t,_o,yl,El)}mount(_t){this.isSVGTag=isSVGTag(_t.tagName),super.mount(_t)}}const createDomVisualElement=(_r,_t)=>isSVGComponent(_r)?new SVGVisualElement(_t,{enableHardwareAcceleration:!1}):new HTMLVisualElement(_t,{enableHardwareAcceleration:!0});function pixelsToPercent(_r,_t){return _t.max===_t.min?0:_r/(_t.max-_t.min)*100}const correctBorderRadius={correct:(_r,_t)=>{if(!_t.target)return _r;if(typeof _r=="string")if(px.test(_r))_r=parseFloat(_r);else return _r;const _o=pixelsToPercent(_r,_t.target.x),yl=pixelsToPercent(_r,_t.target.y);return`${_o}% ${yl}%`}},varToken="_$css",correctBoxShadow={correct:(_r,{treeScale:_t,projectionDelta:_o})=>{const yl=_r,El=_r.includes("var("),_l=[];El&&(_r=_r.replace(cssVariableRegex,Ql=>(_l.push(Ql),varToken)));const Tl=complex.parse(_r);if(Tl.length>5)return yl;const Il=complex.createTransformer(_r),Al=typeof Tl[0]!="number"?1:0,Rl=_o.x.scale*_t.x,Fl=_o.y.scale*_t.y;Tl[0+Al]/=Rl,Tl[1+Al]/=Fl;const Bl=mix(Rl,Fl,.5);typeof Tl[2+Al]=="number"&&(Tl[2+Al]/=Bl),typeof Tl[3+Al]=="number"&&(Tl[3+Al]/=Bl);let Gl=Il(Tl);if(El){let Ql=0;Gl=Gl.replace(varToken,()=>{const _f=_l[Ql];return Ql++,_f})}return Gl}};class MeasureLayoutWithContext extends React.Component{componentDidMount(){const{visualElement:_t,layoutGroup:_o,switchLayoutGroup:yl,layoutId:El}=this.props,{projection:_l}=_t;addScaleCorrector(defaultScaleCorrectors),_l&&(_o.group&&_o.group.add(_l),yl&&yl.register&&El&&yl.register(_l),_l.root.didUpdate(),_l.addEventListener("animationComplete",()=>{this.safeToRemove()}),_l.setOptions({..._l.options,onExitComplete:()=>this.safeToRemove()})),globalProjectionState.hasEverUpdated=!0}getSnapshotBeforeUpdate(_t){const{layoutDependency:_o,visualElement:yl,drag:El,isPresent:_l}=this.props,Tl=yl.projection;return Tl&&(Tl.isPresent=_l,El||_t.layoutDependency!==_o||_o===void 0?Tl.willUpdate():this.safeToRemove(),_t.isPresent!==_l&&(_l?Tl.promote():Tl.relegate()||sync.postRender(()=>{var Il;!((Il=Tl.getStack())===null||Il===void 0)&&Il.members.length||this.safeToRemove()}))),null}componentDidUpdate(){const{projection:_t}=this.props.visualElement;_t&&(_t.root.didUpdate(),!_t.currentAnimation&&_t.isLead()&&this.safeToRemove())}componentWillUnmount(){const{visualElement:_t,layoutGroup:_o,switchLayoutGroup:yl}=this.props,{projection:El}=_t;El&&(El.scheduleCheckAfterUnmount(),_o!=null&&_o.group&&_o.group.remove(El),yl!=null&&yl.deregister&&yl.deregister(El))}safeToRemove(){const{safeToRemove:_t}=this.props;_t==null||_t()}render(){return null}}function MeasureLayout(_r){const[_t,_o]=usePresence(),yl=reactExports.useContext(LayoutGroupContext);return React.createElement(MeasureLayoutWithContext,{..._r,layoutGroup:yl,switchLayoutGroup:reactExports.useContext(SwitchLayoutGroupContext),isPresent:_t,safeToRemove:_o})}const defaultScaleCorrectors={borderRadius:{...correctBorderRadius,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:correctBorderRadius,borderTopRightRadius:correctBorderRadius,borderBottomLeftRadius:correctBorderRadius,borderBottomRightRadius:correctBorderRadius,boxShadow:correctBoxShadow},layoutFeatures={measureLayout:MeasureLayout};function animate(_r,_t,_o={}){const yl=isMotionValue(_r)?_r:motionValue(_r);return yl.start(createMotionValueAnimation("",yl,_t,_o)),{stop:()=>yl.stop(),isAnimating:()=>yl.isAnimating()}}const borders=["TopLeft","TopRight","BottomLeft","BottomRight"],numBorders=borders.length,asNumber=_r=>typeof _r=="string"?parseFloat(_r):_r,isPx=_r=>typeof _r=="number"||px.test(_r);function mixValues(_r,_t,_o,yl,El,_l){El?(_r.opacity=mix(0,_o.opacity!==void 0?_o.opacity:1,easeCrossfadeIn(yl)),_r.opacityExit=mix(_t.opacity!==void 0?_t.opacity:1,0,easeCrossfadeOut(yl))):_l&&(_r.opacity=mix(_t.opacity!==void 0?_t.opacity:1,_o.opacity!==void 0?_o.opacity:1,yl));for(let Tl=0;Tl<numBorders;Tl++){const Il=`border${borders[Tl]}Radius`;let Al=getRadius(_t,Il),Rl=getRadius(_o,Il);if(Al===void 0&&Rl===void 0)continue;Al||(Al=0),Rl||(Rl=0),Al===0||Rl===0||isPx(Al)===isPx(Rl)?(_r[Il]=Math.max(mix(asNumber(Al),asNumber(Rl),yl),0),(percent.test(Rl)||percent.test(Al))&&(_r[Il]+="%")):_r[Il]=Rl}(_t.rotate||_o.rotate)&&(_r.rotate=mix(_t.rotate||0,_o.rotate||0,yl))}function getRadius(_r,_t){return _r[_t]!==void 0?_r[_t]:_r.borderRadius}const easeCrossfadeIn=compress(0,.5,circOut),easeCrossfadeOut=compress(.5,.95,noop);function compress(_r,_t,_o){return yl=>yl<_r?0:yl>_t?1:_o(progress(_r,_t,yl))}function copyAxisInto(_r,_t){_r.min=_t.min,_r.max=_t.max}function copyBoxInto(_r,_t){copyAxisInto(_r.x,_t.x),copyAxisInto(_r.y,_t.y)}function removePointDelta(_r,_t,_o,yl,El){return _r-=_t,_r=scalePoint(_r,1/_o,yl),El!==void 0&&(_r=scalePoint(_r,1/El,yl)),_r}function removeAxisDelta(_r,_t=0,_o=1,yl=.5,El,_l=_r,Tl=_r){if(percent.test(_t)&&(_t=parseFloat(_t),_t=mix(Tl.min,Tl.max,_t/100)-Tl.min),typeof _t!="number")return;let Il=mix(_l.min,_l.max,yl);_r===_l&&(Il-=_t),_r.min=removePointDelta(_r.min,_t,_o,Il,El),_r.max=removePointDelta(_r.max,_t,_o,Il,El)}function removeAxisTransforms(_r,_t,[_o,yl,El],_l,Tl){removeAxisDelta(_r,_t[_o],_t[yl],_t[El],_t.scale,_l,Tl)}const xKeys=["x","scaleX","originX"],yKeys=["y","scaleY","originY"];function removeBoxTransforms(_r,_t,_o,yl){removeAxisTransforms(_r.x,_t,xKeys,_o==null?void 0:_o.x,yl==null?void 0:yl.x),removeAxisTransforms(_r.y,_t,yKeys,_o==null?void 0:_o.y,yl==null?void 0:yl.y)}function isAxisDeltaZero(_r){return _r.translate===0&&_r.scale===1}function isDeltaZero(_r){return isAxisDeltaZero(_r.x)&&isAxisDeltaZero(_r.y)}function boxEquals(_r,_t){return _r.x.min===_t.x.min&&_r.x.max===_t.x.max&&_r.y.min===_t.y.min&&_r.y.max===_t.y.max}function aspectRatio(_r){return calcLength(_r.x)/calcLength(_r.y)}class NodeStack{constructor(){this.members=[]}add(_t){addUniqueItem(this.members,_t),_t.scheduleRender()}remove(_t){if(removeItem(this.members,_t),_t===this.prevLead&&(this.prevLead=void 0),_t===this.lead){const _o=this.members[this.members.length-1];_o&&this.promote(_o)}}relegate(_t){const _o=this.members.findIndex(El=>_t===El);if(_o===0)return!1;let yl;for(let El=_o;El>=0;El--){const _l=this.members[El];if(_l.isPresent!==!1){yl=_l;break}}return yl?(this.promote(yl),!0):!1}promote(_t,_o){var yl;const El=this.lead;if(_t!==El&&(this.prevLead=El,this.lead=_t,_t.show(),El)){El.instance&&El.scheduleRender(),_t.scheduleRender(),_t.resumeFrom=El,_o&&(_t.resumeFrom.preserveOpacity=!0),El.snapshot&&(_t.snapshot=El.snapshot,_t.snapshot.latestValues=El.animationValues||El.latestValues),!((yl=_t.root)===null||yl===void 0)&&yl.isUpdating&&(_t.isLayoutDirty=!0);const{crossfade:_l}=_t.options;_l===!1&&El.hide()}}exitAnimationComplete(){this.members.forEach(_t=>{var _o,yl,El,_l,Tl;(yl=(_o=_t.options).onExitComplete)===null||yl===void 0||yl.call(_o),(Tl=(El=_t.resumingFrom)===null||El===void 0?void 0:(_l=El.options).onExitComplete)===null||Tl===void 0||Tl.call(_l)})}scheduleRender(){this.members.forEach(_t=>{_t.instance&&_t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function buildProjectionTransform(_r,_t,_o){let yl="";const El=_r.x.translate/_t.x,_l=_r.y.translate/_t.y;if((El||_l)&&(yl=`translate3d(${El}px, ${_l}px, 0) `),(_t.x!==1||_t.y!==1)&&(yl+=`scale(${1/_t.x}, ${1/_t.y}) `),_o){const{rotate:Al,rotateX:Rl,rotateY:Fl}=_o;Al&&(yl+=`rotate(${Al}deg) `),Rl&&(yl+=`rotateX(${Rl}deg) `),Fl&&(yl+=`rotateY(${Fl}deg) `)}const Tl=_r.x.scale*_t.x,Il=_r.y.scale*_t.y;return(Tl!==1||Il!==1)&&(yl+=`scale(${Tl}, ${Il})`),yl||"none"}const compareByDepth=(_r,_t)=>_r.depth-_t.depth;class FlatTree{constructor(){this.children=[],this.isDirty=!1}add(_t){addUniqueItem(this.children,_t),this.isDirty=!0}remove(_t){removeItem(this.children,_t),this.isDirty=!0}forEach(_t){this.isDirty&&this.children.sort(compareByDepth),this.isDirty=!1,this.children.forEach(_t)}}const transformAxes=["","X","Y","Z"],animationTarget=1e3;let id=0;function createProjectionNode({attachResizeListener:_r,defaultParent:_t,measureScroll:_o,checkIsScrollRoot:yl,resetTransform:El}){return class{constructor(Tl,Il={},Al=_t==null?void 0:_t()){this.id=id++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isTransformDirty=!1,this.isProjectionDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.potentialNodes=new Map,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.nodes.forEach(propagateDirtyNodes),this.nodes.forEach(resolveTargetDelta),this.nodes.forEach(calcProjection)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.elementId=Tl,this.latestValues=Il,this.root=Al?Al.root||Al:this,this.path=Al?[...Al.path,Al]:[],this.parent=Al,this.depth=Al?Al.depth+1:0,Tl&&this.root.registerPotentialNode(Tl,this);for(let Rl=0;Rl<this.path.length;Rl++)this.path[Rl].shouldResetTransform=!0;this.root===this&&(this.nodes=new FlatTree)}addEventListener(Tl,Il){return this.eventHandlers.has(Tl)||this.eventHandlers.set(Tl,new SubscriptionManager),this.eventHandlers.get(Tl).add(Il)}notifyListeners(Tl,...Il){const Al=this.eventHandlers.get(Tl);Al==null||Al.notify(...Il)}hasListeners(Tl){return this.eventHandlers.has(Tl)}registerPotentialNode(Tl,Il){this.potentialNodes.set(Tl,Il)}mount(Tl,Il=!1){var Al;if(this.instance)return;this.isSVG=Tl instanceof SVGElement&&Tl.tagName!=="svg",this.instance=Tl;const{layoutId:Rl,layout:Fl,visualElement:Bl}=this.options;if(Bl&&!Bl.current&&Bl.mount(Tl),this.root.nodes.add(this),(Al=this.parent)===null||Al===void 0||Al.children.add(this),this.elementId&&this.root.potentialNodes.delete(this.elementId),Il&&(Fl||Rl)&&(this.isLayoutDirty=!0),_r){let Gl;const Ql=()=>this.root.updateBlockedByResize=!1;_r(Tl,()=>{this.root.updateBlockedByResize=!0,Gl&&Gl(),Gl=delay(Ql,250),globalProjectionState.hasAnimatedSinceResize&&(globalProjectionState.hasAnimatedSinceResize=!1,this.nodes.forEach(finishAnimation))})}Rl&&this.root.registerSharedNode(Rl,this),this.options.animate!==!1&&Bl&&(Rl||Fl)&&this.addEventListener("didUpdate",({delta:Gl,hasLayoutChanged:Ql,hasRelativeTargetChanged:_f,layout:_h})=>{var vp,up,_d,Ep,Op;if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const Ip=(up=(vp=this.options.transition)!==null&&vp!==void 0?vp:Bl.getDefaultTransition())!==null&&up!==void 0?up:defaultLayoutTransition,{onLayoutAnimationStart:Pp,onLayoutAnimationComplete:xp}=Bl.getProps(),Np=!this.targetLayout||!boxEquals(this.targetLayout,_h)||_f,Kp=!Ql&&_f;if(this.options.layoutRoot||!((_d=this.resumeFrom)===null||_d===void 0)&&_d.instance||Kp||Ql&&(Np||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(Gl,Kp);const Tp={...getValueTransition(Ip,"layout"),onPlay:Pp,onComplete:xp};(Bl.shouldReduceMotion||this.options.layoutRoot)&&(Tp.delay=0,Tp.type=!1),this.startAnimation(Tp)}else!Ql&&this.animationProgress===0&&finishAnimation(this),this.isLead()&&((Op=(Ep=this.options).onExitComplete)===null||Op===void 0||Op.call(Ep));this.targetLayout=_h})}unmount(){var Tl,Il;this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this),(Tl=this.getStack())===null||Tl===void 0||Tl.remove(this),(Il=this.parent)===null||Il===void 0||Il.children.delete(this),this.instance=void 0,cancelSync.preRender(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){var Tl;return this.isAnimationBlocked||((Tl=this.parent)===null||Tl===void 0?void 0:Tl.isTreeAnimationBlocked())||!1}startUpdate(){var Tl;this.isUpdateBlocked()||(this.isUpdating=!0,(Tl=this.nodes)===null||Tl===void 0||Tl.forEach(resetRotation),this.animationId++)}getTransformTemplate(){var Tl;return(Tl=this.options.visualElement)===null||Tl===void 0?void 0:Tl.getProps().transformTemplate}willUpdate(Tl=!0){var Il,Al,Rl;if(this.root.isUpdateBlocked()){(Al=(Il=this.options).onExitComplete)===null||Al===void 0||Al.call(Il);return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let Gl=0;Gl<this.path.length;Gl++){const Ql=this.path[Gl];Ql.shouldResetTransform=!0,Ql.updateScroll("snapshot"),Ql.options.layoutRoot&&Ql.willUpdate(!1)}const{layoutId:Fl,layout:Bl}=this.options;Fl===void 0&&!Bl||(this.prevTransformTemplateValue=(Rl=this.getTransformTemplate())===null||Rl===void 0?void 0:Rl(this.latestValues,""),this.updateSnapshot(),Tl&&this.notifyListeners("willUpdate"))}didUpdate(){if(this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(clearMeasurements);return}this.isUpdating&&(this.isUpdating=!1,this.potentialNodes.size&&(this.potentialNodes.forEach(mountNodeEarly),this.potentialNodes.clear()),this.nodes.forEach(resetTransformStyle),this.nodes.forEach(updateLayout),this.nodes.forEach(notifyLayoutUpdate),this.clearAllSnapshots(),flushSync.update(),flushSync.preRender(),flushSync.render())}clearAllSnapshots(){this.nodes.forEach(clearSnapshot),this.sharedNodes.forEach(removeLeadSnapshots)}scheduleUpdateProjection(){sync.preRender(this.updateProjection,!1,!0)}scheduleCheckAfterUnmount(){sync.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){var Tl;if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let Al=0;Al<this.path.length;Al++)this.path[Al].updateScroll();const Il=this.layout;this.layout=this.measure(!1),this.layoutCorrected=createBox(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox),(Tl=this.options.visualElement)===null||Tl===void 0||Tl.notify("LayoutMeasure",this.layout.layoutBox,Il==null?void 0:Il.layoutBox)}updateScroll(Tl="measure"){let Il=Boolean(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===Tl&&(Il=!1),Il&&(this.scroll={animationId:this.root.animationId,phase:Tl,isRoot:yl(this.instance),offset:_o(this.instance)})}resetTransform(){var Tl;if(!El)return;const Il=this.isLayoutDirty||this.shouldResetTransform,Al=this.projectionDelta&&!isDeltaZero(this.projectionDelta),Rl=(Tl=this.getTransformTemplate())===null||Tl===void 0?void 0:Tl(this.latestValues,""),Fl=Rl!==this.prevTransformTemplateValue;Il&&(Al||hasTransform(this.latestValues)||Fl)&&(El(this.instance,Rl),this.shouldResetTransform=!1,this.scheduleRender())}measure(Tl=!0){const Il=this.measurePageBox();let Al=this.removeElementScroll(Il);return Tl&&(Al=this.removeTransform(Al)),roundBox(Al),{animationId:this.root.animationId,measuredBox:Il,layoutBox:Al,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:Tl}=this.options;if(!Tl)return createBox();const Il=Tl.measureViewportBox(),{scroll:Al}=this.root;return Al&&(translateAxis(Il.x,Al.offset.x),translateAxis(Il.y,Al.offset.y)),Il}removeElementScroll(Tl){const Il=createBox();copyBoxInto(Il,Tl);for(let Al=0;Al<this.path.length;Al++){const Rl=this.path[Al],{scroll:Fl,options:Bl}=Rl;if(Rl!==this.root&&Fl&&Bl.layoutScroll){if(Fl.isRoot){copyBoxInto(Il,Tl);const{scroll:Gl}=this.root;Gl&&(translateAxis(Il.x,-Gl.offset.x),translateAxis(Il.y,-Gl.offset.y))}translateAxis(Il.x,Fl.offset.x),translateAxis(Il.y,Fl.offset.y)}}return Il}applyTransform(Tl,Il=!1){const Al=createBox();copyBoxInto(Al,Tl);for(let Rl=0;Rl<this.path.length;Rl++){const Fl=this.path[Rl];!Il&&Fl.options.layoutScroll&&Fl.scroll&&Fl!==Fl.root&&transformBox(Al,{x:-Fl.scroll.offset.x,y:-Fl.scroll.offset.y}),hasTransform(Fl.latestValues)&&transformBox(Al,Fl.latestValues)}return hasTransform(this.latestValues)&&transformBox(Al,this.latestValues),Al}removeTransform(Tl){var Il;const Al=createBox();copyBoxInto(Al,Tl);for(let Rl=0;Rl<this.path.length;Rl++){const Fl=this.path[Rl];if(!Fl.instance||!hasTransform(Fl.latestValues))continue;hasScale(Fl.latestValues)&&Fl.updateSnapshot();const Bl=createBox(),Gl=Fl.measurePageBox();copyBoxInto(Bl,Gl),removeBoxTransforms(Al,Fl.latestValues,(Il=Fl.snapshot)===null||Il===void 0?void 0:Il.layoutBox,Bl)}return hasTransform(this.latestValues)&&removeBoxTransforms(Al,this.latestValues),Al}setTargetDelta(Tl){this.targetDelta=Tl,this.isProjectionDirty=!0,this.root.scheduleUpdateProjection()}setOptions(Tl){this.options={...this.options,...Tl,crossfade:Tl.crossfade!==void 0?Tl.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}resolveTargetDelta(){var Tl;const Il=this.getLead();if(this.isProjectionDirty||(this.isProjectionDirty=Il.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=Il.isTransformDirty),!this.isProjectionDirty&&!this.attemptToResolveRelativeTarget)return;const{layout:Al,layoutId:Rl}=this.options;if(!(!this.layout||!(Al||Rl))){if(!this.targetDelta&&!this.relativeTarget){const Fl=this.getClosestProjectingParent();Fl&&Fl.layout?(this.relativeParent=Fl,this.relativeTarget=createBox(),this.relativeTargetOrigin=createBox(),calcRelativePosition(this.relativeTargetOrigin,this.layout.layoutBox,Fl.layout.layoutBox),copyBoxInto(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=createBox(),this.targetWithTransforms=createBox()),this.relativeTarget&&this.relativeTargetOrigin&&(!((Tl=this.relativeParent)===null||Tl===void 0)&&Tl.target)?calcRelativeBox(this.target,this.relativeTarget,this.relativeParent.target):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.layoutBox):copyBoxInto(this.target,this.layout.layoutBox),applyBoxDelta(this.target,this.targetDelta)):copyBoxInto(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const Fl=this.getClosestProjectingParent();Fl&&Boolean(Fl.resumingFrom)===Boolean(this.resumingFrom)&&!Fl.options.layoutScroll&&Fl.target?(this.relativeParent=Fl,this.relativeTarget=createBox(),this.relativeTargetOrigin=createBox(),calcRelativePosition(this.relativeTargetOrigin,this.target,Fl.target),copyBoxInto(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||hasScale(this.parent.latestValues)||has2DTranslate(this.parent.latestValues)))return(this.parent.relativeTarget||this.parent.targetDelta||this.parent.options.layoutRoot)&&this.parent.layout?this.parent:this.parent.getClosestProjectingParent()}calcProjection(){var Tl;const{isProjectionDirty:Il,isTransformDirty:Al}=this;this.isProjectionDirty=this.isTransformDirty=!1;const Rl=this.getLead(),Fl=Boolean(this.resumingFrom)||this!==Rl;let Bl=!0;if(Il&&(Bl=!1),Fl&&Al&&(Bl=!1),Bl)return;const{layout:Gl,layoutId:Ql}=this.options;if(this.isTreeAnimating=Boolean(((Tl=this.parent)===null||Tl===void 0?void 0:Tl.isTreeAnimating)||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(Gl||Ql))return;copyBoxInto(this.layoutCorrected,this.layout.layoutBox),applyTreeDeltas(this.layoutCorrected,this.treeScale,this.path,Fl);const{target:_f}=Rl;if(!_f)return;this.projectionDelta||(this.projectionDelta=createDelta(),this.projectionDeltaWithTransform=createDelta());const _h=this.treeScale.x,vp=this.treeScale.y,up=this.projectionTransform;calcBoxDelta(this.projectionDelta,this.layoutCorrected,_f,this.latestValues),this.projectionTransform=buildProjectionTransform(this.projectionDelta,this.treeScale),(this.projectionTransform!==up||this.treeScale.x!==_h||this.treeScale.y!==vp)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",_f))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(Tl=!0){var Il,Al,Rl;(Al=(Il=this.options).scheduleRender)===null||Al===void 0||Al.call(Il),Tl&&((Rl=this.getStack())===null||Rl===void 0||Rl.scheduleRender()),this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(Tl,Il=!1){var Al,Rl;const Fl=this.snapshot,Bl=(Fl==null?void 0:Fl.latestValues)||{},Gl={...this.latestValues},Ql=createDelta();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!Il;const _f=createBox(),_h=(Fl==null?void 0:Fl.source)!==((Al=this.layout)===null||Al===void 0?void 0:Al.source),vp=(((Rl=this.getStack())===null||Rl===void 0?void 0:Rl.members.length)||0)<=1,up=Boolean(_h&&!vp&&this.options.crossfade===!0&&!this.path.some(hasOpacityCrossfade));this.animationProgress=0,this.mixTargetDelta=_d=>{var Ep;const Op=_d/1e3;mixAxisDelta(Ql.x,Tl.x,Op),mixAxisDelta(Ql.y,Tl.y,Op),this.setTargetDelta(Ql),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&(!((Ep=this.relativeParent)===null||Ep===void 0)&&Ep.layout)&&(calcRelativePosition(_f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),mixBox(this.relativeTarget,this.relativeTargetOrigin,_f,Op)),_h&&(this.animationValues=Gl,mixValues(Gl,Bl,this.latestValues,Op,up,vp)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=Op},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(Tl){var Il,Al;this.notifyListeners("animationStart"),(Il=this.currentAnimation)===null||Il===void 0||Il.stop(),this.resumingFrom&&((Al=this.resumingFrom.currentAnimation)===null||Al===void 0||Al.stop()),this.pendingAnimation&&(cancelSync.update(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=sync.update(()=>{globalProjectionState.hasAnimatedSinceResize=!0,this.currentAnimation=animate(0,animationTarget,{...Tl,onUpdate:Rl=>{var Fl;this.mixTargetDelta(Rl),(Fl=Tl.onUpdate)===null||Fl===void 0||Fl.call(Tl,Rl)},onComplete:()=>{var Rl;(Rl=Tl.onComplete)===null||Rl===void 0||Rl.call(Tl),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){var Tl;this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0),(Tl=this.getStack())===null||Tl===void 0||Tl.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){var Tl;this.currentAnimation&&((Tl=this.mixTargetDelta)===null||Tl===void 0||Tl.call(this,animationTarget),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const Tl=this.getLead();let{targetWithTransforms:Il,target:Al,layout:Rl,latestValues:Fl}=Tl;if(!(!Il||!Al||!Rl)){if(this!==Tl&&this.layout&&Rl&&shouldAnimatePositionOnly(this.options.animationType,this.layout.layoutBox,Rl.layoutBox)){Al=this.target||createBox();const Bl=calcLength(this.layout.layoutBox.x);Al.x.min=Tl.target.x.min,Al.x.max=Al.x.min+Bl;const Gl=calcLength(this.layout.layoutBox.y);Al.y.min=Tl.target.y.min,Al.y.max=Al.y.min+Gl}copyBoxInto(Il,Al),transformBox(Il,Fl),calcBoxDelta(this.projectionDeltaWithTransform,this.layoutCorrected,Il,Fl)}}registerSharedNode(Tl,Il){var Al,Rl,Fl;this.sharedNodes.has(Tl)||this.sharedNodes.set(Tl,new NodeStack),this.sharedNodes.get(Tl).add(Il),Il.promote({transition:(Al=Il.options.initialPromotionConfig)===null||Al===void 0?void 0:Al.transition,preserveFollowOpacity:(Fl=(Rl=Il.options.initialPromotionConfig)===null||Rl===void 0?void 0:Rl.shouldPreserveFollowOpacity)===null||Fl===void 0?void 0:Fl.call(Rl,Il)})}isLead(){const Tl=this.getStack();return Tl?Tl.lead===this:!0}getLead(){var Tl;const{layoutId:Il}=this.options;return Il?((Tl=this.getStack())===null||Tl===void 0?void 0:Tl.lead)||this:this}getPrevLead(){var Tl;const{layoutId:Il}=this.options;return Il?(Tl=this.getStack())===null||Tl===void 0?void 0:Tl.prevLead:void 0}getStack(){const{layoutId:Tl}=this.options;if(Tl)return this.root.sharedNodes.get(Tl)}promote({needsReset:Tl,transition:Il,preserveFollowOpacity:Al}={}){const Rl=this.getStack();Rl&&Rl.promote(this,Al),Tl&&(this.projectionDelta=void 0,this.needsReset=!0),Il&&this.setOptions({transition:Il})}relegate(){const Tl=this.getStack();return Tl?Tl.relegate(this):!1}resetRotation(){const{visualElement:Tl}=this.options;if(!Tl)return;let Il=!1;const{latestValues:Al}=Tl;if((Al.rotate||Al.rotateX||Al.rotateY||Al.rotateZ)&&(Il=!0),!Il)return;const Rl={};for(let Fl=0;Fl<transformAxes.length;Fl++){const Bl="rotate"+transformAxes[Fl];Al[Bl]&&(Rl[Bl]=Al[Bl],Tl.setStaticValue(Bl,0))}Tl==null||Tl.render();for(const Fl in Rl)Tl.setStaticValue(Fl,Rl[Fl]);Tl.scheduleRender()}getProjectionStyles(Tl={}){var Il,Al;const Rl={};if(!this.instance||this.isSVG)return Rl;if(this.isVisible)Rl.visibility="";else return{visibility:"hidden"};const Fl=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,Rl.opacity="",Rl.pointerEvents=resolveMotionValue(Tl.pointerEvents)||"",Rl.transform=Fl?Fl(this.latestValues,""):"none",Rl;const Bl=this.getLead();if(!this.projectionDelta||!this.layout||!Bl.target){const _h={};return this.options.layoutId&&(_h.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,_h.pointerEvents=resolveMotionValue(Tl.pointerEvents)||""),this.hasProjected&&!hasTransform(this.latestValues)&&(_h.transform=Fl?Fl({},""):"none",this.hasProjected=!1),_h}const Gl=Bl.animationValues||Bl.latestValues;this.applyTransformsToTarget(),Rl.transform=buildProjectionTransform(this.projectionDeltaWithTransform,this.treeScale,Gl),Fl&&(Rl.transform=Fl(Gl,Rl.transform));const{x:Ql,y:_f}=this.projectionDelta;Rl.transformOrigin=`${Ql.origin*100}% ${_f.origin*100}% 0`,Bl.animationValues?Rl.opacity=Bl===this?(Al=(Il=Gl.opacity)!==null&&Il!==void 0?Il:this.latestValues.opacity)!==null&&Al!==void 0?Al:1:this.preserveOpacity?this.latestValues.opacity:Gl.opacityExit:Rl.opacity=Bl===this?Gl.opacity!==void 0?Gl.opacity:"":Gl.opacityExit!==void 0?Gl.opacityExit:0;for(const _h in scaleCorrectors){if(Gl[_h]===void 0)continue;const{correct:vp,applyTo:up}=scaleCorrectors[_h],_d=Rl.transform==="none"?Gl[_h]:vp(Gl[_h],Bl);if(up){const Ep=up.length;for(let Op=0;Op<Ep;Op++)Rl[up[Op]]=_d}else Rl[_h]=_d}return this.options.layoutId&&(Rl.pointerEvents=Bl===this?resolveMotionValue(Tl.pointerEvents)||"":"none"),Rl}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(Tl=>{var Il;return(Il=Tl.currentAnimation)===null||Il===void 0?void 0:Il.stop()}),this.root.nodes.forEach(clearMeasurements),this.root.sharedNodes.clear()}}}function updateLayout(_r){_r.updateLayout()}function notifyLayoutUpdate(_r){var _t,_o,yl;const El=((_t=_r.resumeFrom)===null||_t===void 0?void 0:_t.snapshot)||_r.snapshot;if(_r.isLead()&&_r.layout&&El&&_r.hasListeners("didUpdate")){const{layoutBox:_l,measuredBox:Tl}=_r.layout,{animationType:Il}=_r.options,Al=El.source!==_r.layout.source;Il==="size"?eachAxis(Ql=>{const _f=Al?El.measuredBox[Ql]:El.layoutBox[Ql],_h=calcLength(_f);_f.min=_l[Ql].min,_f.max=_f.min+_h}):shouldAnimatePositionOnly(Il,El.layoutBox,_l)&&eachAxis(Ql=>{const _f=Al?El.measuredBox[Ql]:El.layoutBox[Ql],_h=calcLength(_l[Ql]);_f.max=_f.min+_h});const Rl=createDelta();calcBoxDelta(Rl,_l,El.layoutBox);const Fl=createDelta();Al?calcBoxDelta(Fl,_r.applyTransform(Tl,!0),El.measuredBox):calcBoxDelta(Fl,_l,El.layoutBox);const Bl=!isDeltaZero(Rl);let Gl=!1;if(!_r.resumeFrom){const Ql=_r.getClosestProjectingParent();if(Ql&&!Ql.resumeFrom){const{snapshot:_f,layout:_h}=Ql;if(_f&&_h){const vp=createBox();calcRelativePosition(vp,El.layoutBox,_f.layoutBox);const up=createBox();calcRelativePosition(up,_l,_h.layoutBox),boxEquals(vp,up)||(Gl=!0),Ql.options.layoutRoot&&(_r.relativeTarget=up,_r.relativeTargetOrigin=vp,_r.relativeParent=Ql)}}}_r.notifyListeners("didUpdate",{layout:_l,snapshot:El,delta:Fl,layoutDelta:Rl,hasLayoutChanged:Bl,hasRelativeTargetChanged:Gl})}else _r.isLead()&&((yl=(_o=_r.options).onExitComplete)===null||yl===void 0||yl.call(_o));_r.options.transition=void 0}function propagateDirtyNodes(_r){_r.isProjectionDirty||(_r.isProjectionDirty=Boolean(_r.parent&&_r.parent.isProjectionDirty)),_r.isTransformDirty||(_r.isTransformDirty=Boolean(_r.parent&&_r.parent.isTransformDirty))}function clearSnapshot(_r){_r.clearSnapshot()}function clearMeasurements(_r){_r.clearMeasurements()}function resetTransformStyle(_r){const{visualElement:_t}=_r.options;_t!=null&&_t.getProps().onBeforeLayoutMeasure&&_t.notify("BeforeLayoutMeasure"),_r.resetTransform()}function finishAnimation(_r){_r.finishAnimation(),_r.targetDelta=_r.relativeTarget=_r.target=void 0}function resolveTargetDelta(_r){_r.resolveTargetDelta()}function calcProjection(_r){_r.calcProjection()}function resetRotation(_r){_r.resetRotation()}function removeLeadSnapshots(_r){_r.removeLeadSnapshot()}function mixAxisDelta(_r,_t,_o){_r.translate=mix(_t.translate,0,_o),_r.scale=mix(_t.scale,1,_o),_r.origin=_t.origin,_r.originPoint=_t.originPoint}function mixAxis(_r,_t,_o,yl){_r.min=mix(_t.min,_o.min,yl),_r.max=mix(_t.max,_o.max,yl)}function mixBox(_r,_t,_o,yl){mixAxis(_r.x,_t.x,_o.x,yl),mixAxis(_r.y,_t.y,_o.y,yl)}function hasOpacityCrossfade(_r){return _r.animationValues&&_r.animationValues.opacityExit!==void 0}const defaultLayoutTransition={duration:.45,ease:[.4,0,.1,1]};function mountNodeEarly(_r,_t){let _o=_r.root;for(let _l=_r.path.length-1;_l>=0;_l--)if(Boolean(_r.path[_l].instance)){_o=_r.path[_l];break}const El=(_o&&_o!==_r.root?_o.instance:document).querySelector(`[data-projection-id="${_t}"]`);El&&_r.mount(El,!0)}function roundAxis(_r){_r.min=Math.round(_r.min),_r.max=Math.round(_r.max)}function roundBox(_r){roundAxis(_r.x),roundAxis(_r.y)}function shouldAnimatePositionOnly(_r,_t,_o){return _r==="position"||_r==="preserve-aspect"&&!isNear(aspectRatio(_t),aspectRatio(_o),.2)}const DocumentProjectionNode=createProjectionNode({attachResizeListener:(_r,_t)=>addDomEvent(_r,"resize",_t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),rootProjectionNode={current:void 0},HTMLProjectionNode=createProjectionNode({measureScroll:_r=>({x:_r.scrollLeft,y:_r.scrollTop}),defaultParent:()=>{if(!rootProjectionNode.current){const _r=new DocumentProjectionNode(0,{});_r.mount(window),_r.setOptions({layoutScroll:!0}),rootProjectionNode.current=_r}return rootProjectionNode.current},resetTransform:(_r,_t)=>{_r.style.transform=_t!==void 0?_t:"none"},checkIsScrollRoot:_r=>Boolean(window.getComputedStyle(_r).position==="fixed")}),featureBundle={...animations,...gestureAnimations,...drag,...layoutFeatures},motion=createMotionProxy((_r,_t)=>createDomMotionConfig(_r,_t,featureBundle,createDomVisualElement,HTMLProjectionNode));function useIsMounted(){const _r=reactExports.useRef(!1);return useIsomorphicLayoutEffect(()=>(_r.current=!0,()=>{_r.current=!1}),[]),_r}function useForceUpdate(){const _r=useIsMounted(),[_t,_o]=reactExports.useState(0),yl=reactExports.useCallback(()=>{_r.current&&_o(_t+1)},[_t]);return[reactExports.useCallback(()=>sync.postRender(yl),[yl]),_t]}class PopChildMeasure extends reactExports.Component{getSnapshotBeforeUpdate(_t){const _o=this.props.childRef.current;if(_o&&_t.isPresent&&!this.props.isPresent){const yl=this.props.sizeRef.current;yl.height=_o.offsetHeight||0,yl.width=_o.offsetWidth||0,yl.top=_o.offsetTop,yl.left=_o.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function PopChild({children:_r,isPresent:_t}){const _o=reactExports.useId(),yl=reactExports.useRef(null),El=reactExports.useRef({width:0,height:0,top:0,left:0});return reactExports.useInsertionEffect(()=>{const{width:_l,height:Tl,top:Il,left:Al}=El.current;if(_t||!yl.current||!_l||!Tl)return;yl.current.dataset.motionPopId=_o;const Rl=document.createElement("style");return document.head.appendChild(Rl),Rl.sheet&&Rl.sheet.insertRule(`
          [data-motion-pop-id="${_o}"] {
            position: absolute !important;
            width: ${_l}px !important;
            height: ${Tl}px !important;
            top: ${Il}px !important;
            left: ${Al}px !important;
          }
        `),()=>{document.head.removeChild(Rl)}},[_t]),reactExports.createElement(PopChildMeasure,{isPresent:_t,childRef:yl,sizeRef:El},reactExports.cloneElement(_r,{ref:yl}))}const PresenceChild=({children:_r,initial:_t,isPresent:_o,onExitComplete:yl,custom:El,presenceAffectsLayout:_l,mode:Tl})=>{const Il=useConstant(newChildrenMap),Al=reactExports.useId(),Rl=reactExports.useMemo(()=>({id:Al,initial:_t,isPresent:_o,custom:El,onExitComplete:Fl=>{Il.set(Fl,!0);for(const Bl of Il.values())if(!Bl)return;yl&&yl()},register:Fl=>(Il.set(Fl,!1),()=>Il.delete(Fl))}),_l?void 0:[_o]);return reactExports.useMemo(()=>{Il.forEach((Fl,Bl)=>Il.set(Bl,!1))},[_o]),reactExports.useEffect(()=>{!_o&&!Il.size&&yl&&yl()},[_o]),Tl==="popLayout"&&(_r=reactExports.createElement(PopChild,{isPresent:_o},_r)),reactExports.createElement(PresenceContext.Provider,{value:Rl},_r)};function newChildrenMap(){return new Map}const getChildKey=_r=>_r.key||"";function updateChildLookup(_r,_t){_r.forEach(_o=>{const yl=getChildKey(_o);_t.set(yl,_o)})}function onlyElements(_r){const _t=[];return reactExports.Children.forEach(_r,_o=>{reactExports.isValidElement(_o)&&_t.push(_o)}),_t}const AnimatePresence=({children:_r,custom:_t,initial:_o=!0,onExitComplete:yl,exitBeforeEnter:El,presenceAffectsLayout:_l=!0,mode:Tl="sync"})=>{El&&(Tl="wait");let[Il]=useForceUpdate();const Al=reactExports.useContext(LayoutGroupContext).forceRender;Al&&(Il=Al);const Rl=useIsMounted(),Fl=onlyElements(_r);let Bl=Fl;const Gl=new Set,Ql=reactExports.useRef(Bl),_f=reactExports.useRef(new Map).current,_h=reactExports.useRef(!0);if(useIsomorphicLayoutEffect(()=>{_h.current=!1,updateChildLookup(Fl,_f),Ql.current=Bl}),useUnmountEffect(()=>{_h.current=!0,_f.clear(),Gl.clear()}),_h.current)return reactExports.createElement(reactExports.Fragment,null,Bl.map(Ep=>reactExports.createElement(PresenceChild,{key:getChildKey(Ep),isPresent:!0,initial:_o?void 0:!1,presenceAffectsLayout:_l,mode:Tl},Ep)));Bl=[...Bl];const vp=Ql.current.map(getChildKey),up=Fl.map(getChildKey),_d=vp.length;for(let Ep=0;Ep<_d;Ep++){const Op=vp[Ep];up.indexOf(Op)===-1&&Gl.add(Op)}return Tl==="wait"&&Gl.size&&(Bl=[]),Gl.forEach(Ep=>{if(up.indexOf(Ep)!==-1)return;const Op=_f.get(Ep);if(!Op)return;const Ip=vp.indexOf(Ep),Pp=()=>{_f.delete(Ep),Gl.delete(Ep);const xp=Ql.current.findIndex(Np=>Np.key===Ep);if(Ql.current.splice(xp,1),!Gl.size){if(Ql.current=Fl,Rl.current===!1)return;Il(),yl&&yl()}};Bl.splice(Ip,0,reactExports.createElement(PresenceChild,{key:getChildKey(Op),isPresent:!1,onExitComplete:Pp,custom:_t,presenceAffectsLayout:_l,mode:Tl},Op))}),Bl=Bl.map(Ep=>{const Op=Ep.key;return Gl.has(Op)?Ep:reactExports.createElement(PresenceChild,{key:getChildKey(Ep),isPresent:!0,presenceAffectsLayout:_l,mode:Tl},Ep)}),reactExports.createElement(reactExports.Fragment,null,Gl.size?Bl:Bl.map(Ep=>reactExports.cloneElement(Ep)))},emailImg="/assets/envelope-solid-0e3cdbb8.svg",passwordImg="/assets/lock-solid-c08829bb.svg",logo="/assets/devchallenges-light-6441f27c.svg",authInput="",AuthInput=reactExports.forwardRef(function({type:_r,img:_t},_o){const yl=reactExports.useId();return jsxs("label",{htmlFor:yl,className:"auth-input",children:[jsx("img",{src:_t,alt:"input"}),jsx("input",{type:_r,minLength:_r==="password"?6:1/0,name:_r,id:yl,placeholder:_r,ref:_o,required:!0})]})}),button="",Button=function({children:_r,..._t}){return jsx("button",{..._t,className:"button",onMouseDown:function(yl){let El=yl.nativeEvent.offsetX,_l=yl.nativeEvent.offsetY;yl.target.style.setProperty("--x",El+"px"),yl.target.style.setProperty("--y",_l+"px"),yl.target.classList.add("pulse")},onAnimationEnd:yl=>yl.target.classList.remove("pulse"),children:_r})},formTemplate="";let nanoid=(_r=21)=>crypto.getRandomValues(new Uint8Array(_r)).reduce((_t,_o)=>(_o&=63,_o<36?_t+=_o.toString(36):_o<62?_t+=(_o-26).toString(36).toUpperCase():_o>62?_t+="-":_t+="_",_t),"");const googleImg="/assets/google-b9f2dce9.png",SocialProfiles=function(){const _r=useDispatch(),_t=useNavigate(),_o=function(){_r(signIn({type:"GOOGLE",navigateFn:_t}))};return jsxs(motion.div,{className:"social-profiles",whileHover:{scale:1.05},whileTap:{scale:.95},onClick:_o,children:[[googleImg].map((yl,El)=>jsx("img",{src:yl,alt:"social"},nanoid())),jsx("p",{children:"Sign in with Google"})]})},FormTemplate=function({children:_r,button:_t,footer:_o,type:yl}){const El=reactExports.useRef(null),_l=reactExports.useRef(null),Tl=useDispatch(),Il=useNavigate(),Al=function(Rl){return Fl=>{Fl.preventDefault(),Tl(signIn({type:Rl,email:El.current.value,password:_l.current.value,navigateFn:Il}))}};return jsx("div",{className:"form-template-container",children:jsxs(motion.form,{className:"form-template",onSubmit:Al(yl),initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:[jsx("img",{src:logo,alt:"logo"}),_r,jsx(AuthInput,{type:"email",img:emailImg,ref:El}),jsx(AuthInput,{type:"password",img:passwordImg,ref:_l}),jsx(Button,{type:"submit",children:_t}),jsx("p",{children:"or continue with google"}),jsx(SocialProfiles,{}),_o]})})};function Login(){return jsx(FormTemplate,{button:"Login",footer:jsxs("div",{className:"footer",children:[jsx("p",{children:"Don't have an account yet? "}),jsx(Link,{to:"/signup",children:"Register"})]}),type:"EMAILANDPASSWORDLOGIN",children:jsx("h1",{children:"Login"})})}const userImg="/assets/MyProfile-34ec1a04.jpg",backBtn="/assets/chevron-left-solid-f1e89964.svg",member="",openai$1="/assets/chatgpt-logo-02AFA704B5-seeklogo.com-d7cb522f.png",imgU="/assets/account_circle_FILL0_wght400_GRAD0_opsz48-d3ab6d9e.svg",Member=function({img:_r,name:_t,email:_o=""}){const yl=_t||_o.slice(0,_o.indexOf("@"));return jsxs("div",{className:"member",children:[jsx("img",{src:_r==="openai"?openai$1:_r||imgU,alt:yl}),jsx("p",{className:yl,children:yl})]})},channel_info_nav="",closeBtn="/assets/xmark-solid-4098d5ca.svg",downArrow="/assets/angle-down-solid-ae14287f.svg",user="",copyImg="/assets/copy-solid-73e4120d.svg",logoutBtn="/assets/arrow-right-from-bracket-solid-892d46c8.svg",exitIcon="/assets/door-open-solid-1d3763da.svg",dropDown="",DropDown=function({channelId:_r,channelDispatch:_t}){const _o=useNavigate(),yl=useDispatch(),El=Aa(database,"channels",_r),_l=function(){signOut(auth),_o("/login"),yl(actions.logout())},Tl=async function(){var Il,Al,Rl,Fl;if(_r==="16A4w32PivaHAasvXbflX1676971533389"){yl(actions.resetErrorMessage("Cannot exit default channel"));return}await Kl(El,{members:uf({email:(Il=auth.currentUser)==null?void 0:Il.email,id:(Al=auth.currentUser)==null?void 0:Al.uid,name:(Rl=auth.currentUser)==null?void 0:Rl.displayName,photoURL:(Fl=auth.currentUser)==null?void 0:Fl.photoURL})}),_t({type:"exit",payload:{channelName:"DEFAULT CHANNEL",channelDesc:"Test channel for all users",channelId:"16A4w32PivaHAasvXbflX1676971533389",channelMembers:[{id:"",photoURL:"",name:"",email:""}],channelMessages:[]}}),_o("/channels")};return jsxs(motion.div,{className:"drop-down",initial:{y:"calc(-100% + 30px)",opacity:0},animate:{y:"-100%",opacity:1,transition:{type:"spring",damping:20,stiffness:500}},exit:{y:"calc(-100% + 30px)",opacity:0,transition:{type:"tween",duration:.3}},children:[jsxs("div",{className:"child copy-link",onClick:()=>{navigator.clipboard.writeText(`https://astounding-choux-c5148e.netlify.app/join/:${_r}`),yl(actions.resetErrorMessage("Invite link copied to clipboard!"))},children:[jsx("p",{children:"Invite Link"}),jsx("img",{src:copyImg,alt:"copy"})]}),jsxs("div",{className:"child exit-channel",onClick:Tl,children:[jsx("p",{children:"Exit channel"}),jsx("img",{src:exitIcon,alt:"exit channel"})]}),jsx("div",{className:"line"}),jsxs("div",{className:"child logout",onClick:_l,children:[jsx("p",{children:"Logout"}),jsx("img",{src:logoutBtn,alt:"logout"})]})]})},User=function({channelId:_r,channelDispatch:_t}){const _o=useSelector(Il=>Il.user),[yl,El]=reactExports.useState(!1),_l=_o.displayName||_o.email.slice(0,_o.email.indexOf("@")),Tl=_o.photoURL||imgU;return document.body.addEventListener("click",Il=>{Il.target.closest(".down")||Il.target.closest(".drop-down")||El(!1)}),jsxs("div",{className:"user",title:_l,children:[jsx("img",{src:Tl,alt:"profile"}),jsx("p",{className:"name",children:_l}),jsx(motion.img,{className:"down",onClick:()=>{El(Il=>!Il)},src:downArrow,alt:"open",animate:{rotate:yl?"180deg":"0"}}),jsx(AnimatePresence,{children:yl&&jsx(DropDown,{channelId:_r,channelDispatch:_t},nanoid())})]})},ChannelInfoNav=function({channelInfo:_r,isNavOpen:_t,channelDispatch:_o,setIsNavOpen:yl}){const El=useNavigate();return jsxs("div",{className:`channel-info-nav nav ${_t?"active":""}`,children:[jsxs("div",{className:"header",children:[jsx("img",{src:backBtn,alt:"back",onClick:()=>El("/channels")}),jsx("p",{children:"All Channels"}),jsx("div",{className:"close-btn",onClick:()=>yl(!1),children:jsx("img",{src:closeBtn,alt:"close"})})]}),jsxs("div",{className:"container",children:[jsx("p",{className:"name",children:_r.channelName}),jsx("p",{className:"desc",children:_r.channelDesc}),jsxs("div",{className:"members",children:[jsx("p",{children:"Members"}),_r.channelMembers.map(_l=>jsx(Member,{img:_l.photoURL,name:_l.name,email:_l.email},nanoid()))]})]}),jsx(User,{channelId:_r.channelId,channelDispatch:_o})]})};var dist={},api={},axiosExports$1={},axios$2={get exports(){return axiosExports$1},set exports(_r){axiosExports$1=_r}},axiosExports={},axios$1={get exports(){return axiosExports},set exports(_r){axiosExports=_r}},bind$2=function(_t,_o){return function(){for(var El=new Array(arguments.length),_l=0;_l<El.length;_l++)El[_l]=arguments[_l];return _t.apply(_o,El)}},bind$1=bind$2,toString=Object.prototype.toString;function isArray(_r){return Array.isArray(_r)}function isUndefined(_r){return typeof _r>"u"}function isBuffer(_r){return _r!==null&&!isUndefined(_r)&&_r.constructor!==null&&!isUndefined(_r.constructor)&&typeof _r.constructor.isBuffer=="function"&&_r.constructor.isBuffer(_r)}function isArrayBuffer(_r){return toString.call(_r)==="[object ArrayBuffer]"}function isFormData(_r){return toString.call(_r)==="[object FormData]"}function isArrayBufferView(_r){var _t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?_t=ArrayBuffer.isView(_r):_t=_r&&_r.buffer&&isArrayBuffer(_r.buffer),_t}function isString(_r){return typeof _r=="string"}function isNumber(_r){return typeof _r=="number"}function isObject(_r){return _r!==null&&typeof _r=="object"}function isPlainObject(_r){if(toString.call(_r)!=="[object Object]")return!1;var _t=Object.getPrototypeOf(_r);return _t===null||_t===Object.prototype}function isDate(_r){return toString.call(_r)==="[object Date]"}function isFile(_r){return toString.call(_r)==="[object File]"}function isBlob(_r){return toString.call(_r)==="[object Blob]"}function isFunction(_r){return toString.call(_r)==="[object Function]"}function isStream(_r){return isObject(_r)&&isFunction(_r.pipe)}function isURLSearchParams(_r){return toString.call(_r)==="[object URLSearchParams]"}function trim(_r){return _r.trim?_r.trim():_r.replace(/^\s+|\s+$/g,"")}function isStandardBrowserEnv(){return typeof navigator<"u"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window<"u"&&typeof document<"u"}function forEach(_r,_t){if(!(_r===null||typeof _r>"u"))if(typeof _r!="object"&&(_r=[_r]),isArray(_r))for(var _o=0,yl=_r.length;_o<yl;_o++)_t.call(null,_r[_o],_o,_r);else for(var El in _r)Object.prototype.hasOwnProperty.call(_r,El)&&_t.call(null,_r[El],El,_r)}function merge(){var _r={};function _t(El,_l){isPlainObject(_r[_l])&&isPlainObject(El)?_r[_l]=merge(_r[_l],El):isPlainObject(El)?_r[_l]=merge({},El):isArray(El)?_r[_l]=El.slice():_r[_l]=El}for(var _o=0,yl=arguments.length;_o<yl;_o++)forEach(arguments[_o],_t);return _r}function extend(_r,_t,_o){return forEach(_t,function(El,_l){_o&&typeof El=="function"?_r[_l]=bind$1(El,_o):_r[_l]=El}),_r}function stripBOM(_r){return _r.charCodeAt(0)===65279&&(_r=_r.slice(1)),_r}var utils$9={isArray,isArrayBuffer,isBuffer,isFormData,isArrayBufferView,isString,isNumber,isObject,isPlainObject,isUndefined,isDate,isFile,isBlob,isFunction,isStream,isURLSearchParams,isStandardBrowserEnv,forEach,merge,extend,trim,stripBOM},utils$8=utils$9;function encode(_r){return encodeURIComponent(_r).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var buildURL$1=function(_t,_o,yl){if(!_o)return _t;var El;if(yl)El=yl(_o);else if(utils$8.isURLSearchParams(_o))El=_o.toString();else{var _l=[];utils$8.forEach(_o,function(Al,Rl){Al===null||typeof Al>"u"||(utils$8.isArray(Al)?Rl=Rl+"[]":Al=[Al],utils$8.forEach(Al,function(Bl){utils$8.isDate(Bl)?Bl=Bl.toISOString():utils$8.isObject(Bl)&&(Bl=JSON.stringify(Bl)),_l.push(encode(Rl)+"="+encode(Bl))}))}),El=_l.join("&")}if(El){var Tl=_t.indexOf("#");Tl!==-1&&(_t=_t.slice(0,Tl)),_t+=(_t.indexOf("?")===-1?"?":"&")+El}return _t},utils$7=utils$9;function InterceptorManager$1(){this.handlers=[]}InterceptorManager$1.prototype.use=function(_t,_o,yl){return this.handlers.push({fulfilled:_t,rejected:_o,synchronous:yl?yl.synchronous:!1,runWhen:yl?yl.runWhen:null}),this.handlers.length-1};InterceptorManager$1.prototype.eject=function(_t){this.handlers[_t]&&(this.handlers[_t]=null)};InterceptorManager$1.prototype.forEach=function(_t){utils$7.forEach(this.handlers,function(yl){yl!==null&&_t(yl)})};var InterceptorManager_1=InterceptorManager$1,utils$6=utils$9,normalizeHeaderName$1=function(_t,_o){utils$6.forEach(_t,function(El,_l){_l!==_o&&_l.toUpperCase()===_o.toUpperCase()&&(_t[_o]=El,delete _t[_l])})},enhanceError$1=function(_t,_o,yl,El,_l){return _t.config=_o,yl&&(_t.code=yl),_t.request=El,_t.response=_l,_t.isAxiosError=!0,_t.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},_t},transitional={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},createError,hasRequiredCreateError;function requireCreateError(){if(hasRequiredCreateError)return createError;hasRequiredCreateError=1;var _r=enhanceError$1;return createError=function(_o,yl,El,_l,Tl){var Il=new Error(_o);return _r(Il,yl,El,_l,Tl)},createError}var settle,hasRequiredSettle;function requireSettle(){if(hasRequiredSettle)return settle;hasRequiredSettle=1;var _r=requireCreateError();return settle=function(_o,yl,El){var _l=El.config.validateStatus;!El.status||!_l||_l(El.status)?_o(El):yl(_r("Request failed with status code "+El.status,El.config,null,El.request,El))},settle}var cookies,hasRequiredCookies;function requireCookies(){if(hasRequiredCookies)return cookies;hasRequiredCookies=1;var _r=utils$9;return cookies=_r.isStandardBrowserEnv()?function(){return{write:function(yl,El,_l,Tl,Il,Al){var Rl=[];Rl.push(yl+"="+encodeURIComponent(El)),_r.isNumber(_l)&&Rl.push("expires="+new Date(_l).toGMTString()),_r.isString(Tl)&&Rl.push("path="+Tl),_r.isString(Il)&&Rl.push("domain="+Il),Al===!0&&Rl.push("secure"),document.cookie=Rl.join("; ")},read:function(yl){var El=document.cookie.match(new RegExp("(^|;\\s*)("+yl+")=([^;]*)"));return El?decodeURIComponent(El[3]):null},remove:function(yl){this.write(yl,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),cookies}var isAbsoluteURL,hasRequiredIsAbsoluteURL;function requireIsAbsoluteURL(){return hasRequiredIsAbsoluteURL||(hasRequiredIsAbsoluteURL=1,isAbsoluteURL=function(_t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(_t)}),isAbsoluteURL}var combineURLs,hasRequiredCombineURLs;function requireCombineURLs(){return hasRequiredCombineURLs||(hasRequiredCombineURLs=1,combineURLs=function(_t,_o){return _o?_t.replace(/\/+$/,"")+"/"+_o.replace(/^\/+/,""):_t}),combineURLs}var buildFullPath,hasRequiredBuildFullPath;function requireBuildFullPath(){if(hasRequiredBuildFullPath)return buildFullPath;hasRequiredBuildFullPath=1;var _r=requireIsAbsoluteURL(),_t=requireCombineURLs();return buildFullPath=function(yl,El){return yl&&!_r(El)?_t(yl,El):El},buildFullPath}var parseHeaders,hasRequiredParseHeaders;function requireParseHeaders(){if(hasRequiredParseHeaders)return parseHeaders;hasRequiredParseHeaders=1;var _r=utils$9,_t=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];return parseHeaders=function(yl){var El={},_l,Tl,Il;return yl&&_r.forEach(yl.split(`
`),function(Rl){if(Il=Rl.indexOf(":"),_l=_r.trim(Rl.substr(0,Il)).toLowerCase(),Tl=_r.trim(Rl.substr(Il+1)),_l){if(El[_l]&&_t.indexOf(_l)>=0)return;_l==="set-cookie"?El[_l]=(El[_l]?El[_l]:[]).concat([Tl]):El[_l]=El[_l]?El[_l]+", "+Tl:Tl}}),El},parseHeaders}var isURLSameOrigin,hasRequiredIsURLSameOrigin;function requireIsURLSameOrigin(){if(hasRequiredIsURLSameOrigin)return isURLSameOrigin;hasRequiredIsURLSameOrigin=1;var _r=utils$9;return isURLSameOrigin=_r.isStandardBrowserEnv()?function(){var _o=/(msie|trident)/i.test(navigator.userAgent),yl=document.createElement("a"),El;function _l(Tl){var Il=Tl;return _o&&(yl.setAttribute("href",Il),Il=yl.href),yl.setAttribute("href",Il),{href:yl.href,protocol:yl.protocol?yl.protocol.replace(/:$/,""):"",host:yl.host,search:yl.search?yl.search.replace(/^\?/,""):"",hash:yl.hash?yl.hash.replace(/^#/,""):"",hostname:yl.hostname,port:yl.port,pathname:yl.pathname.charAt(0)==="/"?yl.pathname:"/"+yl.pathname}}return El=_l(window.location.href),function(Il){var Al=_r.isString(Il)?_l(Il):Il;return Al.protocol===El.protocol&&Al.host===El.host}}():function(){return function(){return!0}}(),isURLSameOrigin}var Cancel_1,hasRequiredCancel;function requireCancel(){if(hasRequiredCancel)return Cancel_1;hasRequiredCancel=1;function _r(_t){this.message=_t}return _r.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},_r.prototype.__CANCEL__=!0,Cancel_1=_r,Cancel_1}var xhr,hasRequiredXhr;function requireXhr(){if(hasRequiredXhr)return xhr;hasRequiredXhr=1;var _r=utils$9,_t=requireSettle(),_o=requireCookies(),yl=buildURL$1,El=requireBuildFullPath(),_l=requireParseHeaders(),Tl=requireIsURLSameOrigin(),Il=requireCreateError(),Al=transitional,Rl=requireCancel();return xhr=function(Bl){return new Promise(function(Ql,_f){var _h=Bl.data,vp=Bl.headers,up=Bl.responseType,_d;function Ep(){Bl.cancelToken&&Bl.cancelToken.unsubscribe(_d),Bl.signal&&Bl.signal.removeEventListener("abort",_d)}_r.isFormData(_h)&&delete vp["Content-Type"];var Op=new XMLHttpRequest;if(Bl.auth){var Ip=Bl.auth.username||"",Pp=Bl.auth.password?unescape(encodeURIComponent(Bl.auth.password)):"";vp.Authorization="Basic "+btoa(Ip+":"+Pp)}var xp=El(Bl.baseURL,Bl.url);Op.open(Bl.method.toUpperCase(),yl(xp,Bl.params,Bl.paramsSerializer),!0),Op.timeout=Bl.timeout;function Np(){if(Op){var Tp="getAllResponseHeaders"in Op?_l(Op.getAllResponseHeaders()):null,Dp=!up||up==="text"||up==="json"?Op.responseText:Op.response,Bp={data:Dp,status:Op.status,statusText:Op.statusText,headers:Tp,config:Bl,request:Op};_t(function(Cp){Ql(Cp),Ep()},function(Cp){_f(Cp),Ep()},Bp),Op=null}}if("onloadend"in Op?Op.onloadend=Np:Op.onreadystatechange=function(){!Op||Op.readyState!==4||Op.status===0&&!(Op.responseURL&&Op.responseURL.indexOf("file:")===0)||setTimeout(Np)},Op.onabort=function(){Op&&(_f(Il("Request aborted",Bl,"ECONNABORTED",Op)),Op=null)},Op.onerror=function(){_f(Il("Network Error",Bl,null,Op)),Op=null},Op.ontimeout=function(){var Dp=Bl.timeout?"timeout of "+Bl.timeout+"ms exceeded":"timeout exceeded",Bp=Bl.transitional||Al;Bl.timeoutErrorMessage&&(Dp=Bl.timeoutErrorMessage),_f(Il(Dp,Bl,Bp.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",Op)),Op=null},_r.isStandardBrowserEnv()){var Kp=(Bl.withCredentials||Tl(xp))&&Bl.xsrfCookieName?_o.read(Bl.xsrfCookieName):void 0;Kp&&(vp[Bl.xsrfHeaderName]=Kp)}"setRequestHeader"in Op&&_r.forEach(vp,function(Dp,Bp){typeof _h>"u"&&Bp.toLowerCase()==="content-type"?delete vp[Bp]:Op.setRequestHeader(Bp,Dp)}),_r.isUndefined(Bl.withCredentials)||(Op.withCredentials=!!Bl.withCredentials),up&&up!=="json"&&(Op.responseType=Bl.responseType),typeof Bl.onDownloadProgress=="function"&&Op.addEventListener("progress",Bl.onDownloadProgress),typeof Bl.onUploadProgress=="function"&&Op.upload&&Op.upload.addEventListener("progress",Bl.onUploadProgress),(Bl.cancelToken||Bl.signal)&&(_d=function(Tp){Op&&(_f(!Tp||Tp&&Tp.type?new Rl("canceled"):Tp),Op.abort(),Op=null)},Bl.cancelToken&&Bl.cancelToken.subscribe(_d),Bl.signal&&(Bl.signal.aborted?_d():Bl.signal.addEventListener("abort",_d))),_h||(_h=null),Op.send(_h)})},xhr}var utils$5=utils$9,normalizeHeaderName=normalizeHeaderName$1,enhanceError=enhanceError$1,transitionalDefaults=transitional,DEFAULT_CONTENT_TYPE={"Content-Type":"application/x-www-form-urlencoded"};function setContentTypeIfUnset(_r,_t){!utils$5.isUndefined(_r)&&utils$5.isUndefined(_r["Content-Type"])&&(_r["Content-Type"]=_t)}function getDefaultAdapter(){var _r;return(typeof XMLHttpRequest<"u"||typeof process<"u"&&Object.prototype.toString.call(process)==="[object process]")&&(_r=requireXhr()),_r}function stringifySafely(_r,_t,_o){if(utils$5.isString(_r))try{return(_t||JSON.parse)(_r),utils$5.trim(_r)}catch(yl){if(yl.name!=="SyntaxError")throw yl}return(_o||JSON.stringify)(_r)}var defaults$3={transitional:transitionalDefaults,adapter:getDefaultAdapter(),transformRequest:[function(_t,_o){return normalizeHeaderName(_o,"Accept"),normalizeHeaderName(_o,"Content-Type"),utils$5.isFormData(_t)||utils$5.isArrayBuffer(_t)||utils$5.isBuffer(_t)||utils$5.isStream(_t)||utils$5.isFile(_t)||utils$5.isBlob(_t)?_t:utils$5.isArrayBufferView(_t)?_t.buffer:utils$5.isURLSearchParams(_t)?(setContentTypeIfUnset(_o,"application/x-www-form-urlencoded;charset=utf-8"),_t.toString()):utils$5.isObject(_t)||_o&&_o["Content-Type"]==="application/json"?(setContentTypeIfUnset(_o,"application/json"),stringifySafely(_t)):_t}],transformResponse:[function(_t){var _o=this.transitional||defaults$3.transitional,yl=_o&&_o.silentJSONParsing,El=_o&&_o.forcedJSONParsing,_l=!yl&&this.responseType==="json";if(_l||El&&utils$5.isString(_t)&&_t.length)try{return JSON.parse(_t)}catch(Tl){if(_l)throw Tl.name==="SyntaxError"?enhanceError(Tl,this,"E_JSON_PARSE"):Tl}return _t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(_t){return _t>=200&&_t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};utils$5.forEach(["delete","get","head"],function(_t){defaults$3.headers[_t]={}});utils$5.forEach(["post","put","patch"],function(_t){defaults$3.headers[_t]=utils$5.merge(DEFAULT_CONTENT_TYPE)});var defaults_1=defaults$3,utils$4=utils$9,defaults$2=defaults_1,transformData$1=function(_t,_o,yl){var El=this||defaults$2;return utils$4.forEach(yl,function(Tl){_t=Tl.call(El,_t,_o)}),_t},isCancel$1,hasRequiredIsCancel;function requireIsCancel(){return hasRequiredIsCancel||(hasRequiredIsCancel=1,isCancel$1=function(_t){return!!(_t&&_t.__CANCEL__)}),isCancel$1}var utils$3=utils$9,transformData=transformData$1,isCancel=requireIsCancel(),defaults$1=defaults_1,Cancel=requireCancel();function throwIfCancellationRequested(_r){if(_r.cancelToken&&_r.cancelToken.throwIfRequested(),_r.signal&&_r.signal.aborted)throw new Cancel("canceled")}var dispatchRequest$1=function(_t){throwIfCancellationRequested(_t),_t.headers=_t.headers||{},_t.data=transformData.call(_t,_t.data,_t.headers,_t.transformRequest),_t.headers=utils$3.merge(_t.headers.common||{},_t.headers[_t.method]||{},_t.headers),utils$3.forEach(["delete","get","head","post","put","patch","common"],function(El){delete _t.headers[El]});var _o=_t.adapter||defaults$1.adapter;return _o(_t).then(function(El){return throwIfCancellationRequested(_t),El.data=transformData.call(_t,El.data,El.headers,_t.transformResponse),El},function(El){return isCancel(El)||(throwIfCancellationRequested(_t),El&&El.response&&(El.response.data=transformData.call(_t,El.response.data,El.response.headers,_t.transformResponse))),Promise.reject(El)})},utils$2=utils$9,mergeConfig$2=function(_t,_o){_o=_o||{};var yl={};function El(Fl,Bl){return utils$2.isPlainObject(Fl)&&utils$2.isPlainObject(Bl)?utils$2.merge(Fl,Bl):utils$2.isPlainObject(Bl)?utils$2.merge({},Bl):utils$2.isArray(Bl)?Bl.slice():Bl}function _l(Fl){if(utils$2.isUndefined(_o[Fl])){if(!utils$2.isUndefined(_t[Fl]))return El(void 0,_t[Fl])}else return El(_t[Fl],_o[Fl])}function Tl(Fl){if(!utils$2.isUndefined(_o[Fl]))return El(void 0,_o[Fl])}function Il(Fl){if(utils$2.isUndefined(_o[Fl])){if(!utils$2.isUndefined(_t[Fl]))return El(void 0,_t[Fl])}else return El(void 0,_o[Fl])}function Al(Fl){if(Fl in _o)return El(_t[Fl],_o[Fl]);if(Fl in _t)return El(void 0,_t[Fl])}var Rl={url:Tl,method:Tl,data:Tl,baseURL:Il,transformRequest:Il,transformResponse:Il,paramsSerializer:Il,timeout:Il,timeoutMessage:Il,withCredentials:Il,adapter:Il,responseType:Il,xsrfCookieName:Il,xsrfHeaderName:Il,onUploadProgress:Il,onDownloadProgress:Il,decompress:Il,maxContentLength:Il,maxBodyLength:Il,transport:Il,httpAgent:Il,httpsAgent:Il,cancelToken:Il,socketPath:Il,responseEncoding:Il,validateStatus:Al};return utils$2.forEach(Object.keys(_t).concat(Object.keys(_o)),function(Bl){var Gl=Rl[Bl]||_l,Ql=Gl(Bl);utils$2.isUndefined(Ql)&&Gl!==Al||(yl[Bl]=Ql)}),yl},data,hasRequiredData;function requireData(){return hasRequiredData||(hasRequiredData=1,data={version:"0.26.1"}),data}var VERSION=requireData().version,validators$1={};["object","boolean","number","function","string","symbol"].forEach(function(_r,_t){validators$1[_r]=function(yl){return typeof yl===_r||"a"+(_t<1?"n ":" ")+_r}});var deprecatedWarnings={};validators$1.transitional=function(_t,_o,yl){function El(_l,Tl){return"[Axios v"+VERSION+"] Transitional option '"+_l+"'"+Tl+(yl?". "+yl:"")}return function(_l,Tl,Il){if(_t===!1)throw new Error(El(Tl," has been removed"+(_o?" in "+_o:"")));return _o&&!deprecatedWarnings[Tl]&&(deprecatedWarnings[Tl]=!0,console.warn(El(Tl," has been deprecated since v"+_o+" and will be removed in the near future"))),_t?_t(_l,Tl,Il):!0}};function assertOptions(_r,_t,_o){if(typeof _r!="object")throw new TypeError("options must be an object");for(var yl=Object.keys(_r),El=yl.length;El-- >0;){var _l=yl[El],Tl=_t[_l];if(Tl){var Il=_r[_l],Al=Il===void 0||Tl(Il,_l,_r);if(Al!==!0)throw new TypeError("option "+_l+" must be "+Al);continue}if(_o!==!0)throw Error("Unknown option "+_l)}}var validator$1={assertOptions,validators:validators$1},utils$1=utils$9,buildURL=buildURL$1,InterceptorManager=InterceptorManager_1,dispatchRequest=dispatchRequest$1,mergeConfig$1=mergeConfig$2,validator=validator$1,validators=validator.validators;function Axios$1(_r){this.defaults=_r,this.interceptors={request:new InterceptorManager,response:new InterceptorManager}}Axios$1.prototype.request=function(_t,_o){typeof _t=="string"?(_o=_o||{},_o.url=_t):_o=_t||{},_o=mergeConfig$1(this.defaults,_o),_o.method?_o.method=_o.method.toLowerCase():this.defaults.method?_o.method=this.defaults.method.toLowerCase():_o.method="get";var yl=_o.transitional;yl!==void 0&&validator.assertOptions(yl,{silentJSONParsing:validators.transitional(validators.boolean),forcedJSONParsing:validators.transitional(validators.boolean),clarifyTimeoutError:validators.transitional(validators.boolean)},!1);var El=[],_l=!0;this.interceptors.request.forEach(function(Ql){typeof Ql.runWhen=="function"&&Ql.runWhen(_o)===!1||(_l=_l&&Ql.synchronous,El.unshift(Ql.fulfilled,Ql.rejected))});var Tl=[];this.interceptors.response.forEach(function(Ql){Tl.push(Ql.fulfilled,Ql.rejected)});var Il;if(!_l){var Al=[dispatchRequest,void 0];for(Array.prototype.unshift.apply(Al,El),Al=Al.concat(Tl),Il=Promise.resolve(_o);Al.length;)Il=Il.then(Al.shift(),Al.shift());return Il}for(var Rl=_o;El.length;){var Fl=El.shift(),Bl=El.shift();try{Rl=Fl(Rl)}catch(Gl){Bl(Gl);break}}try{Il=dispatchRequest(Rl)}catch(Gl){return Promise.reject(Gl)}for(;Tl.length;)Il=Il.then(Tl.shift(),Tl.shift());return Il};Axios$1.prototype.getUri=function(_t){return _t=mergeConfig$1(this.defaults,_t),buildURL(_t.url,_t.params,_t.paramsSerializer).replace(/^\?/,"")};utils$1.forEach(["delete","get","head","options"],function(_t){Axios$1.prototype[_t]=function(_o,yl){return this.request(mergeConfig$1(yl||{},{method:_t,url:_o,data:(yl||{}).data}))}});utils$1.forEach(["post","put","patch"],function(_t){Axios$1.prototype[_t]=function(_o,yl,El){return this.request(mergeConfig$1(El||{},{method:_t,url:_o,data:yl}))}});var Axios_1=Axios$1,CancelToken_1,hasRequiredCancelToken;function requireCancelToken(){if(hasRequiredCancelToken)return CancelToken_1;hasRequiredCancelToken=1;var _r=requireCancel();function _t(_o){if(typeof _o!="function")throw new TypeError("executor must be a function.");var yl;this.promise=new Promise(function(Tl){yl=Tl});var El=this;this.promise.then(function(_l){if(El._listeners){var Tl,Il=El._listeners.length;for(Tl=0;Tl<Il;Tl++)El._listeners[Tl](_l);El._listeners=null}}),this.promise.then=function(_l){var Tl,Il=new Promise(function(Al){El.subscribe(Al),Tl=Al}).then(_l);return Il.cancel=function(){El.unsubscribe(Tl)},Il},_o(function(Tl){El.reason||(El.reason=new _r(Tl),yl(El.reason))})}return _t.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},_t.prototype.subscribe=function(yl){if(this.reason){yl(this.reason);return}this._listeners?this._listeners.push(yl):this._listeners=[yl]},_t.prototype.unsubscribe=function(yl){if(this._listeners){var El=this._listeners.indexOf(yl);El!==-1&&this._listeners.splice(El,1)}},_t.source=function(){var yl,El=new _t(function(Tl){yl=Tl});return{token:El,cancel:yl}},CancelToken_1=_t,CancelToken_1}var spread,hasRequiredSpread;function requireSpread(){return hasRequiredSpread||(hasRequiredSpread=1,spread=function(_t){return function(yl){return _t.apply(null,yl)}}),spread}var isAxiosError,hasRequiredIsAxiosError;function requireIsAxiosError(){if(hasRequiredIsAxiosError)return isAxiosError;hasRequiredIsAxiosError=1;var _r=utils$9;return isAxiosError=function(_o){return _r.isObject(_o)&&_o.isAxiosError===!0},isAxiosError}var utils=utils$9,bind=bind$2,Axios=Axios_1,mergeConfig=mergeConfig$2,defaults=defaults_1;function createInstance(_r){var _t=new Axios(_r),_o=bind(Axios.prototype.request,_t);return utils.extend(_o,Axios.prototype,_t),utils.extend(_o,_t),_o.create=function(El){return createInstance(mergeConfig(_r,El))},_o}var axios=createInstance(defaults);axios.Axios=Axios;axios.Cancel=requireCancel();axios.CancelToken=requireCancelToken();axios.isCancel=requireIsCancel();axios.VERSION=requireData().version;axios.all=function(_t){return Promise.all(_t)};axios.spread=requireSpread();axios.isAxiosError=requireIsAxiosError();axios$1.exports=axios;axiosExports.default=axios;(function(_r){_r.exports=axiosExports})(axios$2);var common={},base={};(function(_r){Object.defineProperty(_r,"__esModule",{value:!0}),_r.RequiredError=_r.BaseAPI=_r.COLLECTION_FORMATS=_r.BASE_PATH=void 0;const _t=axiosExports$1;_r.BASE_PATH="https://api.openai.com/v1".replace(/\/+$/,""),_r.COLLECTION_FORMATS={csv:",",ssv:" ",tsv:"	",pipes:"|"};class _o{constructor(_l,Tl=_r.BASE_PATH,Il=_t.default){this.basePath=Tl,this.axios=Il,_l&&(this.configuration=_l,this.basePath=_l.basePath||this.basePath)}}_r.BaseAPI=_o;class yl extends Error{constructor(_l,Tl){super(Tl),this.field=_l,this.name="RequiredError"}}_r.RequiredError=yl})(base);var __awaiter=commonjsGlobal$1&&commonjsGlobal$1.__awaiter||function(_r,_t,_o,yl){function El(_l){return _l instanceof _o?_l:new _o(function(Tl){Tl(_l)})}return new(_o||(_o=Promise))(function(_l,Tl){function Il(Fl){try{Rl(yl.next(Fl))}catch(Bl){Tl(Bl)}}function Al(Fl){try{Rl(yl.throw(Fl))}catch(Bl){Tl(Bl)}}function Rl(Fl){Fl.done?_l(Fl.value):El(Fl.value).then(Il,Al)}Rl((yl=yl.apply(_r,_t||[])).next())})};Object.defineProperty(common,"__esModule",{value:!0});common.createRequestFunction=common.toPathString=common.serializeDataIfNeeded=common.setSearchParams=common.setOAuthToObject=common.setBearerAuthToObject=common.setBasicAuthToObject=common.setApiKeyToObject=common.assertParamExists=common.DUMMY_BASE_URL=void 0;const base_1=base;common.DUMMY_BASE_URL="https://example.com";common.assertParamExists=function(_r,_t,_o){if(_o==null)throw new base_1.RequiredError(_t,`Required parameter ${_t} was null or undefined when calling ${_r}.`)};common.setApiKeyToObject=function(_r,_t,_o){return __awaiter(this,void 0,void 0,function*(){if(_o&&_o.apiKey){const yl=typeof _o.apiKey=="function"?yield _o.apiKey(_t):yield _o.apiKey;_r[_t]=yl}})};common.setBasicAuthToObject=function(_r,_t){_t&&(_t.username||_t.password)&&(_r.auth={username:_t.username,password:_t.password})};common.setBearerAuthToObject=function(_r,_t){return __awaiter(this,void 0,void 0,function*(){if(_t&&_t.accessToken){const _o=typeof _t.accessToken=="function"?yield _t.accessToken():yield _t.accessToken;_r.Authorization="Bearer "+_o}})};common.setOAuthToObject=function(_r,_t,_o,yl){return __awaiter(this,void 0,void 0,function*(){if(yl&&yl.accessToken){const El=typeof yl.accessToken=="function"?yield yl.accessToken(_t,_o):yield yl.accessToken;_r.Authorization="Bearer "+El}})};function setFlattenedQueryParams(_r,_t,_o=""){typeof _t=="object"?Array.isArray(_t)?_t.forEach(yl=>setFlattenedQueryParams(_r,yl,_o)):Object.keys(_t).forEach(yl=>setFlattenedQueryParams(_r,_t[yl],`${_o}${_o!==""?".":""}${yl}`)):_r.has(_o)?_r.append(_o,_t):_r.set(_o,_t)}common.setSearchParams=function(_r,..._t){const _o=new URLSearchParams(_r.search);setFlattenedQueryParams(_o,_t),_r.search=_o.toString()};common.serializeDataIfNeeded=function(_r,_t,_o){const yl=typeof _r!="string";return(yl&&_o&&_o.isJsonMime?_o.isJsonMime(_t.headers["Content-Type"]):yl)?JSON.stringify(_r!==void 0?_r:{}):_r||""};common.toPathString=function(_r){return _r.pathname+_r.search+_r.hash};common.createRequestFunction=function(_r,_t,_o,yl){return(El=_t,_l=_o)=>{const Tl=Object.assign(Object.assign({},_r.options),{url:((yl==null?void 0:yl.basePath)||_l)+_r.url});return El.request(Tl)}};(function(_r){var _t=commonjsGlobal$1&&commonjsGlobal$1.__awaiter||function(Tl,Il,Al,Rl){function Fl(Bl){return Bl instanceof Al?Bl:new Al(function(Gl){Gl(Bl)})}return new(Al||(Al=Promise))(function(Bl,Gl){function Ql(vp){try{_h(Rl.next(vp))}catch(up){Gl(up)}}function _f(vp){try{_h(Rl.throw(vp))}catch(up){Gl(up)}}function _h(vp){vp.done?Bl(vp.value):Fl(vp.value).then(Ql,_f)}_h((Rl=Rl.apply(Tl,Il||[])).next())})};Object.defineProperty(_r,"__esModule",{value:!0}),_r.OpenAIApi=_r.OpenAIApiFactory=_r.OpenAIApiFp=_r.OpenAIApiAxiosParamCreator=_r.CreateImageRequestResponseFormatEnum=_r.CreateImageRequestSizeEnum=void 0;const _o=axiosExports$1,yl=common,El=base;_r.CreateImageRequestSizeEnum={_256x256:"256x256",_512x512:"512x512",_1024x1024:"1024x1024"},_r.CreateImageRequestResponseFormatEnum={Url:"url",B64Json:"b64_json"},_r.OpenAIApiAxiosParamCreator=function(Tl){return{cancelFineTune:(Il,Al={})=>_t(this,void 0,void 0,function*(){yl.assertParamExists("cancelFineTune","fineTuneId",Il);const Rl="/fine-tunes/{fine_tune_id}/cancel".replace("{fine_tune_id}",encodeURIComponent(String(Il))),Fl=new URL(Rl,yl.DUMMY_BASE_URL);let Bl;Tl&&(Bl=Tl.baseOptions);const Gl=Object.assign(Object.assign({method:"POST"},Bl),Al),Ql={},_f={};yl.setSearchParams(Fl,_f);let _h=Bl&&Bl.headers?Bl.headers:{};return Gl.headers=Object.assign(Object.assign(Object.assign({},Ql),_h),Al.headers),{url:yl.toPathString(Fl),options:Gl}}),createAnswer:(Il,Al={})=>_t(this,void 0,void 0,function*(){yl.assertParamExists("createAnswer","createAnswerRequest",Il);const Rl="/answers",Fl=new URL(Rl,yl.DUMMY_BASE_URL);let Bl;Tl&&(Bl=Tl.baseOptions);const Gl=Object.assign(Object.assign({method:"POST"},Bl),Al),Ql={},_f={};Ql["Content-Type"]="application/json",yl.setSearchParams(Fl,_f);let _h=Bl&&Bl.headers?Bl.headers:{};return Gl.headers=Object.assign(Object.assign(Object.assign({},Ql),_h),Al.headers),Gl.data=yl.serializeDataIfNeeded(Il,Gl,Tl),{url:yl.toPathString(Fl),options:Gl}}),createClassification:(Il,Al={})=>_t(this,void 0,void 0,function*(){yl.assertParamExists("createClassification","createClassificationRequest",Il);const Rl="/classifications",Fl=new URL(Rl,yl.DUMMY_BASE_URL);let Bl;Tl&&(Bl=Tl.baseOptions);const Gl=Object.assign(Object.assign({method:"POST"},Bl),Al),Ql={},_f={};Ql["Content-Type"]="application/json",yl.setSearchParams(Fl,_f);let _h=Bl&&Bl.headers?Bl.headers:{};return Gl.headers=Object.assign(Object.assign(Object.assign({},Ql),_h),Al.headers),Gl.data=yl.serializeDataIfNeeded(Il,Gl,Tl),{url:yl.toPathString(Fl),options:Gl}}),createCompletion:(Il,Al={})=>_t(this,void 0,void 0,function*(){yl.assertParamExists("createCompletion","createCompletionRequest",Il);const Rl="/completions",Fl=new URL(Rl,yl.DUMMY_BASE_URL);let Bl;Tl&&(Bl=Tl.baseOptions);const Gl=Object.assign(Object.assign({method:"POST"},Bl),Al),Ql={},_f={};Ql["Content-Type"]="application/json",yl.setSearchParams(Fl,_f);let _h=Bl&&Bl.headers?Bl.headers:{};return Gl.headers=Object.assign(Object.assign(Object.assign({},Ql),_h),Al.headers),Gl.data=yl.serializeDataIfNeeded(Il,Gl,Tl),{url:yl.toPathString(Fl),options:Gl}}),createEdit:(Il,Al={})=>_t(this,void 0,void 0,function*(){yl.assertParamExists("createEdit","createEditRequest",Il);const Rl="/edits",Fl=new URL(Rl,yl.DUMMY_BASE_URL);let Bl;Tl&&(Bl=Tl.baseOptions);const Gl=Object.assign(Object.assign({method:"POST"},Bl),Al),Ql={},_f={};Ql["Content-Type"]="application/json",yl.setSearchParams(Fl,_f);let _h=Bl&&Bl.headers?Bl.headers:{};return Gl.headers=Object.assign(Object.assign(Object.assign({},Ql),_h),Al.headers),Gl.data=yl.serializeDataIfNeeded(Il,Gl,Tl),{url:yl.toPathString(Fl),options:Gl}}),createEmbedding:(Il,Al={})=>_t(this,void 0,void 0,function*(){yl.assertParamExists("createEmbedding","createEmbeddingRequest",Il);const Rl="/embeddings",Fl=new URL(Rl,yl.DUMMY_BASE_URL);let Bl;Tl&&(Bl=Tl.baseOptions);const Gl=Object.assign(Object.assign({method:"POST"},Bl),Al),Ql={},_f={};Ql["Content-Type"]="application/json",yl.setSearchParams(Fl,_f);let _h=Bl&&Bl.headers?Bl.headers:{};return Gl.headers=Object.assign(Object.assign(Object.assign({},Ql),_h),Al.headers),Gl.data=yl.serializeDataIfNeeded(Il,Gl,Tl),{url:yl.toPathString(Fl),options:Gl}}),createFile:(Il,Al,Rl={})=>_t(this,void 0,void 0,function*(){yl.assertParamExists("createFile","file",Il),yl.assertParamExists("createFile","purpose",Al);const Fl="/files",Bl=new URL(Fl,yl.DUMMY_BASE_URL);let Gl;Tl&&(Gl=Tl.baseOptions);const Ql=Object.assign(Object.assign({method:"POST"},Gl),Rl),_f={},_h={},vp=new(Tl&&Tl.formDataCtor||FormData);Il!==void 0&&vp.append("file",Il),Al!==void 0&&vp.append("purpose",Al),_f["Content-Type"]="multipart/form-data",yl.setSearchParams(Bl,_h);let up=Gl&&Gl.headers?Gl.headers:{};return Ql.headers=Object.assign(Object.assign(Object.assign(Object.assign({},_f),vp.getHeaders()),up),Rl.headers),Ql.data=vp,{url:yl.toPathString(Bl),options:Ql}}),createFineTune:(Il,Al={})=>_t(this,void 0,void 0,function*(){yl.assertParamExists("createFineTune","createFineTuneRequest",Il);const Rl="/fine-tunes",Fl=new URL(Rl,yl.DUMMY_BASE_URL);let Bl;Tl&&(Bl=Tl.baseOptions);const Gl=Object.assign(Object.assign({method:"POST"},Bl),Al),Ql={},_f={};Ql["Content-Type"]="application/json",yl.setSearchParams(Fl,_f);let _h=Bl&&Bl.headers?Bl.headers:{};return Gl.headers=Object.assign(Object.assign(Object.assign({},Ql),_h),Al.headers),Gl.data=yl.serializeDataIfNeeded(Il,Gl,Tl),{url:yl.toPathString(Fl),options:Gl}}),createImage:(Il,Al={})=>_t(this,void 0,void 0,function*(){yl.assertParamExists("createImage","createImageRequest",Il);const Rl="/images/generations",Fl=new URL(Rl,yl.DUMMY_BASE_URL);let Bl;Tl&&(Bl=Tl.baseOptions);const Gl=Object.assign(Object.assign({method:"POST"},Bl),Al),Ql={},_f={};Ql["Content-Type"]="application/json",yl.setSearchParams(Fl,_f);let _h=Bl&&Bl.headers?Bl.headers:{};return Gl.headers=Object.assign(Object.assign(Object.assign({},Ql),_h),Al.headers),Gl.data=yl.serializeDataIfNeeded(Il,Gl,Tl),{url:yl.toPathString(Fl),options:Gl}}),createImageEdit:(Il,Al,Rl,Fl,Bl,Gl,Ql,_f={})=>_t(this,void 0,void 0,function*(){yl.assertParamExists("createImageEdit","image",Il),yl.assertParamExists("createImageEdit","mask",Al),yl.assertParamExists("createImageEdit","prompt",Rl);const _h="/images/edits",vp=new URL(_h,yl.DUMMY_BASE_URL);let up;Tl&&(up=Tl.baseOptions);const _d=Object.assign(Object.assign({method:"POST"},up),_f),Ep={},Op={},Ip=new(Tl&&Tl.formDataCtor||FormData);Il!==void 0&&Ip.append("image",Il),Al!==void 0&&Ip.append("mask",Al),Rl!==void 0&&Ip.append("prompt",Rl),Fl!==void 0&&Ip.append("n",Fl),Bl!==void 0&&Ip.append("size",Bl),Gl!==void 0&&Ip.append("response_format",Gl),Ql!==void 0&&Ip.append("user",Ql),Ep["Content-Type"]="multipart/form-data",yl.setSearchParams(vp,Op);let Pp=up&&up.headers?up.headers:{};return _d.headers=Object.assign(Object.assign(Object.assign(Object.assign({},Ep),Ip.getHeaders()),Pp),_f.headers),_d.data=Ip,{url:yl.toPathString(vp),options:_d}}),createImageVariation:(Il,Al,Rl,Fl,Bl,Gl={})=>_t(this,void 0,void 0,function*(){yl.assertParamExists("createImageVariation","image",Il);const Ql="/images/variations",_f=new URL(Ql,yl.DUMMY_BASE_URL);let _h;Tl&&(_h=Tl.baseOptions);const vp=Object.assign(Object.assign({method:"POST"},_h),Gl),up={},_d={},Ep=new(Tl&&Tl.formDataCtor||FormData);Il!==void 0&&Ep.append("image",Il),Al!==void 0&&Ep.append("n",Al),Rl!==void 0&&Ep.append("size",Rl),Fl!==void 0&&Ep.append("response_format",Fl),Bl!==void 0&&Ep.append("user",Bl),up["Content-Type"]="multipart/form-data",yl.setSearchParams(_f,_d);let Op=_h&&_h.headers?_h.headers:{};return vp.headers=Object.assign(Object.assign(Object.assign(Object.assign({},up),Ep.getHeaders()),Op),Gl.headers),vp.data=Ep,{url:yl.toPathString(_f),options:vp}}),createModeration:(Il,Al={})=>_t(this,void 0,void 0,function*(){yl.assertParamExists("createModeration","createModerationRequest",Il);const Rl="/moderations",Fl=new URL(Rl,yl.DUMMY_BASE_URL);let Bl;Tl&&(Bl=Tl.baseOptions);const Gl=Object.assign(Object.assign({method:"POST"},Bl),Al),Ql={},_f={};Ql["Content-Type"]="application/json",yl.setSearchParams(Fl,_f);let _h=Bl&&Bl.headers?Bl.headers:{};return Gl.headers=Object.assign(Object.assign(Object.assign({},Ql),_h),Al.headers),Gl.data=yl.serializeDataIfNeeded(Il,Gl,Tl),{url:yl.toPathString(Fl),options:Gl}}),createSearch:(Il,Al,Rl={})=>_t(this,void 0,void 0,function*(){yl.assertParamExists("createSearch","engineId",Il),yl.assertParamExists("createSearch","createSearchRequest",Al);const Fl="/engines/{engine_id}/search".replace("{engine_id}",encodeURIComponent(String(Il))),Bl=new URL(Fl,yl.DUMMY_BASE_URL);let Gl;Tl&&(Gl=Tl.baseOptions);const Ql=Object.assign(Object.assign({method:"POST"},Gl),Rl),_f={},_h={};_f["Content-Type"]="application/json",yl.setSearchParams(Bl,_h);let vp=Gl&&Gl.headers?Gl.headers:{};return Ql.headers=Object.assign(Object.assign(Object.assign({},_f),vp),Rl.headers),Ql.data=yl.serializeDataIfNeeded(Al,Ql,Tl),{url:yl.toPathString(Bl),options:Ql}}),deleteFile:(Il,Al={})=>_t(this,void 0,void 0,function*(){yl.assertParamExists("deleteFile","fileId",Il);const Rl="/files/{file_id}".replace("{file_id}",encodeURIComponent(String(Il))),Fl=new URL(Rl,yl.DUMMY_BASE_URL);let Bl;Tl&&(Bl=Tl.baseOptions);const Gl=Object.assign(Object.assign({method:"DELETE"},Bl),Al),Ql={},_f={};yl.setSearchParams(Fl,_f);let _h=Bl&&Bl.headers?Bl.headers:{};return Gl.headers=Object.assign(Object.assign(Object.assign({},Ql),_h),Al.headers),{url:yl.toPathString(Fl),options:Gl}}),deleteModel:(Il,Al={})=>_t(this,void 0,void 0,function*(){yl.assertParamExists("deleteModel","model",Il);const Rl="/models/{model}".replace("{model}",encodeURIComponent(String(Il))),Fl=new URL(Rl,yl.DUMMY_BASE_URL);let Bl;Tl&&(Bl=Tl.baseOptions);const Gl=Object.assign(Object.assign({method:"DELETE"},Bl),Al),Ql={},_f={};yl.setSearchParams(Fl,_f);let _h=Bl&&Bl.headers?Bl.headers:{};return Gl.headers=Object.assign(Object.assign(Object.assign({},Ql),_h),Al.headers),{url:yl.toPathString(Fl),options:Gl}}),downloadFile:(Il,Al={})=>_t(this,void 0,void 0,function*(){yl.assertParamExists("downloadFile","fileId",Il);const Rl="/files/{file_id}/content".replace("{file_id}",encodeURIComponent(String(Il))),Fl=new URL(Rl,yl.DUMMY_BASE_URL);let Bl;Tl&&(Bl=Tl.baseOptions);const Gl=Object.assign(Object.assign({method:"GET"},Bl),Al),Ql={},_f={};yl.setSearchParams(Fl,_f);let _h=Bl&&Bl.headers?Bl.headers:{};return Gl.headers=Object.assign(Object.assign(Object.assign({},Ql),_h),Al.headers),{url:yl.toPathString(Fl),options:Gl}}),listEngines:(Il={})=>_t(this,void 0,void 0,function*(){const Al="/engines",Rl=new URL(Al,yl.DUMMY_BASE_URL);let Fl;Tl&&(Fl=Tl.baseOptions);const Bl=Object.assign(Object.assign({method:"GET"},Fl),Il),Gl={},Ql={};yl.setSearchParams(Rl,Ql);let _f=Fl&&Fl.headers?Fl.headers:{};return Bl.headers=Object.assign(Object.assign(Object.assign({},Gl),_f),Il.headers),{url:yl.toPathString(Rl),options:Bl}}),listFiles:(Il={})=>_t(this,void 0,void 0,function*(){const Al="/files",Rl=new URL(Al,yl.DUMMY_BASE_URL);let Fl;Tl&&(Fl=Tl.baseOptions);const Bl=Object.assign(Object.assign({method:"GET"},Fl),Il),Gl={},Ql={};yl.setSearchParams(Rl,Ql);let _f=Fl&&Fl.headers?Fl.headers:{};return Bl.headers=Object.assign(Object.assign(Object.assign({},Gl),_f),Il.headers),{url:yl.toPathString(Rl),options:Bl}}),listFineTuneEvents:(Il,Al,Rl={})=>_t(this,void 0,void 0,function*(){yl.assertParamExists("listFineTuneEvents","fineTuneId",Il);const Fl="/fine-tunes/{fine_tune_id}/events".replace("{fine_tune_id}",encodeURIComponent(String(Il))),Bl=new URL(Fl,yl.DUMMY_BASE_URL);let Gl;Tl&&(Gl=Tl.baseOptions);const Ql=Object.assign(Object.assign({method:"GET"},Gl),Rl),_f={},_h={};Al!==void 0&&(_h.stream=Al),yl.setSearchParams(Bl,_h);let vp=Gl&&Gl.headers?Gl.headers:{};return Ql.headers=Object.assign(Object.assign(Object.assign({},_f),vp),Rl.headers),{url:yl.toPathString(Bl),options:Ql}}),listFineTunes:(Il={})=>_t(this,void 0,void 0,function*(){const Al="/fine-tunes",Rl=new URL(Al,yl.DUMMY_BASE_URL);let Fl;Tl&&(Fl=Tl.baseOptions);const Bl=Object.assign(Object.assign({method:"GET"},Fl),Il),Gl={},Ql={};yl.setSearchParams(Rl,Ql);let _f=Fl&&Fl.headers?Fl.headers:{};return Bl.headers=Object.assign(Object.assign(Object.assign({},Gl),_f),Il.headers),{url:yl.toPathString(Rl),options:Bl}}),listModels:(Il={})=>_t(this,void 0,void 0,function*(){const Al="/models",Rl=new URL(Al,yl.DUMMY_BASE_URL);let Fl;Tl&&(Fl=Tl.baseOptions);const Bl=Object.assign(Object.assign({method:"GET"},Fl),Il),Gl={},Ql={};yl.setSearchParams(Rl,Ql);let _f=Fl&&Fl.headers?Fl.headers:{};return Bl.headers=Object.assign(Object.assign(Object.assign({},Gl),_f),Il.headers),{url:yl.toPathString(Rl),options:Bl}}),retrieveEngine:(Il,Al={})=>_t(this,void 0,void 0,function*(){yl.assertParamExists("retrieveEngine","engineId",Il);const Rl="/engines/{engine_id}".replace("{engine_id}",encodeURIComponent(String(Il))),Fl=new URL(Rl,yl.DUMMY_BASE_URL);let Bl;Tl&&(Bl=Tl.baseOptions);const Gl=Object.assign(Object.assign({method:"GET"},Bl),Al),Ql={},_f={};yl.setSearchParams(Fl,_f);let _h=Bl&&Bl.headers?Bl.headers:{};return Gl.headers=Object.assign(Object.assign(Object.assign({},Ql),_h),Al.headers),{url:yl.toPathString(Fl),options:Gl}}),retrieveFile:(Il,Al={})=>_t(this,void 0,void 0,function*(){yl.assertParamExists("retrieveFile","fileId",Il);const Rl="/files/{file_id}".replace("{file_id}",encodeURIComponent(String(Il))),Fl=new URL(Rl,yl.DUMMY_BASE_URL);let Bl;Tl&&(Bl=Tl.baseOptions);const Gl=Object.assign(Object.assign({method:"GET"},Bl),Al),Ql={},_f={};yl.setSearchParams(Fl,_f);let _h=Bl&&Bl.headers?Bl.headers:{};return Gl.headers=Object.assign(Object.assign(Object.assign({},Ql),_h),Al.headers),{url:yl.toPathString(Fl),options:Gl}}),retrieveFineTune:(Il,Al={})=>_t(this,void 0,void 0,function*(){yl.assertParamExists("retrieveFineTune","fineTuneId",Il);const Rl="/fine-tunes/{fine_tune_id}".replace("{fine_tune_id}",encodeURIComponent(String(Il))),Fl=new URL(Rl,yl.DUMMY_BASE_URL);let Bl;Tl&&(Bl=Tl.baseOptions);const Gl=Object.assign(Object.assign({method:"GET"},Bl),Al),Ql={},_f={};yl.setSearchParams(Fl,_f);let _h=Bl&&Bl.headers?Bl.headers:{};return Gl.headers=Object.assign(Object.assign(Object.assign({},Ql),_h),Al.headers),{url:yl.toPathString(Fl),options:Gl}}),retrieveModel:(Il,Al={})=>_t(this,void 0,void 0,function*(){yl.assertParamExists("retrieveModel","model",Il);const Rl="/models/{model}".replace("{model}",encodeURIComponent(String(Il))),Fl=new URL(Rl,yl.DUMMY_BASE_URL);let Bl;Tl&&(Bl=Tl.baseOptions);const Gl=Object.assign(Object.assign({method:"GET"},Bl),Al),Ql={},_f={};yl.setSearchParams(Fl,_f);let _h=Bl&&Bl.headers?Bl.headers:{};return Gl.headers=Object.assign(Object.assign(Object.assign({},Ql),_h),Al.headers),{url:yl.toPathString(Fl),options:Gl}})}},_r.OpenAIApiFp=function(Tl){const Il=_r.OpenAIApiAxiosParamCreator(Tl);return{cancelFineTune(Al,Rl){return _t(this,void 0,void 0,function*(){const Fl=yield Il.cancelFineTune(Al,Rl);return yl.createRequestFunction(Fl,_o.default,El.BASE_PATH,Tl)})},createAnswer(Al,Rl){return _t(this,void 0,void 0,function*(){const Fl=yield Il.createAnswer(Al,Rl);return yl.createRequestFunction(Fl,_o.default,El.BASE_PATH,Tl)})},createClassification(Al,Rl){return _t(this,void 0,void 0,function*(){const Fl=yield Il.createClassification(Al,Rl);return yl.createRequestFunction(Fl,_o.default,El.BASE_PATH,Tl)})},createCompletion(Al,Rl){return _t(this,void 0,void 0,function*(){const Fl=yield Il.createCompletion(Al,Rl);return yl.createRequestFunction(Fl,_o.default,El.BASE_PATH,Tl)})},createEdit(Al,Rl){return _t(this,void 0,void 0,function*(){const Fl=yield Il.createEdit(Al,Rl);return yl.createRequestFunction(Fl,_o.default,El.BASE_PATH,Tl)})},createEmbedding(Al,Rl){return _t(this,void 0,void 0,function*(){const Fl=yield Il.createEmbedding(Al,Rl);return yl.createRequestFunction(Fl,_o.default,El.BASE_PATH,Tl)})},createFile(Al,Rl,Fl){return _t(this,void 0,void 0,function*(){const Bl=yield Il.createFile(Al,Rl,Fl);return yl.createRequestFunction(Bl,_o.default,El.BASE_PATH,Tl)})},createFineTune(Al,Rl){return _t(this,void 0,void 0,function*(){const Fl=yield Il.createFineTune(Al,Rl);return yl.createRequestFunction(Fl,_o.default,El.BASE_PATH,Tl)})},createImage(Al,Rl){return _t(this,void 0,void 0,function*(){const Fl=yield Il.createImage(Al,Rl);return yl.createRequestFunction(Fl,_o.default,El.BASE_PATH,Tl)})},createImageEdit(Al,Rl,Fl,Bl,Gl,Ql,_f,_h){return _t(this,void 0,void 0,function*(){const vp=yield Il.createImageEdit(Al,Rl,Fl,Bl,Gl,Ql,_f,_h);return yl.createRequestFunction(vp,_o.default,El.BASE_PATH,Tl)})},createImageVariation(Al,Rl,Fl,Bl,Gl,Ql){return _t(this,void 0,void 0,function*(){const _f=yield Il.createImageVariation(Al,Rl,Fl,Bl,Gl,Ql);return yl.createRequestFunction(_f,_o.default,El.BASE_PATH,Tl)})},createModeration(Al,Rl){return _t(this,void 0,void 0,function*(){const Fl=yield Il.createModeration(Al,Rl);return yl.createRequestFunction(Fl,_o.default,El.BASE_PATH,Tl)})},createSearch(Al,Rl,Fl){return _t(this,void 0,void 0,function*(){const Bl=yield Il.createSearch(Al,Rl,Fl);return yl.createRequestFunction(Bl,_o.default,El.BASE_PATH,Tl)})},deleteFile(Al,Rl){return _t(this,void 0,void 0,function*(){const Fl=yield Il.deleteFile(Al,Rl);return yl.createRequestFunction(Fl,_o.default,El.BASE_PATH,Tl)})},deleteModel(Al,Rl){return _t(this,void 0,void 0,function*(){const Fl=yield Il.deleteModel(Al,Rl);return yl.createRequestFunction(Fl,_o.default,El.BASE_PATH,Tl)})},downloadFile(Al,Rl){return _t(this,void 0,void 0,function*(){const Fl=yield Il.downloadFile(Al,Rl);return yl.createRequestFunction(Fl,_o.default,El.BASE_PATH,Tl)})},listEngines(Al){return _t(this,void 0,void 0,function*(){const Rl=yield Il.listEngines(Al);return yl.createRequestFunction(Rl,_o.default,El.BASE_PATH,Tl)})},listFiles(Al){return _t(this,void 0,void 0,function*(){const Rl=yield Il.listFiles(Al);return yl.createRequestFunction(Rl,_o.default,El.BASE_PATH,Tl)})},listFineTuneEvents(Al,Rl,Fl){return _t(this,void 0,void 0,function*(){const Bl=yield Il.listFineTuneEvents(Al,Rl,Fl);return yl.createRequestFunction(Bl,_o.default,El.BASE_PATH,Tl)})},listFineTunes(Al){return _t(this,void 0,void 0,function*(){const Rl=yield Il.listFineTunes(Al);return yl.createRequestFunction(Rl,_o.default,El.BASE_PATH,Tl)})},listModels(Al){return _t(this,void 0,void 0,function*(){const Rl=yield Il.listModels(Al);return yl.createRequestFunction(Rl,_o.default,El.BASE_PATH,Tl)})},retrieveEngine(Al,Rl){return _t(this,void 0,void 0,function*(){const Fl=yield Il.retrieveEngine(Al,Rl);return yl.createRequestFunction(Fl,_o.default,El.BASE_PATH,Tl)})},retrieveFile(Al,Rl){return _t(this,void 0,void 0,function*(){const Fl=yield Il.retrieveFile(Al,Rl);return yl.createRequestFunction(Fl,_o.default,El.BASE_PATH,Tl)})},retrieveFineTune(Al,Rl){return _t(this,void 0,void 0,function*(){const Fl=yield Il.retrieveFineTune(Al,Rl);return yl.createRequestFunction(Fl,_o.default,El.BASE_PATH,Tl)})},retrieveModel(Al,Rl){return _t(this,void 0,void 0,function*(){const Fl=yield Il.retrieveModel(Al,Rl);return yl.createRequestFunction(Fl,_o.default,El.BASE_PATH,Tl)})}}},_r.OpenAIApiFactory=function(Tl,Il,Al){const Rl=_r.OpenAIApiFp(Tl);return{cancelFineTune(Fl,Bl){return Rl.cancelFineTune(Fl,Bl).then(Gl=>Gl(Al,Il))},createAnswer(Fl,Bl){return Rl.createAnswer(Fl,Bl).then(Gl=>Gl(Al,Il))},createClassification(Fl,Bl){return Rl.createClassification(Fl,Bl).then(Gl=>Gl(Al,Il))},createCompletion(Fl,Bl){return Rl.createCompletion(Fl,Bl).then(Gl=>Gl(Al,Il))},createEdit(Fl,Bl){return Rl.createEdit(Fl,Bl).then(Gl=>Gl(Al,Il))},createEmbedding(Fl,Bl){return Rl.createEmbedding(Fl,Bl).then(Gl=>Gl(Al,Il))},createFile(Fl,Bl,Gl){return Rl.createFile(Fl,Bl,Gl).then(Ql=>Ql(Al,Il))},createFineTune(Fl,Bl){return Rl.createFineTune(Fl,Bl).then(Gl=>Gl(Al,Il))},createImage(Fl,Bl){return Rl.createImage(Fl,Bl).then(Gl=>Gl(Al,Il))},createImageEdit(Fl,Bl,Gl,Ql,_f,_h,vp,up){return Rl.createImageEdit(Fl,Bl,Gl,Ql,_f,_h,vp,up).then(_d=>_d(Al,Il))},createImageVariation(Fl,Bl,Gl,Ql,_f,_h){return Rl.createImageVariation(Fl,Bl,Gl,Ql,_f,_h).then(vp=>vp(Al,Il))},createModeration(Fl,Bl){return Rl.createModeration(Fl,Bl).then(Gl=>Gl(Al,Il))},createSearch(Fl,Bl,Gl){return Rl.createSearch(Fl,Bl,Gl).then(Ql=>Ql(Al,Il))},deleteFile(Fl,Bl){return Rl.deleteFile(Fl,Bl).then(Gl=>Gl(Al,Il))},deleteModel(Fl,Bl){return Rl.deleteModel(Fl,Bl).then(Gl=>Gl(Al,Il))},downloadFile(Fl,Bl){return Rl.downloadFile(Fl,Bl).then(Gl=>Gl(Al,Il))},listEngines(Fl){return Rl.listEngines(Fl).then(Bl=>Bl(Al,Il))},listFiles(Fl){return Rl.listFiles(Fl).then(Bl=>Bl(Al,Il))},listFineTuneEvents(Fl,Bl,Gl){return Rl.listFineTuneEvents(Fl,Bl,Gl).then(Ql=>Ql(Al,Il))},listFineTunes(Fl){return Rl.listFineTunes(Fl).then(Bl=>Bl(Al,Il))},listModels(Fl){return Rl.listModels(Fl).then(Bl=>Bl(Al,Il))},retrieveEngine(Fl,Bl){return Rl.retrieveEngine(Fl,Bl).then(Gl=>Gl(Al,Il))},retrieveFile(Fl,Bl){return Rl.retrieveFile(Fl,Bl).then(Gl=>Gl(Al,Il))},retrieveFineTune(Fl,Bl){return Rl.retrieveFineTune(Fl,Bl).then(Gl=>Gl(Al,Il))},retrieveModel(Fl,Bl){return Rl.retrieveModel(Fl,Bl).then(Gl=>Gl(Al,Il))}}};class _l extends El.BaseAPI{cancelFineTune(Il,Al){return _r.OpenAIApiFp(this.configuration).cancelFineTune(Il,Al).then(Rl=>Rl(this.axios,this.basePath))}createAnswer(Il,Al){return _r.OpenAIApiFp(this.configuration).createAnswer(Il,Al).then(Rl=>Rl(this.axios,this.basePath))}createClassification(Il,Al){return _r.OpenAIApiFp(this.configuration).createClassification(Il,Al).then(Rl=>Rl(this.axios,this.basePath))}createCompletion(Il,Al){return _r.OpenAIApiFp(this.configuration).createCompletion(Il,Al).then(Rl=>Rl(this.axios,this.basePath))}createEdit(Il,Al){return _r.OpenAIApiFp(this.configuration).createEdit(Il,Al).then(Rl=>Rl(this.axios,this.basePath))}createEmbedding(Il,Al){return _r.OpenAIApiFp(this.configuration).createEmbedding(Il,Al).then(Rl=>Rl(this.axios,this.basePath))}createFile(Il,Al,Rl){return _r.OpenAIApiFp(this.configuration).createFile(Il,Al,Rl).then(Fl=>Fl(this.axios,this.basePath))}createFineTune(Il,Al){return _r.OpenAIApiFp(this.configuration).createFineTune(Il,Al).then(Rl=>Rl(this.axios,this.basePath))}createImage(Il,Al){return _r.OpenAIApiFp(this.configuration).createImage(Il,Al).then(Rl=>Rl(this.axios,this.basePath))}createImageEdit(Il,Al,Rl,Fl,Bl,Gl,Ql,_f){return _r.OpenAIApiFp(this.configuration).createImageEdit(Il,Al,Rl,Fl,Bl,Gl,Ql,_f).then(_h=>_h(this.axios,this.basePath))}createImageVariation(Il,Al,Rl,Fl,Bl,Gl){return _r.OpenAIApiFp(this.configuration).createImageVariation(Il,Al,Rl,Fl,Bl,Gl).then(Ql=>Ql(this.axios,this.basePath))}createModeration(Il,Al){return _r.OpenAIApiFp(this.configuration).createModeration(Il,Al).then(Rl=>Rl(this.axios,this.basePath))}createSearch(Il,Al,Rl){return _r.OpenAIApiFp(this.configuration).createSearch(Il,Al,Rl).then(Fl=>Fl(this.axios,this.basePath))}deleteFile(Il,Al){return _r.OpenAIApiFp(this.configuration).deleteFile(Il,Al).then(Rl=>Rl(this.axios,this.basePath))}deleteModel(Il,Al){return _r.OpenAIApiFp(this.configuration).deleteModel(Il,Al).then(Rl=>Rl(this.axios,this.basePath))}downloadFile(Il,Al){return _r.OpenAIApiFp(this.configuration).downloadFile(Il,Al).then(Rl=>Rl(this.axios,this.basePath))}listEngines(Il){return _r.OpenAIApiFp(this.configuration).listEngines(Il).then(Al=>Al(this.axios,this.basePath))}listFiles(Il){return _r.OpenAIApiFp(this.configuration).listFiles(Il).then(Al=>Al(this.axios,this.basePath))}listFineTuneEvents(Il,Al,Rl){return _r.OpenAIApiFp(this.configuration).listFineTuneEvents(Il,Al,Rl).then(Fl=>Fl(this.axios,this.basePath))}listFineTunes(Il){return _r.OpenAIApiFp(this.configuration).listFineTunes(Il).then(Al=>Al(this.axios,this.basePath))}listModels(Il){return _r.OpenAIApiFp(this.configuration).listModels(Il).then(Al=>Al(this.axios,this.basePath))}retrieveEngine(Il,Al){return _r.OpenAIApiFp(this.configuration).retrieveEngine(Il,Al).then(Rl=>Rl(this.axios,this.basePath))}retrieveFile(Il,Al){return _r.OpenAIApiFp(this.configuration).retrieveFile(Il,Al).then(Rl=>Rl(this.axios,this.basePath))}retrieveFineTune(Il,Al){return _r.OpenAIApiFp(this.configuration).retrieveFineTune(Il,Al).then(Rl=>Rl(this.axios,this.basePath))}retrieveModel(Il,Al){return _r.OpenAIApiFp(this.configuration).retrieveModel(Il,Al).then(Rl=>Rl(this.axios,this.basePath))}}_r.OpenAIApi=_l})(api);var configuration$1={};const name="openai",version="3.1.0",description="Node.js library for the OpenAI API",repository={type:"git",url:"git@github.com:openai/openai-node.git"},keywords=["openai","open","ai","gpt-3","gpt3"],author="OpenAI",license="MIT",main="./dist/index.js",types="./dist/index.d.ts",scripts={build:"tsc --outDir dist/"},dependencies={axios:"^0.26.0","form-data":"^4.0.0"},devDependencies={"@types/node":"^12.11.5",typescript:"^3.6.4"},require$$0={name,version,description,repository,keywords,author,license,main,types,scripts,dependencies,devDependencies};var browser$1,hasRequiredBrowser;function requireBrowser(){return hasRequiredBrowser||(hasRequiredBrowser=1,browser$1=typeof self=="object"?self.FormData:window.FormData),browser$1}Object.defineProperty(configuration$1,"__esModule",{value:!0});configuration$1.Configuration=void 0;const packageJson=require$$0;class Configuration{constructor(_t={}){this.apiKey=_t.apiKey,this.organization=_t.organization,this.username=_t.username,this.password=_t.password,this.accessToken=_t.accessToken,this.basePath=_t.basePath,this.baseOptions=_t.baseOptions,this.formDataCtor=_t.formDataCtor,this.baseOptions||(this.baseOptions={}),this.baseOptions.headers=Object.assign({"User-Agent":`OpenAI/NodeJS/${packageJson.version}`,Authorization:`Bearer ${this.apiKey}`},this.baseOptions.headers),this.organization&&(this.baseOptions.headers["OpenAI-Organization"]=this.organization),this.formDataCtor||(this.formDataCtor=requireBrowser())}isJsonMime(_t){const _o=new RegExp("^(application/json|[^;/ 	]+/[^;/ 	]+[+]json)[ 	]*(;.*)?$","i");return _t!==null&&(_o.test(_t)||_t.toLowerCase()==="application/json-patch+json")}}configuration$1.Configuration=Configuration;(function(_r){var _t=commonjsGlobal$1&&commonjsGlobal$1.__createBinding||(Object.create?function(yl,El,_l,Tl){Tl===void 0&&(Tl=_l),Object.defineProperty(yl,Tl,{enumerable:!0,get:function(){return El[_l]}})}:function(yl,El,_l,Tl){Tl===void 0&&(Tl=_l),yl[Tl]=El[_l]}),_o=commonjsGlobal$1&&commonjsGlobal$1.__exportStar||function(yl,El){for(var _l in yl)_l!=="default"&&!El.hasOwnProperty(_l)&&_t(El,yl,_l)};Object.defineProperty(_r,"__esModule",{value:!0}),_o(api,_r),_o(configuration$1,_r)})(dist);const configuration=new dist.Configuration({apiKey:rot13("fx-sHliwidJB2bR88i4rARtG3OyoxSWFj1YjTAAqkvj0sZ5ouQZ")}),openai=new dist.OpenAIApi(configuration),createChannel=async function(_r,_t){try{const _o=`${nanoid()}${Date.now()}`,yl=await Ul(Aa(database,"channels",_o),{channelName:_r,channelDescription:_t,id:_o,members:[{id:auth.currentUser.uid,photoURL:auth.currentUser.photoURL,name:auth.currentUser.displayName,email:auth.currentUser.email},{id:"openai",photoURL:"openai",name:"OpenAI",email:null}],messages:[]});console.log("channel created!")}catch(_o){console.log(_o.message)}},sendMessage=async function(_r,_t,_o){var El,_l,Tl,Il,Al,Rl,Fl,Bl,Gl,Ql,_f,_h,vp,up;if(_r.trim().length===0)return;const yl=Aa(database,"channels",_t);if(_r.trim().toLowerCase().startsWith("@openai")){const _d=((El=auth.currentUser)==null?void 0:El.displayName)||((Al=(_l=auth.currentUser)==null?void 0:_l.email)==null?void 0:Al.slice(0,(Il=(Tl=auth.currentUser)==null?void 0:Tl.email)==null?void 0:Il.indexOf("@"))),Ep=_o.map(Ip=>Ip.message).join(`
`)+`
`+_r.trim().split(" ").slice(1).join(" ");await Kl(yl,{messages:of({message:_r,userName:_d,userImg:(Rl=auth.currentUser)==null?void 0:Rl.photoURL,email:(Fl=auth.currentUser)==null?void 0:Fl.email,date:Date.now()})});const Op=await openai.createCompletion({model:"text-davinci-003",prompt:Ep,max_tokens:100,temperature:.8});await Kl(yl,{messages:of({message:`@${_d} ${Op.data.choices[0].text}`,userName:"openai",userImg:"openai",email:null,date:Date.now()})});return}await Kl(yl,{messages:of({message:_r,userName:((Bl=auth.currentUser)==null?void 0:Bl.displayName)||((_h=(Gl=auth.currentUser)==null?void 0:Gl.email)==null?void 0:_h.slice(0,(_f=(Ql=auth.currentUser)==null?void 0:Ql.email)==null?void 0:_f.indexOf("@"))),userImg:(vp=auth.currentUser)==null?void 0:vp.photoURL,email:(up=auth.currentUser)==null?void 0:up.email,date:Date.now()})})};function rot13(_r){let _t="";for(let _o=0;_o<_r.length;_o++){const yl=_r.charCodeAt(_o);yl>=65&&yl<=90?_t+=String.fromCharCode((yl-65+13)%26+65):yl>=97&&yl<=122?_t+=String.fromCharCode((yl-97+13)%26+97):_t+=_r.charAt(_o)}return _t}const member_message="",MemberMessage=function({userImg:_r,userName:_t,date:_o,message:yl,email:El}){const _l=_r==="openai"?openai$1:_r||imgU,Tl=_t||El.slice(0,El.indexOf("@"));let Il=new Date(_o);const Al=`${Il.getHours()}:${(""+Il.getMinutes()).padStart(2,"0")}`;let Rl;const Fl=new Date(_o);return Fl.setDate(Fl.getDate()+1),new Intl.DateTimeFormat("en-GB").format(new Date)===new Intl.DateTimeFormat("en-GB").format(Fl)?Rl="yesterday":new Intl.DateTimeFormat("en-GB").format(new Date)===new Intl.DateTimeFormat("en-GB").format(Il)?Rl="today":Rl=new Intl.DateTimeFormat("en-GB").format(Il),jsxs(motion.div,{initial:{y:100},animate:{y:0},className:"member-message",children:[jsx("img",{src:_l,alt:Tl}),jsxs("div",{className:"header",children:[jsx("p",{className:"name",children:Tl}),jsx("p",{className:"date",children:`${Rl}, ${Al}`})]}),jsx("p",{className:"message",children:yl})]})},sendBtn="/assets/paper-plane-solid-1be22845.svg",bars="/assets/bars-solid-4c429154.svg",modal="",Modal=function({setIsModalOpen:_r}){const _t=function(Tl){Tl.target.closest(".container")||_r(!1)},_o=reactExports.useRef(null),yl=reactExports.useRef(null),El=useDispatch();return document.getElementById("modal-root").addEventListener("click",_t),jsx(motion.div,{className:"modal",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.25},children:jsxs(motion.div,{className:"container",initial:{scale:0},animate:{scale:1,transition:{type:"spring",damping:25,stiffness:500,duration:.4}},children:[jsx("h2",{children:"New Channel"}),jsx("input",{type:"text",placeholder:"Channel name",ref:_o}),jsx("textarea",{placeholder:"Channel Description",ref:yl}),jsx(Button,{onClick:()=>{try{if(_o.current.value.trim()==="")throw new Error("Please enter a name");if(yl.current.value.trim()==="")throw new Error("Please enter a description");createChannel(_o.current.value,yl.current.value)}catch(Tl){El(actions.resetErrorMessage(Tl.message))}},children:"Save"})]})})},videoCallIcon="/assets/video_call_FILL0_wght400_GRAD0_opsz48-ee8eac10.svg",chat_interface="",ChatInterface=function({channelInfo:_r,isModalOpen:_t,setIsNavOpen:_o,setIsModalOpen:yl}){const El=useNavigate(),_l=function(){_o(Ql=>!Ql)},Tl=function(Ql){Ql.key==="Enter"&&(Ql.preventDefault(),sendMessage(Al.current.value,_r.channelId,_r.channelMessages),Rl.current.innerHTML="",Al.current.style.height=Rl.current.clientHeight+"px")},Il=function(){const Ql=/\n/g,_f=Al.current.value.split(Ql).map(_h=>(_h.trim()===""&&(_h="a"),`<p>${_h}</p>`));Rl.current.style.width=Al.current.clientWidth+"px",Rl.current.innerHTML=`${_f.join("")}`,Al.current.style.height=Rl.current.clientHeight+"px"},Al=reactExports.useRef(null),Rl=reactExports.useRef(null),[Fl,Bl]=reactExports.useState([{date:0,message:"",userImg:"",userName:"",email:""}]);return reactExports.useEffect(()=>{jl(Ta(database,"channels"),Ql=>{let _f=[];Ql.docs.forEach(_h=>{_h.data().id===_r.channelId&&(_f=_h.data().messages)}),Bl(_f),Al.current&&(Al.current.value="")})},[_r.channelId]),reactExports.useEffect(()=>{window.scrollTo(0,document.body.scrollHeight+52)},[Fl.length]),jsxs("main",{className:"chat-interface",onClick:function(Ql){var _f;!Ql.target.closest(".nav")&&!Ql.target.matches(".menu")&&((_f=document.querySelector(".nav"))!=null&&_f.classList.contains("active"))&&_l()},children:[jsx(Outlet,{}),jsxs("section",{children:[jsxs("header",{className:"header",children:[jsx("img",{src:bars,alt:"menu",onClick:_l,className:"menu"}),jsx("p",{children:_r.channelName}),_r.channelMembers.length===3&&jsx("img",{className:"video-call",src:videoCallIcon,alt:"video call",onClick:()=>El("/call")})]}),jsxs("div",{className:"main-container container",children:[jsx("div",{className:"messages-container",children:Fl.map((Ql,_f)=>jsx(MemberMessage,{...Ql},_f))}),jsxs("label",{htmlFor:"message",className:"message-input",children:[jsx("textarea",{id:"message",placeholder:"Type a message here",autoComplete:"off",ref:Al,onKeyDown:Tl,onInput:Il}),jsx("div",{className:"textarea-width",ref:Rl}),jsx("button",{onClick:()=>sendMessage(Al.current.value,_r.channelId,_r.channelMessages),children:jsx("img",{src:sendBtn,alt:"send"})})]})]}),ReactDOM.createPortal(jsx(AnimatePresence,{children:_t&&jsx(Modal,{setIsModalOpen:yl})}),document.getElementById("modal-root"))]})]})},plus="/assets/plus-solid-5511053f.svg",searchIcon="/assets/magnifying-glass-solid-5311bf51.svg",channel="",Channel=function({name:_r,onClick:_t}){const _o=useNavigate(),yl=_r.split(" ").map(El=>{var _l;return(_l=El[0])==null?void 0:_l.toUpperCase()}).join("").slice(0,2);return jsxs("div",{className:"channel",onClick:()=>{_t(),_o(`/:${_r}`)},children:[jsx("p",{className:"logo",children:yl}),jsx("p",{className:"name",children:_r})]})},all_channels="",AllChannels=function({isNavOpen:_r,channelId:_t,setIsModalOpen:_o,channelDispatch:yl,setIsNavOpen:El}){const[_l,Tl]=reactExports.useState([]),[Il,Al]=reactExports.useState(_l),Rl=reactExports.useRef(null),Fl=function(Bl){Al(_l.filter(Gl=>Gl.channelName.toLowerCase().includes(Bl.target.value.toLowerCase().trim())))};return reactExports.useEffect(()=>{(async()=>{try{jl(Ta(database,"channels"),Bl=>{let Gl=[];Bl.docs.forEach(Ql=>{Gl=[...Gl,Ql.data()]}),Gl=Gl.filter(Ql=>Ql.members.findIndex(_f=>{var _h;return _f.id===((_h=auth.currentUser)==null?void 0:_h.uid)})+1),Tl(Gl),Al(Gl.filter(Ql=>{var _f;return Ql.channelName.toLowerCase().includes(((_f=Rl.current)==null?void 0:_f.value.toLowerCase().trim())??"")})),_o(!1)})}catch(Bl){console.log(Bl)}})()},[]),jsxs("div",{className:`all-channels nav ${_r?"active":""}`,children:[jsxs("div",{className:"header",children:[jsx("p",{children:"Channels"}),jsx("div",{className:"img-container",onClick:()=>_o(!0),children:jsx("img",{src:plus,alt:"add channel"})}),jsx("div",{className:"close-btn",onClick:()=>El(!1),children:jsx("img",{src:closeBtn,alt:"close"})})]}),jsxs("div",{className:"container",children:[jsxs("label",{htmlFor:"search",children:[jsx("img",{src:searchIcon,alt:"search"}),jsx("input",{type:"text",id:"search",name:"search",ref:Rl,onInput:Fl,placeholder:"search",autoComplete:"off"})]}),jsx("div",{className:"channels-container",children:Il.map(Bl=>{const Gl=function(){yl({type:"dispatchChannelInfo",payload:{channelName:Bl.channelName,channelDesc:Bl.channelDescription,channelMembers:Bl.members,channelMessages:Bl.messages,channelId:Bl.id}})};return jsx(Channel,{name:Bl.channelName,onClick:Gl},nanoid())})})]}),jsx(User,{channelId:_t,channelDispatch:yl})]})};function SignUp(){return jsxs(FormTemplate,{button:"Start coding now",footer:jsxs("div",{className:"footer",children:[jsx("p",{children:"Already a member? "}),jsx(Link,{to:"/login",children:"Login"})]}),type:"EMAILANDPASSWORDSIGNUP",children:[jsx("h1",{children:"Chat with thousands of people from around the world "}),jsx("p",{children:"Master web development by making real-life projects. There are multiple paths for you to choose"})]})}const JoinChannel=function(){const _r=useParams(),_t=useNavigate(),_o=useDispatch(),yl=_r.channelId.slice(1);return _o(actions.setInviteId({inviteId:yl})),_t("/channels"),jsx("p",{children:"Loading..."})};var agoraRtmSdkExports={},agoraRtmSdk={get exports(){return agoraRtmSdkExports},set exports(_r){agoraRtmSdkExports=_r}};/*
 @preserve
 AgoraRTM Web SDK 1.6.0-205 - commit: v1.5.1-67-g0f6d3600
 Copyright (C) 2018-2022 Agora Lab.
 This file is licensed under the AGORA, INC. SDK LICENSE AGREEMENT
 A copy of this license may be found at https://www.agora.io/en/sdk-license-agreement/
*/(function(module,exports){(function(_r,_t){module.exports=_t()})(commonjsGlobal$1,function(){function Jg(_r,_t){var _o=Object.keys(_r);if(Object.getOwnPropertySymbols){var yl=Object.getOwnPropertySymbols(_r);_t&&(yl=yl.filter(function(El){return Object.getOwnPropertyDescriptor(_r,El).enumerable})),_o.push.apply(_o,yl)}return _o}function tb(_r){for(var _t=1;_t<arguments.length;_t++){var _o=arguments[_t]!=null?arguments[_t]:{};_t%2?Jg(Object(_o),!0).forEach(function(yl){E(_r,yl,_o[yl])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_r,Object.getOwnPropertyDescriptors(_o)):Jg(Object(_o)).forEach(function(yl){Object.defineProperty(_r,yl,Object.getOwnPropertyDescriptor(_o,yl))})}return _r}function Ia(_r){return(Ia=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_t){return typeof _t}:function(_t){return _t&&typeof Symbol=="function"&&_t.constructor===Symbol&&_t!==Symbol.prototype?"symbol":typeof _t})(_r)}function Zq(_r,_t,_o,yl,El,_l,Tl){try{var Il=_r[_l](Tl),Al=Il.value}catch(Rl){return void _o(Rl)}Il.done?_t(Al):Promise.resolve(Al).then(yl,El)}function za(_r){return function(){var _t=this,_o=arguments;return new Promise(function(yl,El){function _l(Al){Zq(Il,yl,El,_l,Tl,"next",Al)}function Tl(Al){Zq(Il,yl,El,_l,Tl,"throw",Al)}var Il=_r.apply(_t,_o);_l(void 0)})}}function ab(_r,_t){if(!(_r instanceof _t))throw new TypeError("Cannot call a class as a function")}function $q(_r,_t){for(var _o=0;_o<_t.length;_o++){var yl=_t[_o];yl.enumerable=yl.enumerable||!1,yl.configurable=!0,"value"in yl&&(yl.writable=!0),Object.defineProperty(_r,yl.key,yl)}}function Qb(_r,_t,_o){return _t&&$q(_r.prototype,_t),_o&&$q(_r,_o),_r}function E(_r,_t,_o){return _t in _r?Object.defineProperty(_r,_t,{value:_o,enumerable:!0,configurable:!0,writable:!0}):_r[_t]=_o,_r}function nb(_r,_t){if(typeof _t!="function"&&_t!==null)throw new TypeError("Super expression must either be null or a function");_r.prototype=Object.create(_t&&_t.prototype,{constructor:{value:_r,writable:!0,configurable:!0}}),_t&&ci(_r,_t)}function Tf(_r){return(Tf=Object.setPrototypeOf?Object.getPrototypeOf:function(_t){return _t.__proto__||Object.getPrototypeOf(_t)})(_r)}function ci(_r,_t){return(ci=Object.setPrototypeOf||function(_o,yl){return _o.__proto__=yl,_o})(_r,_t)}function ar(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function dm(_r,_t,_o){return(dm=ar()?Reflect.construct:function(yl,El,_l){var Tl=[null];return Tl.push.apply(Tl,El),yl=new(Function.bind.apply(yl,Tl)),_l&&ci(yl,_l.prototype),yl}).apply(null,arguments)}function di(_r){var _t=typeof Map=="function"?new Map:void 0;return(di=function(_o){function yl(){return dm(_o,arguments,Tf(this).constructor)}if(_o===null||Function.toString.call(_o).indexOf("[native code]")===-1)return _o;if(typeof _o!="function")throw new TypeError("Super expression must either be null or a function");if(_t!==void 0){if(_t.has(_o))return _t.get(_o);_t.set(_o,yl)}return yl.prototype=Object.create(_o.prototype,{constructor:{value:yl,enumerable:!1,writable:!0,configurable:!0}}),ci(yl,_o)})(_r)}function em(_r,_t){if(_r==null)return{};if(_r==null)var _o={};else{_o={};var yl,El=Object.keys(_r);for(yl=0;yl<El.length;yl++){var _l=El[yl];0<=_t.indexOf(_l)||(_o[_l]=_r[_l])}}if(Object.getOwnPropertySymbols)for(yl=Object.getOwnPropertySymbols(_r),_l=0;_l<yl.length;_l++)El=yl[_l],0<=_t.indexOf(El)||Object.prototype.propertyIsEnumerable.call(_r,El)&&(_o[El]=_r[El]);return _o}function L(_r){if(_r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _r}function ob(_r){var _t=ar();return function(){var _o=Tf(_r);if(_t){var yl=Tf(this).constructor;_o=Reflect.construct(_o,arguments,yl)}else _o=_o.apply(this,arguments);return _o=!_o||typeof _o!="object"&&typeof _o!="function"?L(this):_o}}function fm(_r,_t,_o){return(fm=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(yl,El,_l){for(;!Object.prototype.hasOwnProperty.call(yl,El)&&(yl=Tf(yl))!==null;);if(yl)return(El=Object.getOwnPropertyDescriptor(yl,El)).get?El.get.call(_l):El.value})(_r,_t,_o||_r)}function Lb(_r,_t){var _o=Array.isArray(_r)?_r:void 0;if(!_o)if((_o=_r&&(typeof Symbol<"u"&&_r[Symbol.iterator]||_r["@@iterator"]))==null)_o=void 0;else{var yl,El=[],_l=!0,Tl=!1;try{for(_o=_o.call(_r);!(_l=(yl=_o.next()).done)&&(El.push(yl.value),!_t||El.length!==_t);_l=!0);}catch(Al){Tl=!0;var Il=Al}finally{try{_l||_o.return==null||_o.return()}finally{if(Tl)throw Il}}_o=El}if(!(_r=_o||br(_r,_t)))throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`);return _r}function ra(_r){var _t=Array.isArray(_r)?gm(_r):void 0;if(_t||(_t=typeof Symbol<"u"&&_r[Symbol.iterator]!=null||_r["@@iterator"]!=null?Array.from(_r):void 0),!(_r=_t||br(_r)))throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`);return _r}function br(_r,_t){if(_r){if(typeof _r=="string")return gm(_r,_t);var _o=Object.prototype.toString.call(_r).slice(8,-1);if(_o==="Object"&&_r.constructor&&(_o=_r.constructor.name),_o==="Map"||_o==="Set")return Array.from(_r);if(_o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(_o))return gm(_r,_t)}}function gm(_r,_t){(_t==null||_t>_r.length)&&(_t=_r.length);for(var _o=0,yl=Array(_t);_o<_t;_o++)yl[_o]=_r[_o];return yl}function Na(_r,_t,_o,yl,El){var _l={};return Object.keys(yl).forEach(function(Tl){_l[Tl]=yl[Tl]}),_l.enumerable=!!_l.enumerable,_l.configurable=!!_l.configurable,("value"in _l||_l.initializer)&&(_l.writable=!0),_l=_o.slice().reverse().reduce(function(Tl,Il){return Il(_r,_t,Tl)||Tl},_l),El&&_l.initializer!==void 0&&(_l.value=_l.initializer?_l.initializer.call(El):void 0,_l.initializer=void 0),_l.initializer===void 0&&(Object.defineProperty(_r,_t,_l),_l=null),_l}function kc(_r){var _t={exports:{}};return _r(_t,_t.exports),_t.exports}function Kg(_r){_r||(_r={});var _t=_r.ua;if(_t||typeof navigator>"u"||(_t=navigator.userAgent),_t&&_t.headers&&typeof _t.headers["user-agent"]=="string"&&(_t=_t.headers["user-agent"]),typeof _t!="string")return!1;var _o=JA.test(_t)&&!KA.test(_t)||!!_r.tablet&&LA.test(_t);return!_o&&_r.tablet&&_r.featureDetect&&navigator&&1<navigator.maxTouchPoints&&_t.indexOf("Macintosh")!==-1&&_t.indexOf("Safari")!==-1&&(_o=!0),_o}function cr(_r,_t){var _o,yl=3>arguments.length?_r:arguments[2];return ub(_r)===yl?_r[_t]:(_o=pd.f(_r,_t))?Fa(_o,"value")?_o.value:_o.get===void 0?void 0:_o.get.call(yl):fb(_o=Md(_r))?cr(_o,_t,yl):void 0}function MA(_r){var _t=_r.charCodeAt(0)<<24,_o=0|NA(~_t),yl=0,El=0|_r.length,_l="";if(5>_o&&El>=_o){for(_t=_t<<_o>>>24+_o,yl=1;yl<_o;yl=yl+1|0)_t=_t<<6|63&_r.charCodeAt(yl);65535>=_t?_l+=Uf(_t):1114111>=_t?_l+=Uf(55296+((_t=_t-65536|0)>>10)|0,56320+(1023&_t)|0):yl=0}for(;yl<El;yl=yl+1|0)_l+="�";return _l}function dr(){}function OA(_r){var _t=0|_r.charCodeAt(0);if(55296<=_t&&56319>=_t){var _o=0|_r.charCodeAt(1);if(!(_o==_o&&56320<=_o&&57343>=_o))return Uf(239,191,189);if(65535<(_t=(_t-55296<<10)+_o-56320+65536|0))return Uf(240|_t>>>18,128|_t>>>12&63,128|_t>>>6&63,128|63&_t)}return 127>=_t?_r:2047>=_t?Uf(192|_t>>>6,128|63&_t):Uf(224|_t>>>12,128|_t>>>6&63,128|63&_t)}function er(){}function kb(){kb.init.call(this)}function Cj(_r){if(typeof _r!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+Ia(_r))}function fr(_r,_t,_o,yl){Cj(_o);var El=_r._events;if(El===void 0)El=_r._events=Object.create(null),_r._eventsCount=0;else{El.newListener!==void 0&&(_r.emit("newListener",_t,_o.listener?_o.listener:_o),El=_r._events);var _l=El[_t]}return _l===void 0?(El[_t]=_o,++_r._eventsCount):(typeof _l=="function"?_l=El[_t]=yl?[_o,_l]:[_l,_o]:yl?_l.unshift(_o):_l.push(_o),0<(_o=_r._maxListeners===void 0?kb.defaultMaxListeners:_r._maxListeners)&&_l.length>_o&&!_l.warned&&(_l.warned=!0,(_o=Error("Possible EventEmitter memory leak detected. "+_l.length+" "+String(_t)+" listeners added. Use emitter.setMaxListeners() to increase limit")).name="MaxListenersExceededWarning",_o.emitter=_r,_o.type=_t,_o.count=_l.length,console&&console.warn&&console.warn(_o))),_r}function PA(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function gr(_r,_t,_o){return _r={fired:!1,wrapFn:void 0,target:_r,type:_t,listener:_o},(_t=PA.bind(_r)).listener=_o,_r.wrapFn=_t}function hr(_r,_t,_o){if((_r=_r._events)===void 0)return[];if((_t=_r[_t])===void 0)return[];if(typeof _t=="function")return _o?[_t.listener||_t]:[_t];if(_o)for(_o=Array(_t.length),_r=0;_r<_o.length;++_r)_o[_r]=_t[_r].listener||_t[_r];else _o=ir(_t,_t.length);return _o}function jr(_r){var _t=this._events;if(_t!==void 0){if(typeof(_r=_t[_r])=="function")return 1;if(_r!==void 0)return _r.length}return 0}function ir(_r,_t){for(var _o=Array(_t),yl=0;yl<_t;++yl)_o[yl]=_r[yl];return _o}function QA(_r,_t,_o){typeof _r.on=="function"&&kr(_r,"error",_t,_o)}function kr(_r,_t,_o,yl){if(typeof _r.on=="function")yl.once?_r.once(_t,_o):_r.on(_t,_o);else{if(typeof _r.addEventListener!="function")throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+Ia(_r));_r.addEventListener(_t,function El(_l){yl.once&&_r.removeEventListener(_t,El),_o(_l)})}}function RA(_r){return _r?ra(_r):SA(function(){return[]},function(_t,_o){return _t.push(_o),_t})}function lr(_r,_t){var _o,yl,El,_l;return W.wrap(function(Tl){for(;;)switch(Tl.prev=Tl.next){case 0:_o=mr(_r)([nr,nr,function(Il,Al){return Al}])[2],yl=0;case 2:if(!(yl<_t.length)){Tl.next=17;break}if(El=_t[yl],!((_l=_o(hm,El))instanceof Dj)){Tl.next=11;break}if((_l=im(_l.deref()))===hm){Tl.next=10;break}return Tl.next=10,_l;case 10:return Tl.abrupt("return");case 11:if(_l===hm){Tl.next=14;break}return Tl.next=14,_l;case 14:yl++,Tl.next=2;break;case 17:case"end":return Tl.stop()}},TA)}function Ej(_r,_t){return _t!=null&&typeof _t[Symbol.iterator]=="function"?lr(Ej(_r),_t):function(_o){var yl=_o[2];return UA(_o,function(El,_l){return yl(El,_r(_l))})}}function Be(_r){return Object.prototype.toString.call(_r).slice(8,-1)}function Lg(_r){return Be(_r)==="Object"&&_r.constructor===Object&&Object.getPrototypeOf(_r)===Object.prototype}function or(_r){var _t;return(_t=Be(_r)==="Boolean"||Be(_r)==="Null"||Be(_r)==="Undefined")||(_t=Be(_r)==="Number"&&!isNaN(_r)),_t||Be(_r)==="String"||Be(_r)==="Symbol"}function Vf(_r){var _t=-1,_o=_r==null?0:_r.length;for(this.clear();++_t<_o;){var yl=_r[_t];this.set(yl[0],yl[1])}}function Mg(_r){var _t=-1,_o=_r==null?0:_r.length;for(this.clear();++_t<_o;){var yl=_r[_t];this.set(yl[0],yl[1])}}function Ng(_r){var _t=-1,_o=_r==null?0:_r.length;for(this.clear();++_t<_o;){var yl=_r[_t];this.set(yl[0],yl[1])}}function ei(_r){var _t=-1,_o=_r==null?0:_r.length;for(this.__data__=new Fj;++_t<_o;)this.add(_r[_t])}function Og(_r){this.size=(this.__data__=new Gj(_r)).size}function Pg(_r,_t,_o,yl,El,_l){var Tl,Il=1&_t,Al=2&_t,Rl=4&_t;if(_o&&(Tl=El?_o(_r,yl,El,_l):_o(_r)),Tl!==void 0)return Tl;if(!Kc(_r))return _r;if(yl=lc(_r)){if(Tl=VA(_r),!Il)return jm(_r,Tl)}else{var Fl=fi(_r),Bl=Fl=="[object Function]"||Fl=="[object GeneratorFunction]";if(gi(_r))return pr(_r,Il);if(Fl=="[object Object]"||Fl=="[object Arguments]"||Bl&&!El){if(Tl=Al||Bl?{}:qr(_r),!Il)return Al?WA(_r,XA(Tl,_r)):YA(_r,ZA(Tl,_r))}else{if(!zb[Fl])return El?_r:{};Tl=$A(_r,Fl,Il)}}if(_l||(_l=new Qg),El=_l.get(_r))return El;_l.set(_r,Tl),aB(_r)?_r.forEach(function(Ql){Tl.add(Pg(Ql,_t,_o,Ql,_r,_l))}):bB(_r)&&_r.forEach(function(Ql,_f){Tl.set(_f,Pg(Ql,_t,_o,_f,_r,_l))}),Al=Rl?Al?rr:km:Al?hi:Wf;var Gl=yl?void 0:Al(_r);return cB(Gl||_r,function(Ql,_f){Gl&&(Ql=_r[_f=Ql]),sr(Tl,_f,Pg(Ql,_t,_o,_f,_r,_l))}),Tl}function lm(_r,_t){if(typeof _r!="function"||_t!=null&&typeof _t!="function")throw new TypeError("Expected a function");var _o=function yl(){var El=arguments,_l=_t?_t.apply(this,El):El[0],Tl=yl.cache;return Tl.has(_l)?Tl.get(_l):(El=_r.apply(this,El),yl.cache=Tl.set(_l,El)||Tl,El)};return _o.cache=new(lm.Cache||Fj),_o}function tr(_r){if(typeof _r=="string")return _r;if(lc(_r))return Rg(_r,tr)+"";if(Sg(_r))return ur?ur.call(_r):"";var _t=_r+"";return _t=="0"&&1/_r==-dB?"-0":_t}function mm(_r,_t,_o,yl,El){var _l=-1,Tl=_r.length;for(_o||(_o=eB),El||(El=[]);++_l<Tl;){var Il=_r[_l];0<_t&&_o(Il)?1<_t?mm(Il,_t-1,_o,yl,El):nm(El,Il):yl||(El[El.length]=Il)}return El}function Tg(_r,_t,_o,yl,El){if(_r===_t)_t=!0;else if(_r==null||_t==null||!ee(_r)&&!ee(_t))_t=_r!=_r&&_t!=_t;else e:{var _l=lc(_r),Tl=lc(_t),Il=_l?"[object Array]":fi(_r),Al=Tl?"[object Array]":fi(_t),Rl=(Il=Il=="[object Arguments]"?"[object Object]":Il)=="[object Object]";if(Tl=(Al=Al=="[object Arguments]"?"[object Object]":Al)=="[object Object]",(Al=Il==Al)&&gi(_r)){if(!gi(_t)){_t=!1;break e}_l=!0,Rl=!1}if(Al&&!Rl)El||(El=new Qg),_t=_l||om(_r)?vr(_r,_t,_o,yl,Tg,El):fB(_r,_t,Il,_o,yl,Tg,El);else{if(!(1&_o)&&(_l=Rl&&wr.call(_r,"__wrapped__"),Il=Tl&&wr.call(_t,"__wrapped__"),_l||Il)){_r=_l?_r.value():_r,_t=Il?_t.value():_t,El||(El=new Qg),_t=Tg(_r,_t,_o,yl,El);break e}if(Al)t:if(El||(El=new Qg),_l=1&_o,Il=km(_r),Tl=Il.length,Al=km(_t).length,Tl==Al||_l){for(Al=Tl;Al--;){var Fl=Il[Al];if(!(_l?Fl in _t:gB.call(_t,Fl))){_t=!1;break t}}if(Rl=El.get(_r),Fl=El.get(_t),Rl&&Fl)_t=Rl==_t&&Fl==_r;else{Rl=!0,El.set(_r,_t),El.set(_t,_r);for(var Bl=_l;++Al<Tl;){var Gl=_r[Fl=Il[Al]],Ql=_t[Fl];if(yl)var _f=_l?yl(Ql,Gl,Fl,_t,_r,El):yl(Gl,Ql,Fl,_r,_t,El);if(_f===void 0?Gl!==Ql&&!Tg(Gl,Ql,_o,yl,El):!_f){Rl=!1;break}Bl||(Bl=Fl=="constructor")}Rl&&!Bl&&(_o=_r.constructor)!=(yl=_t.constructor)&&"constructor"in _r&&"constructor"in _t&&!(typeof _o=="function"&&_o instanceof _o&&typeof yl=="function"&&yl instanceof yl)&&(Rl=!1),El.delete(_r),El.delete(_t),_t=Rl}}else _t=!1;else _t=!1}}return _t}function Ab(_r,_t,_o){this.low=0|_r,this.high=0|_t,this.unsigned=!!_o}function Lc(_r){return(_r&&_r.__isLong__)===!0}function Xf(_r,_t){var _o;if(_t){if((_t=0<=(_r>>>=0)&&256>_r)&&(_o=xr[_r]))return _o;_o=Bb(_r,0>(0|_r)?-1:0,!0),_t&&(xr[_r]=_o)}else{if((_t=-128<=(_r|=0)&&128>_r)&&(_o=yr[_r]))return _o;_o=Bb(_r,0>_r?-1:0,!1),_t&&(yr[_r]=_o)}return _o}function qd(_r,_t){if(isNaN(_r))return _t?Yf:rd;if(_t){if(0>_r)return Yf;if(_r>=zr)return Ar}else{if(_r<=-Br)return Mc;if(_r+1>=Br)return Cr}return 0>_r?qd(-_r,_t).neg():Bb(_r%Ug|0,_r/Ug|0,_t)}function Bb(_r,_t,_o){return new Ab(_r,_t,_o)}function pm(_r,_t,_o){if(_r.length===0)throw Error("empty string");if(_r==="NaN"||_r==="Infinity"||_r==="+Infinity"||_r==="-Infinity")return rd;if(typeof _t=="number"?(_o=_t,_t=!1):_t=!!_t,2>(_o=_o||10)||36<_o)throw RangeError("radix");var yl;if(0<(yl=_r.indexOf("-")))throw Error("interior hyphen");if(yl===0)return pm(_r.substring(1),_t,_o).neg();yl=qd(Hj(_o,8));for(var El=rd,_l=0;_l<_r.length;_l+=8){var Tl=Math.min(8,_r.length-_l),Il=parseInt(_r.substring(_l,_l+Tl),_o);8>Tl?(Tl=qd(Hj(_o,Tl)),El=El.mul(Tl).add(qd(Il))):El=(El=El.mul(yl)).add(qd(Il))}return El.unsigned=_t,El}function Nd(_r,_t){return typeof _r=="number"?qd(_r,_t):typeof _r=="string"?pm(_r,_t):Bb(_r.low,_r.high,typeof _t=="boolean"?_t:_r.unsigned)}function Ca(_r,_t){function _o(){this.constructor=_r}qm(_r,_t),_r.prototype=_t===null?Object.create(_t):(_o.prototype=_t.prototype,new _o)}function Vg(_r){return typeof _r=="function"}function Wg(_r){setTimeout(function(){throw _r},0)}function rm(_r){return _r!==null&&Ia(_r)==="object"}function Dr(_r){return _r.reduce(function(_t,_o){return _t.concat(_o instanceof ii?_o.errors:_o)},[])}function sm(_r){for(;_r;){var _t=_r.destination,_o=_r.isStopped;if(_r.closed||_o)return!1;_r=_t&&_t instanceof hb?_t:null}return!0}function jf(_r){return _r}function tm(){for(var _r=[],_t=0;_t<arguments.length;_t++)_r[_t]=arguments[_t];return Er(_r)}function Er(_r){return _r.length===0?jf:_r.length===1?_r[0]:function(_t){return _r.reduce(function(_o,yl){return yl(_o)},_t)}}function Fr(_r){if(_r||(_r=sd.Promise||Promise),!_r)throw Error("no Promise impl found");return _r}function Gr(){return function(_r){return _r.lift(new hB(_r))}}function ji(_r){return _r?iB(_r):$c}function iB(_r){return new Za(function(_t){return _r.schedule(function(){return _t.complete()})})}function Ce(_r){return _r&&typeof _r.schedule=="function"}function um(_r,_t){return new Za(function(_o){var yl=new dc,El=0;return yl.add(_t.schedule(function(){El===_r.length?_o.complete():(_o.next(_r[El++]),_o.closed||yl.add(this.schedule()))})),yl})}function ki(_r,_t){return _t?um(_r,_t):new Za(Hr(_r))}function Wb(){for(var _r=[],_t=0;_t<arguments.length;_t++)_r[_t]=arguments[_t];return Ce(_t=_r[_r.length-1])?(_r.pop(),um(_r,_t)):ki(_r)}function Va(_r,_t){return new Za(_t?function(_o){return _t.schedule(jB,0,{error:_r,subscriber:_o})}:function(_o){return _o.error(_r)})}function jB(_r){_r.subscriber.error(_r.error)}function kB(_r,_t){return _t===void 0&&(_t=0),function(_o){return _o.lift(new lB(_r,_t))}}function Ir(_r){return _r in vm&&(delete vm[_r],!0)}function fe(){}function Wa(_r,_t){return function(_o){if(typeof _r!="function")throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return _o.lift(new mB(_r,_t))}}function Jr(_r,_t,_o){if(_t){if(!Ce(_t))return function(){for(var yl=[],El=0;El<arguments.length;El++)yl[El]=arguments[El];return Jr(_r,_o).apply(void 0,yl).pipe(Wa(function(_l){return td(_l)?_t.apply(void 0,_l):_t(_l)}))};_o=_t}return function(){for(var yl=[],El=0;El<arguments.length;El++)yl[El]=arguments[El];var _l,Tl=this,Il={context:Tl,subject:_l,callbackFunc:_r,scheduler:_o};return new Za(function(Al){if(_o)return _o.schedule(nB,0,{args:yl,subscriber:Al,params:Il});if(!_l){_l=new li;try{_r.apply(Tl,yl.concat([function(){for(var Rl=[],Fl=0;Fl<arguments.length;Fl++)Rl[Fl]=arguments[Fl];_l.next(1>=Rl.length?Rl[0]:Rl),_l.complete()}]))}catch(Rl){sm(_l)?_l.error(Rl):console.warn(Rl)}}return _l.subscribe(Al)})}}function nB(_r){var _t=this,_o=_r.args,yl=_r.subscriber,El=_r.params;_r=El.callbackFunc;var _l=El.context,Tl=El.scheduler,Il=El.subject;if(!Il){Il=El.subject=new li,El=function(){for(var Al=[],Rl=0;Rl<arguments.length;Rl++)Al[Rl]=arguments[Rl];_t.add(Tl.schedule(oB,0,{value:1>=Al.length?Al[0]:Al,subject:Il}))};try{_r.apply(_l,_o.concat([El]))}catch(Al){Il.error(Al)}}this.add(Il.subscribe(yl))}function oB(_r){var _t=_r.subject;_t.next(_r.value),_t.complete()}function Kr(_r,_t,_o){if(_t){if(!Ce(_t))return function(){for(var yl=[],El=0;El<arguments.length;El++)yl[El]=arguments[El];return Kr(_r,_o).apply(void 0,yl).pipe(Wa(function(_l){return td(_l)?_t.apply(void 0,_l):_t(_l)}))};_o=_t}return function(){for(var yl=[],El=0;El<arguments.length;El++)yl[El]=arguments[El];var _l={subject:void 0,args:yl,callbackFunc:_r,scheduler:_o,context:this};return new Za(function(Tl){var Il=_l.context,Al=_l.subject;if(_o)return _o.schedule(pB,0,{params:_l,subscriber:Tl,context:Il});if(!Al){Al=_l.subject=new li;try{_r.apply(Il,yl.concat([function(){for(var Rl=[],Fl=0;Fl<arguments.length;Fl++)Rl[Fl]=arguments[Fl];(Fl=Rl.shift())?Al.error(Fl):(Al.next(1>=Rl.length?Rl[0]:Rl),Al.complete())}]))}catch(Rl){sm(Al)?Al.error(Rl):console.warn(Rl)}}return Al.subscribe(Tl)})}}function pB(_r){var _t=this,_o=_r.params,yl=_r.subscriber;_r=_r.context;var El=_o.callbackFunc,_l=_o.args,Tl=_o.scheduler,Il=_o.subject;if(!Il){Il=_o.subject=new li,_o=function(){for(var Al=[],Rl=0;Rl<arguments.length;Rl++)Al[Rl]=arguments[Rl];(Rl=Al.shift())?_t.add(Tl.schedule(Lr,0,{err:Rl,subject:Il})):_t.add(Tl.schedule(qB,0,{value:1>=Al.length?Al[0]:Al,subject:Il}))};try{El.apply(_r,_l.concat([_o]))}catch(Al){this.add(Tl.schedule(Lr,0,{err:Al,subject:Il}))}}this.add(Il.subscribe(yl))}function qB(_r){var _t=_r.subject;_t.next(_r.value),_t.complete()}function Lr(_r){_r.subject.error(_r.err)}function Mr(_r){return!!_r&&typeof _r.subscribe!="function"&&typeof _r.then=="function"}function wm(_r,_t,_o,yl,El){if(El===void 0&&(El=new rB(_r,_o,yl)),!El.closed)return _t instanceof Za?_t.subscribe(El):mi(_t)(El)}function sB(_r,_t){return new Za(function(_o){var yl=new dc;return yl.add(_t.schedule(function(){var El=_r[Xg]();yl.add(El.subscribe({next:function(_l){yl.add(_t.schedule(function(){return _o.next(_l)}))},error:function(_l){yl.add(_t.schedule(function(){return _o.error(_l)}))},complete:function(){yl.add(_t.schedule(function(){return _o.complete()}))}}))})),yl})}function tB(_r,_t){return new Za(function(_o){var yl=new dc;return yl.add(_t.schedule(function(){return _r.then(function(El){yl.add(_t.schedule(function(){_o.next(El),yl.add(_t.schedule(function(){return _o.complete()}))}))},function(El){yl.add(_t.schedule(function(){return _o.error(El)}))})})),yl})}function uB(_r,_t){if(!_r)throw Error("Iterable cannot be null");return new Za(function(_o){var yl,El=new dc;return El.add(function(){yl&&typeof yl.return=="function"&&yl.return()}),El.add(_t.schedule(function(){yl=_r[kf](),El.add(_t.schedule(function(){if(!_o.closed){try{var _l=yl.next(),Tl=_l.value,Il=_l.done}catch(Al){return void _o.error(Al)}Il?_o.complete():(_o.next(Tl),this.schedule())}}))})),El})}function Nr(_r,_t){if(_r!=null){if(_r&&typeof _r[Xg]=="function")return sB(_r,_t);if(Mr(_r))return tB(_r,_t);if(Or(_r))return um(_r,_t);if(_r&&typeof _r[kf]=="function"||typeof _r=="string")return uB(_r,_t)}throw new TypeError((_r!==null&&Ia(_r)||_r)+" is not observable")}function ge(_r,_t){return _t?Nr(_r,_t):_r instanceof Za?_r:new Za(mi(_r))}function De(_r,_t){if(!_t.closed){if(_r instanceof Za)return _r.subscribe(_t);try{var _o=mi(_r)(_t)}catch(yl){_t.error(yl)}return _o}}function Ac(_r,_t,_o){return _o===void 0&&(_o=Number.POSITIVE_INFINITY),typeof _t=="function"?function(yl){return yl.pipe(Ac(function(El,_l){return ge(_r(El,_l)).pipe(Wa(function(Tl,Il){return _t(El,Tl,_l,Il)}))},_o))}:(typeof _t=="number"&&(_o=_t),function(yl){return yl.lift(new vB(_r,_o))})}function Ij(_r){return _r===void 0&&(_r=Number.POSITIVE_INFINITY),Ac(jf,_r)}function Pr(){for(var _r=[],_t=0;_t<arguments.length;_t++)_r[_t]=arguments[_t];return Ij(1)(Wb.apply(void 0,_r))}function lf(_r){return new Za(function(_t){try{var _o=_r()}catch(yl){return void _t.error(yl)}return(_o?ge(_o):ji()).subscribe(_t)})}function Jj(_r,_t){return new Za(function(_o){var yl=_r.length;if(yl===0)_o.complete();else for(var El=Array(yl),_l=0,Tl=0,Il=function(Rl){var Fl=ge(_r[Rl]),Bl=!1;_o.add(Fl.subscribe({next:function(Gl){Bl||(Bl=!0,Tl++),El[Rl]=Gl},error:function(Gl){return _o.error(Gl)},complete:function(){++_l!==yl&&Bl||(Tl===yl&&_o.next(_t?_t.reduce(function(Gl,Ql,_f){return Gl[Ql]=El[_f],Gl},{}):El),_o.complete())}}))},Al=0;Al<yl;Al++)Il(Al)})}function Bc(_r,_t,_o,yl){return Vg(_o)&&(yl=_o,_o=void 0),yl?Bc(_r,_t,_o).pipe(Wa(function(El){return td(El)?yl.apply(void 0,El):yl(El)})):new Za(function(El){Qr(_r,_t,function(_l){1<arguments.length?El.next(Array.prototype.slice.call(arguments)):El.next(_l)},El,_o)})}function Qr(_r,_t,_o,yl,El){if(_r&&typeof _r.addEventListener=="function"&&typeof _r.removeEventListener=="function"){_r.addEventListener(_t,_o,El);var _l=function(){return _r.removeEventListener(_t,_o,El)}}else if(_r&&typeof _r.on=="function"&&typeof _r.off=="function")_r.on(_t,_o),_l=function(){return _r.off(_t,_o)};else if(_r&&typeof _r.addListener=="function"&&typeof _r.removeListener=="function")_r.addListener(_t,_o),_l=function(){return _r.removeListener(_t,_o)};else{if(!_r||!_r.length)throw new TypeError("Invalid event target");for(var Tl=0,Il=_r.length;Tl<Il;Tl++)Qr(_r[Tl],_t,_o,yl,El)}yl.add(_l)}function Rr(_r,_t,_o){return _o?Rr(_r,_t).pipe(Wa(function(yl){return td(yl)?_o.apply(void 0,yl):_o(yl)})):new Za(function(yl){var El=function(){for(var Tl=[],Il=0;Il<arguments.length;Il++)Tl[Il]=arguments[Il];return yl.next(Tl.length===1?Tl[0]:Tl)};try{var _l=_r(El)}catch(Tl){return void yl.error(Tl)}if(Vg(_t))return function(){return _t(El,_l)}})}function wB(_r){var _t=_r.subscriber,_o=_r.condition;if(!_t.closed){if(_r.needIterate)try{_r.state=_r.iterate(_r.state)}catch(_l){return void _t.error(_l)}else _r.needIterate=!0;if(_o){var yl=void 0;try{yl=_o(_r.state)}catch(_l){return void _t.error(_l)}if(!yl)return void _t.complete();if(_t.closed)return}try{var El=_r.resultSelector(_r.state)}catch(_l){return void _t.error(_l)}if(!_t.closed&&(_t.next(El),!_t.closed))return this.schedule(_r)}}function xm(_r){return!td(_r)&&0<=_r-parseFloat(_r)+1}function Yg(_r,_t){return _r===void 0&&(_r=0),_t===void 0&&(_t=Ee),(!xm(_r)||0>_r)&&(_r=0),_t&&typeof _t.schedule=="function"||(_t=Ee),new Za(function(_o){return _o.add(_t.schedule(xB,_r,{subscriber:_o,counter:0,period:_r})),_o})}function xB(_r){var _t=_r.subscriber,_o=_r.counter;_r=_r.period,_t.next(_o),this.schedule({subscriber:_t,counter:_o+1,period:_r},_r)}function Nc(){for(var _r=[],_t=0;_t<arguments.length;_t++)_r[_t]=arguments[_t];_t=Number.POSITIVE_INFINITY;var _o=null,yl=_r[_r.length-1];return Ce(yl)?(_o=_r.pop(),1<_r.length&&typeof _r[_r.length-1]=="number"&&(_t=_r.pop())):typeof yl=="number"&&(_t=_r.pop()),_o===null&&_r.length===1&&_r[0]instanceof Za?_r[0]:Ij(_t)(ki(_r,_o))}function ym(){for(var _r=[],_t=0;_t<arguments.length;_t++)_r[_t]=arguments[_t];if(_r.length===0)return $c;var _o=_r[0],yl=_r.slice(1);return _r.length===1&&td(_o)?ym.apply(void 0,_o):new Za(function(El){var _l=function(){return El.add(ym.apply(void 0,yl).subscribe(El))};return ge(_o).subscribe({next:function(Tl){El.next(Tl)},error:_l,complete:_l})})}function yB(_r){var _t=_r.keys,_o=_r.index,yl=_r.subscriber,El=_r.subscription;if(_r=_r.obj,!yl.closed)if(_o<_t.length){var _l=_t[_o];yl.next([_l,_r[_l]]),El.add(this.schedule({keys:_t,index:_o+1,subscriber:yl,subscription:El,obj:_r}))}else yl.complete()}function zB(_r,_t){function _o(){return!_o.pred.apply(_o.thisArg,arguments)}return _o.pred=_r,_o.thisArg=_t,_o}function sc(_r,_t){return function(_o){return _o.lift(new AB(_r,_t))}}function bb(){for(var _r=[],_t=0;_t<arguments.length;_t++)_r[_t]=arguments[_t];if(_r.length===1){if(!td(_r[0]))return _r[0];_r=_r[0]}return ki(_r,void 0).lift(new BB)}function CB(_r){var _t=_r.start,_o=_r.index,yl=_r.subscriber;_o>=_r.count?yl.complete():(yl.next(_t),yl.closed||(_r.index=_o+1,_r.start=_t+1,this.schedule(_r)))}function Fe(_r,_t,_o){_r===void 0&&(_r=0);var yl=-1;return xm(_t)?yl=1>Number(_t)?1:Number(_t):Ce(_t)&&(_o=_t),Ce(_o)||(_o=Ee),new Za(function(El){var _l=xm(_r)?_r:+_r-_o.now();return _o.schedule(DB,_l,{index:0,period:yl,subscriber:El})})}function DB(_r){var _t=_r.index,_o=_r.period,yl=_r.subscriber;if(yl.next(_t),!yl.closed){if(_o===-1)return yl.complete();_r.index=_t+1,this.schedule(_r,_o)}}function zm(){for(var _r=[],_t=0;_t<arguments.length;_t++)_r[_t]=arguments[_t];return typeof(_t=_r[_r.length-1])=="function"&&_r.pop(),ki(_r,void 0).lift(new EB(_t))}function Kj(_r){var _t=arguments.length,_o=Ee;Ce(arguments[arguments.length-1])&&(_o=arguments[arguments.length-1],_t--);var yl=null;2<=_t&&(yl=arguments[1]);var El=Number.POSITIVE_INFINITY;return 3<=_t&&(El=arguments[2]),function(_l){return _l.lift(new FB(_r,yl,El,_o))}}function Sr(_r){var _t=_r.subscriber,_o=_r.context;_o&&_t.closeContext(_o),_t.closed||(_r.context=_t.openContext(),_r.context.closeAction=this.schedule(_r,_r.bufferTimeSpan))}function GB(_r){var _t=_r.bufferCreationInterval,_o=_r.bufferTimeSpan,yl=_r.subscriber,El=_r.scheduler,_l=yl.openContext();yl.closed||(yl.add(_l.closeAction=El.schedule(Tr,_o,{subscriber:yl,context:_l})),this.schedule(_r,_t))}function Tr(_r){_r.subscriber.closeContext(_r.context)}function Rb(_r){return function(_t){var _o=new HB(_r);return _t=_t.lift(_o),_o.caught=_t}}function Am(_r,_t){return Ac(_r,_t,1)}function Ur(_r){return _r===void 0&&(_r=null),function(_t){return _t.lift(new IB(_r))}}function mf(_r,_t){_t===void 0&&(_t=Ee);var _o=_r instanceof Date&&!isNaN(+_r)?+_r-_t.now():Math.abs(_r);return function(yl){return yl.lift(new JB(_o,_t))}}function Vr(_r,_t){return function(_o){return _o.lift(new KB(_r,_t))}}function Zf(_r){return _r===void 0&&(_r=LB),function(_t){return _t.lift(new MB(_r))}}function LB(){return new Lj}function Xb(_r){return function(_t){return _r===0?ji():_t.lift(new NB(_r))}}function Mj(_r){return function(_t){return _t.lift(new OB(_r))}}function La(_r,_t){var _o=2<=arguments.length;return function(yl){return yl.pipe(_r?sc(function(El,_l){return _r(El,_l,yl)}):jf,Xb(1),_o?Ur(_t):Zf(function(){return new Lj}))}}function PB(){return function(_r){return _r.lift(new QB)}}function Wr(_r){return function(_t){return _r===0?ji():_t.lift(new RB(_r))}}function ni(_r){return function(_t){return _t.lift(new SB(_r))}}function Nj(_r,_t){var _o=!1;return 2<=arguments.length&&(_o=!0),function(yl){return yl.lift(new TB(_r,_t,_o))}}function Xr(_r,_t){return 2<=arguments.length?function(_o){return tm(Nj(_r,_t),Wr(1),Ur(_t))(_o)}:function(_o){return tm(Nj(function(yl,El,_l){return _r(yl,El,_l+1)}),Wr(1))(_o)}}function UB(_r,_t){return function(_o){var yl=typeof _r=="function"?_r:function(){return _r};if(typeof _t=="function")return _o.lift(new VB(yl,_t));var El=Object.create(_o,WB);return El.source=_o,El.subjectFactory=yl,El}}function Zg(_r){return function(_t){return _t.lift(new XB(_r,_t))}}function YB(){return new ec}function $g(){return function(_r){return Gr()(UB(YB)(_r))}}function Yr(_r,_t,_o){var yl=_r&&Ia(_r)==="object"?_r:{bufferSize:_r,windowTime:_t,refCount:!1,scheduler:_o};return function(El){return El.lift(ZB(yl))}}function ZB(_r){var _t,_o,yl=_r.bufferSize,El=yl===void 0?Number.POSITIVE_INFINITY:yl,_l=(yl=_r.windowTime)===void 0?Number.POSITIVE_INFINITY:yl,Tl=_r.refCount,Il=_r.scheduler,Al=0,Rl=!1,Fl=!1;return function(Bl){if(Al++,!_t||Rl){Rl=!1;var Gl=(_t=new ah(El,_l,Il)).subscribe(this);_o=Bl.subscribe({next:function(Ql){_t.next(Ql)},error:function(Ql){Rl=!0,_t.error(Ql)},complete:function(){Fl=!0,_o=void 0,_t.complete()}}),Fl&&(_o=void 0)}else Gl=_t.subscribe(this);this.add(function(){Al--,Gl.unsubscribe(),Gl=void 0,_o&&!Fl&&Tl&&Al===0&&(_o.unsubscribe(),_t=_o=void 0)})}}function Cc(_r,_t){return typeof _t=="function"?function(_o){return _o.pipe(Cc(function(yl,El){return ge(_r(yl,El)).pipe(Wa(function(_l,Tl){return _t(yl,_l,El,Tl)}))}))}:function(_o){return _o.lift(new $B(_r))}}function he(_r){return function(_t){return _t.lift(new aC(_r))}}function Ka(_r,_t,_o){return function(yl){return yl.lift(new bC(_r,_t,_o))}}function cC(_r,_t,_o){return _t===void 0&&(_t=Ee),_o===void 0&&(_o=dC),function(yl){return yl.lift(new eC(_r,_t,_o.leading,_o.trailing))}}function fC(_r){_r.subscriber.clearThrottle()}function gC(_r,_t,_o){return _o===void 0&&(_o=Ee),function(yl){var El=_r instanceof Date&&!isNaN(+_r),_l=El?+_r-_o.now():Math.abs(_r);return yl.lift(new hC(_l,El,_t,_o))}}function Oc(_r,_t){return _t===void 0&&(_t=Ee),gC(_r,Va(new ad),_t)}function iC(){for(var _r=[],_t=0;_t<arguments.length;_t++)_r[_t]=arguments[_t];return function(_o){var yl;return typeof _r[_r.length-1]=="function"&&(yl=_r.pop()),_o.lift(new jC(_r,yl))}}function Zr(_r){(Bm||_r)&&($r.abort(),_r&&($r=new AbortController),Bm=_r)}function as(_r,_t,_o,yl,El){_r!==_t&&bs(_t,function(_l,Tl){if(El||(El=new Qg),Kc(_l)){_l=El;var Il=Cm(_r,Tl),Al=Cm(_t,Tl),Rl=_l.get(Al);if(Rl)Dm(_r,Tl,Rl);else{var Fl=(Rl=yl?yl(Il,Al,Tl+"",_r,_t,_l):void 0)===void 0;if(Fl){var Bl=lc(Al),Gl=!Bl&&gi(Al),Ql=!Bl&&!Gl&&om(Al);Rl=Al,Bl||Gl||Ql?lc(Il)?Rl=Il:ee(Il)&&$f(Il)?Rl=jm(Il):Gl?(Fl=!1,Rl=pr(Al,!0)):Ql?(Fl=!1,Rl=cs(Al,!0)):Rl=[]:ds(Al)||oi(Al)?(Rl=Il,oi(Il)?Rl=bh(Il,hi(Il)):Kc(Il)&&!Em(Il)||(Rl=qr(Al))):Fl=!1}Fl&&(_l.set(Al,Rl),as(Rl,Al,_o,yl,_l),_l.delete(Al)),Dm(_r,Tl,Rl)}}else(Il=yl?yl(Cm(_r,Tl),_l,Tl+"",_r,_t,El):void 0)===void 0&&(Il=_l),Dm(_r,Tl,Il)},hi)}function kC(_r){var _t=1,_o=Fm;(1>=arguments.length?0:arguments.length-1)==1?typeof(1>=arguments.length?void 0:arguments[1])=="number"?_t=1>=arguments.length?void 0:arguments[1]:_o=1>=arguments.length?void 0:arguments[1]:(1>=arguments.length?0:arguments.length-1)==2&&(_t=1>=arguments.length?void 0:arguments[1],_o=2>=arguments.length?void 0:arguments[2]);var yl=_t||1;return function(El){return El.pipe(Nj(function(_l,Tl){var Il=_o.now(),Al=Il-_r;if((_l=_l.filter(function(Bl){return Bl.until>Al})).length>=yl){var Rl=_l[_l.length-1],Fl=_l[0].until+_r*Math.floor(_l.length/yl);_l.push({delay:Rl.until<Il?Fl-Il:Fl-Rl.until,until:Fl,value:Tl})}else _l.push({delay:0,until:Il,value:Tl});return _l},[]),Wa(function(_l){return _l[_l.length-1]}),Am(function(_l){var Tl=Wb(_l.value);return _l.delay?Tl.pipe(mf(_l.delay,_o)):Tl}))}}function lC(_r,_t){var _o=(_t=_t===void 0?{protocols:es,makeWebSocket:fs}:_t).protocols,yl=_o===void 0?es:_o,El=(_t=_t.makeWebSocket)===void 0?fs:_t;return new Za(function(_l){var Tl,Il=new ec,Al=El(_r,yl),Rl=!1,Fl=!1,Bl=!1,Gl=function(Ql){if(Tl)throw Rl=!0,Ql=Error("Web socket message factory function called more than once"),_l.error(Ql),Ql;return Tl=Ql.subscribe(function(_f){Al.send(_f)}),Il};return Al.onopen=function(){Bl=!0,Fl?(Rl=!0,Al.close()):_l.next(Gl)},Al.onmessage=function(Ql){Il.next(Ql.data)},Al.onerror=function(Ql){Rl=!0,_l.error(Error(Ql.message))},Al.onclose=function(Ql){Rl||(Rl=!0,Fl?(_l.complete(),Il.complete()):_l.error(Error(Ql.code===1e3?"Normal closure":Ql.reason)))},function(){Fl=!0,Tl&&Tl.unsubscribe(),Rl||(Rl=!0,Bl&&Al.close())}})}function Oj(){this._listeners={}}function gs(_r){return typeof Float32Array<"u"?function(){function _t(Al,Rl,Fl){_l[0]=Al,Rl[Fl]=Tl[0],Rl[Fl+1]=Tl[1],Rl[Fl+2]=Tl[2],Rl[Fl+3]=Tl[3]}function _o(Al,Rl,Fl){_l[0]=Al,Rl[Fl]=Tl[3],Rl[Fl+1]=Tl[2],Rl[Fl+2]=Tl[1],Rl[Fl+3]=Tl[0]}function yl(Al,Rl){return Tl[0]=Al[Rl],Tl[1]=Al[Rl+1],Tl[2]=Al[Rl+2],Tl[3]=Al[Rl+3],_l[0]}function El(Al,Rl){return Tl[3]=Al[Rl],Tl[2]=Al[Rl+1],Tl[1]=Al[Rl+2],Tl[0]=Al[Rl+3],_l[0]}var _l=new Float32Array([-0]),Tl=new Uint8Array(_l.buffer),Il=Tl[3]===128;_r.writeFloatLE=Il?_t:_o,_r.writeFloatBE=Il?_o:_t,_r.readFloatLE=Il?yl:El,_r.readFloatBE=Il?El:yl}():function(){function _t(yl,El,_l,Tl){var Il=0>El?1:0;if(Il&&(El=-El),El===0)yl(0<1/El?0:2147483648,_l,Tl);else if(isNaN(El))yl(2143289344,_l,Tl);else if(34028234663852886e22<El)yl((Il<<31|2139095040)>>>0,_l,Tl);else if(11754943508222875e-54>El)yl((Il<<31|Math.round(El/1401298464324817e-60))>>>0,_l,Tl);else{var Al=Math.floor(Math.log(El)/Math.LN2);yl((Il<<31|Al+127<<23|8388607&Math.round(El*Math.pow(2,-Al)*8388608))>>>0,_l,Tl)}}function _o(yl,El,_l){return _l=yl(El,_l),yl=2*(_l>>31)+1,El=_l>>>23&255,_l&=8388607,El===255?_l?NaN:1/0*yl:El===0?1401298464324817e-60*yl*_l:yl*Math.pow(2,El-150)*(_l+8388608)}_r.writeFloatLE=_t.bind(null,hs),_r.writeFloatBE=_t.bind(null,is),_r.readFloatLE=_o.bind(null,js),_r.readFloatBE=_o.bind(null,ks)}(),typeof Float64Array<"u"?function(){function _t(Al,Rl,Fl){_l[0]=Al,Rl[Fl]=Tl[0],Rl[Fl+1]=Tl[1],Rl[Fl+2]=Tl[2],Rl[Fl+3]=Tl[3],Rl[Fl+4]=Tl[4],Rl[Fl+5]=Tl[5],Rl[Fl+6]=Tl[6],Rl[Fl+7]=Tl[7]}function _o(Al,Rl,Fl){_l[0]=Al,Rl[Fl]=Tl[7],Rl[Fl+1]=Tl[6],Rl[Fl+2]=Tl[5],Rl[Fl+3]=Tl[4],Rl[Fl+4]=Tl[3],Rl[Fl+5]=Tl[2],Rl[Fl+6]=Tl[1],Rl[Fl+7]=Tl[0]}function yl(Al,Rl){return Tl[0]=Al[Rl],Tl[1]=Al[Rl+1],Tl[2]=Al[Rl+2],Tl[3]=Al[Rl+3],Tl[4]=Al[Rl+4],Tl[5]=Al[Rl+5],Tl[6]=Al[Rl+6],Tl[7]=Al[Rl+7],_l[0]}function El(Al,Rl){return Tl[7]=Al[Rl],Tl[6]=Al[Rl+1],Tl[5]=Al[Rl+2],Tl[4]=Al[Rl+3],Tl[3]=Al[Rl+4],Tl[2]=Al[Rl+5],Tl[1]=Al[Rl+6],Tl[0]=Al[Rl+7],_l[0]}var _l=new Float64Array([-0]),Tl=new Uint8Array(_l.buffer),Il=Tl[7]===128;_r.writeDoubleLE=Il?_t:_o,_r.writeDoubleBE=Il?_o:_t,_r.readDoubleLE=Il?yl:El,_r.readDoubleBE=Il?El:yl}():function(){function _t(yl,El,_l,Tl,Il,Al){var Rl=0>Tl?1:0;if(Rl&&(Tl=-Tl),Tl===0)yl(0,Il,Al+El),yl(0<1/Tl?0:2147483648,Il,Al+_l);else if(isNaN(Tl))yl(0,Il,Al+El),yl(2146959360,Il,Al+_l);else if(17976931348623157e292<Tl)yl(0,Il,Al+El),yl((Rl<<31|2146435072)>>>0,Il,Al+_l);else if(22250738585072014e-324>Tl)yl((Tl/=5e-324)>>>0,Il,Al+El),yl((Rl<<31|Tl/4294967296)>>>0,Il,Al+_l);else{var Fl=Math.floor(Math.log(Tl)/Math.LN2);Fl===1024&&(Fl=1023),yl(4503599627370496*(Tl*=Math.pow(2,-Fl))>>>0,Il,Al+El),yl((Rl<<31|Fl+1023<<20|1048576*Tl&1048575)>>>0,Il,Al+_l)}}function _o(yl,El,_l,Tl,Il){return El=yl(Tl,Il+El),Tl=yl(Tl,Il+_l),yl=2*(Tl>>31)+1,El=4294967296*(1048575&Tl)+El,(_l=Tl>>>20&2047)===2047?El?NaN:1/0*yl:_l===0?5e-324*yl*El:yl*Math.pow(2,_l-1075)*(El+4503599627370496)}_r.writeDoubleLE=_t.bind(null,hs,0,4),_r.writeDoubleBE=_t.bind(null,is,4,0),_r.readDoubleLE=_o.bind(null,js,0,4),_r.readDoubleBE=_o.bind(null,ks,4,0)}(),_r}function hs(_r,_t,_o){_t[_o]=255&_r,_t[_o+1]=_r>>>8&255,_t[_o+2]=_r>>>16&255,_t[_o+3]=_r>>>24}function is(_r,_t,_o){_t[_o]=_r>>>24,_t[_o+1]=_r>>>16&255,_t[_o+2]=_r>>>8&255,_t[_o+3]=255&_r}function js(_r,_t){return(_r[_t]|_r[_t+1]<<8|_r[_t+2]<<16|_r[_t+3]<<24)>>>0}function ks(_r,_t){return(_r[_t]<<24|_r[_t+1]<<16|_r[_t+2]<<8|_r[_t+3])>>>0}function mc(_r,_t){this.lo=_r>>>0,this.hi=_t>>>0}function pi(_r,_t,_o){this.fn=_r,this.len=_t,this.next=void 0,this.val=_o}function Gm(){}function mC(_r){this.head=_r.head,this.tail=_r.tail,this.len=_r.len,this.next=_r.states}function ib(){this.len=0,this.tail=this.head=new pi(Gm,0,0),this.states=null}function Hm(_r,_t,_o){_t[_o]=255&_r}function Im(_r,_t){this.len=_r,this.next=void 0,this.val=_t}function Jm(_r,_t,_o){for(;_r.hi;)_t[_o++]=127&_r.lo|128,_r.lo=(_r.lo>>>7|_r.hi<<25)>>>0,_r.hi>>>=7;for(;127<_r.lo;)_t[_o++]=127&_r.lo|128,_r.lo>>>=7;_t[_o++]=_r.lo}function Km(_r,_t,_o){_t[_o]=255&_r,_t[_o+1]=_r>>>8&255,_t[_o+2]=_r>>>16&255,_t[_o+3]=_r>>>24}function ie(){Lm.call(this)}function nC(_r,_t,_o){40>_r.length?Ra.utf8.write(_r,_t,_o):_t.utf8Write?_t.utf8Write(_r,_o):_t.write(_r,_o)}function Od(_r,_t){return RangeError("index out of range: "+_r.pos+" + "+(_t||1)+" > "+_r.len)}function Yb(_r){this.buf=_r,this.pos=0,this.len=_r.length}function Mm(){var _r=new ls(0,0),_t=0;if(!(4<this.len-this.pos)){for(;3>_t;++_t){if(this.pos>=this.len)throw Od(this);if(_r.lo=(_r.lo|(127&this.buf[this.pos])<<7*_t)>>>0,128>this.buf[this.pos++])return _r}return _r.lo=(_r.lo|(127&this.buf[this.pos++])<<7*_t)>>>0,_r}for(;4>_t;++_t)if(_r.lo=(_r.lo|(127&this.buf[this.pos])<<7*_t)>>>0,128>this.buf[this.pos++])return _r;if(_r.lo=(_r.lo|(127&this.buf[this.pos])<<28)>>>0,_r.hi=(_r.hi|(127&this.buf[this.pos])>>4)>>>0,128>this.buf[this.pos++])return _r;if(_t=0,4<this.len-this.pos){for(;5>_t;++_t)if(_r.hi=(_r.hi|(127&this.buf[this.pos])<<7*_t+3)>>>0,128>this.buf[this.pos++])return _r}else for(;5>_t;++_t){if(this.pos>=this.len)throw Od(this);if(_r.hi=(_r.hi|(127&this.buf[this.pos])<<7*_t+3)>>>0,128>this.buf[this.pos++])return _r}throw Error("invalid varint encoding")}function Pj(_r,_t){return(_r[_t-4]|_r[_t-3]<<8|_r[_t-2]<<16|_r[_t-1]<<24)>>>0}function ms(){if(this.pos+8>this.len)throw Od(this,8);return new ls(Pj(this.buf,this.pos+=4),Pj(this.buf,this.pos+=4))}function ag(_r){Nm.call(this,_r)}function qi(_r,_t,_o){if(typeof _r!="function")throw TypeError("rpcImpl must be a function");Ra.EventEmitter.call(this),this.rpcImpl=_r,this.requestDelimited=!!_t,this.responseDelimited=!!_o}function yb(_r){return typeof _r=="string"&&/^[\s\w!#$%&()+,.:;<=>?@[\]^{|}~-]{1,64}$/.test(_r)&&_r!=="null"}function ns(_r){try{var _t=_r.split(".").map(function(yl){return Number(yl)})}catch{return!1}if(_t.length!==4||_t[0]===0)return!1;for(_r=0;_r<_t.length;_r++){var _o=_t[_r];if(!Number.isInteger(_o)||0>_o||255<_o)return!1}return!0}function os(_r,_t){if(!Array.isArray(_t)||_t.length===0||32<_t.length||_t.some(function(_o){return _o.length===0||32<_o.length}))throw new ja("arguments is not valid",Ub);if(!yb(_r))throw new ja("ID is invalid",Ub)}function ri(_r){var _t=_r.attributes,_o=_r.attrSizeMap,yl=_r.maxAttrsCount,El=_r.maxAttrValueSize;if(_r=_r.maxTotalSize,!Lg(_t))throw new ja("attributes must be an object",Ub);if(Object.keys(_t).length>yl)throw new Dc("Exceed the limit of ".concat(yl," attributes"),ch);if(Object.keys(_t).length===0)throw new ja("The attributes is an empty object",Ub);var _l=0,Tl=0;for(_t=Object.entries(_t);Tl<_t.length;Tl++){var Il=Lb(_t[Tl],2),Al=Il[1];Il=new Blob([Il[0]]).size;var Rl=new Blob([Al]).size;if(Il===0||32<Il)throw new ja("Invalid attribute key",Ub);if(Rl>El)throw new Dc("Invalid attribute value, over the limit of ".concat(El," bytes"),ch);if(typeof Al!="string"||Al.length===0)throw new ja("Invalid attribute value",Ub);_l+=Il,_l+=Rl}if(_l>_r)throw new Dc("The attributes size overflow",ch);if(_o!==void 0){if(Object.keys(_o).length>yl)throw new Dc("Exceed the limit of ".concat(yl," attributes"),ch);for(_l=yl=0,_o=Object.entries(_o);_l<_o.length;_l++){if(Tl=(_t=Lb(_o[_l],2))[1],(_t=new Blob([_t[0]]).size)===0)throw new ja("Invalid attribute key",Ub);if(Tl>El)throw new Dc("Invalid attribute value, over the limit of ".concat(El," bytes"),ch);yl+=_t,yl+=Tl}if(yl>_r)throw new Dc("The attributes size overflow",ch)}}function nf(_r){var _t=_r.items,_o=_r.maxMetaDataCount,yl=_r.maxMetaValueSize;if(_r=_r.type,!Array.isArray(_t))throw new ja("params must be an MetadataItem array",Mb);var El=_t.map(function(Rl){return[Rl.getKey(),Rl.getValue()]});if(El.length>_o)throw new Dc("Exceed the limit of ".concat(_o," metadata items"),Om);if(El.length===0)throw new ja("The metadata is empty ",Mb);if((_r==="Update"||_r==="Delete")&&_t.map(function(Rl){return Rl.getRevision()}).includes(0))throw new ja("The operation limit metadata revision can not set 0 ",of);for(_o=0;_o<El.length;_o++){var _l=Lb(El[_o],2),Tl=_l[0];_l=_l[1];var Il=new Blob([Tl??""]).size,Al=new Blob([_l??""]).size;if((Tl==null?void 0:Tl[0])==="_")throw new ja("Invalid metaData key",Mb);if(Il===0||32<Il)throw new ja("Invalid metaData key",Om);if(typeof _l!="string")throw new ja("Invalid metadata value",Mb);if(_r!=="Delete"&&Al>yl)throw new Dc("Invalid metadata value, over the limit of ".concat(yl," bytes"),Om)}if(new Set(_t.map(function(Rl){return Rl.getKey()})).size!==_t.map(function(Rl){return Rl.getKey()}).length)throw new ja("meta data params key must be key must be unique",oC)}function Qj(_r,_t){return Math.floor(Math.random()*(Math.floor(_t)-Math.ceil(_r)+1))+_r}function Rj(){var _r=Qj(0,4294967295),_t=Qj(1,4294967295);return new D(_r,_t,!0)}function fc(_r){return _r.toString().padEnd(32,"0")}function ps(_r,_t){return new TypeError("Unexpected ".concat(_r,": ").concat(_t))}function qs(_r,_t){return _r=_r.split(".").map(function(_o){return Number(_o)}),_t=_t.split(".").map(function(_o){return Number(_o)}),Math.sqrt(1e3*Math.pow(_r[0]-_t[0],2)+100*Math.pow(_r[1]-_t[1],2)+10*Math.pow(_r[2]-_t[2],2)+1*Math.pow(_r[3]-_t[3],2))}function rs(_r){return _r.lessThanOrEqual(Number.MAX_SAFE_INTEGER)?_r.toNumber():_r.toString()}function Pm(_r,_t){_t="".concat(_r).concat(_t||"");var _o=ss.get(_t)||1;return ss.set(_t,_o+1),"".concat(_r).concat(_o)}function ts(_r,_t){var _o=typeof _t=="number"?_t:_t!==void 0&&typeof _t!="string"?_t.code:void 0;return _t=typeof _t!="number"&&typeof _t!="string"&&_t!==void 0&&_t.serverCode!==void 0?_t.serverCode:void 0,_o="".concat(_o!==void 0?" Error Code ".concat(_o):"").concat(_t!==void 0?", server Code ".concat(_t):""),_r=typeof _r=="string"&&_r?Sj(_r):Array.isArray(_r)&&typeof _r[0]=="string"&&_r[0]?Sj(us.apply(void 0,[_r[0]].concat(ra(_r.slice(1))))):"","".concat(_o===""?"":"".concat(_o," - ")).concat(_r)}function pC(_r,_t){return Qm.apply(this,arguments)}function Qm(){return(Qm=za(W.mark(function _r(_t,_o){return W.wrap(function(yl){for(;;)switch(yl.prev=yl.next){case 0:if(!_o||!_o.aborted){yl.next=2;break}return yl.abrupt("return");case 2:return yl.abrupt("return",new Promise(function(El){setTimeout(El,_t),_o==null||_o.addEventListener("abort",El)}));case 3:case"end":return yl.stop()}},_r)}))).apply(this,arguments)}function Tj(_r,_t,_o){return Rm.apply(this,arguments)}function Rm(){return(Rm=za(W.mark(function _r(_t,_o,yl){var El,_l,Tl,Il,Al,Rl,Fl,Bl,Gl,Ql,_f,_h,vp,up,_d,Ep,Op,Ip,Pp,xp,Np,Kp,Tp,Dp,Bp,Qp;return W.wrap(function(Cp){for(;;)switch(Cp.prev=Cp.next){case 0:if(El=_o.body,_l=_o.headers,Tl=_l===void 0?{}:_l,Il=_o.timeout,Al=Il===void 0?1e4:Il,Rl=_o.signal,Fl=_o.withCredentials,Bl=Fl!==void 0&&Fl,Gl=(yl||{}).useBinaryResponse,Ql=Gl!==void 0&&Gl,(_f=new XMLHttpRequest).open("POST",_t,!0),_f.responseType=Ql?"arraybuffer":"text",_f.withCredentials=Bl,_f.timeout=Al,_h=El instanceof FormData,vp=El instanceof Uint8Array,!(1<(up=Object.keys(Tl).filter(function($p){return $p.toLowerCase()==="content-type"})).length)){Cp.next=14;break}throw new RangeError("multiple content-type");case 14:up.length===0&&(vp?Tl["Content-Type"]="application/octet-stream":_h||(Tl["Content-Type"]="application/json"));case 15:if("setRequestHeader"in _f){Cp.next=46;break}return _f.abort(),Cp.next=19,fetch(_t,{body:_h||vp?El:JSON.stringify(El),cache:"no-cache",credentials:Bl?"include":"same-origin",headers:Tl,method:"POST",mode:"cors",referrer:"no-referrer",signal:Rl});case 19:if(_d=Cp.sent,!(200<=(Ep=_d.status)&&300>Ep||Ep===304)){Cp.next=31;break}if(!Ql){Cp.next=27;break}return Cp.next=25,_d.arrayBuffer();case 25:return Op=Cp.sent,Cp.abrupt("return",{status:Ep,responseData:Op});case 27:return Cp.next=29,_d.text();case 29:return Ip=Cp.sent,Cp.abrupt("return",{status:Ep,responseText:Ip});case 31:return Pp=new Pa(["Post XHR failure, status %d",Ep]),Cp.prev=32,Cp.next=35,_d.text();case 35:throw xp=Cp.sent,Pp.statusCode=Ep,Pp.message=xp||"Request failed, status ".concat(Ep),Pp;case 41:throw Cp.prev=41,Cp.t0=Cp.catch(32),Pp.statusCode=Ep,Pp.message="Request failed, status ".concat(Ep),Pp;case 46:if(Object.keys(Tl).length!==0)for(Np=0,Kp=Object.entries(Tl);Np<Kp.length;Np++)Tp=Lb(Kp[Np],2),Dp=Tp[0],Bp=Tp[1],_f.setRequestHeader(Dp,Bp);return Rl!==void 0&&(Qp=function $p(){_f.abort(),Rl.removeEventListener("abort",$p)},Rl.addEventListener("abort",Qp)),_h||vp?_f.send(El):_f.send(JSON.stringify(El)),Cp.abrupt("return",new Promise(function($p,Vp){_f.onload=function(){var Hp=_f.status;if(200<=Hp&&300>Hp||Hp===304)$p(Ql?{status:Hp,responseData:_f.response}:{status:Hp,responseText:_f.responseText});else{var Up=new Pa(["Post XHR failure, status %d",Hp]);Up.statusCode=Hp,Up.message=_f.response||"Request failed, status ".concat(_f.status),Vp(Up)}},_f.ontimeout=function(Hp){Vp(new Pc(["XHR request timed out after %d ms",Al],{originalError:Hp}))},_f.onerror=function(){var Hp=new Pa(["Post XHR failure, status %d",_f.status]);Hp.statusCode=_f.status,Hp.message=_f.response||"Request failed, status ".concat(_f.status),Vp(Hp)},_f.onabort=function(){try{Vp(new DOMException("The request aborted.","AbortError"))}catch{var Hp=Error("The request aborted.");Hp.name="AbortError",Vp(Hp)}}}));case 50:case"end":return Cp.stop()}},_r,null,[[32,41]])}))).apply(this,arguments)}function vs(_r,_t){if(!Lg(_r))throw new ja("message object is not a plain object",_t);if(_r.messageType===void 0)if(_r.rawMessage instanceof Uint8Array){if(_r.messageType="RAW",_r.text!==void 0)throw new ja("Raw messages cannot have text property. Use description instead",_t)}else{if(typeof _r.text!="string")throw new ja("messageType is undefined",_t);if(_r.messageType="TEXT",_r.rawMessage!==void 0)throw new ja("Text messages cannot have rawMessage property",_t)}}function Uj(_r){return Sm.apply(this,arguments)}function Sm(){return(Sm=za(W.mark(function _r(_t){var _o,yl,El,_l,Tl,Il,Al,Rl,Fl,Bl,Gl,Ql,_f,_h,vp,up,_d,Ep,Op,Ip,Pp;return W.wrap(function(xp){for(;;)switch(xp.prev=xp.next){case 0:if(_o=_t.message,yl=_t.peerId,El=_t.toPeer,_l=_t.session,Tl=_t.errorCodes,Il=_t.diff,Al=_t.logger,_l!==void 0){xp.next=3;break}throw new ia("The client is not logged in. Cannot do the operation",Tl.NOT_LOGGED_IN);case 3:if(Rl=!1,Fl=El?_o.messageType==="TEXT"?vb.P2pSMsgNoOfflineFlag:vb.P2pRMsgNoOfflineFlag:_o.messageType==="TEXT"?vb.ChannelSMsg:vb.ChannelRMsg,_o.messageType!=="TEXT"||!_o.text.startsWith("AgoraRTMLegacyEndcallCompatibleMessagePrefix")||!El){xp.next=14;break}if(Bl=_o.text.split("_"),Gl=Lb(Bl,3),Ql=Gl[0],_f=Gl[1],Gl[2]!==void 0&&yb(_f)&&Ql==="AgoraRTMLegacyEndcallCompatibleMessagePrefix"){xp.next=13;break}throw _l.emit("messageCount",{messageCategory:Fl,type:"common",key:"sentcount"}),_l.emit("messageCount",{messageCategory:Fl,type:"common",key:"invalidmessagecount"}),new ja("Message is not valid",si);case 13:Rl=!0;case 14:if(_h=Date.now(),vp=_l.messageSentTimes.length-1,!((up=_l.messageSentTimes[vp])&&up+3e3<_h)){xp.next=21;break}_l.messageSentTimes=[_h],xp.next=34;break;case 21:_d=vp;case 22:if(!(0<=_d)){xp.next=33;break}if(!(_l.messageSentTimes[_d]+3e3<_h)){xp.next=26;break}return _l.messageSentTimes=_l.messageSentTimes.slice(_d+1,vp+1),xp.abrupt("break",33);case 26:if(!(180<=vp-_d+1)){xp.next=30;break}throw _l.emit("messageCount",{messageCategory:Fl,type:"common",key:"sentcount"}),_l.emit("messageCount",{messageCategory:Fl,type:"common",key:"toooftencount"}),new Dc("Message sent failed, exceeded the 180 message in 3 seconds",Tl.TOO_OFTEN);case 30:_d--,xp.next=22;break;case 33:_l.messageSentTimes.push(_h);case 34:xp.t0=_o.messageType,xp.next=xp.t0==="TEXT"?37:xp.t0==="RAW"?42:44;break;case 37:if(!Rl){xp.next=41;break}return Ep=_o.text.split("_"),Op=Lb(Ep,3),Ip=Op[1],Pp=Op[2],Al.info("[rtm-API] EndCall message send api is called"),xp.abrupt("return",_l.sendInvitationMessage({peerId:yl,type:"CallCancel",extra:Pp,channelId:Ip,callId:"0"}));case 41:return xp.abrupt("return",_l.sendTextMessage(_o.text,yl,El,1e4-Il));case 42:return _o.description===void 0&&(_o.description=""),xp.abrupt("return",_l.sendRawMessage(_o.rawMessage,_o.description,yl,El,1e4-Il));case 44:throw _l.emit("messageCount",{messageCategory:Fl,type:"common",key:"sentcount"}),_l.emit("messageCount",{messageCategory:Fl,type:"common",key:"invalidmessagecount"}),new ja("Invalid message type",si);case 47:case"end":return xp.stop()}},_r)}))).apply(this,arguments)}function qC(_r){var _t=!(1<arguments.length&&arguments[1]!==void 0)||arguments[1],_o=_r.replace(/(https?:\/\/)?(www.)?/i,"");return _t||(_o=_o.split(".").slice(_r.length-2).join(".")),_o.indexOf("/")!==-1?_o.split("/")[0]:_o}function wb(_r){if(typeof _r!="string")return"[Sensitive Info]";var _t=Math.floor(.7*_r.length),_o=_r.length;return ws(_r,_t,_o,"*".repeat(_o-_t))}function xs(_r,_t,_o){function yl(El){if(_r===void 0)return _r;if(or(El))return El;if(Array.isArray(El))return El.map(yl);var _l={},Tl=0;for(El=Vj(El);Tl<El.length;Tl++){var Il=Lb(El[Tl],2),Al=Il[0];if(typeof(Il=Il[1])=="string"&&_o.includes(Al)){_l[Al]=typeof Il=="string"?wb(Il):"[Sensitive Info]";break}_t.includes(Al)?_l[Al]="[Hidden Info]":_l[Al]=Il==null?Il:_o.includes(Al)?"[Sensitive Info]":yl(Il)}return _l}return Array.isArray(_r)?_r.map(yl):yl(_r)}function ys(_r){return Object.getOwnPropertyNames(_r).forEach(function(_t){Ia(_t=_r[_t])=="object"&&_t!==null&&ys(_t)}),Object.freeze(_r)}function ti(_r){return new TextDecoder("utf-8").decode(_r.buffer.slice(_r.byteOffset,_r.byteOffset+_r.byteLength))}function Wj(_r){return new TextEncoder().encode(_r).length}function zs(){for(var _r=0,_t=arguments.length,_o=Array(_t),yl=0;yl<_t;yl++)_o[yl]=arguments[yl];for(_t=0;_t<_o.length;_t++)_r+=_o[_t].length;for(_r=new Uint8Array(_r),yl=_t=0;yl<_o.length;yl++){var El=_o[yl];_r.set(El,_t),_t+=El.length}return _r}function dh(_r,_t,_o){var yl=_r.match(/([^?#]+)(\?[^#]*)?(#.*)?/);if(_r=yl==null?void 0:yl[1],yl=yl==null?void 0:yl[2]){var El;for(yl=yl.substr(1).split("&"),El=0;El<yl.length;El++)if(yl[El].split("=")[0]==_t){yl[El]=_t+"="+encodeURIComponent(_o);break}return El==yl.length&&yl.push(_t+"="+encodeURIComponent(_o)),_r+"?"+yl.join("&")}return _r+"?"+_t+"="+encodeURIComponent(_o)}function ws(_r,_t,_o,yl){return typeof _r!="string"?"[Sensitive Info]":_r.substring(0,_t)+yl+_r.substring(_o)}function ui(_r){return typeof _r=="string"&&_r.length!==0&&_r!=="false"&&_r!=="null"&&_r!=="undefined"}function As(_r){var _t=[];return function _o(yl){if(yl===null||Ia(yl)!=="object")return yl;if(_t.indexOf(yl)!==-1)return"[Circular]";if(_t.push(yl),typeof yl.toJSON=="function")try{var El=_o(yl.toJSON());return _t.pop(),El}catch(_l){return"[Throws: "+(_l?_l.message:"?")+"]"}return Array.isArray(yl)?(El=yl.map(_o),_t.pop(),El):(El=Object.keys(yl).reduce(function(_l,Tl){e:{if(rC.call(yl,Tl))try{var Il=yl[Tl];break e}catch(Al){Il="[Throws: "+(Al?Al.message:"?")+"]";break e}Il=yl[Tl]}return _l[Tl]=_o(Il),_l},{}),_t.pop(),El)}(_r)}function sC(_r){if(!(100<(_r=String(_r)).length)&&(_r=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(_r))){var _t=parseFloat(_r[1]);switch((_r[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*_t;case"weeks":case"week":case"w":return 6048e5*_t;case"days":case"day":case"d":return 864e5*_t;case"hours":case"hour":case"hrs":case"hr":case"h":return 36e5*_t;case"minutes":case"minute":case"mins":case"min":case"m":return 6e4*_t;case"seconds":case"second":case"secs":case"sec":case"s":return 1e3*_t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return _t}}}function Xj(_r,_t,_o,yl){return Math.round(_r/_o)+" "+yl+(_t>=1.5*_o?"s":"")}function tC(_r){var _t=_r.areas,_o=_r.excludedArea;if(_t.length===1&&_t[0]===oa.GLOBAL&&_o===oa.CHINA)return eh([oa.OVERSEA]);if(_t.includes(oa.GLOBAL)){if(_r=vi(Yj).filter(function(_l){return _l!==oa.GLOBAL&&_l!==oa.OVERSEA}),_o in wi){_t=wi[_o];var yl=[].concat(ra(_t??[]),[_o]);return eh(_r.filter(function(_l){return!yl.includes(_l)}))}if(Bs(_o)){var El=uC(_o);return eh(_r.filter(function(_l){return _l!==_o&&_l!==El}))}}if(Bs(_o)||_o in wi)return eh(_t);throw new ja("Invalid excludedArea area config")}function gb(_r,_t,_o){_o===void 0&&(_o=Object.getOwnPropertyDescriptor(_r,_t));var yl=_o.value;return _o.value=function(){for(var El=this,_l=arguments.length,Tl=Array(_l),Il=0;Il<_l;Il++)Tl[Il]=arguments[Il];this.invokeTracker.apply(this,["%s: ".concat(0<Tl.length?"%s with args: ".concat(Tl.map(function(){return"%o"})):"%s"),this.name,_t].concat(ra(Tl.map(fh))));try{var Al=yl.apply(this,Tl)}catch(Fl){throw this.logError.apply(this,["".concat(Fl.code!==void 0?"Error Code ".concat(Fl.code,": "):"","%s failed").concat(0<Tl.length?" with args: ".concat(Tl.map(function(){return"%o"})):""),_t].concat(ra(Tl.map(fh)))),Fl.originalError&&this.logError(Fl.originalError),this.errorTracker(Fl),Fl}var Rl=Date.now();return za(W.mark(function Fl(){var Bl,Gl;return W.wrap(function(Ql){for(;;)switch(Ql.prev=Ql.next){case 0:return Ql.prev=0,Ql.next=3,Al;case 3:Bl=Ql.sent,Ql.next=12;break;case 6:return Ql.prev=6,Ql.t0=Ql.catch(0),El.logError.apply(El,["".concat(Ql.t0.code!==void 0?"Error Code ".concat(Ql.t0.code,": "):"","%s failed").concat(0<Tl.length?" with args: ".concat(Tl.map(function(){return"%o"})):""),_t].concat(ra(Tl.map(fh)))),Ql.t0.originalError&&El.logError(Ql.t0.originalError),El.errorTracker(Ql.t0),Ql.abrupt("return");case 12:Bl!==Al?Bl===void 0?El.resultTracker("%s promise resolves after %dms",_t,Date.now()-Rl):El.resultTracker("%s promise resolves after %dms, result is %o",_t,Date.now()-Rl,fh(Bl)):Be(Bl)!=="Object"||Lg(Bl)?El.resultTracker("%s result is %o",_t,fh(Bl)):El.resultTracker("%s result is %s",_t,Bl.name||((Gl=Bl.constructor)===null||Gl===void 0?void 0:Gl.name));case 13:case"end":return Ql.stop()}},Fl,null,[[0,6]])}))(),Al},_o}function je(_r,_t,_o){_o===void 0&&(_o=Object.getOwnPropertyDescriptor(_r,_t));var yl=_o.value;return _o.value=function(){for(var El=this,_l=arguments.length,Tl=Array(_l),Il=0;Il<_l;Il++)Tl[Il]=arguments[Il];this.invokeTracker.apply(this,["%s: ".concat(0<Tl.length?"%s with args: ".concat(Tl.map(function(){return"%o"})):"%s"),this.name,_t].concat(Tl));try{var Al=yl.apply(this,Tl)}catch(Fl){throw this.logError.apply(this,["".concat(Fl.code!==void 0?"Error Code ".concat(Fl.code,": "):"","%s failed").concat(0<Tl.length?" with args: ".concat(Tl.map(function(){return"%o"})):""),_t].concat(Tl)),Fl.originalError&&this.logError(Fl.originalError),this.errorTracker(Fl),Fl}var Rl=Date.now();return za(W.mark(function Fl(){var Bl,Gl;return W.wrap(function(Ql){for(;;)switch(Ql.prev=Ql.next){case 0:return Ql.prev=0,Ql.next=3,Al;case 3:Bl=Ql.sent,Ql.next=12;break;case 6:return Ql.prev=6,Ql.t0=Ql.catch(0),El.logError.apply(El,["".concat(Ql.t0.code!==void 0?"Error Code ".concat(Ql.t0.code,": "):"","%s failed").concat(0<Tl.length?" with args: ".concat(Tl.map(function(){return"%o"})):""),_t].concat(Tl)),Ql.t0.originalError&&El.logError(Ql.t0.originalError),El.errorTracker(Ql.t0),Ql.abrupt("return");case 12:Bl!==Al?Bl===void 0?El.resultTracker("%s promise resolves after %dms",_t,Date.now()-Rl):El.resultTracker("%s promise resolves after %dms, result is %o",_t,Date.now()-Rl,Bl):Be(Bl)!=="Object"||Lg(Bl)?El.resultTracker("%s result is %o",_t,Bl):El.resultTracker("%s result is %s",_t,Bl.name||((Gl=Bl.constructor)===null||Gl===void 0?void 0:Gl.name));case 13:case"end":return Ql.stop()}},Fl,null,[[0,6]])}))(),Al},_o}function vC(_r,_t){var _o="".concat(_r,"Uri");if(typeof(_o=Tm[_o])!="number"||_o===0)throw new TypeError("Got Unknown URI Name");return _t=new(_r=Cs[_r])(_t),_t=_r.encode(_t).finish(),new wC({uri:_o,data:_t})}function Ds(_r,_t){var _o=ui(null);return"".concat(_r.split(".").join("-"),".edge.").concat(_o?null:_t?"sd-rtn.com":"agora.io")}function $a(_r,_t,_o){return Um.apply(this,arguments)}function Um(){return(Um=za(W.mark(function _r(_t,_o,yl){var El,_l,Tl,Il=arguments;return W.wrap(function(Al){for(;;)switch(Al.prev=Al.next){case 0:return El=3<Il.length&&Il[3]!==void 0&&Il[3],_l=xC[_t].encode(_o).finish(),Tl=function(){var Rl=za(W.mark(function Fl(Bl){var Gl,Ql,_f,_h=arguments;return W.wrap(function(vp){for(;;)switch(vp.prev=vp.next){case 0:if(!(3<(Ql=1<_h.length&&_h[1]!==void 0?_h[1]:0))){vp.next=3;break}return vp.abrupt("return");case 3:if(_f=dh(_f=yl?"https://".concat((Gl=Ba==null?void 0:Ba.PROXY_NGINX[0])!==null&&Gl!==void 0?Gl:"webrtc-cloud-proxy.sd-rtn.com","/rs/?h=").concat(Bl,"&p=443&d=events/proto-raw"):"https://".concat(Bl,"/events/proto-raw"),"sentTs",Math.ceil(Date.now()/1e3).toString()),_f=dh(_f,"id",yC[_t].toString()),!El){vp.next=9;break}return vp.next=9,pC(1e4);case 9:return vp.next=11,Tj(_f,{body:_l,timeout:2e4,headers:{"Content-Type":"application/octet-stream"}}).catch(function(up){return Tl(Bl,Ql+1)});case 11:case"end":return vp.stop()}},Fl)}));return function(Fl){return Rl.apply(this,arguments)}}(),Al.prev=3,Al.next=6,Tl((Ba==null?void 0:Ba.EVENT_REPORT_DOMAIN[0])||ui(null)&&null||"webcollector-rtm.agora.io");case 6:Al.next=12;break;case 8:return Al.prev=8,Al.t0=Al.catch(3),Al.next=12,Tl(Ba&&Es(1<(Ba==null?void 0:Ba.EVENT_REPORT_DOMAIN.length)?Ba==null?void 0:Ba.EVENT_REPORT_DOMAIN.slice(1):Ba==null?void 0:Ba.EVENT_REPORT_DOMAIN)||"rtm.statscollector.sd-rtn.com");case 12:case"end":return Al.stop()}},_r,null,[[3,8]])}))).apply(this,arguments)}function Nb(_r){return _r===void 0?D.fromNumber(0):D.fromNumber(Date.now()-_r)}function Zj(_r,_t){return D.fromValue(_r).eq(_t)}function ak(_r,_t){var _o=_t===void 0?_r.val:_t,yl=_r.isBoolean;_t=_r.isNumber;var El=_r.oneof,_l=_r.len;if([yl,_t,El].filter(function(Tl){return!Tl}).length!==2)throw new TypeError("invalid field type");if(_o!==void 0&&(_r=!1,El!==void 0&&(El=Vm(El),zC(El,Zj).length===El.length&&AC(El,function(Tl){return Zj(_o,Tl)})!==void 0&&(_r=!0)),yl=yl!==void 0&&(_o===0||_o===1)&&_l===1,_t=_t!==void 0&&_o.toString(2).length<=_l,!(_r||yl||_t)))throw Error("invalid field value")}function pf(_r,_t){_t=E({},Ge.STATE_REVISION,_t!==void 0&&0<=_t?_t:void 0);for(var _o=0;_o<_r.length;_o++){var yl=_r[_o];_t[yl.getKey()]=yl.getValue(),_t["".concat(Ge.STATE_REVISION_KEY_PREFIX).concat(yl.getKey())]=0<=yl.getRevision()||yl.getRevision()===-2?yl.getRevision():void 0}return Pd.omitBy(_t,Pd.isUndefined)}function Wm(_r){var _t=JSON.parse(_r);_r={majorRevision:_t[Ge.STATE_REVISION],items:[]};var _o=Pd.omit(_t,Ge.STATE_REVISION);return _t=Object.keys(_o).filter(function(yl){return yl[0]!=="_"}),_r.items=_t.map(function(yl){return new Fs({key:yl,value:_o[yl],revision:_o["".concat(Ge.STATE_REVISION_KEY_PREFIX).concat(yl)],updateTs:_o["".concat(Ge.STATE_TIMESTAMP_PREFIX).concat(yl)],authorUserId:_o["".concat(Ge.STATE_AUTHOR_PREFIX).concat(yl)]})}),_r}function ud(_r){var _t=bd;return _r!==bg.StateOk&&_r!==bg.DuplicatedOperation&&(_t=_r===bg.OutdateRevision?of:_r===bg.TimeOutError?cd:_r===bg.ArgumentError?Mb:He),_t}function Gs(_r){return _r.reduce(function(_t,_o){return _t.concat(_o instanceof bk.UnsubscriptionError?_o.errors:_o)},[])}function BC(_r,_t){do xi==2147483647?xi=0:xi++;while(gh.hasOwnProperty(xi));var _o=xi;return gh[_o]={callback:_r,parameters:Array.prototype.slice.call(arguments,2)},Xm.postMessage({name:"setInterval",fakeId:_o,time:_t}),_o}function Hs(_r){return function(){var _t=_r();if(!_t)throw new ia("Client is not logged in. Cannot do the operation");return _t}}var qb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof commonjsGlobal$1<"u"?commonjsGlobal$1:typeof self<"u"?self:{},ck=function(_r){return _r&&_r.Math==Math&&_r},na=ck(typeof globalThis=="object"&&globalThis)||ck(typeof window=="object"&&window)||ck(typeof self=="object"&&self)||ck(typeof qb=="object"&&qb)||function(){return this}()||Function("return this")(),Ga=function(_r){try{return!!_r()}catch{return!0}},cb=!Ga(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7}),Is={}.propertyIsEnumerable,Js=Object.getOwnPropertyDescriptor,yi=Js&&!Is.call({1:2},1)?function(_r){return!!(_r=Js(this,_r))&&_r.enumerable}:Is,ke=function(_r,_t){return{enumerable:!(1&_r),configurable:!(2&_r),writable:!(4&_r),value:_t}},CC={}.toString,Qd=function(_r){return CC.call(_r).slice(8,-1)},DC="".split,zi=Ga(function(){return!Object("z").propertyIsEnumerable(0)})?function(_r){return Qd(_r)=="String"?DC.call(_r,""):Object(_r)}:Object,Ec=function(_r){if(_r==null)throw TypeError("Can't call method on "+_r);return _r},Qc=function(_r){return zi(Ec(_r))},fb=function(_r){return typeof _r=="object"?_r!==null:typeof _r=="function"},le=function(_r,_t){if(!fb(_r))return _r;var _o,yl;if(_t&&typeof(_o=_r.toString)=="function"&&!fb(yl=_o.call(_r))||typeof(_o=_r.valueOf)=="function"&&!fb(yl=_o.call(_r))||!_t&&typeof(_o=_r.toString)=="function"&&!fb(yl=_o.call(_r)))return yl;throw TypeError("Can't convert object to primitive value")},Zb=function(_r){return Object(Ec(_r))},EC={}.hasOwnProperty,Fa=function(_r,_t){return EC.call(Zb(_r),_t)},hh=na.document,dk=fb(hh)&&fb(hh.createElement),Ks=!cb&&!Ga(function(){return Object.defineProperty(dk?hh.createElement("div"):{},"a",{get:function(){return 7}}).a!=7}),Ls=Object.getOwnPropertyDescriptor,pd={f:cb?Ls:function(_r,_t){if(_r=Qc(_r),_t=le(_t,!0),Ks)try{return Ls(_r,_t)}catch{}if(Fa(_r,_t))return ke(!yi.call(_r,_t),_r[_t])}},ub=function(_r){if(!fb(_r))throw TypeError(String(_r)+" is not an object");return _r},Ms=Object.defineProperty,$b={f:cb?Ms:function(_r,_t,_o){if(ub(_r),_t=le(_t,!0),ub(_o),Ks)try{return Ms(_r,_t,_o)}catch{}if("get"in _o||"set"in _o)throw TypeError("Accessors not supported");return"value"in _o&&(_r[_t]=_o.value),_r}},ac=cb?function(_r,_t,_o){return $b.f(_r,_t,ke(1,_o))}:function(_r,_t,_o){return _r[_t]=_o,_r},Ym=function(_r,_t){try{ac(na,_r,_t)}catch{na[_r]=_t}return _t},qf=na["__core-js_shared__"]||Ym("__core-js_shared__",{}),FC=Function.toString;typeof qf.inspectSource!="function"&&(qf.inspectSource=function(_r){return FC.call(_r)});var Zm=qf.inspectSource,Ns=na.WeakMap,GC=typeof Ns=="function"&&/native code/.test(Zm(Ns)),rf=kc(function(_r){(_r.exports=function(_t,_o){return qf[_t]||(qf[_t]=_o!==void 0?_o:{})})("versions",[]).push({version:"3.12.1",mode:"global",copyright:"© 2021 Denis Pushkarev (zloirock.ru)"})}),HC=0,IC=Math.random(),ih=function(_r){return"Symbol("+String(_r===void 0?"":_r)+")_"+(++HC+IC).toString(36)},Os=rf("keys"),ek=function(_r){return Os[_r]||(Os[_r]=ih(_r))},jh={},JC=na.WeakMap;if(GC||qf.state)var cg=qf.state||(qf.state=new JC),KC=cg.get,Ps=cg.has,LC=cg.set,$m=function(_r,_t){if(Ps.call(cg,_r))throw new TypeError("Object already initialized");return _t.facade=_r,LC.call(cg,_r,_t),_t},fk=function(_r){return KC.call(cg,_r)||{}},an=function(_r){return Ps.call(cg,_r)};else{var kh=ek("state");jh[kh]=!0,$m=function(_r,_t){if(Fa(_r,kh))throw new TypeError("Object already initialized");return _t.facade=_r,ac(_r,kh,_t),_t},fk=function(_r){return Fa(_r,kh)?_r[kh]:{}},an=function(_r){return Fa(_r,kh)}}var Sb={set:$m,get:fk,has:an,enforce:function(_r){return an(_r)?fk(_r):$m(_r,{})},getterFor:function(_r){return function(_t){var _o;if(!fb(_t)||(_o=fk(_t)).type!==_r)throw TypeError("Incompatible receiver, "+_r+" required");return _o}}},Ob=kc(function(_r){var _t=Sb.get,_o=Sb.enforce,yl=String(String).split("String");(_r.exports=function(El,_l,Tl,Il){var Al=!!Il&&!!Il.unsafe,Rl=!!Il&&!!Il.enumerable;if(Il=!!Il&&!!Il.noTargetGet,typeof Tl=="function"){typeof _l!="string"||Fa(Tl,"name")||ac(Tl,"name",_l);var Fl=_o(Tl);Fl.source||(Fl.source=yl.join(typeof _l=="string"?_l:""))}El===na?Rl?El[_l]=Tl:Ym(_l,Tl):(Al?!Il&&El[_l]&&(Rl=!0):delete El[_l],Rl?El[_l]=Tl:ac(El,_l,Tl))})(Function.prototype,"toString",function(){return typeof this=="function"&&_t(this).source||Zm(this)})}),Qs=function(_r){return typeof _r=="function"?_r:void 0},me=function(_r,_t){return 2>arguments.length?Qs(na[_r])||Qs(na[_r]):na[_r]&&na[_r][_t]||na[_r]&&na[_r][_t]},MC=Math.ceil,NC=Math.floor,Rd=function(_r){return isNaN(_r=+_r)?0:(0<_r?NC:MC)(_r)},OC=Math.min,xb=function(_r){return 0<_r?OC(Rd(_r),9007199254740991):0},PC=Math.max,QC=Math.min,dd=function(_r,_t){return 0>(_r=Rd(_r))?PC(_r+_t,0):QC(_r,_t)},Rs=function(_r){return function(_t,_o,yl){_t=Qc(_t);var El=xb(_t.length);if(yl=dd(yl,El),_r&&_o!=_o){for(;El>yl;)if((_o=_t[yl++])!=_o)return!0}else for(;El>yl;yl++)if((_r||yl in _t)&&_t[yl]===_o)return _r||yl||0;return!_r&&-1}},Ss=Rs(!0),bn=Rs(!1),Ts=function(_r,_t){_r=Qc(_r);var _o,yl=0,El=[];for(_o in _r)!Fa(jh,_o)&&Fa(_r,_o)&&El.push(_o);for(;_t.length>yl;)Fa(_r,_o=_t[yl++])&&(~bn(El,_o)||El.push(_o));return El},gk="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),RC=gk.concat("length","prototype"),dg={f:Object.getOwnPropertyNames||function(_r){return Ts(_r,RC)}},Ai={f:Object.getOwnPropertySymbols},Us=me("Reflect","ownKeys")||function(_r){var _t=dg.f(ub(_r)),_o=Ai.f;return _o?_t.concat(_o(_r)):_t},Vs=function(_r,_t){for(var _o=Us(_t),yl=$b.f,El=pd.f,_l=0;_l<_o.length;_l++){var Tl=_o[_l];Fa(_r,Tl)||yl(_r,Tl,El(_t,Tl))}},SC=/#|\.prototype\./,ne=function(_r,_t){return(_r=TC[UC(_r)])==VC||_r!=WC&&(typeof _t=="function"?Ga(_t):!!_t)},UC=ne.normalize=function(_r){return String(_r).replace(SC,".").toLowerCase()},TC=ne.data={},WC=ne.NATIVE="N",VC=ne.POLYFILL="P",XC=pd.f,wa=function(_r,_t){var _o,yl,El,_l=_r.target,Tl=_r.global,Il=_r.stat;if(yl=Tl?na:Il?na[_l]||Ym(_l,{}):(na[_l]||{}).prototype)for(El in _t){var Al=_t[El],Rl=_r.noTargetGet?(_o=XC(yl,El))&&_o.value:yl[El];if(!(_o=ne(Tl?El:_l+(Il?".":"#")+El,_r.forced))&&Rl!==void 0){if(typeof Al==typeof Rl)continue;Vs(Al,Rl)}(_r.sham||Rl&&Rl.sham)&&ac(Al,"sham",!0);try{Ob(yl,El,Al,_r)}catch{}}},hk=function(){var _r=ub(this),_t="";return _r.global&&(_t+="g"),_r.ignoreCase&&(_t+="i"),_r.multiline&&(_t+="m"),_r.dotAll&&(_t+="s"),_r.unicode&&(_t+="u"),_r.sticky&&(_t+="y"),_t},Sd=Ga(function(){var _r=/a/y;return _r.lastIndex=2,_r.exec("abcd")!=null}),YC=Ga(function(){var _r=/^r/gy;return _r.lastIndex=2,_r.exec("str")!=null}),ik=RegExp.prototype.exec,ZC=rf("native-string-replace",String.prototype.replace),Ws=ik,cn=(d=/a/,b=/b*/g,ik.call(d,"a"),ik.call(b,"a"),d.lastIndex!==0||b.lastIndex!==0),Xs=Sd||YC,dn=/()??/.exec("")[1]!==void 0,d,b;(cn||dn||Xs)&&(Ws=function(_r){var _t,_o=Xs&&this.sticky,yl=hk.call(this),El=this.source,_l=0,Tl=_r;if(_o){(yl=yl.replace("y","")).indexOf("g")===-1&&(yl+="g"),Tl=String(_r).slice(this.lastIndex),0<this.lastIndex&&(!this.multiline||this.multiline&&_r[this.lastIndex-1]!==`
`)&&(El="(?: "+El+")",Tl=" "+Tl,_l++);var Il=new RegExp("^(?:"+El+")",yl)}if(dn&&(Il=new RegExp("^"+El+"$(?!\\s)",yl)),cn)var Al=this.lastIndex;var Rl=ik.call(_o?Il:this,Tl);return _o?Rl?(Rl.input=Rl.input.slice(_l),Rl[0]=Rl[0].slice(_l),Rl.index=this.lastIndex,this.lastIndex+=Rl[0].length):this.lastIndex=0:cn&&Rl&&(this.lastIndex=this.global?Rl.index+Rl[0].length:Al),dn&&Rl&&1<Rl.length&&ZC.call(Rl[0],Il,function(){for(_t=1;_t<arguments.length-2;_t++)arguments[_t]===void 0&&(Rl[_t]=void 0)}),Rl});var Bi=Ws;wa({target:"RegExp",proto:!0,forced:/./.exec!==Bi},{exec:Bi});var lh=me("navigator","userAgent")||"",Ys=na.process,Zs=Ys&&Ys.versions,$s=Zs&&Zs.v8;if($s)var sf=$s.split("."),en=4>sf[0]?1:sf[0]+sf[1];else lh&&(sf=lh.match(/Edge\/(\d+)/),(!sf||74<=sf[1])&&(sf=lh.match(/Chrome\/(\d+)/))&&(en=sf[1]));var oe=en&&+en,pe=!!Object.getOwnPropertySymbols&&!Ga(function(){return!String(Symbol())||!Symbol.sham&&oe&&41>oe}),at=pe&&!Symbol.sham&&typeof Symbol.iterator=="symbol",Ci=rf("wks"),Di=na.Symbol,$C=at?Di:Di&&Di.withoutSetter||ih,mb=function(_r){return Fa(Ci,_r)&&(pe||typeof Ci[_r]=="string")||(pe&&Fa(Di,_r)?Ci[_r]=Di[_r]:Ci[_r]=$C("Symbol."+_r)),Ci[_r]},aD=mb("species"),fn=RegExp.prototype,bD=!Ga(function(){var _r=/./;return _r.exec=function(){var _t=[];return _t.groups={a:"7"},_t},"".replace(_r,"$<a>")!=="7"}),bt="a".replace(/./,"$0")==="$0",ct=mb("replace"),dt=!!/./[ct]&&/./[ct]("a","$0")==="",cD=!Ga(function(){var _r=/(?:)/,_t=_r.exec;return _r.exec=function(){return _t.apply(this,arguments)},(_r="ab".split(_r)).length!==2||_r[0]!=="a"||_r[1]!=="b"}),jk=function(_r,_t,_o,yl){var El=mb(_r),_l=!Ga(function(){var Rl={};return Rl[El]=function(){return 7},""[_r](Rl)!=7}),Tl=_l&&!Ga(function(){var Rl=!1,Fl=/a/;return _r==="split"&&((Fl={constructor:{}}).constructor[aD]=function(){return Fl},Fl.flags="",Fl[El]=/./[El]),Fl.exec=function(){return Rl=!0,null},Fl[El](""),!Rl});if(!_l||!Tl||_r==="replace"&&(!bD||!bt||dt)||_r==="split"&&!cD){var Il=/./[El],Al=(_o=_o(El,""[_r],function(Rl,Fl,Bl,Gl,Ql){var _f=Fl.exec;return _f===Bi||_f===fn.exec?_l&&!Ql?{done:!0,value:Il.call(Fl,Bl,Gl)}:{done:!0,value:Rl.call(Bl,Fl,Gl)}:{done:!1}},{REPLACE_KEEPS_$0:bt,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:dt}))[1];Ob(String.prototype,_r,_o[0]),Ob(fn,El,_t==2?function(Rl,Fl){return Al.call(Rl,this,Fl)}:function(Rl){return Al.call(Rl,this)})}yl&&ac(fn[El],"sham",!0)},dD=mb("match"),gn=function(_r){var _t;return fb(_r)&&((_t=_r[dD])!==void 0?!!_t:Qd(_r)=="RegExp")},Rc=function(_r){if(typeof _r!="function")throw TypeError(String(_r)+" is not a function");return _r},eD=mb("species"),eg=function(_r,_t){var _o;return(_r=ub(_r).constructor)===void 0||(_o=ub(_r)[eD])==null?_t:Rc(_o)},et=function(_r){return function(_t,_o){_t=String(Ec(_t)),_o=Rd(_o);var yl,El=_t.length;if(0>_o||_o>=El)return _r?"":void 0;var _l=_t.charCodeAt(_o);return 55296>_l||56319<_l||_o+1===El||56320>(yl=_t.charCodeAt(_o+1))||57343<yl?_r?_t.charAt(_o):_l:_r?_t.slice(_o,_o+2):yl-56320+(_l-55296<<10)+65536}},fD=et(!1),ft=et(!0),hn=function(_r,_t,_o){return _t+(_o?ft(_r,_t).length:1)},mh=function(_r,_t){var _o=_r.exec;if(typeof _o=="function"){if(typeof(_r=_o.call(_r,_t))!="object")throw TypeError("RegExp exec method returned something other than an Object or null");return _r}if(Qd(_r)!=="RegExp")throw TypeError("RegExp#exec called on incompatible receiver");return Bi.call(_r,_t)},gD=[].push,hD=Math.min;jk("split",2,function(_r,_t,_o){var yl="abbc".split(/(b)*/)[1]=="c"||"test".split(/(?:)/,-1).length!=4||"ab".split(/(?:ab)*/).length!=2||".".split(/(.?)(.?)/).length!=4||1<".".split(/()()/).length||"".split(/.?/).length?function(El,_l){var Tl=String(Ec(this));if((_l=_l===void 0?4294967295:_l>>>0)===0)return[];if(El===void 0)return[Tl];if(!gn(El))return _t.call(Tl,El,_l);var Il,Al,Rl,Fl=[],Bl=0;for(El=new RegExp(El.source,(El.ignoreCase?"i":"")+(El.multiline?"m":"")+(El.unicode?"u":"")+(El.sticky?"y":"")+"g");(Il=Bi.call(El,Tl))&&!((Al=El.lastIndex)>Bl&&(Fl.push(Tl.slice(Bl,Il.index)),1<Il.length&&Il.index<Tl.length&&gD.apply(Fl,Il.slice(1)),Rl=Il[0].length,Bl=Al,Fl.length>=_l));)El.lastIndex===Il.index&&El.lastIndex++;return Bl===Tl.length?(Rl||!El.test(""))&&Fl.push(""):Fl.push(Tl.slice(Bl)),Fl.length>_l?Fl.slice(0,_l):Fl}:"0".split(void 0,0).length?function(El,_l){return El===void 0&&_l===0?[]:_t.call(this,El,_l)}:_t;return[function(El,_l){var Tl=Ec(this),Il=El==null?void 0:El[_r];return Il!==void 0?Il.call(El,Tl,_l):yl.call(String(Tl),El,_l)},function(El,_l){var Tl=_o(yl,El,this,_l,yl!==_t);if(Tl.done)return Tl.value;var Il=ub(El);El=String(this);var Al=eg(Il,RegExp);if(Tl=Il.unicode,Il=new Al(Sd?"^(?:"+Il.source+")":Il,(Il.ignoreCase?"i":"")+(Il.multiline?"m":"")+(Il.unicode?"u":"")+(Sd?"g":"y")),(_l=_l===void 0?4294967295:_l>>>0)===0)return[];if(El.length===0)return mh(Il,El)===null?[El]:[];var Rl=0,Fl=0;for(Al=[];Fl<El.length;){Il.lastIndex=Sd?0:Fl;var Bl,Gl=mh(Il,Sd?El.slice(Fl):El);if(Gl===null||(Bl=hD(xb(Il.lastIndex+(Sd?Fl:0)),El.length))===Rl)Fl=hn(El,Fl,Tl);else{if(Al.push(El.slice(Rl,Fl)),Al.length===_l)return Al;for(Rl=1;Rl<=Gl.length-1;Rl++)if(Al.push(Gl[Rl]),Al.length===_l)return Al;Fl=Rl=Bl}}return Al.push(El.slice(Rl)),Al}]},Sd);var iD=/^[\t\n\x0B\f\r \u00a0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff][\t\n\x0B\f\r \u00a0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff]*/,jD=/[\t\n\x0B\f\r \u00a0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff][\t\n\x0B\f\r \u00a0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff]*$/,jn=function(_r){return function(_t){return _t=String(Ec(_t)),1&_r&&(_t=_t.replace(iD,"")),2&_r&&(_t=_t.replace(jD,"")),_t}},kD=jn(1),lD=jn(2),kk=jn(3),lk=na.parseInt,mD=/^[+-]?0[Xx]/,gt=lk(`	
\v\f\r                　\u2028\u2029\uFEFF08`)!==8||lk(`	
\v\f\r                　\u2028\u2029\uFEFF0x16`)!==22?function(_r,_t){return _r=kk(String(_r)),lk(_r,_t>>>0||(mD.test(_r)?16:10))}:lk;wa({global:!0,forced:parseInt!=gt},{parseInt:gt});var tf=function(_r,_t,_o){if(Rc(_r),_t===void 0)return _r;switch(_o){case 0:return function(){return _r.call(_t)};case 1:return function(yl){return _r.call(_t,yl)};case 2:return function(yl,El){return _r.call(_t,yl,El)};case 3:return function(yl,El,_l){return _r.call(_t,yl,El,_l)}}return function(){return _r.apply(_t,arguments)}},uf=Array.isArray||function(_r){return Qd(_r)=="Array"},nD=mb("species"),Ei=function(_r,_t){if(uf(_r)){var _o=_r.constructor;typeof _o!="function"||_o!==Array&&!uf(_o.prototype)?fb(_o)&&(_o=_o[nD])===null&&(_o=void 0):_o=void 0}return new(_o===void 0?Array:_o)(_t===0?0:_t)},ht=[].push,vf=function(_r){var _t=_r==1,_o=_r==2,yl=_r==3,El=_r==4,_l=_r==6,Tl=_r==7,Il=_r==5||_l;return function(Al,Rl,Fl,Bl){var Gl=Zb(Al),Ql=zi(Gl);Rl=tf(Rl,Fl,3),Fl=xb(Ql.length);var _f,_h=0;for(Bl=Bl||Ei,Al=_t?Bl(Al,Fl):_o||Tl?Bl(Al,0):void 0;Fl>_h;_h++)if((Il||_h in Ql)&&(_f=Rl(Bl=Ql[_h],_h,Gl),_r))if(_t)Al[_h]=_f;else if(_f)switch(_r){case 3:return!0;case 5:return Bl;case 6:return _h;case 2:ht.call(Al,Bl)}else switch(_r){case 4:return!1;case 7:ht.call(Al,Bl)}return _l?-1:yl||El?El:Al}},fg=vf(0),it=vf(1),jt=vf(2),oD=vf(3),pD=vf(4),kt=vf(5),lt=vf(6),qD=mb("species"),Fi=function(_r){return 51<=oe||!Ga(function(){var _t=[];return(_t.constructor={})[qD]=function(){return{foo:1}},_t[_r](Boolean).foo!==1})},rD=Fi("filter");wa({target:"Array",proto:!0,forced:!rD},{filter:function(_r){return jt(this,_r,1<arguments.length?arguments[1]:void 0)}});var Ie=Object.keys||function(_r){return Ts(_r,gk)},sD=Ga(function(){Ie(1)});wa({target:"Object",stat:!0,forced:sD},{keys:function(_r){return Ie(Zb(_r))}});var gg=function(_r,_t){var _o=[][_r];return!!_o&&Ga(function(){_o.call(null,_t||function(){throw 1},1)})},tD=[].join,uD=zi!=Object,vD=gg("join",",");wa({target:"Array",proto:!0,forced:uD||!vD},{join:function(_r){return tD.call(Qc(this),_r===void 0?",":_r)}});var wD=Fi("map");wa({target:"Array",proto:!0,forced:!wD},{map:function(_r){return it(this,_r,1<arguments.length?arguments[1]:void 0)}});var kn=function(_r){var _t=_r.return;if(_t!==void 0)return ub(_t.call(_r)).value},nh={},xD=mb("iterator"),yD=Array.prototype,ln=function(_r){return _r!==void 0&&(nh.Array===_r||yD[xD]===_r)},oh=function(_r,_t,_o){(_t=le(_t))in _r?$b.f(_r,_t,ke(0,_o)):_r[_t]=_o},zD=mb("toStringTag"),mt={};mt[zD]="z";var mn=String(mt)==="[object z]",AD=mb("toStringTag"),BD=Qd(function(){return arguments}())=="Arguments",ph=mn?Qd:function(_r){var _t;if(_r===void 0)var _o="Undefined";else{if(_r===null)var yl="Null";else{e:{var El=_r=Object(_r);try{yl=El[AD];break e}catch{}yl=void 0}yl=typeof(_o=yl)=="string"?_o:BD?Qd(_r):(_t=Qd(_r))=="Object"&&typeof _r.callee=="function"?"Arguments":_t}_o=yl}return _o},CD=mb("iterator"),Gi=function(_r){if(_r!=null)return _r[CD]||_r["@@iterator"]||nh[ph(_r)]},hg=function(_r){var _t,_o=Zb(_r),yl=typeof this=="function"?this:Array,El=arguments.length,_l=1<El?arguments[1]:void 0,Tl=_l!==void 0,Il=Gi(_o),Al=0;if(Tl&&(_l=tf(_l,2<El?arguments[2]:void 0,2)),Il==null||yl==Array&&ln(Il)){var Rl=xb(_o.length);for(yl=new yl(Rl);Rl>Al;Al++)Il=Tl?_l(_o[Al],Al):_o[Al],oh(yl,Al,Il)}else for(El=(_o=Il.call(_o)).next,yl=new yl;!(_t=El.call(_o)).done;Al++){if(Tl){Il=_o;var Fl=_l;_t=[_t.value,Al];try{Rl=Fl(ub(_t)[0],_t[1])}catch(Bl){throw kn(Il),Bl}}else Rl=_t.value;oh(yl,Al,Il=Rl)}return yl.length=Al,yl},nt=mb("iterator"),ot=!1;try{var DD=0,pt={next:function(){return{done:!!DD++}},return:function(){ot=!0}};pt[nt]=function(){return this},Array.from(pt,function(){throw 2})}catch(_r){}var mk=function(_r,_t){if(!_t&&!ot)return!1;var _o=!1;try{(_t={})[nt]=function(){return{next:function(){return{done:_o=!0}}}},_r(_t)}catch{}return _o},ED=!mk(function(_r){Array.from(_r)});wa({target:"Array",stat:!0,forced:ED},{from:hg});var qt=!Ga(function(){function _r(){}return _r.prototype.constructor=null,Object.getPrototypeOf(new _r)!==_r.prototype}),rt=ek("IE_PROTO"),FD=Object.prototype,Md=qt?Object.getPrototypeOf:function(_r){return _r=Zb(_r),Fa(_r,rt)?_r[rt]:typeof _r.constructor=="function"&&_r instanceof _r.constructor?_r.constructor.prototype:_r instanceof Object?FD:null},nn=mb("iterator"),st=!1,GD=function(){return this},ig;if([].keys){var tt=[].keys();if("next"in tt){var ut=Md(Md(tt));ut!==Object.prototype&&(ig=ut)}else st=!0}(ig==null||Ga(function(){var _r={};return ig[nn].call(_r)!==_r}))&&(ig={}),Fa(ig,nn)||ac(ig,nn,GD);var nk=ig,ok=st,vt=cb?Object.defineProperties:function(_r,_t){ub(_r);for(var _o,yl=Ie(_t),El=yl.length,_l=0;El>_l;)$b.f(_r,_o=yl[_l++],_t[_o]);return _r},on=me("document","documentElement"),wt=ek("IE_PROTO"),pn=function(){},qn,pk=function(){try{qn=document.domain&&new ActiveXObject("htmlfile")}catch{}if(qn){var _r=qn;_r.write("<script><\/script>"),_r.close(),_r=_r.parentWindow.Object}else(_r=dk?hh.createElement("iframe"):{}).style.display="none",on.appendChild(_r),_r.src="javascript:",(_r=_r.contentWindow.document).open(),_r.write("<script>document.F=Object<\/script>"),_r.close(),_r=_r.F;for(pk=_r,_r=gk.length;_r--;)delete pk.prototype[gk[_r]];return pk()};jh[wt]=!0;var vd=Object.create||function(_r,_t){if(_r!==null){pn.prototype=ub(_r);var _o=new pn;pn.prototype=null,_o[wt]=_r}else _o=pk();return _t===void 0?_o:vt(_o,_t)},HD=$b.f,xt=mb("toStringTag"),Td=function(_r,_t,_o){_r&&!Fa(_r=_o?_r:_r.prototype,xt)&&HD(_r,xt,{configurable:!0,value:_t})},ID=function(){return this},yt=function(_r,_t,_o){return _t+=" Iterator",_r.prototype=vd(nk,{next:ke(1,_o)}),Td(_r,_t,!1),nh[_t]=ID,_r},gc=Object.setPrototypeOf||("__proto__"in{}?function(){var _r=!1,_t={};try{var _o=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set;_o.call(_t,[]),_r=_t instanceof Array}catch{}return function(yl,El){if(ub(yl),!fb(El)&&El!==null)throw TypeError("Can't set "+String(El)+" as a prototype");return _r?_o.call(yl,El):yl.__proto__=El,yl}}():void 0),Hi=mb("iterator"),JD=function(){return this},rn=function(_r,_t,_o,yl,El,_l,Tl){yt(_o,_t,yl),yl=function(_h){if(_h===El&&Gl)return Gl;if(!ok&&_h in Fl)return Fl[_h];switch(_h){case"keys":case"values":case"entries":return function(){return new _o(this,_h)}}return function(){return new _o(this)}};var Il,Al=_t+" Iterator",Rl=!1,Fl=_r.prototype,Bl=Fl[Hi]||Fl["@@iterator"]||El&&Fl[El],Gl=!ok&&Bl||yl(El),Ql=_t=="Array"&&Fl.entries||Bl;if(Ql&&(_r=Md(Ql.call(new _r)),nk!==Object.prototype&&_r.next&&(Md(_r)!==nk&&(gc?gc(_r,nk):typeof _r[Hi]!="function"&&ac(_r,Hi,JD)),Td(_r,Al,!0))),El=="values"&&Bl&&Bl.name!=="values"&&(Rl=!0,Gl=function(){return Bl.call(this)}),Fl[Hi]!==Gl&&ac(Fl,Hi,Gl),nh[_t]=Gl,El){var _f={values:yl("values"),keys:_l?Gl:yl("keys"),entries:yl("entries")};if(Tl)for(Il in _f)!ok&&!Rl&&Il in Fl||Ob(Fl,Il,_f[Il]);else wa({target:_t,proto:!0,forced:ok||Rl},_f)}return _f},KD=Sb.set,LD=Sb.getterFor("String Iterator");rn(String,"String",function(_r){KD(this,{type:"String Iterator",string:String(_r),index:0})},function(){var _r=LD(this),_t=_r.string,_o=_r.index;return _o>=_t.length?{value:void 0,done:!0}:(_t=ft(_t,_o),_r.index+=_t.length,{value:_t,done:!1})});var sn=mb("unscopables"),tn=Array.prototype;tn[sn]==null&&$b.f(tn,sn,{configurable:!0,value:vd(null)});var wf=function(_r){tn[sn][_r]=!0},zt=!0;"find"in[]&&Array(1).find(function(){zt=!1}),wa({target:"Array",proto:!0,forced:zt},{find:function(_r){return kt(this,_r,1<arguments.length?arguments[1]:void 0)}}),wf("find");var At=function(_r){var _t=String(Ec(this)),_o="";if(0>(_r=Rd(_r))||1/0==_r)throw RangeError("Wrong number of repetitions");for(;0<_r;(_r>>>=1)&&(_t+=_t))1&_r&&(_o+=_t);return _o};wa({target:"String",proto:!0},{repeat:At});var Bt=[].indexOf,Ct=!!Bt&&0>1/[1].indexOf(1,-0),MD=gg("indexOf");wa({target:"Array",proto:!0,forced:Ct||!MD},{indexOf:function(_r){return Ct?Bt.apply(this,arguments)||0:bn(this,_r,1<arguments.length?arguments[1]:void 0)}});var JA=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,KA=/CrOS/,LA=/android|ipad|playbook|silk/i;Kg.isMobile=Kg,Kg.default=Kg,wa({target:"Number",stat:!0},{MAX_SAFE_INTEGER:9007199254740991}),wa({target:"Number",stat:!0},{isNaN:function(_r){return _r!=_r}}),na.Number.isNaN;var ND=mn?{}.toString:function(){return"[object "+ph(this)+"]"};mn||Ob(Object.prototype,"toString",ND,{unsafe:!0});var qk=na.Promise,qh=function(_r,_t,_o){for(var yl in _t)Ob(_r,yl,_t[yl],_o);return _r},Dt=mb("species"),Ii=function(_r){_r=me(_r);var _t=$b.f;cb&&_r&&!_r[Dt]&&_t(_r,Dt,{configurable:!0,get:function(){return this}})},Ud=function(_r,_t,_o){if(!(_r instanceof _t))throw TypeError("Incorrect "+(_o?_o+" ":"")+"invocation");return _r},Ji=function(_r,_t){this.stopped=_r,this.result=_t},rk=function(_r,_t,_o){var yl,El=!(!_o||!_o.AS_ENTRIES),_l=!(!_o||!_o.IS_ITERATOR),Tl=!(!_o||!_o.INTERRUPTED),Il=tf(_t,_o&&_o.that,1+El+Tl),Al=function(Fl){return Rl&&kn(Rl),new Ji(!0,Fl)};if(_t=function(Fl){return El?(ub(Fl),Tl?Il(Fl[0],Fl[1],Al):Il(Fl[0],Fl[1])):Tl?Il(Fl,Al):Il(Fl)},_l)var Rl=_r;else{if(typeof(_l=Gi(_r))!="function")throw TypeError("Target is not iterable");if(ln(_l)){for(_l=0,_o=xb(_r.length);_o>_l;_l++)if((yl=_t(_r[_l]))&&yl instanceof Ji)return yl;return new Ji(!1)}Rl=_l.call(_r)}for(_r=Rl.next;!(_l=_r.call(Rl)).done;){try{yl=_t(_l.value)}catch(Fl){throw kn(Rl),Fl}if(typeof yl=="object"&&yl&&yl instanceof Ji)return yl}return new Ji(!1)},Et=/(?:iphone|ipod|ipad).*applewebkit/i.test(lh),qe=Qd(na.process)=="process",sk=na.location,un=na.setImmediate,Ft=na.clearImmediate,OD=na.process,Gt=na.MessageChannel,vn=na.Dispatch,wn=0,Ki={},xn=function(_r){if(Ki.hasOwnProperty(_r)){var _t=Ki[_r];delete Ki[_r],_t()}},yn=function(_r){return function(){xn(_r)}},Ht=function(_r){xn(_r.data)},It=function(_r){na.postMessage(_r+"",sk.protocol+"//"+sk.host)};if(!un||!Ft)if(un=function(_r){for(var _t=[],_o=1;arguments.length>_o;)_t.push(arguments[_o++]);return Ki[++wn]=function(){(typeof _r=="function"?_r:Function(_r)).apply(void 0,_t)},Li(wn),wn},Ft=function(_r){delete Ki[_r]},qe)var Li=function(_r){OD.nextTick(yn(_r))};else if(vn&&vn.now)Li=function(_r){vn.now(yn(_r))};else if(Gt&&!Et){var Jt=new Gt,Kt=Jt.port2;Jt.port1.onmessage=Ht,Li=tf(Kt.postMessage,Kt,1)}else na.addEventListener&&typeof postMessage=="function"&&!na.importScripts&&sk&&sk.protocol!=="file:"&&!Ga(It)?(Li=It,na.addEventListener("message",Ht,!1)):Li="onreadystatechange"in(dk?hh.createElement("script"):{})?function(_r){on.appendChild(dk?hh.createElement("script"):{}).onreadystatechange=function(){on.removeChild(this),xn(_r)}}:function(_r){setTimeout(yn(_r),0)};var zn=un,PD=/web0s(?!.*chrome)/i.test(lh),QD=pd.f,Lt=na.MutationObserver||na.WebKitMutationObserver,Mt=na.document,Nt=na.process,tk=na.Promise,Ot=QD(na,"queueMicrotask"),Pt=Ot&&Ot.value,jg,Mi;if(!Pt){var vk=function(){var _r;for(qe&&(_r=Nt.domain)&&_r.exit();jg;){var _t=jg.fn;jg=jg.next;try{_t()}catch(_o){throw jg?uk():Mi=void 0,_o}}Mi=void 0,_r&&_r.enter()};if(Et||qe||PD||!Lt||!Mt)if(tk&&tk.resolve){var An=tk.resolve(void 0);An.constructor=tk;var RD=An.then,uk=function(){RD.call(An,vk)}}else uk=qe?function(){Nt.nextTick(vk)}:function(){zn.call(na,vk)};else{var Qt=!0,Rt=Mt.createTextNode("");new Lt(vk).observe(Rt,{characterData:!0}),uk=function(){Rt.data=Qt=!Qt}}}var St=Pt||function(_r){_r={fn:_r,next:void 0},Mi&&(Mi.next=_r),jg||(jg=_r,uk()),Mi=_r},SD=function(_r){var _t,_o;this.promise=new _r(function(yl,El){if(_t!==void 0||_o!==void 0)throw TypeError("Bad Promise constructor");_t=yl,_o=El}),this.resolve=Rc(_t),this.reject=Rc(_o)},Bn={f:function(_r){return new SD(_r)}},TD=function(_r,_t){var _o=na.console;_o&&_o.error&&(arguments.length===1?_o.error(_r):_o.error(_r,_t))},Cn=function(_r){try{return{error:!1,value:_r()}}catch(_t){return{error:!0,value:_t}}},UD=typeof window=="object",VD=mb("species"),Tt=Sb.get,WD=Sb.set,XD=Sb.getterFor("Promise"),kg=qk&&qk.prototype,ed=qk,wk=kg,Ut=na.TypeError,Dn=na.document,En=na.process,rh=Bn.f,YD=rh,ZD=!!(Dn&&Dn.createEvent&&na.dispatchEvent),Vt=typeof PromiseRejectionEvent=="function",Wt=!1,Ni=ne("Promise",function(){var _r=Zm(ed)!==String(ed);if(!_r&&oe===66)return!0;if(51<=oe&&/native code/.test(ed))return!1;var _t=new ed(function(yl){yl(1)}),_o=function(yl){yl(function(){},function(){})};return(_t.constructor={})[VD]=_o,!(Wt=_t.then(function(){})instanceof _o)||!_r&&UD&&!Vt}),$D=Ni||!mk(function(_r){ed.all(_r).catch(function(){})}),Xt=function(_r){var _t;return!(!fb(_r)||typeof(_t=_r.then)!="function")&&_t},Fn=function(_r,_t){if(!_r.notified){_r.notified=!0;var _o=_r.reactions;St(function(){for(var yl=_r.value,El=_r.state==1,_l=0;_o.length>_l;){var Tl,Il=_o[_l++],Al=El?Il.ok:Il.fail,Rl=Il.resolve,Fl=Il.reject,Bl=Il.domain;try{if(Al){if(El||(_r.rejection===2&&aE(_r),_r.rejection=1),Al===!0)var Gl=yl;else if(Bl&&Bl.enter(),Gl=Al(yl),Bl){Bl.exit();var Ql=!0}Gl===Il.promise?Fl(Ut("Promise-chain cycle")):(Tl=Xt(Gl))?Tl.call(Gl,Rl,Fl):Rl(Gl)}else Fl(yl)}catch(_f){Bl&&!Ql&&Bl.exit(),Fl(_f)}}_r.reactions=[],_r.notified=!1,_t&&!_r.rejection&&bE(_r)})}},Yt=function(_r,_t,_o){var yl;if(ZD){var El=Dn.createEvent("Event");El.promise=_t,El.reason=_o,El.initEvent(_r,!1,!0),na.dispatchEvent(El)}else El={promise:_t,reason:_o};!Vt&&(yl=na["on"+_r])?yl(El):_r==="unhandledrejection"&&TD("Unhandled promise rejection",_o)},bE=function(_r){zn.call(na,function(){var _t=_r.facade,_o=_r.value;if(_r.rejection!==1&&!_r.parent){var yl=Cn(function(){qe?En.emit("unhandledRejection",_o,_t):Yt("unhandledrejection",_t,_o)});if(_r.rejection=qe||_r.rejection!==1&&!_r.parent?2:1,yl.error)throw yl.value}})},aE=function(_r){zn.call(na,function(){var _t=_r.facade;qe?En.emit("rejectionHandled",_t):Yt("rejectionhandled",_t,_r.value)})},sh=function(_r,_t,_o){return function(yl){_r(_t,yl,_o)}},th=function(_r,_t,_o){_r.done||(_r.done=!0,_o&&(_r=_o),_r.value=_t,_r.state=2,Fn(_r,!0))},Gn=function(_r,_t,_o){if(!_r.done){_r.done=!0,_o&&(_r=_o);try{if(_r.facade===_t)throw Ut("Promise can't be resolved itself");var yl=Xt(_t);yl?St(function(){var El={done:!1};try{yl.call(_t,sh(Gn,El,_r),sh(th,El,_r))}catch(_l){th(El,_l,_r)}}):(_r.value=_t,_r.state=1,Fn(_r,!1))}catch(El){th({done:!1},El,_r)}}};if(Ni){ed=function(_r){Ud(this,ed,"Promise"),Rc(_r),Hn.call(this);var _t=Tt(this);try{_r(sh(Gn,_t),sh(th,_t))}catch(_o){th(_t,_o)}},wk=ed.prototype;var Hn=function(_r){WD(this,{type:"Promise",done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})};Hn.prototype=qh(wk,{then:function(_r,_t){var _o=XD(this),yl=rh(eg(this,ed));return yl.ok=typeof _r!="function"||_r,yl.fail=typeof _t=="function"&&_t,yl.domain=qe?En.domain:void 0,_o.parent=!0,_o.reactions.push(yl),_o.state!=0&&Fn(_o,!1),yl.promise},catch:function(_r){return this.then(void 0,_r)}});var cE=function(){var _r=new Hn,_t=Tt(_r);this.promise=_r,this.resolve=sh(Gn,_t),this.reject=sh(th,_t)};if(Bn.f=rh=function(_r){return _r===ed||_r===dE?new cE(_r):YD(_r)},typeof qk=="function"&&kg!==Object.prototype){var eE=kg.then;Wt||(Ob(kg,"then",function(_r,_t){var _o=this;return new ed(function(yl,El){eE.call(_o,yl,El)}).then(_r,_t)},{unsafe:!0}),Ob(kg,"catch",wk.catch,{unsafe:!0}));try{delete kg.constructor}catch{}gc&&gc(kg,wk)}}wa({global:!0,wrap:!0,forced:Ni},{Promise:ed}),Td(ed,"Promise",!1),Ii("Promise");var dE=me("Promise");wa({target:"Promise",stat:!0,forced:Ni},{reject:function(_r){var _t=rh(this);return _t.reject.call(void 0,_r),_t.promise}}),wa({target:"Promise",stat:!0,forced:Ni},{resolve:function(_r){if(ub(this),!fb(_r)||_r.constructor!==this){var _t=Bn.f(this);(0,_t.resolve)(_r),_r=_t.promise}return _r}}),wa({target:"Promise",stat:!0,forced:$D},{all:function(_r){var _t=this,_o=rh(_t),yl=_o.resolve,El=_o.reject,_l=Cn(function(){var Tl=Rc(_t.resolve),Il=[],Al=0,Rl=1;rk(_r,function(Fl){var Bl=Al++,Gl=!1;Il.push(void 0),Rl++,Tl.call(_t,Fl).then(function(Ql){Gl||(Gl=!0,Il[Bl]=Ql,--Rl||yl(Il))},El)}),--Rl||yl(Il)});return _l.error&&El(_l.value),_o.promise},race:function(_r){var _t=this,_o=rh(_t),yl=_o.reject,El=Cn(function(){var _l=Rc(_t.resolve);rk(_r,function(Tl){_l.call(_t,Tl).then(_o.resolve,yl)})});return El.error&&yl(El.value),_o.promise}});var fE=Math.floor,gE="".replace,hE=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,iE=/\$([$&'`]|\d{1,2})/g,jE=function(_r,_t,_o,yl,El,_l){var Tl=_o+_r.length,Il=yl.length,Al=iE;return El!==void 0&&(El=Zb(El),Al=hE),gE.call(_l,Al,function(Rl,Fl){switch(Fl.charAt(0)){case"$":return"$";case"&":return _r;case"`":return _t.slice(0,_o);case"'":return _t.slice(Tl);case"<":Rl=El[Fl.slice(1,-1)];break;default:var Bl=+Fl;if(Bl===0)return Rl;if(Bl>Il)return(Bl=fE(Bl/10))===0?Rl:Bl<=Il?yl[Bl-1]===void 0?Fl.charAt(1):yl[Bl-1]+Fl.charAt(1):Rl;Rl=yl[Bl-1]}return Rl===void 0?"":Rl})},kE=Math.max,lE=Math.min;jk("replace",2,function(_r,_t,_o,yl){var El=yl.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,_l=yl.REPLACE_KEEPS_$0,Tl=El?"$":"$0";return[function(Il,Al){var Rl=Ec(this),Fl=Il==null?void 0:Il[_r];return Fl!==void 0?Fl.call(Il,Rl,Al):_t.call(String(Rl),Il,Al)},function(Il,Al){if(!El&&_l||typeof Al=="string"&&Al.indexOf(Tl)===-1){var Rl=_o(_t,Il,this,Al);if(Rl.done)return Rl.value}var Fl=ub(Il);Il=String(this),(Rl=typeof Al=="function")||(Al=String(Al));var Bl=Fl.global;if(Bl){var Gl=Fl.unicode;Fl.lastIndex=0}for(var Ql=[];;){var _f=mh(Fl,Il);if(_f===null||(Ql.push(_f),!Bl))break;String(_f[0])===""&&(Fl.lastIndex=hn(Il,xb(Fl.lastIndex),Gl))}for(Gl="",Bl=Fl=0;Bl<Ql.length;Bl++){_f=Ql[Bl];for(var _h=String(_f[0]),vp=kE(lE(Rd(_f.index),Il.length),0),up=[],_d=1;_d<_f.length;_d++){var Ep=up,Op=_f[_d];Ep.push.call(Ep,Op===void 0?Op:String(Op))}_f=_f.groups,Rl?(up=[_h].concat(up,vp,Il),_f!==void 0&&up.push(_f),_f=String(Al.apply(void 0,up))):_f=jE(_h,Il,vp,up,_f,Al),vp>=Fl&&(Gl+=Il.slice(Fl,vp)+_f,Fl=vp+_h.length)}return Gl+Il.slice(Fl)}]});var mE=Fi("slice"),nE=mb("species"),oE=[].slice,pE=Math.max;wa({target:"Array",proto:!0,forced:!mE},{slice:function(_r,_t){var _o=Qc(this),yl=xb(_o.length);if(_r=dd(_r,yl),_t=dd(_t===void 0?yl:_t,yl),uf(_o)){var El=_o.constructor;if(typeof El!="function"||El!==Array&&!uf(El.prototype)?fb(El)&&(El=El[nE])===null&&(El=void 0):El=void 0,El===Array||El===void 0)return oE.call(_o,_r,_t)}for(El=new(El===void 0?Array:El)(pE(_t-_r,0)),yl=0;_r<_t;_r++,yl++)_r in _o&&oh(El,yl,_o[_r]);return El.length=yl,El}});var qE=Sb.set,rE=Sb.getterFor("Array Iterator"),xf=rn(Array,"Array",function(_r,_t){qE(this,{type:"Array Iterator",target:Qc(_r),index:0,kind:_t})},function(){var _r=rE(this),_t=_r.target,_o=_r.kind,yl=_r.index++;return!_t||yl>=_t.length?(_r.target=void 0,{value:void 0,done:!0}):_o=="keys"?{value:yl,done:!1}:_o=="values"?{value:_t[yl],done:!1}:{value:[yl,_t[yl]],done:!1}},"values");nh.Arguments=nh.Array,wf("keys"),wf("values"),wf("entries");var Zt=typeof ArrayBuffer<"u"&&typeof DataView<"u",uh=function(_r){if(_r===void 0)return 0;_r=Rd(_r);var _t=xb(_r);if(_r!==_t)throw RangeError("Wrong length or index");return _t},sE=Math.abs,Je=Math.pow,tE=Math.floor,uE=Math.log,vE=Math.LN2,In=function(_r){var _t=Zb(this),_o=xb(_t.length),yl=arguments.length,El=dd(1<yl?arguments[1]:void 0,_o);for(_o=(yl=2<yl?arguments[2]:void 0)===void 0?_o:dd(yl,_o);_o>El;)_t[El++]=_r;return _t},wE=dg.f,xE=$b.f,vh=Sb.get,$t=Sb.set,Vd=na.ArrayBuffer,fd=Vd,Wd=na.DataView,xk=Wd&&Wd.prototype,au=Object.prototype,yk=na.RangeError,bu=function(_r,_t,_o){var yl,El=Array(_o),_l=(1<<(_o=8*_o-_t-1))-1,Tl=_l>>1,Il=_t===23?Je(2,-24)-Je(2,-77):0,Al=0>_r||_r===0&&0>1/_r?1:0,Rl=0;if((_r=sE(_r))!=_r||1/0===_r){_r=_r!=_r?1:0;var Fl=_l}else Fl=tE(uE(_r)/vE),1>_r*(yl=Je(2,-Fl))&&(Fl--,yl*=2),2<=(_r=1<=Fl+Tl?_r+Il/yl:_r+Il*Je(2,1-Tl))*yl&&(Fl++,yl/=2),Fl+Tl>=_l?(_r=0,Fl=_l):1<=Fl+Tl?(_r=(_r*yl-1)*Je(2,_t),Fl+=Tl):(_r=_r*Je(2,Tl-1)*Je(2,_t),Fl=0);for(;8<=_t;El[Rl++]=255&_r,_r/=256,_t-=8);for(Fl=Fl<<_t|_r,_o+=_t;0<_o;El[Rl++]=255&Fl,Fl/=256,_o-=8);return El[--Rl]|=128*Al,El},cu=function(_r,_t){var _o=_r.length,yl=8*_o-_t-1,El=(1<<yl)-1,_l=El>>1;yl-=7,--_o;var Tl=_r[_o--],Il=127&Tl;for(Tl>>=7;0<yl;Il=256*Il+_r[_o],_o--,yl-=8);var Al=Il&(1<<-yl)-1;for(Il>>=-yl,yl+=_t;0<yl;Al=256*Al+_r[_o],_o--,yl-=8);if(Il===0)Il=1-_l;else{if(Il===El)return Al?NaN:Tl?-1/0:1/0;Al+=Je(2,_t),Il-=_l}return(Tl?-1:1)*Al*Je(2,Il-_t)},du=function(_r){return[255&_r]},eu=function(_r){return[255&_r,_r>>8&255]},fu=function(_r){return[255&_r,_r>>8&255,_r>>16&255,_r>>24&255]},gu=function(_r){return _r[3]<<24|_r[2]<<16|_r[1]<<8|_r[0]},yE=function(_r){return bu(_r,23,4)},zE=function(_r){return bu(_r,52,8)},zk=function(_r,_t){xE(_r.prototype,_t,{get:function(){return vh(this)[_t]}})},yf=function(_r,_t,_o,yl){_o=uh(_o);var El=vh(_r);if(_o+_t>El.byteLength)throw yk("Wrong index");return _r=vh(El.buffer).bytes,_o+=El.byteOffset,_t=_r.slice(_o,_o+_t),yl?_t:_t.reverse()},zf=function(_r,_t,_o,yl,El,_l){_o=uh(_o);var Tl=vh(_r);if(_o+_t>Tl.byteLength)throw yk("Wrong index");for(_r=vh(Tl.buffer).bytes,_o+=Tl.byteOffset,yl=yl(+El),El=0;El<_t;El++)_r[_o+El]=yl[_l?El:_t-El-1]};if(Zt){if(!Ga(function(){Vd(1)})||!Ga(function(){new Vd(-1)})||Ga(function(){return new Vd,new Vd(1.5),new Vd(NaN),Vd.name!="ArrayBuffer"})){fd=function(_r){return Ud(this,fd),new Vd(uh(_r))};for(var AE=fd.prototype=Vd.prototype,hu=wE(Vd),iu=0,Jn;hu.length>iu;)(Jn=hu[iu++])in fd||ac(fd,Jn,Vd[Jn]);AE.constructor=fd}gc&&Md(xk)!==au&&gc(xk,au);var Ak=new Wd(new fd(2)),ju=xk.setInt8;Ak.setInt8(0,2147483648),Ak.setInt8(1,2147483649),!Ak.getInt8(0)&&Ak.getInt8(1)||qh(xk,{setInt8:function(_r,_t){ju.call(this,_r,_t<<24>>24)},setUint8:function(_r,_t){ju.call(this,_r,_t<<24>>24)}},{unsafe:!0})}else fd=function(_r){Ud(this,fd,"ArrayBuffer"),_r=uh(_r),$t(this,{bytes:In.call(Array(_r),0),byteLength:_r}),cb||(this.byteLength=_r)},Wd=function(_r,_t,_o){Ud(this,Wd,"DataView"),Ud(_r,fd,"DataView");var yl=vh(_r).byteLength;if(0>(_t=Rd(_t))||_t>yl)throw yk("Wrong offset");if(_t+(_o=_o===void 0?yl-_t:xb(_o))>yl)throw yk("Wrong length");$t(this,{buffer:_r,byteLength:_o,byteOffset:_t}),cb||(this.buffer=_r,this.byteLength=_o,this.byteOffset=_t)},cb&&(zk(fd,"byteLength"),zk(Wd,"buffer"),zk(Wd,"byteLength"),zk(Wd,"byteOffset")),qh(Wd.prototype,{getInt8:function(_r){return yf(this,1,_r)[0]<<24>>24},getUint8:function(_r){return yf(this,1,_r)[0]},getInt16:function(_r){var _t=yf(this,2,_r,1<arguments.length?arguments[1]:void 0);return(_t[1]<<8|_t[0])<<16>>16},getUint16:function(_r){var _t=yf(this,2,_r,1<arguments.length?arguments[1]:void 0);return _t[1]<<8|_t[0]},getInt32:function(_r){return gu(yf(this,4,_r,1<arguments.length?arguments[1]:void 0))},getUint32:function(_r){return gu(yf(this,4,_r,1<arguments.length?arguments[1]:void 0))>>>0},getFloat32:function(_r){return cu(yf(this,4,_r,1<arguments.length?arguments[1]:void 0),23)},getFloat64:function(_r){return cu(yf(this,8,_r,1<arguments.length?arguments[1]:void 0),52)},setInt8:function(_r,_t){zf(this,1,_r,du,_t)},setUint8:function(_r,_t){zf(this,1,_r,du,_t)},setInt16:function(_r,_t){zf(this,2,_r,eu,_t,2<arguments.length?arguments[2]:void 0)},setUint16:function(_r,_t){zf(this,2,_r,eu,_t,2<arguments.length?arguments[2]:void 0)},setInt32:function(_r,_t){zf(this,4,_r,fu,_t,2<arguments.length?arguments[2]:void 0)},setUint32:function(_r,_t){zf(this,4,_r,fu,_t,2<arguments.length?arguments[2]:void 0)},setFloat32:function(_r,_t){zf(this,4,_r,yE,_t,2<arguments.length?arguments[2]:void 0)},setFloat64:function(_r,_t){zf(this,8,_r,zE,_t,2<arguments.length?arguments[2]:void 0)}});Td(fd,"ArrayBuffer"),Td(Wd,"DataView");var Oi={ArrayBuffer:fd,DataView:Wd},Kn=Oi.ArrayBuffer,ku=Oi.DataView,lu=Kn.prototype.slice,BE=Ga(function(){return!new Kn(2).slice(1,void 0).byteLength});wa({target:"ArrayBuffer",proto:!0,unsafe:!0,forced:BE},{slice:function(_r,_t){if(lu!==void 0&&_t===void 0)return lu.call(ub(this),_r);var _o=ub(this).byteLength;_r=dd(_r,_o),_t=dd(_t===void 0?_o:_t,_o),_o=new(eg(this,Kn))(xb(_t-_r));for(var yl=new ku(this),El=new ku(_o),_l=0;_r<_t;)El.setUint8(_l++,yl.getUint8(_r++));return _o}});var CE=$b.f,Bk=na.Int8Array,Ln=Bk&&Bk.prototype,mu=na.Uint8ClampedArray,nu=mu&&mu.prototype,re=Bk&&Md(Bk),Xd=Ln&&Md(Ln),ou=Object.prototype,pu=ou.isPrototypeOf,qu=mb("toStringTag"),Mn=ih("TYPED_ARRAY_TAG"),Ke=Zt&&!!gc&&ph(na.opera)!=="Opera",ru=!1,gd,se={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},DE={BigInt64Array:8,BigUint64Array:8},Ck=function(_r){return!!fb(_r)&&(_r=ph(_r),Fa(se,_r)||Fa(DE,_r))};for(gd in se)na[gd]||(Ke=!1);if((!Ke||typeof re!="function"||re===Function.prototype)&&(re=function(){throw TypeError("Incorrect invocation")},Ke))for(gd in se)na[gd]&&gc(na[gd],re);if((!Ke||!Xd||Xd===ou)&&(Xd=re.prototype,Ke))for(gd in se)na[gd]&&gc(na[gd].prototype,Xd);if(Ke&&Md(nu)!==Xd&&gc(nu,Xd),cb&&!Fa(Xd,qu))for(gd in ru=!0,CE(Xd,qu,{get:function(){return fb(this)?this[Mn]:void 0}}),se)na[gd]&&ac(na[gd],Mn,gd);var Pi=Ke,su=ru&&Mn,Gb=function(_r){if(Ck(_r))return _r;throw TypeError("Target is not a typed array")},wh=function(_r){if(gc){if(pu.call(re,_r))return _r}else for(var _t in se)if(Fa(se,gd)){var _o=na[_t];if(_o&&(_r===_o||pu.call(_o,_r)))return _r}throw TypeError("Target is not a typed array constructor")},Cb=function(_r,_t,_o){if(cb){if(_o)for(var yl in se){var El=na[yl];if(El&&Fa(El.prototype,_r))try{delete El.prototype[_r]}catch{}}Xd[_r]&&!_o||Ob(Xd,_r,_o?_t:Ke&&Ln[_r]||_t)}},tu=function(_r,_t,_o){var yl,El;if(cb){if(gc){if(_o){for(yl in se)if((El=na[yl])&&Fa(El,_r))try{delete El[_r]}catch{}}if(re[_r]&&!_o)return;try{return Ob(re,_r,_o?_t:Ke&&re[_r]||_t)}catch{}}for(yl in se)!(El=na[yl])||El[_r]&&!_o||Ob(El,_r,_t)}},uu=re,Qi=Xd,EE=na.ArrayBuffer,lg=na.Int8Array,Nn=!Pi||!Ga(function(){lg(1)})||!Ga(function(){new lg(-1)})||!mk(function(_r){new lg,new lg(null),new lg(1.5),new lg(_r)},!0)||Ga(function(){return new lg(new EE(2),1,void 0).length!==1}),Dk=function(_r,_t){if(0>(_r=Rd(_r)))throw RangeError("The argument can't be less than 0");if(_r%_t)throw RangeError("Wrong offset");return _r},On=function(_r){var _t=Zb(_r),_o=arguments.length,yl=1<_o?arguments[1]:void 0,El=yl!==void 0,_l=Gi(_t);if(_l!=null&&!ln(_l)){var Tl=_l.call(_t),Il=Tl.next;for(_t=[];!(_l=Il.call(Tl)).done;)_t.push(_l.value)}for(El&&2<_o&&(yl=tf(yl,arguments[2],2)),_l=xb(_t.length),Tl=new(wh(this))(_l),_o=0;_l>_o;_o++)Tl[_o]=El?yl(_t[_o],_o):_t[_o];return Tl},Ek=function(_r,_t,_o){var yl,El;return gc&&typeof(yl=_t.constructor)=="function"&&yl!==_o&&fb(El=yl.prototype)&&El!==_o.prototype&&gc(_r,El),_r},Ri=kc(function(_r){var _t=dg.f,_o=Sb.get,yl=Sb.set,El=$b.f,_l=pd.f,Tl=Math.round,Il=na.RangeError,Al=Oi.ArrayBuffer,Rl=Oi.DataView,Fl=function(vp,up){var _d=0,Ep=up.length;for(vp=new(wh(vp))(Ep);Ep>_d;)vp[_d]=up[_d++];return vp},Bl=function(vp,up){El(vp,up,{get:function(){return _o(this)[up]}})},Gl=function(vp){var up;return vp instanceof Al||(up=ph(vp))=="ArrayBuffer"||up=="SharedArrayBuffer"},Ql=function(vp,up){return Ck(vp)&&typeof up!="symbol"&&up in vp&&String(+up)==String(up)},_f=function(vp,up){return Ql(vp,up=le(up,!0))?ke(2,vp[up]):_l(vp,up)},_h=function(vp,up,_d){return!(Ql(vp,up=le(up,!0))&&fb(_d)&&Fa(_d,"value"))||Fa(_d,"get")||Fa(_d,"set")||_d.configurable||Fa(_d,"writable")&&!_d.writable||Fa(_d,"enumerable")&&!_d.enumerable?El(vp,up,_d):(vp[up]=_d.value,vp)};cb?(Pi||(pd.f=_f,$b.f=_h,Bl(Qi,"buffer"),Bl(Qi,"byteOffset"),Bl(Qi,"byteLength"),Bl(Qi,"length")),wa({target:"Object",stat:!0,forced:!Pi},{getOwnPropertyDescriptor:_f,defineProperty:_h}),_r.exports=function(vp,up,_d){var Ep=vp.match(/\d+$/)[0]/8,Op=vp+(_d?"Clamped":"")+"Array",Ip="get"+vp,Pp="set"+vp,xp=na[Op],Np=xp;vp=Np&&Np.prototype;var Kp={},Tp=function(Dp,Bp){El(Dp,Bp,{get:function(){var Qp=_o(this);return Qp.view[Ip](Bp*Ep+Qp.byteOffset,!0)},set:function(Qp){var Cp=_o(this);_d&&(Qp=0>(Qp=Tl(Qp))?0:255<Qp?255:255&Qp),Cp.view[Pp](Bp*Ep+Cp.byteOffset,Qp,!0)},enumerable:!0})};Pi?Nn&&(Np=up(function(Dp,Bp,Qp,Cp){return Ud(Dp,Np,Op),Ek(fb(Bp)?Gl(Bp)?Cp!==void 0?new xp(Bp,Dk(Qp,Ep),Cp):Qp!==void 0?new xp(Bp,Dk(Qp,Ep)):new xp(Bp):Ck(Bp)?Fl(Np,Bp):On.call(Np,Bp):new xp(uh(Bp)),Dp,Np)}),gc&&gc(Np,uu),fg(_t(xp),function(Dp){Dp in Np||ac(Np,Dp,xp[Dp])}),Np.prototype=vp):(Np=up(function(Dp,Bp,Qp,Cp){Ud(Dp,Np,Op);var $p=0,Vp=0;if(fb(Bp)){if(!Gl(Bp))return Ck(Bp)?Fl(Np,Bp):On.call(Np,Bp);var Hp=Bp;if(Vp=Dk(Qp,Ep),Bp=Bp.byteLength,Cp===void 0){if(Bp%Ep||0>(Cp=Bp-Vp))throw Il("Wrong length")}else if((Cp=xb(Cp)*Ep)+Vp>Bp)throw Il("Wrong length");Bp=Cp/Ep}else Bp=uh(Bp),Hp=new Al(Cp=Bp*Ep);for(yl(Dp,{buffer:Hp,byteOffset:Vp,byteLength:Cp,length:Bp,view:new Rl(Hp)});$p<Bp;)Tp(Dp,$p++)}),gc&&gc(Np,uu),vp=Np.prototype=vd(Qi)),vp.constructor!==Np&&ac(vp,"constructor",Np),su&&ac(vp,su,Op),Kp[Op]=Np,wa({global:!0,forced:Np!=xp,sham:!Pi},Kp),"BYTES_PER_ELEMENT"in Np||ac(Np,"BYTES_PER_ELEMENT",Ep),"BYTES_PER_ELEMENT"in vp||ac(vp,"BYTES_PER_ELEMENT",Ep),Ii(Op)}):_r.exports=function(){}});Ri("Uint8",function(_r){return function(_t,_o,yl){return _r(this,_t,_o,yl)}});var FE=Math.min,GE=[].copyWithin||function(_r,_t){var _o=Zb(this),yl=xb(_o.length),El=dd(_r,yl),_l=dd(_t,yl),Tl=2<arguments.length?arguments[2]:void 0;for(yl=FE((Tl===void 0?yl:dd(Tl,yl))-_l,yl-El),Tl=1,_l<El&&El<_l+yl&&(Tl=-1,_l+=yl-1,El+=yl-1);0<yl--;)_l in _o?_o[El]=_o[_l]:delete _o[El],El+=Tl,_l+=Tl;return _o};Cb("copyWithin",function(_r,_t){return GE.call(Gb(this),_r,_t,2<arguments.length?arguments[2]:void 0)}),Cb("every",function(_r){return pD(Gb(this),_r,1<arguments.length?arguments[1]:void 0)}),Cb("fill",function(_r){return In.apply(Gb(this),arguments)}),Cb("filter",function(_r){var _t=jt(Gb(this),_r,1<arguments.length?arguments[1]:void 0),_o=eg(this,this.constructor),yl=0,El=_t.length;for(_o=new(wh(_o))(El);El>yl;)_o[yl]=_t[yl++];return _o}),Cb("find",function(_r){return kt(Gb(this),_r,1<arguments.length?arguments[1]:void 0)}),Cb("findIndex",function(_r){return lt(Gb(this),_r,1<arguments.length?arguments[1]:void 0)}),Cb("forEach",function(_r){fg(Gb(this),_r,1<arguments.length?arguments[1]:void 0)}),Cb("includes",function(_r){return Ss(Gb(this),_r,1<arguments.length?arguments[1]:void 0)}),Cb("indexOf",function(_r){return bn(Gb(this),_r,1<arguments.length?arguments[1]:void 0)});var vu=mb("iterator"),wu=na.Uint8Array,HE=xf.values,IE=xf.keys,JE=xf.entries,Pn=wu&&wu.prototype[vu],xu=!!Pn&&(Pn.name=="values"||Pn.name==null),yu=function(){return HE.call(Gb(this))};Cb("entries",function(){return JE.call(Gb(this))}),Cb("keys",function(){return IE.call(Gb(this))}),Cb("values",yu,!xu),Cb(vu,yu,!xu);var KE=[].join;Cb("join",function(_r){return KE.apply(Gb(this),arguments)});var LE=Math.min,Qn=[].lastIndexOf,zu=!!Qn&&0>1/[1].lastIndexOf(1,-0),ME=gg("lastIndexOf"),Rn=zu||!ME?function(_r){if(zu)return Qn.apply(this,arguments)||0;var _t=Qc(this),_o=xb(_t.length),yl=_o-1;for(1<arguments.length&&(yl=LE(yl,Rd(arguments[1]))),0>yl&&(yl=_o+yl);0<=yl;yl--)if(yl in _t&&_t[yl]===_r)return yl||0;return-1}:Qn;Cb("lastIndexOf",function(_r){return Rn.apply(Gb(this),arguments)}),Cb("map",function(_r){return it(Gb(this),_r,1<arguments.length?arguments[1]:void 0,function(_t,_o){return new(wh(eg(_t,_t.constructor)))(_o)})});var Au=function(_r){return function(_t,_o,yl,El){Rc(_o),_t=Zb(_t);var _l=zi(_t),Tl=xb(_t.length),Il=_r?Tl-1:0,Al=_r?-1:1;if(2>yl)for(;;){if(Il in _l){El=_l[Il],Il+=Al;break}if(Il+=Al,_r?0>Il:Tl<=Il)throw TypeError("Reduce of empty array with no initial value")}for(;_r?0<=Il:Tl>Il;Il+=Al)Il in _l&&(El=_o(El,_l[Il],Il,_t));return El}},Bu=Au(!1),Cu=Au(!0);Cb("reduce",function(_r){return Bu(Gb(this),_r,arguments.length,1<arguments.length?arguments[1]:void 0)}),Cb("reduceRight",function(_r){return Cu(Gb(this),_r,arguments.length,1<arguments.length?arguments[1]:void 0)});var NE=Math.floor;Cb("reverse",function(){for(var _r,_t=Gb(this).length,_o=NE(_t/2),yl=0;yl<_o;)_r=this[yl],this[yl++]=this[--_t],this[_t]=_r;return this});var OE=Ga(function(){new Int8Array(1).set({})});Cb("set",function(_r){Gb(this);var _t=Dk(1<arguments.length?arguments[1]:void 0,1),_o=this.length,yl=Zb(_r),El=xb(yl.length),_l=0;if(El+_t>_o)throw RangeError("Wrong length");for(;_l<El;)this[_t+_l]=yl[_l++]},OE);var PE=[].slice,QE=Ga(function(){new Int8Array(1).slice()});Cb("slice",function(_r,_t){_r=PE.call(Gb(this),_r,_t);var _o=eg(this,this.constructor);_t=0;var yl=_r.length;for(_o=new(wh(_o))(yl);yl>_t;)_o[_t]=_r[_t++];return _o},QE),Cb("some",function(_r){return oD(Gb(this),_r,1<arguments.length?arguments[1]:void 0)});var RE=[].sort;Cb("sort",function(_r){return RE.call(Gb(this),_r)}),Cb("subarray",function(_r,_t){var _o=Gb(this),yl=_o.length;return _r=dd(_r,yl),new(eg(_o,_o.constructor))(_o.buffer,_o.byteOffset+_r*_o.BYTES_PER_ELEMENT,xb((_t===void 0?yl:dd(_t,yl))-_r))});var Fk=na.Int8Array,Du=[].toLocaleString,SE=[].slice,TE=!!Fk&&Ga(function(){Du.call(new Fk(1))}),UE=Ga(function(){return[1,2].toLocaleString()!=new Fk([1,2]).toLocaleString()})||!Ga(function(){Fk.prototype.toLocaleString.call([1,2])});Cb("toLocaleString",function(){return Du.apply(TE?SE.call(Gb(this)):Gb(this),arguments)},UE);var Eu=na.Uint8Array,VE=Eu&&Eu.prototype||{},Gk=[].toString,WE=[].join;Ga(function(){Gk.call({})})&&(Gk=function(){return WE.call(this)}),Cb("toString",Gk,VE.toString!=Gk);var Fu=Oi.ArrayBuffer;wa({global:!0,forced:na.ArrayBuffer!==Fu},{ArrayBuffer:Fu}),Ii("ArrayBuffer");var XE=$b.f,Sn=Function.prototype,YE=Sn.toString,ZE=/^\s*function ([^ (]*)/;!cb||"name"in Sn||XE(Sn,"name",{configurable:!0,get:function(){try{return YE.call(this).match(ZE)[1]}catch{return""}}});var Gu=RegExp.prototype,Hu=Gu.toString,$E=Ga(function(){return Hu.call({source:"a",flags:"b"})!="/a/b"}),aF=Hu.name!="toString";($E||aF)&&Ob(RegExp.prototype,"toString",function(){var _r=ub(this),_t=String(_r.source),_o=_r.flags;return"/"+_t+"/"+(_r=String(_o===void 0&&_r instanceof RegExp&&!("flags"in Gu)?hk.call(_r):_o))},{unsafe:!0});var bF=Fi("splice"),cF=Math.max,dF=Math.min;wa({target:"Array",proto:!0,forced:!bF},{splice:function(_r,_t){var _o,yl,El=Zb(this),_l=xb(El.length),Tl=dd(_r,_l),Il=arguments.length;if(Il===0?Il=_o=0:Il===1?(Il=0,_o=_l-Tl):(Il-=2,_o=dF(cF(Rd(_t),0),_l-Tl)),9007199254740991<_l+Il-_o)throw TypeError("Maximum allowed length exceeded");var Al=Ei(El,_o);for(yl=0;yl<_o;yl++){var Rl=Tl+yl;Rl in El&&oh(Al,yl,El[Rl])}if(Al.length=_o,Il<_o){for(yl=Tl;yl<_l-_o;yl++){var Fl=yl+Il;(Rl=yl+_o)in El?El[Fl]=El[Rl]:delete El[Fl]}for(yl=_l;yl>_l-_o+Il;yl--)delete El[yl-1]}else if(Il>_o)for(yl=_l-_o;yl>Tl;yl--)Fl=yl+Il-1,(Rl=yl+_o-1)in El?El[Fl]=El[Rl]:delete El[Fl];for(yl=0;yl<Il;yl++)El[yl+Tl]=arguments[yl+2];return El.length=_l-_o+Il,Al}});var Tn={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},Un=mb("iterator"),Iu=mb("toStringTag"),Vn=xf.values,Hk;for(Hk in Tn){var Ju=na[Hk],Le=Ju&&Ju.prototype;if(Le){if(Le[Un]!==Vn)try{ac(Le,Un,Vn)}catch{Le[Un]=Vn}if(Le[Iu]||ac(Le,Iu,Hk),Tn[Hk]){for(var xh in xf)if(Le[xh]!==xf[xh])try{ac(Le,xh,xf[xh])}catch{Le[xh]=xf[xh]}}}}var Ku=Object.is||function(_r,_t){return _r===_t?_r!==0||1/_r==1/_t:_r!=_r&&_t!=_t};jk("search",1,function(_r,_t,_o){return[function(yl){var El=Ec(this),_l=yl==null?void 0:yl[_r];return _l!==void 0?_l.call(yl,El):new RegExp(yl)[_r](String(El))},function(yl){var El=_o(_t,yl,this);if(El.done)return El.value;yl=ub(yl);var _l=String(this);return El=yl.lastIndex,Ku(El,0)||(yl.lastIndex=0),_l=mh(yl,_l),Ku(yl.lastIndex,El)||(yl.lastIndex=El),_l===null?-1:_l.index}]}),kc(function(_r){(function(_t,_o){_r.exports?_r.exports=_o(_t):_o(_t)})(typeof self<"u"?self:qb,function(_t){function _o(Tp){return btoa(Tp).replace(/=+$/,"").replace(/\+/g,"-").replace(/\//g,"_")}function yl(Tp){return Tp=(Tp+="===").slice(0,-Tp.length%4),atob(Tp.replace(/-/g,"+").replace(/_/g,"/"))}function El(Tp){for(var Dp=new Uint8Array(Tp.length),Bp=0;Bp<Tp.length;Bp++)Dp[Bp]=Tp.charCodeAt(Bp);return Dp}function _l(Tp){return Tp instanceof ArrayBuffer&&(Tp=new Uint8Array(Tp)),String.fromCharCode.apply(String,Tp)}function Tl(Tp){var Dp={name:(Tp.name||Tp||"").toUpperCase().replace("V","v")};switch(Dp.name){case"SHA-1":case"SHA-256":case"SHA-384":case"SHA-512":break;case"AES-CBC":case"AES-GCM":case"AES-KW":Tp.length&&(Dp.length=Tp.length);break;case"HMAC":Tp.hash&&(Dp.hash=Tl(Tp.hash)),Tp.length&&(Dp.length=Tp.length);break;case"RSAES-PKCS1-v1_5":Tp.publicExponent&&(Dp.publicExponent=new Uint8Array(Tp.publicExponent)),Tp.modulusLength&&(Dp.modulusLength=Tp.modulusLength);break;case"RSASSA-PKCS1-v1_5":case"RSA-OAEP":Tp.hash&&(Dp.hash=Tl(Tp.hash)),Tp.publicExponent&&(Dp.publicExponent=new Uint8Array(Tp.publicExponent)),Tp.modulusLength&&(Dp.modulusLength=Tp.modulusLength);break;default:throw new SyntaxError("Bad algorithm name")}return Dp}function Il(Tp){return{HMAC:{"SHA-1":"HS1","SHA-256":"HS256","SHA-384":"HS384","SHA-512":"HS512"},"RSASSA-PKCS1-v1_5":{"SHA-1":"RS1","SHA-256":"RS256","SHA-384":"RS384","SHA-512":"RS512"},"RSAES-PKCS1-v1_5":{"":"RSA1_5"},"RSA-OAEP":{"SHA-1":"RSA-OAEP","SHA-256":"RSA-OAEP-256"},"AES-KW":{128:"A128KW",192:"A192KW",256:"A256KW"},"AES-GCM":{128:"A128GCM",192:"A192GCM",256:"A256GCM"},"AES-CBC":{128:"A128CBC",192:"A192CBC",256:"A256CBC"}}[Tp.name][(Tp.hash||{}).name||Tp.length||""]}function Al(Tp){(Tp instanceof ArrayBuffer||Tp instanceof Uint8Array)&&(Tp=JSON.parse(decodeURIComponent(escape(_l(Tp)))));var Dp={kty:Tp.kty,alg:Tp.alg,ext:Tp.ext||Tp.extractable};switch(Dp.kty){case"oct":Dp.k=Tp.k;case"RSA":"n e d p q dp dq qi oth".split(" ").forEach(function(Bp){Bp in Tp&&(Dp[Bp]=Tp[Bp])});break;default:throw new TypeError("Unsupported key type")}return Dp}function Rl(Tp){return Tp=Al(Tp),Ip&&(Tp.extractable=Tp.ext,delete Tp.ext),El(unescape(encodeURIComponent(JSON.stringify(Tp)))).buffer}function Fl(Tp){var Dp=Bl(Tp),Bp=!1;switch(2<Dp.length&&(Bp=!0,Dp.shift()),Tp={ext:!0},Dp[0][0]){case"1.2.840.113549.1.1.1":var Qp="n e d p q dp dq qi".split(" ");for(Dp=Bl(Dp[1]),Bp&&Dp.shift(),Bp=0;Bp<Dp.length;Bp++)Dp[Bp][0]||(Dp[Bp]=Dp[Bp].subarray(1)),Tp[Qp[Bp]]=_o(_l(Dp[Bp]));Tp.kty="RSA";break;default:throw new TypeError("Unsupported key type")}return Tp}function Bl(Tp,Dp){if(Tp instanceof ArrayBuffer&&(Tp=new Uint8Array(Tp)),Dp||(Dp={pos:0,end:Tp.length}),2>Dp.end-Dp.pos||Dp.end>Tp.length)throw new RangeError("Malformed DER");var Bp=Tp[Dp.pos++],Qp=Tp[Dp.pos++];if(128<=Qp){if(Qp&=127,Dp.end-Dp.pos<Qp)throw new RangeError("Malformed DER");for(var Cp=0;Qp--;)Cp<<=8,Cp|=Tp[Dp.pos++];Qp=Cp}if(Dp.end-Dp.pos<Qp)throw new RangeError("Malformed DER");switch(Bp){case 2:Bp=Tp.subarray(Dp.pos,Dp.pos+=Qp);break;case 3:if(Tp[Dp.pos++])throw Error("Unsupported bit string");Qp--;case 4:Bp=new Uint8Array(Tp.subarray(Dp.pos,Dp.pos+=Qp)).buffer;break;case 5:Bp=null;break;case 6:if(!((Tp=btoa(_l(Tp.subarray(Dp.pos,Dp.pos+=Qp))))in xp))throw Error("Unsupported OBJECT ID "+Tp);Bp=xp[Tp];break;case 48:for(Bp=[],Qp=Dp.pos+Qp;Dp.pos<Qp;)Bp.push(Bl(Tp,Dp));break;default:throw Error("Unsupported DER tag 0x"+Bp.toString(16))}return Bp}function Gl(Tp,Dp){Dp||(Dp=[]);var Bp=Dp.length+2;if(Dp.push(0,0),Tp instanceof Uint8Array)for(var Qp=2,Cp=Tp.length,$p=0;$p<Cp;$p++)Dp.push(Tp[$p]);else if(Tp instanceof ArrayBuffer)for(Qp=4,Cp=Tp.byteLength,Tp=new Uint8Array(Tp),$p=0;$p<Cp;$p++)Dp.push(Tp[$p]);else if(Tp===null)Qp=5,Cp=0;else if(typeof Tp=="string"&&Tp in Np)for(Qp=6,Cp=(Tp=El(atob(Np[Tp]))).length,$p=0;$p<Cp;$p++)Dp.push(Tp[$p]);else if(Tp instanceof Array){for($p=0;$p<Tp.length;$p++)Gl(Tp[$p],Dp);Qp=48,Cp=Dp.length-Bp}else{if(!(Ia(Tp)==="object"&&Tp.tag===3&&Tp.value instanceof ArrayBuffer))throw Error("Unsupported DER value "+Tp);for(Qp=3,Cp=(Tp=new Uint8Array(Tp.value)).byteLength,Dp.push(0),$p=0;$p<Cp;$p++)Dp.push(Tp[$p]);Cp++}if(128<=Cp){for($p=Cp,Cp=4,Dp.splice(Bp,0,$p>>24&255,$p>>16&255,$p>>8&255,255&$p);1<Cp&&!($p>>24);)$p<<=8,Cp--;4>Cp&&Dp.splice(Bp,4-Cp),Cp|=128}return Dp.splice(Bp-2,2,Qp,Cp),Dp}function Ql(Tp,Dp,Bp,Qp){Object.defineProperties(this,{_key:{value:Tp},type:{value:Tp.type,enumerable:!0},extractable:{value:Bp===void 0?Tp.extractable:Bp,enumerable:!0},algorithm:{value:Dp===void 0?Tp.algorithm:Dp,enumerable:!0},usages:{value:Qp===void 0?Tp.usages:Qp,enumerable:!0}})}function _f(Tp){return Tp==="verify"||Tp==="encrypt"||Tp==="wrapKey"}function _h(Tp){return Tp==="sign"||Tp==="decrypt"||Tp==="unwrapKey"}if(typeof Promise!="function")throw"Promise support required";var vp=_t.crypto||_t.msCrypto;if(vp){var up=vp.subtle||vp.webkitSubtle;if(up){var _d=_t.Crypto||vp.constructor||Object,Ep=_t.SubtleCrypto||up.constructor||Object;_t.CryptoKey||_t.Key;var Op=-1<_t.navigator.userAgent.indexOf("Edge/"),Ip=!!_t.msCrypto&&!Op,Pp=!vp.subtle&&!!vp.webkitSubtle;if(Ip||Pp){var xp={KoZIhvcNAQEB:"1.2.840.113549.1.1.1"},Np={"1.2.840.113549.1.1.1":"KoZIhvcNAQEB"};if(["generateKey","importKey","unwrapKey"].forEach(function(Tp){var Dp=up[Tp];up[Tp]=function(Bp,Qp,Cp){var $p=[].slice.call(arguments);switch(Tp){case"generateKey":var Vp=Tl(Bp),Hp=Qp,Up=Cp;break;case"importKey":Vp=Tl(Cp),Hp=$p[3],Up=$p[4],Bp==="jwk"&&((Qp=Al(Qp)).alg||(Qp.alg=Il(Vp)),Qp.key_ops||(Qp.key_ops=Qp.kty!=="oct"?"d"in Qp?Up.filter(_h):Up.filter(_f):Up.slice()),$p[1]=Rl(Qp));break;case"unwrapKey":Vp=$p[4],Hp=$p[5],Up=$p[6],$p[2]=Cp._key}if(Tp==="generateKey"&&Vp.name==="HMAC"&&Vp.hash)return Vp.length=Vp.length||{"SHA-1":512,"SHA-256":512,"SHA-384":1024,"SHA-512":1024}[Vp.hash.name],up.importKey("raw",vp.getRandomValues(new Uint8Array(Vp.length+7>>3)),Vp,Hp,Up);if(Pp&&Tp==="generateKey"&&Vp.name==="RSASSA-PKCS1-v1_5"&&(!Vp.modulusLength||2048<=Vp.modulusLength))return(Bp=Tl(Bp)).name="RSAES-PKCS1-v1_5",delete Bp.hash,up.generateKey(Bp,!0,["encrypt","decrypt"]).then(function(zp){return Promise.all([up.exportKey("jwk",zp.publicKey),up.exportKey("jwk",zp.privateKey)])}).then(function(zp){return zp[0].alg=zp[1].alg=Il(Vp),zp[0].key_ops=Up.filter(_f),zp[1].key_ops=Up.filter(_h),Promise.all([up.importKey("jwk",zp[0],Vp,!0,zp[0].key_ops),up.importKey("jwk",zp[1],Vp,Hp,zp[1].key_ops)])}).then(function(zp){return{publicKey:zp[0],privateKey:zp[1]}});if((Pp||Ip&&(Vp.hash||{}).name==="SHA-1")&&Tp==="importKey"&&Bp==="jwk"&&Vp.name==="HMAC"&&Qp.kty==="oct")return up.importKey("raw",El(yl(Qp.k)),Cp,$p[3],$p[4]);if(Pp&&Tp==="importKey"&&(Bp==="spki"||Bp==="pkcs8"))return up.importKey("jwk",Fl(Qp),Cp,$p[3],$p[4]);if(Ip&&Tp==="unwrapKey")return up.decrypt($p[3],Cp,Qp).then(function(zp){return up.importKey(Bp,zp,$p[4],$p[5],$p[6])});try{var Yp=Dp.apply(up,$p)}catch(zp){return Promise.reject(zp)}return Ip&&(Yp=new Promise(function(zp,_v){Yp.onabort=Yp.onerror=function(_g){_v(_g)},Yp.oncomplete=function(_g){zp(_g.target.result)}})),Yp=Yp.then(function(zp){return Vp.name!=="HMAC"||Vp.length||(Vp.length=8*zp.algorithm.length),Vp.name.search("RSA")==0&&(Vp.modulusLength||(Vp.modulusLength=(zp.publicKey||zp).algorithm.modulusLength),Vp.publicExponent||(Vp.publicExponent=(zp.publicKey||zp).algorithm.publicExponent)),zp.publicKey&&zp.privateKey?{publicKey:new Ql(zp.publicKey,Vp,Hp,Up.filter(_f)),privateKey:new Ql(zp.privateKey,Vp,Hp,Up.filter(_h))}:new Ql(zp,Vp,Hp,Up)})}}),["exportKey","wrapKey"].forEach(function(Tp){var Dp=up[Tp];up[Tp]=function(Bp,Qp,Cp){var $p=[].slice.call(arguments);switch(Tp){case"exportKey":$p[1]=Qp._key;break;case"wrapKey":$p[1]=Qp._key,$p[2]=Cp._key}if((Pp||Ip&&(Qp.algorithm.hash||{}).name==="SHA-1")&&Tp==="exportKey"&&Bp==="jwk"&&Qp.algorithm.name==="HMAC"&&($p[0]="raw"),!Pp||Tp!=="exportKey"||Bp!=="spki"&&Bp!=="pkcs8"||($p[0]="jwk"),Ip&&Tp==="wrapKey")return up.exportKey(Bp,Qp).then(function(Hp){return Bp==="jwk"&&(Hp=El(unescape(encodeURIComponent(JSON.stringify(Al(Hp)))))),up.encrypt($p[3],Cp,Hp)});try{var Vp=Dp.apply(up,$p)}catch(Hp){return Promise.reject(Hp)}return Ip&&(Vp=new Promise(function(Hp,Up){Vp.onabort=Vp.onerror=function(Yp){Up(Yp)},Vp.oncomplete=function(Yp){Hp(Yp.target.result)}})),Tp==="exportKey"&&Bp==="jwk"&&(Vp=Vp.then(function(Hp){return(Pp||Ip&&(Qp.algorithm.hash||{}).name==="SHA-1")&&Qp.algorithm.name==="HMAC"?{kty:"oct",alg:Il(Qp.algorithm),key_ops:Qp.usages.slice(),ext:!0,k:_o(_l(Hp))}:((Hp=Al(Hp)).alg||(Hp.alg=Il(Qp.algorithm)),Hp.key_ops||(Hp.key_ops=Qp.type==="public"?Qp.usages.filter(_f):Qp.type==="private"?Qp.usages.filter(_h):Qp.usages.slice()),Hp)})),!Pp||Tp!=="exportKey"||Bp!=="spki"&&Bp!=="pkcs8"||(Vp=Vp.then(function(Hp){var Up=[["",null]],Yp=!1;switch((Hp=Al(Hp)).kty){case"RSA":for(var zp="n e d p q dp dq qi".split(" "),_v=[],_g=0;_g<zp.length&&zp[_g]in Hp;_g++){var dy=_v[_g]=El(yl(Hp[zp[_g]]));128&dy[0]&&(_v[_g]=new Uint8Array(dy.length+1),_v[_g].set(dy,1))}2<_v.length&&(Yp=!0,_v.unshift(new Uint8Array([0]))),Up[0][0]="1.2.840.113549.1.1.1";break;default:throw new TypeError("Unsupported key type")}return Up.push(new Uint8Array(Gl(_v)).buffer),Yp?Up.unshift(new Uint8Array([0])):Up[1]={tag:3,value:Up[1]},new Uint8Array(Gl(Up)).buffer})),Vp}}),["encrypt","decrypt","sign","verify"].forEach(function(Tp){var Dp=up[Tp];up[Tp]=function(Bp,Qp,Cp,$p){if(Ip&&(!Cp.byteLength||$p&&!$p.byteLength))throw Error("Empty input is not allowed");var Vp=[].slice.call(arguments),Hp=Tl(Bp);if(!Ip||Tp!=="sign"&&Tp!=="verify"||Bp!=="RSASSA-PKCS1-v1_5"&&Bp!=="HMAC"||(Vp[0]={name:Bp}),Ip&&Qp.algorithm.hash&&(Vp[0].hash=Vp[0].hash||Qp.algorithm.hash),Ip&&Tp==="decrypt"&&Hp.name==="AES-GCM"){var Up=Bp.tagLength>>3;Vp[2]=(Cp.buffer||Cp).slice(0,Cp.byteLength-Up),Bp.tag=(Cp.buffer||Cp).slice(Cp.byteLength-Up)}Ip&&Hp.name==="AES-GCM"&&Vp[0].tagLength===void 0&&(Vp[0].tagLength=128),Vp[1]=Qp._key;try{var Yp=Dp.apply(up,Vp)}catch(zp){return Promise.reject(zp)}return Ip&&(Yp=new Promise(function(zp,_v){Yp.onabort=Yp.onerror=function(_g){_v(_g)},Yp.oncomplete=function(_g){if(_g=_g.target.result,Tp==="encrypt"&&_g instanceof AesGcmEncryptResult){var dy=_g.ciphertext,Ap=_g.tag;(_g=new Uint8Array(dy.byteLength+Ap.byteLength)).set(new Uint8Array(dy),0),_g.set(new Uint8Array(Ap),dy.byteLength),_g=_g.buffer}zp(_g)}})),Yp}}),Ip){var Kp=up.digest;up.digest=function(Tp,Dp){if(!Dp.byteLength)throw Error("Empty input is not allowed");try{var Bp=Kp.call(up,Tp,Dp)}catch(Qp){return Promise.reject(Qp)}return Bp=new Promise(function(Qp,Cp){Bp.onabort=Bp.onerror=function($p){Cp($p)},Bp.oncomplete=function($p){Qp($p.target.result)}})},_t.crypto=Object.create(vp,{getRandomValues:{value:function(Tp){return vp.getRandomValues(Tp)}},subtle:{value:up}}),_t.CryptoKey=Ql}Pp&&(vp.subtle=up,_t.Crypto=_d,_t.SubtleCrypto=Ep,_t.CryptoKey=Ql)}}}})}),function(_r){_r.console||(_r.console={}),_r=_r.console;for(var _t,_o=function(){},yl=["memory"],El="assert clear count debug dir dirxml error exception group groupCollapsed groupEnd info log markTimeline profile profiles profileEnd show table time timeEnd timeline timelineEnd timeStamp trace warn".split(" ");_t=yl.pop();)_r[_t]||(_r[_t]={});for(;_t=El.pop();)_r[_t]||(_r[_t]=_o)}(typeof window>"u"?qb:window),wa({target:"Object",stat:!0},{setPrototypeOf:gc});var eF=Ga(function(){Md(1)});wa({target:"Object",stat:!0,forced:eF,sham:!qt},{getPrototypeOf:function(_r){return Md(Zb(_r))}});var Lu=[].slice,Wn={},fF=Function.bind||function(_r){var _t=Rc(this),_o=Lu.call(arguments,1),yl=function(){var El=_o.concat(Lu.call(arguments));if(this instanceof yl){var _l=El.length;if(!(_l in Wn)){for(var Tl=[],Il=0;Il<_l;Il++)Tl[Il]="a["+Il+"]";Wn[_l]=Function("C,a","return new C("+Tl.join(",")+")")}El=Wn[_l](_t,El)}else El=_t.apply(_r,El);return El};return fb(_t.prototype)&&(yl.prototype=_t.prototype),yl},Xn=me("Reflect","construct"),Mu=Ga(function(){function _r(){}return!(Xn(function(){},[],_r)instanceof _r)}),Nu=!Ga(function(){Xn(function(){})}),Ou=Mu||Nu;wa({target:"Reflect",stat:!0,forced:Ou,sham:Ou},{construct:function(_r,_t){Rc(_r),ub(_t);var _o=3>arguments.length?_r:Rc(arguments[2]);if(Nu&&!Mu)return Xn(_r,_t,_o);if(_r==_o){switch(_t.length){case 0:return new _r;case 1:return new _r(_t[0]);case 2:return new _r(_t[0],_t[1]);case 3:return new _r(_t[0],_t[1],_t[2]);case 4:return new _r(_t[0],_t[1],_t[2],_t[3])}return(_o=[null]).push.apply(_o,_t),new(fF.apply(_r,_o))}_o=_o.prototype,_o=vd(fb(_o)?_o:Object.prototype);var yl=Function.apply.call(_r,_o,_t);return fb(yl)?yl:_o}}),wa({target:"Reflect",stat:!0},{get:cr});var Pu=pd.f,gF=Ga(function(){Pu(1)});wa({target:"Object",stat:!0,forced:!cb||gF,sham:!cb},{getOwnPropertyDescriptor:function(_r,_t){return Pu(Qc(_r),_t)}});var Qu=dg.f,hF={}.toString,Ru=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],Yn=function(_r){if(Ru&&hF.call(_r)=="[object Window]")try{var _t=Qu(_r)}catch{_t=Ru.slice()}else _t=Qu(Qc(_r));return _t},Su={f:mb},iF=$b.f,Ik=function(_r){var _t=na.Symbol||(na.Symbol={});Fa(_t,_r)||iF(_t,_r,{value:Su.f(_r)})},Sc=ek("hidden"),Tu=mb("toPrimitive"),jF=Sb.set,Uu=Sb.getterFor("Symbol"),wd=Object.prototype,Tc=na.Symbol,Si=me("JSON","stringify"),Vu=pd.f,Af=$b.f,Wu=Yn,kF=yi,Me=rf("symbols"),Ti=rf("op-symbols"),Zn=rf("string-to-symbol-registry"),$n=rf("symbol-to-string-registry"),lF=rf("wks"),ao=na.QObject,bo=!ao||!ao.prototype||!ao.prototype.findChild,co=cb&&Ga(function(){return vd(Af({},"a",{get:function(){return Af(this,"a",{value:7}).a}})).a!=7})?function(_r,_t,_o){var yl=Vu(wd,_t);yl&&delete wd[_t],Af(_r,_t,_o),yl&&_r!==wd&&Af(wd,_t,yl)}:Af,eo=function(_r,_t){var _o=Me[_r]=vd(Tc.prototype);return jF(_o,{type:"Symbol",tag:_r,description:_t}),cb||(_o.description=_t),_o},fo=at?function(_r){return typeof _r=="symbol"}:function(_r){return Object(_r)instanceof Tc},Jk=function(_r,_t,_o){return _r===wd&&Jk(Ti,_t,_o),ub(_r),_t=le(_t,!0),ub(_o),Fa(Me,_t)?(_o.enumerable?(Fa(_r,Sc)&&_r[Sc][_t]&&(_r[Sc][_t]=!1),_o=vd(_o,{enumerable:ke(0,!1)})):(Fa(_r,Sc)||Af(_r,Sc,ke(1,{})),_r[Sc][_t]=!0),co(_r,_t,_o)):Af(_r,_t,_o)},Xu=function(_r,_t){ub(_r);var _o=Qc(_t);return _t=Ie(_o).concat(go(_o)),fg(_t,function(yl){cb&&!ho.call(_o,yl)||Jk(_r,yl,_o[yl])}),_r},ho=function(_r){_r=le(_r,!0);var _t=kF.call(this,_r);return!(this===wd&&Fa(Me,_r)&&!Fa(Ti,_r))&&(!(_t||!Fa(this,_r)||!Fa(Me,_r)||Fa(this,Sc)&&this[Sc][_r])||_t)},Yu=function(_r,_t){if(_r=Qc(_r),_t=le(_t,!0),_r!==wd||!Fa(Me,_t)||Fa(Ti,_t)){var _o=Vu(_r,_t);return!_o||!Fa(Me,_t)||Fa(_r,Sc)&&_r[Sc][_t]||(_o.enumerable=!0),_o}},Zu=function(_r){_r=Wu(Qc(_r));var _t=[];return fg(_r,function(_o){Fa(Me,_o)||Fa(jh,_o)||_t.push(_o)}),_t},go=function(_r){var _t=_r===wd;_r=Wu(_t?Ti:Qc(_r));var _o=[];return fg(_r,function(yl){!Fa(Me,yl)||_t&&!Fa(wd,yl)||_o.push(Me[yl])}),_o};if(pe||(Tc=function(){if(this instanceof Tc)throw TypeError("Symbol is not a constructor");var _r=arguments.length&&arguments[0]!==void 0?String(arguments[0]):void 0,_t=ih(_r),_o=function(yl){this===wd&&_o.call(Ti,yl),Fa(this,Sc)&&Fa(this[Sc],_t)&&(this[Sc][_t]=!1),co(this,_t,ke(1,yl))};return cb&&bo&&co(wd,_t,{configurable:!0,set:_o}),eo(_t,_r)},Ob(Tc.prototype,"toString",function(){return Uu(this).tag}),Ob(Tc,"withoutSetter",function(_r){return eo(ih(_r),_r)}),yi=ho,$b.f=Jk,pd.f=Yu,dg.f=Yn=Zu,Ai.f=go,Su.f=function(_r){return eo(mb(_r),_r)},cb&&(Af(Tc.prototype,"description",{configurable:!0,get:function(){return Uu(this).description}}),Ob(wd,"propertyIsEnumerable",ho,{unsafe:!0}))),wa({global:!0,wrap:!0,forced:!pe,sham:!pe},{Symbol:Tc}),fg(Ie(lF),function(_r){Ik(_r)}),wa({target:"Symbol",stat:!0,forced:!pe},{for:function(_r){if(_r=String(_r),Fa(Zn,_r))return Zn[_r];var _t=Tc(_r);return Zn[_r]=_t,$n[_t]=_r,_t},keyFor:function(_r){if(!fo(_r))throw TypeError(_r+" is not a symbol");if(Fa($n,_r))return $n[_r]},useSetter:function(){bo=!0},useSimple:function(){bo=!1}}),wa({target:"Object",stat:!0,forced:!pe,sham:!cb},{create:function(_r,_t){return _t===void 0?vd(_r):Xu(vd(_r),_t)},defineProperty:Jk,defineProperties:Xu,getOwnPropertyDescriptor:Yu}),wa({target:"Object",stat:!0,forced:!pe},{getOwnPropertyNames:Zu,getOwnPropertySymbols:go}),wa({target:"Object",stat:!0,forced:Ga(function(){Ai.f(1)})},{getOwnPropertySymbols:function(_r){return Ai.f(Zb(_r))}}),Si){var mF=!pe||Ga(function(){var _r=Tc();return Si([_r])!="[null]"||Si({a:_r})!="{}"||Si(Object(_r))!="{}"});wa({target:"JSON",stat:!0,forced:mF},{stringify:function(_r,_t,_o){for(var yl,El=[_r],_l=1;arguments.length>_l;)El.push(arguments[_l++]);if(yl=_t,(fb(_t)||_r!==void 0)&&!fo(_r))return uf(_t)||(_t=function(Tl,Il){if(typeof yl=="function"&&(Il=yl.call(this,Tl,Il)),!fo(Il))return Il}),El[1]=_t,Si.apply(null,El)}})}Tc.prototype[Tu]||ac(Tc.prototype,Tu,Tc.prototype.valueOf),Td(Tc,"Symbol"),jh[Sc]=!0;var nF=$b.f,Ne=na.Symbol;if(cb&&typeof Ne=="function"&&(!("description"in Ne.prototype)||Ne().description!==void 0)){var $u={},Ui=function(){var _r=1>arguments.length||arguments[0]===void 0?void 0:String(arguments[0]),_t=this instanceof Ui?new Ne(_r):_r===void 0?Ne():Ne(_r);return _r===""&&($u[_t]=!0),_t};Vs(Ui,Ne);var io=Ui.prototype=Ne.prototype;io.constructor=Ui;var oF=io.toString,pF=String(Ne("test"))=="Symbol(test)",qF=/^Symbol\((.*)\)[^)]+$/;nF(io,"description",{configurable:!0,get:function(){var _r=fb(this)?this.valueOf():this,_t=oF.call(_r);return Fa($u,_r)?"":(_r=pF?_t.slice(7,-1):_t.replace(qF,"$1"))===""?void 0:_r}}),wa({global:!0,forced:!0},{Symbol:Ui})}Ik("toStringTag"),Td(na.JSON,"JSON",!0),Td(Math,"Math",!0),function(){function _r(Bl,Gl){if(!(Bl instanceof Gl))throw new TypeError("Cannot call a class as a function")}function _t(Bl,Gl){for(var Ql=0;Ql<Gl.length;Ql++){var _f=Gl[Ql];_f.enumerable=_f.enumerable||!1,_f.configurable=!0,"value"in _f&&(_f.writable=!0),Object.defineProperty(Bl,_f.key,_f)}}function _o(Bl,Gl,Ql){return Gl&&_t(Bl.prototype,Gl),Ql&&_t(Bl,Ql),Bl}function yl(Bl){return(yl=Object.setPrototypeOf?Object.getPrototypeOf:function(Gl){return Gl.__proto__||Object.getPrototypeOf(Gl)})(Bl)}function El(Bl,Gl){return(El=Object.setPrototypeOf||function(Ql,_f){return Ql.__proto__=_f,Ql})(Bl,Gl)}function _l(Bl){if(Bl===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Bl}function Tl(Bl){var Gl=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var Ql=yl(Bl);if(Gl){var _f=yl(this).constructor;Ql=Reflect.construct(Ql,arguments,_f)}else Ql=Ql.apply(this,arguments);return Ql=!Ql||Ia(Ql)!=="object"&&typeof Ql!="function"?_l(this):Ql}}function Il(Bl,Gl,Ql){return(Il=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(_f,_h,vp){for(;!Object.prototype.hasOwnProperty.call(_f,_h)&&(_f=yl(_f))!==null;);if(_f)return(_h=Object.getOwnPropertyDescriptor(_f,_h)).get?_h.get.call(vp):_h.value})(Bl,Gl,Ql||Bl)}var Al=function(){function Bl(){_r(this,Bl),Object.defineProperty(this,"listeners",{value:{},writable:!0,configurable:!0})}return _o(Bl,[{key:"addEventListener",value:function(Gl,Ql,_f){Gl in this.listeners||(this.listeners[Gl]=[]),this.listeners[Gl].push({callback:Ql,options:_f})}},{key:"removeEventListener",value:function(Gl,Ql){if(Gl in this.listeners){for(var _f=0,_h=(Gl=this.listeners[Gl]).length;_f<_h;_f++)if(Gl[_f].callback===Ql){Gl.splice(_f,1);break}}}},{key:"dispatchEvent",value:function(Gl){if(Gl.type in this.listeners){for(var Ql=this.listeners[Gl.type].slice(),_f=0,_h=Ql.length;_f<_h;_f++){var vp=Ql[_f];try{vp.callback.call(this,Gl)}catch(up){Promise.resolve().then(function(){throw up})}vp.options&&vp.options.once&&this.removeEventListener(Gl.type,vp.callback)}return!Gl.defaultPrevented}}}]),Bl}(),Rl=function(Bl){function Gl(){_r(this,Gl);var _f=Ql.call(this);return _f.listeners||Al.call(_l(_f)),Object.defineProperty(_l(_f),"aborted",{value:!1,writable:!0,configurable:!0}),Object.defineProperty(_l(_f),"onabort",{value:null,writable:!0,configurable:!0}),_f}(function(_f,_h){if(typeof _h!="function"&&_h!==null)throw new TypeError("Super expression must either be null or a function");_f.prototype=Object.create(_h&&_h.prototype,{constructor:{value:_f,writable:!0,configurable:!0}}),_h&&El(_f,_h)})(Gl,Bl);var Ql=Tl(Gl);return _o(Gl,[{key:"toString",value:function(){return"[object AbortSignal]"}},{key:"dispatchEvent",value:function(_f){_f.type==="abort"&&(this.aborted=!0,typeof this.onabort=="function"&&this.onabort.call(this,_f)),Il(yl(Gl.prototype),"dispatchEvent",this).call(this,_f)}}]),Gl}(Al),Fl=function(){function Bl(){_r(this,Bl),Object.defineProperty(this,"signal",{value:new Rl,writable:!0,configurable:!0})}return _o(Bl,[{key:"abort",value:function(){try{var Gl=new Event("abort")}catch{typeof document<"u"?document.createEvent?(Gl=document.createEvent("Event")).initEvent("abort",!1,!1):(Gl=document.createEventObject()).type="abort":Gl={type:"abort",bubbles:!1,cancelable:!1}}this.signal.dispatchEvent(Gl)}},{key:"toString",value:function(){return"[object AbortController]"}}]),Bl}();typeof Symbol<"u"&&Symbol.toStringTag&&(Fl.prototype[Symbol.toStringTag]="AbortController",Rl.prototype[Symbol.toStringTag]="AbortSignal"),function(Bl){if(Bl.__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL){console.log("__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL=true is set, will force install polyfill");var Gl=!0}else Gl=typeof Bl.Request=="function"&&!Bl.Request.prototype.hasOwnProperty("signal")||!Bl.AbortController;Gl&&(Bl.AbortController=Fl,Bl.AbortSignal=Rl)}(typeof self<"u"?self:qb)}();var rF=Math.floor,sF=Math.log,tF=Math.LOG2E;wa({target:"Math",stat:!0},{clz32:function(_r){return(_r>>>=0)?31-rF(sF(_r+.5)*tF):32}});var uF=Math.log,vF=Math.LN2,NA=Math.clz32||function(_r){return 31-uF(_r>>>0)/vF|0},Uf=String.fromCharCode,av={}.toString,jo=window.Uint8Array,ko=jo||Array,wF=av.call((window.ArrayBuffer||ko).prototype),lo;dr.prototype.decode=function(_r){if(_r=_r&&_r.buffer||_r,av.call(_r)!==wF)throw Error("Failed to execute 'decode' on 'TextDecoder': The provided value is not of type '(ArrayBuffer or ArrayBufferView)'");for(var _t="",_o=0,yl=0|(_r=jo?new ko(_r):_r).length;_o<yl;_o=_o+32768|0)_t+=Uf.apply(0,_r[jo?"slice":"subarray"](_o,_o+32768|0));return _t.replace(/[\xc0-\xff][\x80-\xbf]*/g,MA)},window.TextDecoder||(window.TextDecoder=dr),er.prototype.encode=function(_r){for(var _t=0|(_r=_r===void 0?"":(""+_r).replace(/[\x80-\uD7ff\uDC00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]?/g,OA)).length,_o=new ko(_t),yl=0;yl<_t;yl=yl+1|0)_o[yl]=_r.charCodeAt(yl);return _o},window.TextEncoder||(window.TextEncoder=er),function(_r){var _t,_o,yl,El,_l,Tl,Il,Al,Rl,Fl,Bl,Gl,Ql;(_o=_t||(_t={})).LOGIN="LOGIN",_o.LOGIN_SUCCESS="LOGIN_SUCCESS",_o.LOGIN_FAILURE="LOGIN_FAILURE",_o.LOGIN_TIMEOUT="LOGIN_TIMEOUT",_o.INTERRUPTED="INTERRUPTED",_o.LOGOUT="LOGOUT",_o.BANNED_BY_SERVER="BANNED_BY_SERVER",_o.REMOTE_LOGIN="REMOTE_LOGIN",_o.TOKEN_EXPIRED="TOKEN_EXPIRED",_r.ConnectionChangeReason=_t,function(_f){_f.DISCONNECTED="DISCONNECTED",_f.CONNECTING="CONNECTING",_f.CONNECTED="CONNECTED",_f.RECONNECTING="RECONNECTING",_f.ABORTED="ABORTED"}(yl||(yl={})),_r.ConnectionState=yl,function(_f){_f.IDLE="IDLE",_f.SENT_TO_REMOTE="SENT_TO_REMOTE",_f.RECEIVED_BY_REMOTE="RECEIVED_BY_REMOTE",_f.ACCEPTED_BY_REMOTE="ACCEPTED_BY_REMOTE",_f.REFUSED_BY_REMOTE="REFUSED_BY_REMOTE",_f.CANCELED="CANCELED",_f.FAILURE="FAILURE"}(El||(El={})),_r.LocalInvitationState=El,function(_f){_f.INVITATION_RECEIVED="INVITATION_RECEIVED",_f.ACCEPT_SENT_TO_LOCAL="ACCEPT_SENT_TO_LOCAL",_f.REFUSED="REFUSED",_f.ACCEPTED="ACCEPTED",_f.CANCELED="CANCELED",_f.FAILURE="FAILURE"}(_l||(_l={})),_r.RemoteInvitationState=_l,function(_f){_f.UNKNOWN="UNKNOWN",_f.PEER_NO_RESPONSE="PEER_NO_RESPONSE",_f.INVITATION_EXPIRE="INVITATION_EXPIRE",_f.PEER_OFFLINE="PEER_OFFLINE",_f.NOT_LOGGEDIN="NOT_LOGGEDIN"}(Tl||(Tl={})),_r.LocalInvitationFailureReason=Tl,function(_f){_f.UNKNOWN="UNKNOWN",_f.PEER_OFFLINE="PEER_OFFLINE",_f.ACCEPT_FAILURE="ACCEPT_FAILURE",_f.INVITATION_EXPIRE="INVITATION_EXPIRE"}(Il||(Il={})),_r.RemoteInvitationFailureReason=Il,function(_f){_f.ONLINE="ONLINE",_f.UNREACHABLE="UNREACHABLE",_f.OFFLINE="OFFLINE"}(Al||(Al={})),_r.PeerOnlineState=Al,function(_f){_f.UNSUBSCRIBED="UNSUBSCRIBED",_f.SUBSCRIBED="SUBSCRIBED"}(Rl||(Rl={})),_r.subscribedState=Rl,(Fl||(Fl={})).ONLINE_STATUS="ONLINE_STATUS",_r.PeerSubscriptionOption=Fl,function(_f){_f.TEXT="TEXT",_f.RAW="RAW"}(Bl||(Bl={})),_r.MessageType=Bl,function(_f){_f.CN="CN",_f.NA="NA",_f.EU="EU",_f.AS="AS",_f.JP="JP",_f.IN="IN",_f.GLOB="GLOB",_f.OC="OC",_f.SA="SA",_f.AF="AF",_f.OVS="OVS"}(Gl||(Gl={})),_r.LegacyAreaCode=Gl,function(_f){_f.GLOBAL="GLOBAL",_f.INDIA="INDIA",_f.JAPAN="JAPAN",_f.ASIA="ASIA",_f.EUROPE="EUROPE",_f.CHINA="CHINA",_f.NORTH_AMERICA="NORTH_AMERICA"}(Ql||(Ql={})),_r.AreaCode=Ql}(lo||(lo={}));var Oa=lo;wa({target:"Array",proto:!0},{includes:function(_r){return Ss(this,_r,1<arguments.length?arguments[1]:void 0)}}),wf("includes");var mo=function(_r){if(gn(_r))throw TypeError("The method doesn't accept regular expressions");return _r},xF=mb("match"),no=function(_r){var _t=/./;try{"/./"[_r](_t)}catch{try{return _t[xF]=!1,"/./"[_r](_t)}catch{}}return!1};wa({target:"String",proto:!0,forced:!no("includes")},{includes:function(_r){return!!~String(Ec(this)).indexOf(mo(_r),1<arguments.length?arguments[1]:void 0)}});var Yd={RECONNECTING_AP_INTERVAL:2500,RECONNECTING_AP_NUM:2,DISABLE_MESSAGE_COMPRESSION:!1,LOG_UPLOAD_INTERVAL:3e3,LOG_HANDLER:void 0,ENABLE_EDGE_AUTO_FALLBACK:!0};Ik("iterator"),Ik("asyncIterator");var oo=gg("forEach")?[].forEach:function(_r){return fg(this,_r,1<arguments.length?arguments[1]:void 0)},bv;for(bv in Tn){var cv=na[bv],Kk=cv&&cv.prototype;if(Kk&&Kk.forEach!==oo)try{ac(Kk,"forEach",oo)}catch{Kk.forEach=oo}}var yF=[].reverse,dv=[1,2];wa({target:"Array",proto:!0,forced:String(dv)===String(dv.reverse())},{reverse:function(){return uf(this)&&(this.length=this.length),yF.call(this)}});var W=kc(function(_r){_r=function(_t){function _o(Cp,$p,Vp){return Object.defineProperty(Cp,$p,{value:Vp,enumerable:!0,configurable:!0,writable:!0}),Cp[$p]}function yl(Cp,$p,Vp,Hp){return $p=Object.create(($p&&$p.prototype instanceof _l?$p:_l).prototype),Hp=new Ql(Hp||[]),$p._invoke=function(Up,Yp,zp){var _v=xp;return function(_g,dy){if(_v===Kp)throw Error("Generator is already running");if(_v===Tp){if(_g==="throw")throw dy;return _h()}for(zp.method=_g,zp.arg=dy;;){if((_g=zp.delegate)&&(_g=Fl(_g,zp))){if(_g===Dp)continue;return _g}if(zp.method==="next")zp.sent=zp._sent=zp.arg;else if(zp.method==="throw"){if(_v===xp)throw _v=Tp,zp.arg;zp.dispatchException(zp.arg)}else zp.method==="return"&&zp.abrupt("return",zp.arg);if(_v=Kp,(_g=El(Up,Yp,zp)).type==="normal"){if(_v=zp.done?Tp:Np,_g.arg===Dp)continue;return{value:_g.arg,done:zp.done}}_g.type==="throw"&&(_v=Tp,zp.method="throw",zp.arg=_g.arg)}}}(Cp,Vp,Hp),$p}function El(Cp,$p,Vp){try{return{type:"normal",arg:Cp.call($p,Vp)}}catch(Hp){return{type:"throw",arg:Hp}}}function _l(){}function Tl(){}function Il(){}function Al(Cp){["next","throw","return"].forEach(function($p){_o(Cp,$p,function(Vp){return this._invoke($p,Vp)})})}function Rl(Cp,$p){function Vp(Up,Yp,zp,_v){if((Up=El(Cp[Up],Cp,Yp)).type!=="throw"){var _g=Up.arg;return(Up=_g.value)&&Ia(Up)==="object"&&_d.call(Up,"__await")?$p.resolve(Up.__await).then(function(dy){Vp("next",dy,zp,_v)},function(dy){Vp("throw",dy,zp,_v)}):$p.resolve(Up).then(function(dy){_g.value=dy,zp(_g)},function(dy){return Vp("throw",dy,zp,_v)})}_v(Up.arg)}var Hp;this._invoke=function(Up,Yp){function zp(){return new $p(function(_v,_g){Vp(Up,Yp,_v,_g)})}return Hp=Hp?Hp.then(zp,zp):zp()}}function Fl(Cp,$p){var Vp=Cp.iterator[$p.method];if(Vp===vp){if($p.delegate=null,$p.method==="throw"){if(Cp.iterator.return&&($p.method="return",$p.arg=vp,Fl(Cp,$p),$p.method==="throw"))return Dp;$p.method="throw",$p.arg=new TypeError("The iterator does not provide a 'throw' method")}return Dp}return(Vp=El(Vp,Cp.iterator,$p.arg)).type==="throw"?($p.method="throw",$p.arg=Vp.arg,$p.delegate=null,Dp):(Vp=Vp.arg)?Vp.done?($p[Cp.resultName]=Vp.value,$p.next=Cp.nextLoc,$p.method!=="return"&&($p.method="next",$p.arg=vp),$p.delegate=null,Dp):Vp:($p.method="throw",$p.arg=new TypeError("iterator result is not an object"),$p.delegate=null,Dp)}function Bl(Cp){var $p={tryLoc:Cp[0]};1 in Cp&&($p.catchLoc=Cp[1]),2 in Cp&&($p.finallyLoc=Cp[2],$p.afterLoc=Cp[3]),this.tryEntries.push($p)}function Gl(Cp){var $p=Cp.completion||{};$p.type="normal",delete $p.arg,Cp.completion=$p}function Ql(Cp){this.tryEntries=[{tryLoc:"root"}],Cp.forEach(Bl,this),this.reset(!0)}function _f(Cp){if(Cp){var $p=Cp[Op];if($p)return $p.call(Cp);if(typeof Cp.next=="function")return Cp;if(!isNaN(Cp.length)){var Vp=-1;return($p=function Hp(){for(;++Vp<Cp.length;)if(_d.call(Cp,Vp))return Hp.value=Cp[Vp],Hp.done=!1,Hp;return Hp.value=vp,Hp.done=!0,Hp}).next=$p}}return{next:_h}}function _h(){return{value:vp,done:!0}}var vp,up=Object.prototype,_d=up.hasOwnProperty,Ep=typeof Symbol=="function"?Symbol:{},Op=Ep.iterator||"@@iterator",Ip=Ep.asyncIterator||"@@asyncIterator",Pp=Ep.toStringTag||"@@toStringTag";try{_o({},"")}catch{_o=function($p,Vp,Hp){return $p[Vp]=Hp}}_t.wrap=yl;var xp="suspendedStart",Np="suspendedYield",Kp="executing",Tp="completed",Dp={};_o(Ep={},Op,function(){return this});var Bp=Object.getPrototypeOf;(Bp=Bp&&Bp(Bp(_f([]))))&&Bp!==up&&_d.call(Bp,Op)&&(Ep=Bp);var Qp=Il.prototype=_l.prototype=Object.create(Ep);return Tl.prototype=Il,_o(Qp,"constructor",Il),_o(Il,"constructor",Tl),Tl.displayName=_o(Il,Pp,"GeneratorFunction"),_t.isGeneratorFunction=function(Cp){return!!(Cp=typeof Cp=="function"&&Cp.constructor)&&(Cp===Tl||(Cp.displayName||Cp.name)==="GeneratorFunction")},_t.mark=function(Cp){return Object.setPrototypeOf?Object.setPrototypeOf(Cp,Il):(Cp.__proto__=Il,_o(Cp,Pp,"GeneratorFunction")),Cp.prototype=Object.create(Qp),Cp},_t.awrap=function(Cp){return{__await:Cp}},Al(Rl.prototype),_o(Rl.prototype,Ip,function(){return this}),_t.AsyncIterator=Rl,_t.async=function(Cp,$p,Vp,Hp,Up){Up===void 0&&(Up=Promise);var Yp=new Rl(yl(Cp,$p,Vp,Hp),Up);return _t.isGeneratorFunction($p)?Yp:Yp.next().then(function(zp){return zp.done?zp.value:Yp.next()})},Al(Qp),_o(Qp,Pp,"Generator"),_o(Qp,Op,function(){return this}),_o(Qp,"toString",function(){return"[object Generator]"}),_t.keys=function(Cp){var $p,Vp=[];for($p in Cp)Vp.push($p);return Vp.reverse(),function Hp(){for(;Vp.length;){var Up=Vp.pop();if(Up in Cp)return Hp.value=Up,Hp.done=!1,Hp}return Hp.done=!0,Hp}},_t.values=_f,Ql.prototype={constructor:Ql,reset:function(Cp){if(this.next=this.prev=0,this.sent=this._sent=vp,this.done=!1,this.delegate=null,this.method="next",this.arg=vp,this.tryEntries.forEach(Gl),!Cp)for(var $p in this)$p.charAt(0)==="t"&&_d.call(this,$p)&&!isNaN(+$p.slice(1))&&(this[$p]=vp)},stop:function(){this.done=!0;var Cp=this.tryEntries[0].completion;if(Cp.type==="throw")throw Cp.arg;return this.rval},dispatchException:function(Cp){function $p(_g,dy){return Yp.type="throw",Yp.arg=Cp,Vp.next=_g,dy&&(Vp.method="next",Vp.arg=vp),!!dy}if(this.done)throw Cp;for(var Vp=this,Hp=this.tryEntries.length-1;0<=Hp;--Hp){var Up=this.tryEntries[Hp],Yp=Up.completion;if(Up.tryLoc==="root")return $p("end");if(Up.tryLoc<=this.prev){var zp=_d.call(Up,"catchLoc"),_v=_d.call(Up,"finallyLoc");if(zp&&_v){if(this.prev<Up.catchLoc)return $p(Up.catchLoc,!0);if(this.prev<Up.finallyLoc)return $p(Up.finallyLoc)}else if(zp){if(this.prev<Up.catchLoc)return $p(Up.catchLoc,!0)}else{if(!_v)throw Error("try statement without catch or finally");if(this.prev<Up.finallyLoc)return $p(Up.finallyLoc)}}}},abrupt:function(Cp,$p){for(var Vp=this.tryEntries.length-1;0<=Vp;--Vp){var Hp=this.tryEntries[Vp];if(Hp.tryLoc<=this.prev&&_d.call(Hp,"finallyLoc")&&this.prev<Hp.finallyLoc){var Up=Hp;break}}return Up&&(Cp==="break"||Cp==="continue")&&Up.tryLoc<=$p&&$p<=Up.finallyLoc&&(Up=null),(Vp=Up?Up.completion:{}).type=Cp,Vp.arg=$p,Up?(this.method="next",this.next=Up.finallyLoc,Dp):this.complete(Vp)},complete:function(Cp,$p){if(Cp.type==="throw")throw Cp.arg;return Cp.type==="break"||Cp.type==="continue"?this.next=Cp.arg:Cp.type==="return"?(this.rval=this.arg=Cp.arg,this.method="return",this.next="end"):Cp.type==="normal"&&$p&&(this.next=$p),Dp},finish:function(Cp){for(var $p=this.tryEntries.length-1;0<=$p;--$p){var Vp=this.tryEntries[$p];if(Vp.finallyLoc===Cp)return this.complete(Vp.completion,Vp.afterLoc),Gl(Vp),Dp}},catch:function(Cp){for(var $p=this.tryEntries.length-1;0<=$p;--$p){var Vp=this.tryEntries[$p];if(Vp.tryLoc===Cp){if((Cp=Vp.completion).type==="throw"){var Hp=Cp.arg;Gl(Vp)}return Hp}}throw Error("illegal catch attempt")},delegateYield:function(Cp,$p,Vp){return this.delegate={iterator:_f(Cp),resultName:$p,nextLoc:Vp},this.method==="next"&&(this.arg=vp),Dp}},_t}(_r.exports);try{regeneratorRuntime=_r}catch{(typeof globalThis>"u"?"undefined":Ia(globalThis))==="object"?globalThis.regeneratorRuntime=_r:Function("r","regeneratorRuntime = r")(_r)}}),ev=!Ga(function(){return Object.isExtensible(Object.preventExtensions({}))}),po=kc(function(_r){var _t=$b.f,_o=ih("meta"),yl=0,El=Object.isExtensible||function(){return!0},_l=function(Il){_t(Il,_o,{value:{objectID:"O"+ ++yl,weakData:{}}})},Tl=_r.exports={REQUIRED:!1,fastKey:function(Il,Al){if(!fb(Il))return typeof Il=="symbol"?Il:(typeof Il=="string"?"S":"P")+Il;if(!Fa(Il,_o)){if(!El(Il))return"F";if(!Al)return"E";_l(Il)}return Il[_o].objectID},getWeakData:function(Il,Al){if(!Fa(Il,_o)){if(!El(Il))return!0;if(!Al)return!1;_l(Il)}return Il[_o].weakData},onFreeze:function(Il){return ev&&Tl.REQUIRED&&El(Il)&&!Fa(Il,_o)&&_l(Il),Il}};jh[_o]=!0}),fv=function(_r,_t,_o){var yl=_r.indexOf("Map")!==-1,El=_r.indexOf("Weak")!==-1,_l=yl?"set":"add",Tl=na[_r],Il=Tl&&Tl.prototype,Al=Tl,Rl={},Fl=function(vp){var up=Il[vp];Ob(Il,vp,vp=="add"?function(_d){return up.call(this,_d===0?0:_d),this}:vp=="delete"?function(_d){return!(El&&!fb(_d))&&up.call(this,_d===0?0:_d)}:vp=="get"?function(_d){return El&&!fb(_d)?void 0:up.call(this,_d===0?0:_d)}:vp=="has"?function(_d){return!(El&&!fb(_d))&&up.call(this,_d===0?0:_d)}:function(_d,Ep){return up.call(this,_d===0?0:_d,Ep),this})};if(ne(_r,typeof Tl!="function"||!(El||Il.forEach&&!Ga(function(){new Tl().entries().next()}))))Al=_o.getConstructor(_t,_r,yl,_l),po.REQUIRED=!0;else if(ne(_r,!0)){var Bl=new Al,Gl=Bl[_l](El?{}:-0,1)!=Bl,Ql=Ga(function(){Bl.has(1)}),_f=mk(function(vp){new Tl(vp)}),_h=!El&&Ga(function(){for(var vp=new Tl,up=5;up--;)vp[_l](up,up);return!vp.has(-0)});_f||((Al=_t(function(vp,up){return Ud(vp,Al,_r),vp=Ek(new Tl,vp,Al),up!=null&&rk(up,vp[_l],{that:vp,AS_ENTRIES:yl}),vp})).prototype=Il,Il.constructor=Al),(Ql||_h)&&(Fl("delete"),Fl("has"),yl&&Fl("get")),(_h||Gl)&&Fl(_l),El&&Il.clear&&delete Il.clear}return Rl[_r]=Al,wa({global:!0,forced:Al!=Tl},Rl),Td(Al,_r),El||_o.setStrong(Al,_r,yl),Al},zF=$b.f,gv=po.fastKey,hv=Sb.set,qo=Sb.getterFor,iv={getConstructor:function(_r,_t,_o,yl){var El=_r(function(Al,Rl){Ud(Al,El,_t),hv(Al,{type:_t,index:vd(null),first:void 0,last:void 0,size:0}),cb||(Al.size=0),Rl!=null&&rk(Rl,Al[yl],{that:Al,AS_ENTRIES:_o})}),_l=qo(_t),Tl=function(Al,Rl,Fl){var Bl,Gl=_l(Al),Ql=Il(Al,Rl);return Ql?Ql.value=Fl:(Gl.last=Ql={index:Bl=gv(Rl,!0),key:Rl,value:Fl,previous:Rl=Gl.last,next:void 0,removed:!1},Gl.first||(Gl.first=Ql),Rl&&(Rl.next=Ql),cb?Gl.size++:Al.size++,Bl!=="F"&&(Gl.index[Bl]=Ql)),Al},Il=function(Al,Rl){Al=_l(Al);var Fl=gv(Rl);if(Fl!=="F")return Al.index[Fl];for(Al=Al.first;Al;Al=Al.next)if(Al.key==Rl)return Al};return qh(El.prototype,{clear:function(){for(var Al=_l(this),Rl=Al.index,Fl=Al.first;Fl;)Fl.removed=!0,Fl.previous&&(Fl.previous=Fl.previous.next=void 0),delete Rl[Fl.index],Fl=Fl.next;Al.first=Al.last=void 0,cb?Al.size=0:this.size=0},delete:function(Al){var Rl=_l(this);if(Al=Il(this,Al)){var Fl=Al.next,Bl=Al.previous;delete Rl.index[Al.index],Al.removed=!0,Bl&&(Bl.next=Fl),Fl&&(Fl.previous=Bl),Rl.first==Al&&(Rl.first=Fl),Rl.last==Al&&(Rl.last=Bl),cb?Rl.size--:this.size--}return!!Al},forEach:function(Al){for(var Rl,Fl=_l(this),Bl=tf(Al,1<arguments.length?arguments[1]:void 0,3);Rl=Rl?Rl.next:Fl.first;)for(Bl(Rl.value,Rl.key,this);Rl&&Rl.removed;)Rl=Rl.previous},has:function(Al){return!!Il(this,Al)}}),qh(El.prototype,_o?{get:function(Al){return(Al=Il(this,Al))&&Al.value},set:function(Al,Rl){return Tl(this,Al===0?0:Al,Rl)}}:{add:function(Al){return Tl(this,Al=Al===0?0:Al,Al)}}),cb&&zF(El.prototype,"size",{get:function(){return _l(this).size}}),El},setStrong:function(_r,_t,_o){var yl=_t+" Iterator",El=qo(_t),_l=qo(yl);rn(_r,_t,function(Tl,Il){hv(this,{type:yl,target:Tl,state:El(Tl),kind:Il,last:void 0})},function(){for(var Tl=_l(this),Il=Tl.kind,Al=Tl.last;Al&&Al.removed;)Al=Al.previous;return Tl.target&&(Tl.last=Al=Al?Al.next:Tl.state.first)?Il=="keys"?{value:Al.key,done:!1}:Il=="values"?{value:Al.value,done:!1}:{value:[Al.key,Al.value],done:!1}:(Tl.target=void 0,{value:void 0,done:!0})},_o?"entries":"values",!_o,!0),Ii(_t)}};fv("Set",function(_r){return function(){return _r(this,arguments.length?arguments[0]:void 0)}},iv);var AF=yi,jv=function(_r){return function(_t){_t=Qc(_t);for(var _o,yl=Ie(_t),El=yl.length,_l=0,Tl=[];El>_l;)_o=yl[_l++],cb&&!AF.call(_t,_o)||Tl.push(_r?[_o,_t[_o]]:_t[_o]);return Tl}},BF=jv(!0),CF=jv(!1);wa({target:"Object",stat:!0},{values:function(_r){return CF(_r)}});var ro=me("Reflect","apply"),DF=Function.apply,EF=!Ga(function(){ro(function(){})});wa({target:"Reflect",stat:!0,forced:EF},{apply:function(_r,_t,_o){return Rc(_r),ub(_o),ro?ro(_r,_t,_o):DF.call(_r,_t,_o)}}),wa({target:"Reflect",stat:!0},{ownKeys:Us});var kv=mb("isConcatSpreadable"),FF=51<=oe||!Ga(function(){var _r=[];return _r[kv]=!1,_r.concat()[0]!==_r}),GF=Fi("concat");wa({target:"Array",proto:!0,forced:!FF||!GF},{concat:function(_r){var _t,_o=Zb(this),yl=Ei(_o,0),El=0,_l=-1;for(_t=arguments.length;_l<_t;_l++){var Tl=_l===-1?_o:arguments[_l],Il=Tl;if(fb(Il)){var Al=Il[kv];Il=Al!==void 0?!!Al:uf(Il)}else Il=!1;if(Il){if(9007199254740991<El+(Al=xb(Tl.length)))throw TypeError("Maximum allowed index exceeded");for(Il=0;Il<Al;Il++,El++)Il in Tl&&oh(yl,El,Tl[Il])}else{if(9007199254740991<=El)throw TypeError("Maximum allowed index exceeded");oh(yl,El++,Tl)}}return yl.length=El,yl}});var HF=Yn,IF=Ga(function(){return!Object.getOwnPropertyNames(1)});wa({target:"Object",stat:!0,forced:IF},{getOwnPropertyNames:HF});var JF=dg.f,KF=pd.f,LF=$b.f,Bf=na.Number,Lk=Bf.prototype,MF=Qd(vd(Lk))=="Number",lv=function(_r){var _t,_o=le(_r,!1);if(typeof _o=="string"&&2<_o.length){if((_r=(_o=kk(_o)).charCodeAt(0))===43||_r===45){if((_r=_o.charCodeAt(2))===88||_r===120)return NaN}else if(_r===48){switch(_o.charCodeAt(1)){case 66:case 98:_r=2;var yl=49;break;case 79:case 111:_r=8,yl=55;break;default:return+_o}var El=(_o=_o.slice(2)).length;for(_t=0;_t<El;_t++){var _l=_o.charCodeAt(_t);if(48>_l||_l>yl)return NaN}return parseInt(_o,_r)}}return+_o};if(ne("Number",!Bf(" 0o1")||!Bf("0b1")||Bf("+0x1"))){for(var mg=function(_r){var _t=1>arguments.length?0:_r,_o=this;return _o instanceof mg&&(MF?Ga(function(){Lk.valueOf.call(_o)}):Qd(_o)!="Number")?Ek(new Bf(lv(_t)),_o,mg):lv(_t)},mv=cb?JF(Bf):"MAX_VALUE MIN_VALUE NaN NEGATIVE_INFINITY POSITIVE_INFINITY EPSILON isFinite isInteger isNaN isSafeInteger MAX_SAFE_INTEGER MIN_SAFE_INTEGER parseFloat parseInt isInteger fromString range".split(" "),so=0,Mk;mv.length>so;so++)Fa(Bf,Mk=mv[so])&&!Fa(mg,Mk)&&LF(mg,Mk,KF(Bf,Mk));mg.prototype=Lk,Lk.constructor=mg,Ob(na,"Number",mg)}var yh=(typeof Reflect>"u"?"undefined":Ia(Reflect))==="object"?Reflect:null,nv=yh&&typeof yh.apply=="function"?yh.apply:function(_r,_t,_o){return Function.prototype.apply.call(_r,_t,_o)},NF=yh&&typeof yh.ownKeys=="function"?yh.ownKeys:Object.getOwnPropertySymbols?function(_r){return Object.getOwnPropertyNames(_r).concat(Object.getOwnPropertySymbols(_r))}:function(_r){return Object.getOwnPropertyNames(_r)},ov=Number.isNaN||function(_r){return _r!=_r};kb.EventEmitter=kb,kb.prototype._events=void 0,kb.prototype._eventsCount=0,kb.prototype._maxListeners=void 0;var pv=10;Object.defineProperty(kb,"defaultMaxListeners",{enumerable:!0,get:function(){return pv},set:function(_r){if(typeof _r!="number"||0>_r||ov(_r))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+_r+".");pv=_r}}),kb.init=function(){this._events!==void 0&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},kb.prototype.setMaxListeners=function(_r){if(typeof _r!="number"||0>_r||ov(_r))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+_r+".");return this._maxListeners=_r,this},kb.prototype.getMaxListeners=function(){return this._maxListeners===void 0?kb.defaultMaxListeners:this._maxListeners},kb.prototype.emit=function(_r){for(var _t=[],_o=1;_o<arguments.length;_o++)_t.push(arguments[_o]);_o=_r==="error";var yl=this._events;if(yl!==void 0)_o=_o&&yl.error===void 0;else if(!_o)return!1;if(_o){var El;throw 0<_t.length&&(El=_t[0]),El instanceof Error?El:((_t=Error("Unhandled error."+(El?" ("+El.message+")":""))).context=El,_t)}if((_o=yl[_r])===void 0)return!1;if(typeof _o=="function")nv(_o,this,_t);else for(yl=ir(_o,El=_o.length),_o=0;_o<El;++_o)nv(yl[_o],this,_t);return!0},kb.prototype.addListener=function(_r,_t){return fr(this,_r,_t,!1)},kb.prototype.on=kb.prototype.addListener,kb.prototype.prependListener=function(_r,_t){return fr(this,_r,_t,!0)},kb.prototype.once=function(_r,_t){return Cj(_t),this.on(_r,gr(this,_r,_t)),this},kb.prototype.prependOnceListener=function(_r,_t){return Cj(_t),this.prependListener(_r,gr(this,_r,_t)),this},kb.prototype.removeListener=function(_r,_t){var _o;Cj(_t);var yl=this._events;if(yl===void 0)return this;var El=yl[_r];if(El===void 0)return this;if(El===_t||El.listener===_t)--this._eventsCount==0?this._events=Object.create(null):(delete yl[_r],yl.removeListener&&this.emit("removeListener",_r,El.listener||_t));else if(typeof El!="function"){var _l=-1;for(_o=El.length-1;0<=_o;_o--)if(El[_o]===_t||El[_o].listener===_t){var Tl=El[_o].listener;_l=_o;break}if(0>_l)return this;if(_l===0)El.shift();else{for(;_l+1<El.length;_l++)El[_l]=El[_l+1];El.pop()}El.length===1&&(yl[_r]=El[0]),yl.removeListener!==void 0&&this.emit("removeListener",_r,Tl||_t)}return this},kb.prototype.off=kb.prototype.removeListener,kb.prototype.removeAllListeners=function(_r){var _t=this._events;if(_t===void 0)return this;if(_t.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):_t[_r]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete _t[_r]),this;if(arguments.length===0){var _o=Object.keys(_t);for(_t=0;_t<_o.length;++_t){var yl=_o[_t];yl!=="removeListener"&&this.removeAllListeners(yl)}return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(typeof(_o=_t[_r])=="function")this.removeListener(_r,_o);else if(_o!==void 0)for(_t=_o.length-1;0<=_t;_t--)this.removeListener(_r,_o[_t]);return this},kb.prototype.listeners=function(_r){return hr(this,_r,!0)},kb.prototype.rawListeners=function(_r){return hr(this,_r,!1)},kb.listenerCount=function(_r,_t){return typeof _r.listenerCount=="function"?_r.listenerCount(_t):jr.call(_r,_t)},kb.prototype.listenerCount=jr,kb.prototype.eventNames=function(){return 0<this._eventsCount?NF(this._events):[]},kb.once=function(_r,_t){return new Promise(function(_o,yl){function El(Tl){_r.removeListener(_t,_l),yl(Tl)}function _l(){typeof _r.removeListener=="function"&&_r.removeListener("error",El),_o([].slice.call(arguments))}kr(_r,_t,_l,{once:!0}),_t!=="error"&&QA(_r,El,{once:!0})})};var zh=Object.assign,qv=Object.defineProperty,Vi=!zh||Ga(function(){if(cb&&zh({b:1},zh(qv({},"a",{enumerable:!0,get:function(){qv(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var _r={},_t={},_o=Symbol();return _r[_o]=7,"abcdefghijklmnopqrst".split("").forEach(function(yl){_t[yl]=yl}),zh({},_r)[_o]!=7||Ie(zh({},_t)).join("")!="abcdefghijklmnopqrst"})?function(_r,_t){for(var _o=Zb(_r),yl=arguments.length,El=1,_l=Ai.f,Tl=yi;yl>El;)for(var Il,Al=zi(arguments[El++]),Rl=_l?Ie(Al).concat(_l(Al)):Ie(Al),Fl=Rl.length,Bl=0;Fl>Bl;)Il=Rl[Bl++],(!cb||Tl.call(Al,Il))&&(_o[Il]=Al[Il]);return _o}:zh;wa({target:"Object",stat:!0,forced:Object.assign!==Vi},{assign:Vi}),fv("Map",function(_r){return function(){return _r(this,arguments.length?arguments[0]:void 0)}},iv);var OF=Math.log,PF=Math.LN2;wa({target:"Math",stat:!0},{log2:function(_r){return OF(_r)/PF}});var QF=$b.f,RF=dg.f,SF=Sb.enforce,TF=mb("match"),te=na.RegExp,to=te.prototype,Wi=/a/g,uo=/a/g,vo=new te(Wi)!==Wi;if(cb&&ne("RegExp",!vo||Sd||Ga(function(){return uo[TF]=!1,te(Wi)!=Wi||te(uo)==uo||te(Wi,"i")!="/a/i"}))){for(var Oe=function(_r,_t){var _o,yl=this instanceof Oe,El=gn(_r),_l=_t===void 0;return!yl&&El&&_r.constructor===Oe&&_l||(vo?El&&!_l&&(_r=_r.source):_r instanceof Oe&&(_l&&(_t=hk.call(_r)),_r=_r.source),Sd&&(_o=!!_t&&-1<_t.indexOf("y"))&&(_t=_t.replace(/y/g,"")),_r=Ek(vo?new te(_r,_t):te(_r,_t),yl?this:to,Oe),Sd&&_o&&(SF(_r).sticky=!0)),_r},UF=function(_r){_r in Oe||QF(Oe,_r,{configurable:!0,get:function(){return te[_r]},set:function(_t){te[_r]=_t}})},rv=RF(te),sv=0;rv.length>sv;)UF(rv[sv++]);to.constructor=Oe,Oe.prototype=to,Ob(na,"RegExp",Oe)}Ii("RegExp"),Ri("Float32",function(_r){return function(_t,_o,yl){return _r(this,_t,_o,yl)}}),Ri("Float64",function(_r){return function(_t,_o,yl){return _r(this,_t,_o,yl)}}),Ri("Uint32",function(_r){return function(_t,_o,yl){return _r(this,_t,_o,yl)}}),Ri("Uint16",function(_r){return function(_t,_o,yl){return _r(this,_t,_o,yl)}});var wo=function(_r,_t){return _r===_t?0:_r==null?_t==null?0:-1:_t==null?_r==null?0:1:typeof _r.compare=="function"?_r.compare(_t):typeof _t.compare=="function"?-_t.compare(_r):_r<_t?-1:_r>_t?1:0},xo=[],tv=xo.sort,VF=Ga(function(){xo.sort(void 0)}),WF=Ga(function(){xo.sort(null)}),XF=gg("sort");wa({target:"Array",proto:!0,forced:VF||!WF||!XF},{sort:function(_r){return _r===void 0?tv.call(Zb(this)):tv.call(Zb(this),Rc(_r))}});var uv=Object.getPrototypeOf({}),Xi=function(_r,_t){var _o;return _r===_t||(_r==null?_r==_t:Ia(_r.equiv)==="function"?_r.equiv(_t):_t==null?_r==_t:Ia(_t.equiv)==="function"?_t.equiv(_r):Ia(_r)!=="string"&&Ia(_t)!=="string"&&((_o=Object.getPrototypeOf(_r))!=null&&_o!==uv||(_o=Object.getPrototypeOf(_t))!=null&&_o!==uv?Ia(_r)!=="function"&&_r.length!==void 0&&Ia(_t)!=="function"&&_t.length!==void 0?ZF(_r,_t):_r instanceof Set&&_t instanceof Set?$F(_r,_t):_r instanceof Map&&_t instanceof Map?aG(_r,_t):_r instanceof Date&&_t instanceof Date?_r.getTime()===_t.getTime():_r instanceof RegExp&&_t instanceof RegExp?_r.toString()===_t.toString():_r!=_r&&_t!=_t:YF(_r,_t)))},ZF=function(_r,_t){var _o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:Xi,yl=_r.length;if(yl===_t.length)for(;0<=--yl&&_o(_r[yl],_t[yl]););return 0>yl},$F=function(_r,_t){var _o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:Xi;return _r.size===_t.size&&_o(ra(_r.keys()).sort(),ra(_t.keys()).sort())},aG=function(_r,_t){var _o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:Xi;return _r.size===_t.size&&_o(ra(_r).sort(),ra(_t).sort())},YF=function(_r,_t){var _o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:Xi;if(Object.keys(_r).length!==Object.keys(_t).length)return!1;for(var yl in _r)if(!_t.hasOwnProperty(yl)||!_o(_r[yl],_t[yl]))return!1;return!0},vv=function(_r){var _t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:function(_o){return _o!==void 0?": "+_o:""};return function(_o){function yl(_l){return ab(this,yl),El.call(this,_r(_l)+_t(_l))}nb(yl,_o);var El=ob(yl);return yl}(di(Error))},bG=vv(function(){return"illegal argument(s)"}),Nk=function(_r){throw new bG(_r)},yo=vv(function(){return"index out of bounds"}),wv=1/4294967295,cG=function(){function _r(){ab(this,_r)}return Qb(_r,[{key:"float",value:function(){var _t=0<arguments.length&&arguments[0]!==void 0?arguments[0]:1;return this.int()*wv*_t}},{key:"norm",value:function(){var _t=0<arguments.length&&arguments[0]!==void 0?arguments[0]:1;return 2*(this.int()*wv-.5)*_t}},{key:"minmax",value:function(_t,_o){return this.float()*(_o-_t)+_t}}]),_r}(),zo=Math.random,dG=new(function(_r){function _t(){return ab(this,_t),_o.apply(this,arguments)}nb(_t,_r);var _o=ob(_t);return Qb(_t,[{key:"int",value:function(){return 4294967296*zo()>>>0}},{key:"float",value:function(){var yl=0<arguments.length&&arguments[0]!==void 0?arguments[0]:1;return zo()*yl}},{key:"norm",value:function(){var yl=0<arguments.length&&arguments[0]!==void 0?arguments[0]:1;return 2*(zo()-.5)*yl}}]),_t}(cG)),hm=Symbol(),nr=function(){},eG=po.onFreeze,Ao=Object.freeze,fG=Ga(function(){Ao(1)});wa({target:"Object",stat:!0,forced:fG,sham:!ev},{freeze:function(_r){return Ao&&fb(_r)?Ao(eG(_r)):_r}});var gG=gg("reduce"),hG=!qe&&79<oe&&83>oe;wa({target:"Array",proto:!0,forced:!gG||hG},{reduce:function(_r){return Bu(this,_r,arguments.length,1<arguments.length?arguments[1]:void 0)}});var mr=function(_r){return _r!=null&&typeof _r.xform=="function"?_r.xform():_r},Dj=function(){function _r(_t){ab(this,_r),this.value=_t}return Qb(_r,[{key:"deref",value:function(){return this.value}}]),_r}(),im=function(_r){return _r instanceof Dj?_r.deref():_r},SA=function(_r,_t){return[_r,function(_o){return _o},_t]},iG=W.mark(function(_r,_t){var _o,yl,El,_l,Tl,Il;return W.wrap(function(Al){for(;;)switch(Al.prev=Al.next){case 0:_o=mr(_r)(RA()),yl=_o[1],El=_o[2],_l=0;case 4:if(!(_l<_t.length)){Al.next=15;break}if(Tl=_t[_l],!((Il=El([],Tl))instanceof Dj)){Al.next=10;break}return Al.delegateYield(im(yl(Il.deref())),"t0",9);case 9:return Al.abrupt("return");case 10:if(!Il.length){Al.next=12;break}return Al.delegateYield(Il,"t1",12);case 12:_l++,Al.next=4;break;case 15:return Al.delegateYield(im(yl([])),"t2",16);case 16:case"end":return Al.stop()}},iG)}),TA=W.mark(lr),UA=function(_r,_t){return[_r[0],_r[1],_t]},xv=!0;"findIndex"in[]&&Array(1).findIndex(function(){xv=!1}),wa({target:"Array",proto:!0,forced:xv},{findIndex:function(_r){return lt(this,_r,1<arguments.length?arguments[1]:void 0)}}),wf("findIndex"),wa({target:"Array",proto:!0},{fill:In}),wf("fill");var jG=function(){function _r(_t){ab(this,_r),this._length=0,_t&&this.into(_t)}return Qb(_r,[{key:"length",get:function(){return this._length}},{key:"copy",value:function(){return new _r(this)}},{key:"empty",value:function(){return new _r}},{key:"clear",value:function(){this.release()}},{key:"release",value:function(){for(var _t,_o=this.head;_o;)_t=_o.next,delete _o.value,delete _o.prev,delete _o.next,_o=_t;return delete this.head,delete this.tail,this._length=0,!0}},{key:"compare",value:function(_t){var _o=this._length;if(_o<_t._length)return-1;if(_o>_t._length)return 1;if(_o===0)return 0;_o=this.head,_t=_t.head;for(var yl=0;_o&&yl==0;)yl=wo(_o.value,_t.value),_o=_o.next,_t=_t.next;return yl}},{key:"equiv",value:function(_t){if(!(_t instanceof _r||_t!=null&&typeof _t!="function"&&_t.length!==void 0)||this._length!==_t.length)return!1;if(!this._length||this===_t)return!0;for(var _o=this.head,yl=0;yl<_t.length;yl++){if(!Xi(_o.value,_t[yl]))return!1;_o=_o.next}return!0}},{key:Symbol.iterator,value:W.mark(function _t(){var _o;return W.wrap(function(yl){for(;;)switch(yl.prev=yl.next){case 0:_o=this.head;case 1:if(!_o){yl.next=7;break}return yl.next=4,_o.value;case 4:_o=_o.next,yl.next=1;break;case 7:case"end":return yl.stop()}},_t,this)})},{key:"seq",value:function(){var _t=0<arguments.length&&arguments[0]!==void 0?arguments[0]:0,_o=1<arguments.length&&arguments[1]!==void 0?arguments[1]:this.length;if(!(_t>=_o||0>_t)){_t=this.nthCell(_t);var yl=this.nthCell(_o-1);return _o=function El(_l){return{first:function(){return _l.value},next:function(){return _l!==yl&&_l.next?El(_l.next):void 0}}},_t?_o(_t):void 0}}},{key:"cycle",value:W.mark(function _t(){return W.wrap(function(_o){for(;;)switch(_o.prev=_o.next){case 0:return _o.delegateYield(this,"t0",2);case 2:_o.next=0;break;case 4:case"end":return _o.stop()}},_t,this)})},{key:"$reduce",value:function(_t,_o){for(var yl=this.head;yl&&!(_o instanceof Dj);)_o=_t(_o,yl.value),yl=yl.next;return _o}},{key:"drop",value:function(){var _t=this.head;if(_t)return(this.head=_t.next)?delete this.head.prev:delete this.tail,this._length--,_t.value}},{key:"cons",value:function(_t){return _t={value:_t,next:this.head},this.head?this.head.prev=_t:this.tail=_t,this.head=_t,this._length++,this}},{key:"insertBefore",value:function(_t,_o){return _t||Nk("cell is undefined"),_o={value:_o,next:_t,prev:_t.prev},_t.prev?_t.prev.next=_o:this.head=_o,_t.prev=_o,this._length++,this}},{key:"insertAfter",value:function(_t,_o){return _t||Nk("cell is undefined"),_o={value:_o,next:_t.next,prev:_t},_t.next?_t.next.prev=_o:this.tail=_o,_t.next=_o,this._length++,this}},{key:"insertBeforeNth",value:function(_t,_o){if(0>_t&&(_t+=this._length),0>=_t)return this.cons(_o);if(0>_t||_t>=this._length)throw new yo(_t);return this.insertBefore(this.nthCellUnsafe(_t),_o)}},{key:"insertAfterNth",value:function(_t,_o){if(0>_t&&(_t+=this._length),_t>=this._length-1)return this.push(_o);if(0>_t||_t>=this._length)throw new yo(_t);return this.insertAfter(this.nthCellUnsafe(_t),_o)}},{key:"insertSorted",value:function(_t,_o){_o=_o||wo;for(var yl=this.head;yl;){if(0>=_o(_t,yl.value))return this.insertBefore(yl,_t);yl=yl.next}return this.push(_t)}},{key:"find",value:function(_t){for(var _o=this.head;_o;){if(_o.value===_t)return _o;_o=_o.next}}},{key:"findWith",value:function(_t){for(var _o=this.head;_o;){if(_t(_o.value))return _o;_o=_o.next}}},{key:"concat",value:function(){for(var _t=this.copy(),_o=arguments.length,yl=Array(_o),El=0;El<_o;El++)yl[El]=arguments[El];for(_o=0;_o<yl.length;_o++)_t.into(yl[_o]);return _t}},{key:"into",value:function(_t){for(var _o=0;_o<_t.length;_o++)this.push(_t[_o])}},{key:"slice",value:function(){var _t=0<arguments.length&&arguments[0]!==void 0?arguments[0]:0,_o=1<arguments.length&&arguments[1]!==void 0?arguments[1]:this.length;_t=0>_t?_t+this._length:_t,_o=0>_o?_o+this._length:_o,(0>_t||0>_o)&&Nk("invalid indices: ${from} / ${to}");for(var yl=new _r,El=this.nthCell(_t);El&&++_t<=_o;)yl.push(El.value),El=El.next;return yl}},{key:"splice",value:function(_t){var _o=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,yl=2<arguments.length?arguments[2]:void 0;if(typeof _t=="number"){if(0>_t&&(_t+=this._length),0>_t||_t>=this._length)throw new yo(_t);var El=this.nthCellUnsafe(_t)}else El=_t;var _l=new _r;if(0<_o)for(;El&&0<_o--;)this.remove(El),_l.push(El.value),El=El.next;else El&&(El=El.next);if(yl)if(El)for(_o=0;_o<yl.length;_o++)this.insertBefore(El,yl[_o]);else for(El=0;El<yl.length;El++)this.push(yl[El]);return _l}},{key:"remove",value:function(_t){return _t.prev?_t.prev.next=_t.next:this.head=_t.next,_t.next?_t.next.prev=_t.prev:this.tail=_t.prev,this._length--,this}},{key:"swap",value:function(_t,_o){if(_t!==_o){var yl=_t.value;_t.value=_o.value,_o.value=yl}return this}},{key:"push",value:function(_t){return this.tail?(_t={value:_t,prev:this.tail},this.tail=this.tail.next=_t,this._length++,this):this.cons(_t)}},{key:"pop",value:function(){var _t=this.tail;if(_t)return(this.tail=_t.prev)?delete this.tail.next:delete this.head,this._length--,_t.value}},{key:"first",value:function(){return this.head&&this.head.value}},{key:"peek",value:function(){return this.tail&&this.tail.value}},{key:"setHead",value:function(_t){return this.head?(this.head.value=_t,this):this.cons(_t)}},{key:"setTail",value:function(_t){return this.tail?(this.tail.value=_t,this):this.push(_t)}},{key:"setNth",value:function(_t,_o){var yl=this.nthCell(_t);return!yl&&Nk("index out of bounds: ".concat(_t)),yl.value=_o,this}},{key:"nth",value:function(_t,_o){return(_t=this.nthCell(_t))?_t.value:_o}},{key:"nthCell",value:function(_t){if(0>_t&&(_t+=this._length),!(0>_t||_t>=this._length))return this.nthCellUnsafe(_t)}},{key:"rotateLeft",value:function(){switch(this._length){case 0:case 1:return this;case 2:return this.swap(this.head,this.tail);default:return this.push(this.drop())}}},{key:"rotateRight",value:function(){switch(this._length){case 0:case 1:return this;case 2:return this.swap(this.head,this.tail);default:var _t=this.peek();return this.pop(),this.cons(_t)}}},{key:"map",value:function(_t){for(var _o=new _r,yl=this.head;yl;)_o.push(_t(yl.value)),yl=yl.next;return _o}},{key:"filter",value:function(_t){for(var _o=new _r,yl=this.head;yl;)_t(yl.value)&&_o.push(yl.value),yl=yl.next;return _o}},{key:"reduce",value:function(_t,_o){for(var yl=this.head;yl;)_o=_t(_o,yl.value),yl=yl.next;return _o}},{key:"shuffle",value:function(_t){var _o=1<arguments.length&&arguments[1]!==void 0?arguments[1]:dG;if(2>this._length)return this;for(_t=_t??Math.ceil(1.5*Math.log2(this._length));0<_t;_t--)for(var yl=this.head;yl;){var El=yl.next;.5>_o.float()?this.asHead(yl):this.asTail(yl),yl=El}return this}},{key:"sort",value:function(){var _t=0<arguments.length&&arguments[0]!==void 0?arguments[0]:wo;if(!this._length)return this;for(var _o=1;;){var yl=this.head;this.tail=this.head=void 0;for(var El=0;yl;){El++;for(var _l=yl,Tl=0,Il=0;Il<_o&&(Tl++,_l=_l.next);Il++);for(Il=_o;0<Tl||0<Il&&_l;){if(Tl===0){var Al=_l;_l=_l.next,Il--}else _l&&Il!==0?0>=_t(yl.value,_l.value)?(Al=yl,yl=yl.next,Tl--):(Al=_l,_l=_l.next,Il--):(Al=yl,yl=yl.next,Tl--);this.tail?this.tail.next=Al:this.head=Al,Al.prev=this.tail,this.tail=Al}yl=_l}if(this.tail.next=void 0,1>=El)return this;_o*=2}}},{key:"reverse",value:function(){for(var _t=this.head,_o=this.tail,yl=(this._length>>>1)+(1&this._length);_t&&_o&&0<yl;){var El=_t.value;_t.value=_o.value,_o.value=El,_t=_t.next,_o=_o.prev,yl--}return this}},{key:"asHead",value:function(_t){return _t===this.head||(this.remove(_t),this.head.prev=_t,_t.next=this.head,_t.prev=void 0,this.head=_t,this._length++),this}},{key:"asTail",value:function(_t){return _t===this.tail||(this.remove(_t),this.tail.next=_t,_t.prev=this.tail,_t.next=void 0,this.tail=_t,this._length++),this}},{key:"toString",value:function(){for(var _t=[],_o=this.head;_o;)_t.push(String(_o.value)),_o=_o.next;return _t.join(", ")}},{key:"toJSON",value:function(){return ra(this)}},{key:"nthCellUnsafe",value:function(_t){if(_t<=this._length>>1)var _o=this.head,yl="next";else _o=this.tail,yl="prev",_t=this._length-_t-1;for(;0<_t--&&_o;)_o=_o[yl];return _o}}]),_r}(),ue=function(){function _r(_t,_o){ab(this,_r),_o=Object.assign({maxlen:1/0,maxsize:1/0,map:function(){return new Map},ksize:function(){return 0},vsize:function(){return 0}},_o),this.map=_o.map(),this.items=new jG,this._size=0,this.opts=_o,_t&&this.into(_t)}return Qb(_r,[{key:"length",get:function(){return this.items.length}},{key:"size",get:function(){return this._size}},{key:Symbol.iterator,value:function(){return this.entries()}},{key:"entries",value:function(){return Ej(function(_t){return[_t.k,_t]},this.items)}},{key:"keys",value:function(){return Ej(function(_t){return _t.k},this.items)}},{key:"values",value:function(){return Ej(function(_t){return _t.v},this.items)}},{key:"copy",value:function(){var _t=this.empty();_t.items=this.items.copy();for(var _o=_t.items.head;_o;)_t.map.set(_o.value.k,_o),_o=_o.next;return _t}},{key:"empty",value:function(){return new _r(null,this.opts)}},{key:"release",value:function(){this._size=0,this.map.clear();var _t=this.opts.release;if(_t){for(var _o;_o=this.items.drop();)_t(_o.k,_o.v);return!0}return this.items.release()}},{key:"has",value:function(_t){return this.map.has(_t)}},{key:"get",value:function(_t,_o){return(_t=this.map.get(_t))?this.resetEntry(_t):_o}},{key:"set",value:function(_t,_o){var yl=this.opts.ksize(_t)+this.opts.vsize(_o),El=this.map.get(_t);return this._size+=Math.max(0,yl-(El?El.value.s:0)),this.ensureSize()&&this.doSetEntry(El,_t,_o,yl),_o}},{key:"into",value:function(_t){for(var _o=0;_o<_t.length;_o++){var yl=_t[_o];this.set(yl[0],yl[1])}return this}},{key:"getSet",value:function(_t,_o){var yl=this,El=this.map.get(_t);return El?Promise.resolve(this.resetEntry(El)):_o().then(function(_l){return yl.set(_t,_l)})}},{key:"delete",value:function(_t){return!!(_t=this.map.get(_t))&&(this.removeEntry(_t),!0)}},{key:"resetEntry",value:function(_t){return this.items.asTail(_t),_t.value.v}},{key:"ensureSize",value:function(){for(var _t=this.opts.release,_o=this.opts.maxsize,yl=this.opts.maxlen;this._size>_o||this.length>=yl;){var El=this.items.drop();if(!El)return!1;this.map.delete(El.k),_t&&_t(El.k,El.v),this._size-=El.s}return!0}},{key:"removeEntry",value:function(_t){var _o=_t.value;this.map.delete(_o.k),this.items.remove(_t),this.opts.release&&this.opts.release(_o.k,_o.v),this._size-=_o.s}},{key:"doSetEntry",value:function(_t,_o,yl,El){_t?(_t.value.v=yl,_t.value.s=El,this.items.asTail(_t)):(this.items.push({k:_o,v:yl,s:El}),this.map.set(_o,this.items.tail))}}]),_r}(),kG=function(_r){function _t(yl,El){return ab(this,_t),El=Object.assign({ttl:36e5},El),_o.call(this,yl,El)}nb(_t,_r);var _o=ob(_t);return Qb(_t,[{key:"empty",value:function(){return new _t(null,this.opts)}},{key:"has",value:function(yl){return this.get(yl)!==void 0}},{key:"get",value:function(yl,El){if(yl=this.map.get(yl)){if(yl.value.t>=Date.now())return this.resetEntry(yl);this.removeEntry(yl)}return El}},{key:"set",value:function(yl,El){var _l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:this.opts.ttl,Tl=this.opts.ksize(yl)+this.opts.vsize(El),Il=this.map.get(yl);return this._size+=Math.max(0,Tl-(Il?Il.value.s:0)),this.ensureSize()&&(_l=Date.now()+_l,Il?(Il.value.v=El,Il.value.s=Tl,Il.value.t=_l,this.items.asTail(Il)):(this.items.push({k:yl,v:El,s:Tl,t:_l}),this.map.set(yl,this.items.tail))),El}},{key:"getSet",value:function(yl,El){var _l=this,Tl=2<arguments.length&&arguments[2]!==void 0?arguments[2]:this.opts.ttl,Il=this.get(yl);return Il?Promise.resolve(Il):El().then(function(Al){return _l.set(yl,Al,Tl)})}},{key:"prune",value:function(){for(var yl=Date.now(),El=this.items.head;El;)El.value.t<yl&&this.removeEntry(El),El=El.next}},{key:"ensureSize",value:function(){for(var yl=this.opts.maxsize,El=this.opts.maxlen,_l=Date.now(),Tl=this.items.head;Tl&&(this._size>yl||this.length>=El);)Tl.value.t<_l&&this.removeEntry(Tl),Tl=Tl.next;return fm(Tf(_t.prototype),"ensureSize",this).call(this)}}]),_t}(ue),yv=Ia(qb)=="object"&&qb&&qb.Object===Object&&qb,lG=(typeof self>"u"?"undefined":Ia(self))=="object"&&self&&self.Object===Object&&self,hd=yv||lG||Function("return this")(),xd=hd.Symbol,zv=Object.prototype,mG=zv.hasOwnProperty,nG=zv.toString,Yi=xd?xd.toStringTag:void 0,oG=Object.prototype.toString,Av=xd?xd.toStringTag:void 0,ng=function(_r){if(_r==null)_r=_r===void 0?"[object Undefined]":"[object Null]";else if(Av&&Av in Object(_r)){var _t=mG.call(_r,Yi),_o=_r[Yi];try{_r[Yi]=void 0;var yl=!0}catch{}var El=nG.call(_r);yl&&(_t?_r[Yi]=_o:delete _r[Yi]),_r=El}else _r=oG.call(_r);return _r},Kc=function(_r){var _t=Ia(_r);return _r!=null&&(_t=="object"||_t=="function")},Em=function(_r){return!!Kc(_r)&&((_r=ng(_r))=="[object Function]"||_r=="[object GeneratorFunction]"||_r=="[object AsyncFunction]"||_r=="[object Proxy]")},Bo=hd["__core-js_shared__"],Bv=function(){var _r=/[^.]+$/.exec(Bo&&Bo.keys&&Bo.keys.IE_PROTO||"");return _r?"Symbol(src)_1."+_r:""}(),pG=Function.prototype.toString,og=function(_r){if(_r!=null){try{return pG.call(_r)}catch{}return _r+""}return""},qG=/^\[object .+?Constructor\]$/,rG=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),pg=function(_r,_t){return _r=_r==null?void 0:_r[_t],!Kc(_r)||Bv&&Bv in _r||!(Em(_r)?rG:qG).test(og(_r))?void 0:_r},Zi=pg(Object,"create"),sG=Object.prototype.hasOwnProperty,tG=Object.prototype.hasOwnProperty;Vf.prototype.clear=function(){this.__data__=Zi?Zi(null):{},this.size=0},Vf.prototype.delete=function(_r){return _r=this.has(_r)&&delete this.__data__[_r],this.size-=_r?1:0,_r},Vf.prototype.get=function(_r){var _t=this.__data__;return Zi?(_r=_t[_r])==="__lodash_hash_undefined__"?void 0:_r:sG.call(_t,_r)?_t[_r]:void 0},Vf.prototype.has=function(_r){var _t=this.__data__;return Zi?_t[_r]!==void 0:tG.call(_t,_r)},Vf.prototype.set=function(_r,_t){var _o=this.__data__;return this.size+=this.has(_r)?0:1,_o[_r]=Zi&&_t===void 0?"__lodash_hash_undefined__":_t,this};var $i=function(_r,_t){return _r===_t||_r!=_r&&_t!=_t},Ok=function(_r,_t){for(var _o=_r.length;_o--;)if($i(_r[_o][0],_t))return _o;return-1},uG=Array.prototype.splice;Mg.prototype.clear=function(){this.__data__=[],this.size=0},Mg.prototype.delete=function(_r){var _t=this.__data__;return!(0>(_r=Ok(_t,_r)))&&(_r==_t.length-1?_t.pop():uG.call(_t,_r,1),--this.size,!0)},Mg.prototype.get=function(_r){var _t=this.__data__;return 0>(_r=Ok(_t,_r))?void 0:_t[_r][1]},Mg.prototype.has=function(_r){return-1<Ok(this.__data__,_r)},Mg.prototype.set=function(_r,_t){var _o=this.__data__,yl=Ok(_o,_r);return 0>yl?(++this.size,_o.push([_r,_t])):_o[yl][1]=_t,this};var Gj=Mg,aj=pg(hd,"Map"),Pk=function(_r,_t){_r=_r.__data__;var _o=Ia(_t);return(_o=="string"||_o=="number"||_o=="symbol"||_o=="boolean"?_t!=="__proto__":_t===null)?_r[typeof _t=="string"?"string":"hash"]:_r.map};Ng.prototype.clear=function(){this.size=0,this.__data__={hash:new Vf,map:new(aj||Gj),string:new Vf}},Ng.prototype.delete=function(_r){return _r=Pk(this,_r).delete(_r),this.size-=_r?1:0,_r},Ng.prototype.get=function(_r){return Pk(this,_r).get(_r)},Ng.prototype.has=function(_r){return Pk(this,_r).has(_r)},Ng.prototype.set=function(_r,_t){var _o=Pk(this,_r),yl=_o.size;return _o.set(_r,_t),this.size+=_o.size==yl?0:1,this};var Fj=Ng;ei.prototype.add=ei.prototype.push=function(_r){return this.__data__.set(_r,"__lodash_hash_undefined__"),this},ei.prototype.has=function(_r){return this.__data__.has(_r)};var Cv=function(_r,_t,_o,yl){var El=_r.length;for(_o+=yl?1:-1;yl?_o--:++_o<El;)if(_t(_r[_o],_o,_r))return _o;return-1},vG=function(_r){return _r!=_r},wG=function(_r,_t){var _o;if(_o=!(_r==null||!_r.length)){if(_t==_t)e:{_o=-1;for(var yl=_r.length;++_o<yl;)if(_r[_o]===_t){_r=_o;break e}_r=-1}else _r=Cv(_r,vG,0);_o=-1<_r}return _o},xG=function(_r,_t,_o){for(var yl=-1,El=_r==null?0:_r.length;++yl<El;)if(_o(_t,_r[yl]))return!0;return!1},yG=function(_r,_t){return _r.has(_t)},Ah=pg(hd,"Set"),zG=function(){},Co=function(_r){var _t=-1,_o=Array(_r.size);return _r.forEach(function(yl){_o[++_t]=yl}),_o},AG=1/0,BG=Ah&&1/Co(new Ah([,-0]))[1]==AG?function(_r){return new Ah(_r)}:zG,Do=function(_r,_t,_o){var yl=-1,El=wG,_l=_r.length,Tl=!0,Il=[],Al=Il;if(_o)Tl=!1,El=xG;else if(200<=_l){if(El=_t?null:BG(_r))return Co(El);Tl=!1,El=yG,Al=new ei}else Al=_t?[]:Il;e:for(;++yl<_l;){var Rl=_r[yl],Fl=_t?_t(Rl):Rl;if(Rl=_o||Rl!==0?Rl:0,Tl&&Fl==Fl){for(var Bl=Al.length;Bl--;)if(Al[Bl]===Fl)continue e;_t&&Al.push(Fl),Il.push(Rl)}else El(Al,Fl,_o)||(Al!==Il&&Al.push(Fl),Il.push(Rl))}return Il},Dv=function(_r){for(var _t=-1,_o=_r==null?0:_r.length,yl={};++_t<_o;){var El=_r[_t];yl[El[0]]=El[1]}return yl},Rg=function(_r,_t){for(var _o=-1,yl=_r==null?0:_r.length,El=Array(yl);++_o<yl;)El[_o]=_t(_r[_o],_o,_r);return El};Og.prototype.clear=function(){this.__data__=new Gj,this.size=0},Og.prototype.delete=function(_r){var _t=this.__data__;return _r=_t.delete(_r),this.size=_t.size,_r},Og.prototype.get=function(_r){return this.__data__.get(_r)},Og.prototype.has=function(_r){return this.__data__.has(_r)},Og.prototype.set=function(_r,_t){var _o=this.__data__;if(_o instanceof Gj){var yl=_o.__data__;if(!aj||199>yl.length)return yl.push([_r,_t]),this.size=++_o.size,this;_o=this.__data__=new Fj(yl)}return _o.set(_r,_t),this.size=_o.size,this};var Qg=Og,cB=function(_r,_t){for(var _o=-1,yl=_r==null?0:_r.length;++_o<yl&&_t(_r[_o],_o,_r)!==!1;);return _r},Qk=function(){try{var _r=pg(Object,"defineProperty");return _r({},"",{}),_r}catch{}}(),bj=function(_r,_t,_o){_t=="__proto__"&&Qk?Qk(_r,_t,{configurable:!0,enumerable:!0,value:_o,writable:!0}):_r[_t]=_o},CG=Object.prototype.hasOwnProperty,sr=function(_r,_t,_o){var yl=_r[_t];CG.call(_r,_t)&&$i(yl,_o)&&(_o!==void 0||_t in _r)||bj(_r,_t,_o)},bh=function(_r,_t,_o,yl){var El=!_o;_o||(_o={});for(var _l=-1,Tl=_t.length;++_l<Tl;){var Il=_t[_l],Al=yl?yl(_o[Il],_r[Il],Il,_o,_r):void 0;Al===void 0&&(Al=_r[Il]),El?bj(_o,Il,Al):sr(_o,Il,Al)}return _o},ee=function(_r){return _r!=null&&Ia(_r)=="object"},Ev=function(_r){return ee(_r)&&ng(_r)=="[object Arguments]"},Fv=Object.prototype,DG=Fv.hasOwnProperty,EG=Fv.propertyIsEnumerable,oi=Ev(function(){return arguments}())?Ev:function(_r){return ee(_r)&&DG.call(_r,"callee")&&!EG.call(_r,"callee")},lc=Array.isArray,FG=function(){return!1},gi=kc(function(_r,_t){var _o=(_t=_t&&!_t.nodeType&&_t)&&_r&&!_r.nodeType&&_r;_t=_o&&_o.exports===_t?hd.Buffer:void 0,_r.exports=(_t?_t.isBuffer:void 0)||FG}),GG=/^(?:0|[1-9]\d*)$/,Eo=function(_r,_t){var _o=Ia(_r);return!!(_t=_t??9007199254740991)&&(_o=="number"||_o!="symbol"&&GG.test(_r))&&-1<_r&&_r%1==0&&_r<_t},Fo=function(_r){return typeof _r=="number"&&-1<_r&&_r%1==0&&9007199254740991>=_r},Hb={};Hb["[object Float32Array]"]=Hb["[object Float64Array]"]=Hb["[object Int8Array]"]=Hb["[object Int16Array]"]=Hb["[object Int32Array]"]=Hb["[object Uint8Array]"]=Hb["[object Uint8ClampedArray]"]=Hb["[object Uint16Array]"]=Hb["[object Uint32Array]"]=!0,Hb["[object Arguments]"]=Hb["[object Array]"]=Hb["[object ArrayBuffer]"]=Hb["[object Boolean]"]=Hb["[object DataView]"]=Hb["[object Date]"]=Hb["[object Error]"]=Hb["[object Function]"]=Hb["[object Map]"]=Hb["[object Number]"]=Hb["[object Object]"]=Hb["[object RegExp]"]=Hb["[object Set]"]=Hb["[object String]"]=Hb["[object WeakMap]"]=!1;var HG=function(_r){return ee(_r)&&Fo(_r.length)&&!!Hb[ng(_r)]},Rk=function(_r){return function(_t){return _r(_t)}},Bh=kc(function(_r,_t){var _o=_t&&!_t.nodeType&&_t;_o=(_t=_o&&_r&&!_r.nodeType&&_r)&&_t.exports===_o&&yv.process;e:{try{var yl=_t&&_t.require&&_t.require("util").types;if(yl){var El=yl;break e}El=_o&&_o.binding&&_o.binding("util");break e}catch{}El=void 0}_r.exports=El}),Gv=Bh&&Bh.isTypedArray,om=Gv?Rk(Gv):HG,IG=Object.prototype.hasOwnProperty,Hv=function(_r,_t){var _o=lc(_r),yl=!_o&&oi(_r),El=!_o&&!yl&&gi(_r),_l=!_o&&!yl&&!El&&om(_r);if(_o=_o||yl||El||_l){yl=_r.length;for(var Tl=String,Il=-1,Al=Array(yl);++Il<yl;)Al[Il]=Tl(Il);yl=Al}else yl=[];for(var Rl in Tl=yl.length,_r)!_t&&!IG.call(_r,Rl)||_o&&(Rl=="length"||El&&(Rl=="offset"||Rl=="parent")||_l&&(Rl=="buffer"||Rl=="byteLength"||Rl=="byteOffset")||Eo(Rl,Tl))||yl.push(Rl);return yl},JG=Object.prototype,Go=function(_r){var _t=_r&&_r.constructor;return _r===(typeof _t=="function"&&_t.prototype||JG)},Iv=function(_r,_t){return function(_o){return _r(_t(_o))}},KG=Iv(Object.keys,Object),LG=Object.prototype.hasOwnProperty,$f=function(_r){return _r!=null&&Fo(_r.length)&&!Em(_r)},Wf=function(_r){if($f(_r))_r=Hv(_r);else if(Go(_r)){var _t,_o=[];for(_t in Object(_r))LG.call(_r,_t)&&_t!="constructor"&&_o.push(_t);_r=_o}else _r=KG(_r);return _r},ZA=function(_r,_t){return _r&&bh(_t,Wf(_t),_r)},MG=Object.prototype.hasOwnProperty,hi=function(_r){if($f(_r))_r=Hv(_r,!0);else if(Kc(_r)){var _t=Go(_r),_o=[];for(yl in _r)(yl!="constructor"||!_t&&MG.call(_r,yl))&&_o.push(yl);_r=_o}else{var yl=[];if(_r!=null)for(_t in Object(_r))yl.push(_t);_r=yl}return _r},XA=function(_r,_t){return _r&&bh(_t,hi(_t),_r)},pr=kc(function(_r,_t){var _o=(_t=_t&&!_t.nodeType&&_t)&&_r&&!_r.nodeType&&_r,yl=(_t=_o&&_o.exports===_t?hd.Buffer:void 0)?_t.allocUnsafe:void 0;_r.exports=function(El,_l){return _l?El.slice():(_l=El.length,_l=yl?yl(_l):new El.constructor(_l),El.copy(_l),_l)}}),jm=function(_r,_t){var _o=-1,yl=_r.length;for(_t||(_t=Array(yl));++_o<yl;)_t[_o]=_r[_o];return _t},NG=function(_r,_t){for(var _o=-1,yl=_r==null?0:_r.length,El=0,_l=[];++_o<yl;){var Tl=_r[_o];_t(Tl,_o,_r)&&(_l[El++]=Tl)}return _l},Jv=function(){return[]},OG=Object.prototype.propertyIsEnumerable,Kv=Object.getOwnPropertySymbols,Ho=Kv?function(_r){return _r==null?[]:(_r=Object(_r),NG(Kv(_r),function(_t){return OG.call(_r,_t)}))}:Jv,YA=function(_r,_t){return bh(_r,Ho(_r),_t)},nm=function(_r,_t){for(var _o=-1,yl=_t.length,El=_r.length;++_o<yl;)_r[El+_o]=_t[_o];return _r},Io=Iv(Object.getPrototypeOf,Object),Lv=Object.getOwnPropertySymbols?function(_r){for(var _t=[];_r;)nm(_t,Ho(_r)),_r=Io(_r);return _t}:Jv,WA=function(_r,_t){return bh(_r,Lv(_r),_t)},Mv=function(_r,_t,_o){return _t=_t(_r),lc(_r)?_t:nm(_t,_o(_r))},km=function(_r){return Mv(_r,Wf,Ho)},rr=function(_r){return Mv(_r,hi,Lv)},Jo=pg(hd,"DataView"),Ko=pg(hd,"Promise"),Lo=pg(hd,"WeakMap"),PG=og(Jo),QG=og(aj),RG=og(Ko),SG=og(Ah),TG=og(Lo),qg=ng;(Jo&&qg(new Jo(new ArrayBuffer(1)))!="[object DataView]"||aj&&qg(new aj)!="[object Map]"||Ko&&qg(Ko.resolve())!="[object Promise]"||Ah&&qg(new Ah)!="[object Set]"||Lo&&qg(new Lo)!="[object WeakMap]")&&(qg=function(_r){var _t=ng(_r);if(_r=(_r=_t=="[object Object]"?_r.constructor:void 0)?og(_r):"")switch(_r){case PG:return"[object DataView]";case QG:return"[object Map]";case RG:return"[object Promise]";case SG:return"[object Set]";case TG:return"[object WeakMap]"}return _t});var fi=qg,UG=Object.prototype.hasOwnProperty,VA=function(_r){var _t=_r.length,_o=new _r.constructor(_t);return _t&&typeof _r[0]=="string"&&UG.call(_r,"index")&&(_o.index=_r.index,_o.input=_r.input),_o},Sk=hd.Uint8Array,Mo=function(_r){var _t=new _r.constructor(_r.byteLength);return new Sk(_t).set(new Sk(_r)),_t},VG=/\w*$/,Nv=xd?xd.prototype:void 0,Ov=Nv?Nv.valueOf:void 0,cs=function(_r,_t){return _t=_t?Mo(_r.buffer):_r.buffer,new _r.constructor(_t,_r.byteOffset,_r.length)},$A=function(_r,_t,_o){var yl=_r.constructor;switch(_t){case"[object ArrayBuffer]":return Mo(_r);case"[object Boolean]":case"[object Date]":return new yl(+_r);case"[object DataView]":return _t=_o?Mo(_r.buffer):_r.buffer,new _r.constructor(_t,_r.byteOffset,_r.byteLength);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return cs(_r,_o);case"[object Map]":return new yl;case"[object Number]":case"[object String]":return new yl(_r);case"[object RegExp]":return(_t=new _r.constructor(_r.source,VG.exec(_r))).lastIndex=_r.lastIndex,_t;case"[object Set]":return new yl;case"[object Symbol]":return Ov?Object(Ov.call(_r)):{}}},Pv=Object.create,WG=function(){function _r(){}return function(_t){return Kc(_t)?Pv?Pv(_t):(_r.prototype=_t,_t=new _r,_r.prototype=void 0,_t):{}}}(),qr=function(_r){return typeof _r.constructor!="function"||Go(_r)?{}:WG(Io(_r))},XG=function(_r){return ee(_r)&&fi(_r)=="[object Map]"},Qv=Bh&&Bh.isMap,bB=Qv?Rk(Qv):XG,YG=function(_r){return ee(_r)&&fi(_r)=="[object Set]"},Rv=Bh&&Bh.isSet,aB=Rv?Rk(Rv):YG,zb={};zb["[object Arguments]"]=zb["[object Array]"]=zb["[object ArrayBuffer]"]=zb["[object DataView]"]=zb["[object Boolean]"]=zb["[object Date]"]=zb["[object Float32Array]"]=zb["[object Float64Array]"]=zb["[object Int8Array]"]=zb["[object Int16Array]"]=zb["[object Int32Array]"]=zb["[object Map]"]=zb["[object Number]"]=zb["[object Object]"]=zb["[object RegExp]"]=zb["[object Set]"]=zb["[object String]"]=zb["[object Symbol]"]=zb["[object Uint8Array]"]=zb["[object Uint8ClampedArray]"]=zb["[object Uint16Array]"]=zb["[object Uint32Array]"]=!0,zb["[object Error]"]=zb["[object Function]"]=zb["[object WeakMap]"]=!1;var Sg=function(_r){return Ia(_r)=="symbol"||ee(_r)&&ng(_r)=="[object Symbol]"},ZG=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,$G=/^\w*$/,No=function(_r,_t){if(lc(_r))return!1;var _o=Ia(_r);return!(_o!="number"&&_o!="symbol"&&_o!="boolean"&&_r!=null&&!Sg(_r))||$G.test(_r)||!ZG.test(_r)||_t!=null&&_r in Object(_t)};lm.Cache=Fj;var aH=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,bH=/\\(\\)?/g,cH=function(_r){var _t=(_r=lm(_r,function(_o){return _t.size===500&&_t.clear(),_o})).cache;return _r}(function(_r){var _t=[];return _r.charCodeAt(0)===46&&_t.push(""),_r.replace(aH,function(_o,yl,El,_l){_t.push(El?_l.replace(bH,"$1"):yl||_o)}),_t}),dB=1/0,Sv=xd?xd.prototype:void 0,ur=Sv?Sv.toString:void 0,Tk=function(_r,_t){return lc(_r)?_r:No(_r,_t)?[_r]:cH(_r==null?"":tr(_r))},dH=1/0,cj=function(_r){if(typeof _r=="string"||Sg(_r))return _r;var _t=_r+"";return _t=="0"&&1/_r==-dH?"-0":_t},Uk=function(_r,_t){for(var _o=0,yl=(_t=Tk(_t,_r)).length;_r!=null&&_o<yl;)_r=_r[cj(_t[_o++])];return _o&&_o==yl?_r:void 0},eH=function(_r,_t){if(!(2>(_t=Tk(_t,_r)).length)){var _o=_t,yl=0,El=-1,_l=-1,Tl=_o.length;for(0>yl&&(yl=-yl>Tl?0:Tl+yl),0>(El=El>Tl?Tl:El)&&(El+=Tl),Tl=yl>El?0:El-yl>>>0,yl>>>=0,El=Array(Tl);++_l<Tl;)El[_l]=_o[_l+yl];_r=Uk(_r,El)}return(_o=_r==null)||(_o=_t==null?0:_t.length,_o=delete _r[cj(_o?_t[_o-1]:void 0)]),_o},Tv=Function.prototype.toString,fH=Object.prototype.hasOwnProperty,gH=Tv.call(Object),ds=function(_r){return!(!ee(_r)||ng(_r)!="[object Object]")&&((_r=Io(_r))===null||typeof(_r=fH.call(_r,"constructor")&&_r.constructor)=="function"&&_r instanceof _r&&Tv.call(_r)==gH)},hH=function(_r){return ds(_r)?void 0:_r},Uv=xd?xd.isConcatSpreadable:void 0,eB=function(_r){return lc(_r)||oi(_r)||!!(Uv&&_r&&_r[Uv])},iH=function(_r){return _r!=null&&_r.length?mm(_r,1):[]},jH=function(_r,_t,_o){switch(_o.length){case 0:return _r.call(_t);case 1:return _r.call(_t,_o[0]);case 2:return _r.call(_t,_o[0],_o[1]);case 3:return _r.call(_t,_o[0],_o[1],_o[2])}return _r.apply(_t,_o)},Vv=Math.max,Wv=function(_r,_t,_o){return _t=Vv(_t===void 0?_r.length-1:_t,0),function(){for(var yl=arguments,El=-1,_l=Vv(yl.length-_t,0),Tl=Array(_l);++El<_l;)Tl[El]=yl[_t+El];for(El=-1,_l=Array(_t+1);++El<_t;)_l[El]=yl[El];return _l[_t]=_o(Tl),jH(_r,this,_l)}},kH=function(_r){return function(){return _r}},Vk=function(_r){return _r},lH=Date.now,Xv=function(_r){var _t=0,_o=0;return function(){var yl=lH(),El=16-(yl-_o);if(_o=yl,0<El){if(800<=++_t)return arguments[0]}else _t=0;return _r.apply(void 0,arguments)}}(Qk?function(_r,_t){return Qk(_r,"toString",{configurable:!0,enumerable:!1,value:kH(_t),writable:!0})}:Vk),Oo=function(_r){return Xv(Wv(_r,void 0,iH),_r+"")}(function(_r,_t){var _o={};if(_r==null)return _o;var yl=!1;_t=Rg(_t,function(_l){return _l=Tk(_l,_r),yl||(yl=1<_l.length),_l}),bh(_r,rr(_r),_o),yl&&(_o=Pg(_o,7,hH));for(var El=_t.length;El--;)eH(_o,_t[El]);return _o}),mH=function(_r,_t,_o,yl){for(var El=-1,_l=_r==null?0:_r.length;++El<_l;){var Tl=_r[El];_t(yl,Tl,_o(Tl),_r)}return yl},bs=function(_r,_t,_o){for(var yl=-1,El=Object(_r),_l=(_o=_o(_r)).length;_l--;){var Tl=_o[++yl];if(_t(El[Tl],Tl,El)===!1)break}return _r},Yv=function(_r,_t){return _r&&bs(_r,_t,Wf)},Po=function(_r,_t){return function(_o,yl){if(_o==null)return _o;if(!$f(_o))return _r(_o,yl);for(var El=_o.length,_l=-1,Tl=Object(_o);++_l<El&&yl(Tl[_l],_l,Tl)!==!1;);return _o}}(Yv),nH=function(_r,_t,_o,yl){return Po(_r,function(El,_l,Tl){_t(yl,El,_o(El),Tl)}),yl},Zv=function(_r,_t){for(var _o=-1,yl=_r==null?0:_r.length;++_o<yl;)if(_t(_r[_o],_o,_r))return!0;return!1},vr=function(_r,_t,_o,yl,El,_l){var Tl=1&_o,Il=_r.length,Al=_t.length;if(Il!=Al&&!(Tl&&Al>Il))return!1;Al=_l.get(_r);var Rl=_l.get(_t);if(Al&&Rl)return Al==_t&&Rl==_r;Al=-1,Rl=!0;var Fl=2&_o?new ei:void 0;for(_l.set(_r,_t),_l.set(_t,_r);++Al<Il;){var Bl=_r[Al],Gl=_t[Al];if(yl)var Ql=Tl?yl(Gl,Bl,Al,_t,_r,_l):yl(Bl,Gl,Al,_r,_t,_l);if(Ql!==void 0){if(Ql)continue;Rl=!1;break}if(Fl){if(!Zv(_t,function(_f,_h){if(!Fl.has(_h)&&(Bl===_f||El(Bl,_f,_o,yl,_l)))return Fl.push(_h)})){Rl=!1;break}}else if(Bl!==Gl&&!El(Bl,Gl,_o,yl,_l)){Rl=!1;break}}return _l.delete(_r),_l.delete(_t),Rl},oH=function(_r){var _t=-1,_o=Array(_r.size);return _r.forEach(function(yl,El){_o[++_t]=[El,yl]}),_o},$v=xd?xd.prototype:void 0,Qo=$v?$v.valueOf:void 0,fB=function(_r,_t,_o,yl,El,_l,Tl){switch(_o){case"[object DataView]":if(_r.byteLength!=_t.byteLength||_r.byteOffset!=_t.byteOffset)break;_r=_r.buffer,_t=_t.buffer;case"[object ArrayBuffer]":if(_r.byteLength!=_t.byteLength||!_l(new Sk(_r),new Sk(_t)))break;return!0;case"[object Boolean]":case"[object Date]":case"[object Number]":return $i(+_r,+_t);case"[object Error]":return _r.name==_t.name&&_r.message==_t.message;case"[object RegExp]":case"[object String]":return _r==_t+"";case"[object Map]":var Il=oH;case"[object Set]":if(Il||(Il=Co),_r.size!=_t.size&&!(1&yl))break;return(_o=Tl.get(_r))?_o==_t:(yl|=2,Tl.set(_r,_t),_t=vr(Il(_r),Il(_t),yl,El,_l,Tl),Tl.delete(_r),_t);case"[object Symbol]":if(Qo)return Qo.call(_r)==Qo.call(_t)}return!1},gB=Object.prototype.hasOwnProperty,wr=Object.prototype.hasOwnProperty,pH=function(_r,_t,_o,yl){var El=_o.length,_l=El,Tl=!yl;if(_r==null)return!_l;for(_r=Object(_r);El--;){var Il=_o[El];if(Tl&&Il[2]?Il[1]!==_r[Il[0]]:!(Il[0]in _r))return!1}for(;++El<_l;){var Al=(Il=_o[El])[0],Rl=_r[Al],Fl=Il[1];if(Tl&&Il[2]){if(Rl===void 0&&!(Al in _r))return!1}else{if(Il=new Qg,yl)var Bl=yl(Rl,Fl,Al,_r,_t,Il);if(Bl===void 0?!Tg(Fl,Rl,3,yl,Il):!Bl)return!1}}return!0},qH=function(_r){for(var _t=Wf(_r),_o=_t.length;_o--;){var yl=_t[_o],El=_r[yl];_t[_o]=[yl,El,El==El&&!Kc(El)]}return _t},aw=function(_r,_t){return function(_o){return _o!=null&&_o[_r]===_t&&(_t!==void 0||_r in Object(_o))}},rH=function(_r){var _t=qH(_r);return _t.length==1&&_t[0][2]?aw(_t[0][0],_t[0][1]):function(_o){return _o===_r||pH(_o,_r,_t)}},sH=function(_r,_t){return No(_r)&&_t==_t&&!Kc(_t)?aw(cj(_r),_t):function(_o){var yl=_o==null?void 0:Uk(_o,_r);if((yl=yl===void 0?void 0:yl)===void 0&&yl===_t){if(yl=_o!=null){for(var El=-1,_l=(yl=Tk(yl=_r,_o)).length,Tl=!1;++El<_l;){var Il=cj(yl[El]);if(!(Tl=_o!=null&&_o!=null&&Il in Object(_o)))break;_o=_o[Il]}Tl||++El!=_l?yl=Tl:yl=!!(_l=_o==null?0:_o.length)&&Fo(_l)&&Eo(Il,_l)&&(lc(_o)||oi(_o))}Il=yl}else Il=Tg(_t,yl,3);return Il}},tH=function(_r){return function(_t){return _t==null?void 0:_t[_r]}},uH=function(_r){return function(_t){return Uk(_t,_r)}},Ch=function(_r){return typeof _r=="function"?_r:_r==null?Vk:Ia(_r)=="object"?lc(_r)?sH(_r[0],_r[1]):rH(_r):No(_r)?tH(cj(_r)):uH(_r)},Ro=function(_r,_t){return function(_o,yl){var El={};return(lc(_o)?mH:nH)(_o,_r,Ch(yl),El)}}(function(_r,_t,_o){bj(_r,_o,_t)}),Pe=function(_r,_t){var _o={};return _t=Ch(_t),Yv(_r,function(yl,El,_l){bj(_o,El,_t(yl,El,_l))}),_o};wa({target:"String",proto:!0,forced:Ga(function(){var _r="".sub('"');return _r!==_r.toLowerCase()||3<_r.split('"').length})},{sub:function(){return"<sub>"+String(Ec(this))+"</sub>"}});var D=Ab,yd=null;try{yd=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(_r){}Ab.prototype.__isLong__,Object.defineProperty(Ab.prototype,"__isLong__",{value:!0}),Ab.isLong=Lc;var yr={},xr={};Ab.fromInt=Xf,Ab.fromNumber=qd,Ab.fromBits=Bb;var Hj=Math.pow;Ab.fromString=pm,Ab.fromValue=Nd;var Ug=4294967296,zr=Ug*Ug,Br=zr/2,bw=Xf(16777216),rd=Xf(0);Ab.ZERO=rd;var Yf=Xf(0,!0);Ab.UZERO=Yf;var Dh=Xf(1);Ab.ONE=Dh;var cw=Xf(1,!0);Ab.UONE=cw;var So=Xf(-1);Ab.NEG_ONE=So;var Cr=Bb(-1,2147483647,!1);Ab.MAX_VALUE=Cr;var Ar=Bb(-1,-1,!0);Ab.MAX_UNSIGNED_VALUE=Ar;var Mc=Bb(0,-2147483648,!1);Ab.MIN_VALUE=Mc;var sa=Ab.prototype;sa.toInt=function(){return this.unsigned?this.low>>>0:this.low},sa.toNumber=function(){return this.unsigned?(this.high>>>0)*Ug+(this.low>>>0):this.high*Ug+(this.low>>>0)},sa.toString=function(_r){if(2>(_r=_r||10)||36<_r)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(Mc)){var _t=qd(_r),_o=this.div(_t);return _t=_o.mul(_t).sub(this),_o.toString(_r)+_t.toInt().toString(_r)}return"-"+this.neg().toString(_r)}_o=qd(Hj(_r,6),this.unsigned),_t=this;for(var yl="";;){var El=_t.div(_o),_l=(_t.sub(El.mul(_o)).toInt()>>>0).toString(_r);if((_t=El).isZero())return _l+yl;for(;6>_l.length;)_l="0"+_l;yl=""+_l+yl}},sa.getHighBits=function(){return this.high},sa.getHighBitsUnsigned=function(){return this.high>>>0},sa.getLowBits=function(){return this.low},sa.getLowBitsUnsigned=function(){return this.low>>>0},sa.getNumBitsAbs=function(){if(this.isNegative())return this.eq(Mc)?64:this.neg().getNumBitsAbs();for(var _r=this.high!=0?this.high:this.low,_t=31;0<_t&&!(_r&1<<_t);_t--);return this.high!=0?_t+33:_t+1},sa.isZero=function(){return this.high===0&&this.low===0},sa.eqz=sa.isZero,sa.isNegative=function(){return!this.unsigned&&0>this.high},sa.isPositive=function(){return this.unsigned||0<=this.high},sa.isOdd=function(){return(1&this.low)==1},sa.isEven=function(){return(1&this.low)==0},sa.equals=function(_r){return Lc(_r)||(_r=Nd(_r)),(this.unsigned===_r.unsigned||this.high>>>31!=1||_r.high>>>31!=1)&&this.high===_r.high&&this.low===_r.low},sa.eq=sa.equals,sa.notEquals=function(_r){return!this.eq(_r)},sa.neq=sa.notEquals,sa.ne=sa.notEquals,sa.lessThan=function(_r){return 0>this.comp(_r)},sa.lt=sa.lessThan,sa.lessThanOrEqual=function(_r){return 0>=this.comp(_r)},sa.lte=sa.lessThanOrEqual,sa.le=sa.lessThanOrEqual,sa.greaterThan=function(_r){return 0<this.comp(_r)},sa.gt=sa.greaterThan,sa.greaterThanOrEqual=function(_r){return 0<=this.comp(_r)},sa.gte=sa.greaterThanOrEqual,sa.ge=sa.greaterThanOrEqual,sa.compare=function(_r){if(Lc(_r)||(_r=Nd(_r)),this.eq(_r))return 0;var _t=this.isNegative(),_o=_r.isNegative();return _t&&!_o?-1:!_t&&_o?1:this.unsigned?_r.high>>>0>this.high>>>0||_r.high===this.high&&_r.low>>>0>this.low>>>0?-1:1:this.sub(_r).isNegative()?-1:1},sa.comp=sa.compare,sa.negate=function(){return!this.unsigned&&this.eq(Mc)?Mc:this.not().add(Dh)},sa.neg=sa.negate,sa.add=function(_r){Lc(_r)||(_r=Nd(_r));var _t=this.high>>>16,_o=65535&this.high,yl=this.low>>>16,El=_r.high>>>16,_l=65535&_r.high,Tl=_r.low>>>16;return yl=(Tl=((_r=(65535&this.low)+(65535&_r.low))>>>16)+(yl+Tl))>>>16,Bb((65535&Tl)<<16|65535&_r,(_t=((yl+=_o+_l)>>>16)+(_t+El)&65535)<<16|65535&yl,this.unsigned)},sa.subtract=function(_r){return Lc(_r)||(_r=Nd(_r)),this.add(_r.neg())},sa.sub=sa.subtract,sa.multiply=function(_r){if(this.isZero())return rd;if(Lc(_r)||(_r=Nd(_r)),yd){var _t=yd.mul(this.low,this.high,_r.low,_r.high);return Bb(_t,yd.get_high(),this.unsigned)}if(_r.isZero())return rd;if(this.eq(Mc))return _r.isOdd()?Mc:rd;if(_r.eq(Mc))return this.isOdd()?Mc:rd;if(this.isNegative())return _r.isNegative()?this.neg().mul(_r.neg()):this.neg().mul(_r).neg();if(_r.isNegative())return this.mul(_r.neg()).neg();if(this.lt(bw)&&_r.lt(bw))return qd(this.toNumber()*_r.toNumber(),this.unsigned);_t=this.high>>>16;var _o=65535&this.high,yl=this.low>>>16,El=65535&this.low,_l=_r.high>>>16,Tl=65535&_r.high,Il=_r.low>>>16,Al=El*(_r=65535&_r.low),Rl=(Al>>>16)+yl*_r,Fl=Rl>>>16;Fl+=(Rl=(65535&Rl)+El*Il)>>>16;var Bl=(Fl+=_o*_r)>>>16;return Bb((65535&Rl)<<16|65535&Al,(Bl=(Bl+=(Fl=(65535&Fl)+yl*Il)>>>16)+((Fl=(65535&Fl)+El*Tl)>>>16)+(_t*_r+_o*Il+yl*Tl+El*_l)&65535)<<16|65535&Fl,this.unsigned)},sa.mul=sa.multiply,sa.divide=function(_r){if(Lc(_r)||(_r=Nd(_r)),_r.isZero())throw Error("division by zero");if(yd)return this.unsigned||this.high!==-2147483648||_r.low!==-1||_r.high!==-1?Bb(_r=(this.unsigned?yd.div_u:yd.div_s)(this.low,this.high,_r.low,_r.high),yd.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?Yf:rd;if(this.unsigned){if(_r.unsigned||(_r=_r.toUnsigned()),_r.gt(this))return Yf;if(_r.gt(this.shru(1)))return cw;var _t=Yf}else{if(this.eq(Mc)){if(_r.eq(Dh)||_r.eq(So))return Mc;if(_r.eq(Mc))return Dh;var _o=this.shr(1).div(_r).shl(1);if(_o.eq(rd))return _r.isNegative()?Dh:So;var yl=this.sub(_r.mul(_o));return _o.add(yl.div(_r))}if(_r.eq(Mc))return this.unsigned?Yf:rd;if(this.isNegative())return _r.isNegative()?this.neg().div(_r.neg()):this.neg().div(_r).neg();if(_r.isNegative())return this.div(_r.neg()).neg();_t=rd}for(yl=this;yl.gte(_r);){_o=Math.max(1,Math.floor(yl.toNumber()/_r.toNumber()));var El=Math.ceil(Math.log(_o)/Math.LN2);El=48>=El?1:Hj(2,El-48);for(var _l=qd(_o),Tl=_l.mul(_r);Tl.isNegative()||Tl.gt(yl);)Tl=(_l=qd(_o-=El,this.unsigned)).mul(_r);_l.isZero()&&(_l=Dh),_t=_t.add(_l),yl=yl.sub(Tl)}return _t},sa.div=sa.divide,sa.modulo=function(_r){return Lc(_r)||(_r=Nd(_r)),yd?Bb(_r=(this.unsigned?yd.rem_u:yd.rem_s)(this.low,this.high,_r.low,_r.high),yd.get_high(),this.unsigned):this.sub(this.div(_r).mul(_r))},sa.mod=sa.modulo,sa.rem=sa.modulo,sa.not=function(){return Bb(~this.low,~this.high,this.unsigned)},sa.and=function(_r){return Lc(_r)||(_r=Nd(_r)),Bb(this.low&_r.low,this.high&_r.high,this.unsigned)},sa.or=function(_r){return Lc(_r)||(_r=Nd(_r)),Bb(this.low|_r.low,this.high|_r.high,this.unsigned)},sa.xor=function(_r){return Lc(_r)||(_r=Nd(_r)),Bb(this.low^_r.low,this.high^_r.high,this.unsigned)},sa.shiftLeft=function(_r){return Lc(_r)&&(_r=_r.toInt()),(_r&=63)==0?this:32>_r?Bb(this.low<<_r,this.high<<_r|this.low>>>32-_r,this.unsigned):Bb(0,this.low<<_r-32,this.unsigned)},sa.shl=sa.shiftLeft,sa.shiftRight=function(_r){return Lc(_r)&&(_r=_r.toInt()),(_r&=63)==0?this:32>_r?Bb(this.low>>>_r|this.high<<32-_r,this.high>>_r,this.unsigned):Bb(this.high>>_r-32,0<=this.high?0:-1,this.unsigned)},sa.shr=sa.shiftRight,sa.shiftRightUnsigned=function(_r){if(Lc(_r)&&(_r=_r.toInt()),(_r&=63)===0)return this;var _t=this.high;return 32>_r?Bb(this.low>>>_r|_t<<32-_r,_t>>>_r,this.unsigned):Bb(_r===32?_t:_t>>>_r-32,0,this.unsigned)},sa.shru=sa.shiftRightUnsigned,sa.shr_u=sa.shiftRightUnsigned,sa.toSigned=function(){return this.unsigned?Bb(this.low,this.high,!1):this},sa.toUnsigned=function(){return this.unsigned?this:Bb(this.low,this.high,!0)},sa.toBytes=function(_r){return _r?this.toBytesLE():this.toBytesBE()},sa.toBytesLE=function(){var _r=this.high,_t=this.low;return[255&_t,_t>>>8&255,_t>>>16&255,_t>>>24,255&_r,_r>>>8&255,_r>>>16&255,_r>>>24]},sa.toBytesBE=function(){var _r=this.high,_t=this.low;return[_r>>>24,_r>>>16&255,_r>>>8&255,255&_r,_t>>>24,_t>>>16&255,_t>>>8&255,255&_t]},Ab.fromBytes=function(_r,_t,_o){return _o?Ab.fromBytesLE(_r,_t):Ab.fromBytesBE(_r,_t)},Ab.fromBytesLE=function(_r,_t){return new Ab(_r[0]|_r[1]<<8|_r[2]<<16|_r[3]<<24,_r[4]|_r[5]<<8|_r[6]<<16|_r[7]<<24,_t)},Ab.fromBytesBE=function(_r,_t){return new Ab(_r[4]<<24|_r[5]<<16|_r[6]<<8|_r[7],_r[0]<<24|_r[1]<<16|_r[2]<<8|_r[3],_t)};var qm=function(_r,_t){return(qm=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_o,yl){_o.__proto__=yl}||function(_o,yl){for(var El in yl)yl.hasOwnProperty(El)&&(_o[El]=yl[El])})(_r,_t)},To=!1,sd={Promise:void 0,set useDeprecatedSynchronousErrorHandling(_r){_r?console.warn(`DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: 
`+Error().stack):To&&console.log("RxJS: Back to a better error behavior. Thank you. <3"),To=_r},get useDeprecatedSynchronousErrorHandling(){return To}},Wk={closed:!0,next:function(_r){},error:function(_r){if(sd.useDeprecatedSynchronousErrorHandling)throw _r;Wg(_r)},complete:function(){}},td=Array.isArray||function(_r){return _r&&typeof _r.length=="number"},ii=function(){function _r(_t){return Error.call(this),this.message=_t?_t.length+` errors occurred during unsubscription:
`+_t.map(function(_o,yl){return yl+1+") "+_o.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=_t,this}return _r.prototype=Object.create(Error.prototype),_r}(),dc=function(){function _r(_t){this.closed=!1,this._subscriptions=this._parentOrParents=null,_t&&(this._ctorUnsubscribe=!0,this._unsubscribe=_t)}return _r.prototype.unsubscribe=function(){if(!this.closed){var _t=this._parentOrParents,_o=this._ctorUnsubscribe,yl=this._unsubscribe,El=this._subscriptions;if(this.closed=!0,this._subscriptions=this._parentOrParents=null,_t instanceof _r)_t.remove(this);else if(_t!==null)for(var _l=0;_l<_t.length;++_l)_t[_l].remove(this);if(Vg(yl)){_o&&(this._unsubscribe=void 0);try{yl.call(this)}catch(Il){var Tl=Il instanceof ii?Dr(Il.errors):[Il]}}if(td(El)){for(_l=-1,_t=El.length;++_l<_t;)if(rm(_o=El[_l]))try{_o.unsubscribe()}catch(Il){Tl=Tl||[],Il instanceof ii?Tl=Tl.concat(Dr(Il.errors)):Tl.push(Il)}}if(Tl)throw new ii(Tl)}},_r.prototype.add=function(_t){var _o=_t;if(!_t)return _r.EMPTY;switch(Ia(_t)){case"function":_o=new _r(_t);case"object":if(_o===this||_o.closed||typeof _o.unsubscribe!="function")return _o;if(this.closed)return _o.unsubscribe(),_o;_o instanceof _r||(_t=_o,(_o=new _r)._subscriptions=[_t]);break;default:throw Error("unrecognized teardown "+_t+" added to Subscription.")}if((_t=_o._parentOrParents)===null)_o._parentOrParents=this;else if(_t instanceof _r){if(_t===this)return _o;_o._parentOrParents=[_t,this]}else{if(_t.indexOf(this)!==-1)return _o;_t.push(this)}return(_t=this._subscriptions)===null?this._subscriptions=[_o]:_t.push(_o),_o},_r.prototype.remove=function(_t){var _o=this._subscriptions;_o&&(_t=_o.indexOf(_t))!==-1&&_o.splice(_t,1)},_r.EMPTY=function(_t){return _t.closed=!0,_t}(new _r),_r}(),Xk=typeof Symbol=="function"?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random(),hb=function(_r){function _t(_o,yl,El){var _l=_r.call(this)||this;switch(_l.syncErrorValue=null,_l.syncErrorThrown=!1,_l.syncErrorThrowable=!1,_l.isStopped=!1,arguments.length){case 0:_l.destination=Wk;break;case 1:if(!_o){_l.destination=Wk;break}if(Ia(_o)==="object"){_o instanceof _t?(_l.syncErrorThrowable=_o.syncErrorThrowable,_l.destination=_o,_o.add(_l)):(_l.syncErrorThrowable=!0,_l.destination=new dw(_l,_o));break}default:_l.syncErrorThrowable=!0,_l.destination=new dw(_l,_o,yl,El)}return _l}return Ca(_t,_r),_t.prototype[Xk]=function(){return this},_t.create=function(_o,yl,El){return(_o=new _t(_o,yl,El)).syncErrorThrowable=!1,_o},_t.prototype.next=function(_o){this.isStopped||this._next(_o)},_t.prototype.error=function(_o){this.isStopped||(this.isStopped=!0,this._error(_o))},_t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},_t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,_r.prototype.unsubscribe.call(this))},_t.prototype._next=function(_o){this.destination.next(_o)},_t.prototype._error=function(_o){this.destination.error(_o),this.unsubscribe()},_t.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},_t.prototype._unsubscribeAndRecycle=function(){var _o=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.isStopped=this.closed=!1,this._parentOrParents=_o,this},_t}(dc),dw=function(_r){function _t(_o,yl,El,_l){var Tl=_r.call(this)||this;if(Tl._parentSubscriber=_o,_o=Tl,Vg(yl))var Il=yl;else yl&&(Il=yl.next,El=yl.error,_l=yl.complete,yl!==Wk&&(Vg((_o=Object.create(yl)).unsubscribe)&&Tl.add(_o.unsubscribe.bind(_o)),_o.unsubscribe=Tl.unsubscribe.bind(Tl)));return Tl._context=_o,Tl._next=Il,Tl._error=El,Tl._complete=_l,Tl}return Ca(_t,_r),_t.prototype.next=function(_o){if(!this.isStopped&&this._next){var yl=this._parentSubscriber;sd.useDeprecatedSynchronousErrorHandling&&yl.syncErrorThrowable?this.__tryOrSetError(yl,this._next,_o)&&this.unsubscribe():this.__tryOrUnsub(this._next,_o)}},_t.prototype.error=function(_o){if(!this.isStopped){var yl=this._parentSubscriber,El=sd.useDeprecatedSynchronousErrorHandling;if(this._error)El&&yl.syncErrorThrowable?this.__tryOrSetError(yl,this._error,_o):this.__tryOrUnsub(this._error,_o),this.unsubscribe();else if(yl.syncErrorThrowable)El?(yl.syncErrorValue=_o,yl.syncErrorThrown=!0):Wg(_o),this.unsubscribe();else{if(this.unsubscribe(),El)throw _o;Wg(_o)}}},_t.prototype.complete=function(){var _o=this;if(!this.isStopped){var yl=this._parentSubscriber;if(this._complete){var El=function(){return _o._complete.call(_o._context)};sd.useDeprecatedSynchronousErrorHandling&&yl.syncErrorThrowable?this.__tryOrSetError(yl,El):this.__tryOrUnsub(El)}this.unsubscribe()}},_t.prototype.__tryOrUnsub=function(_o,yl){try{_o.call(this._context,yl)}catch(El){if(this.unsubscribe(),sd.useDeprecatedSynchronousErrorHandling)throw El;Wg(El)}},_t.prototype.__tryOrSetError=function(_o,yl,El){if(!sd.useDeprecatedSynchronousErrorHandling)throw Error("bad call");try{yl.call(this._context,El)}catch(_l){return sd.useDeprecatedSynchronousErrorHandling?(_o.syncErrorValue=_l,_o.syncErrorThrown=!0):Wg(_l),!0}return!1},_t.prototype._unsubscribe=function(){var _o=this._parentSubscriber;this._parentSubscriber=this._context=null,_o.unsubscribe()},_t}(hb),Xg=typeof Symbol=="function"&&Symbol.observable||"@@observable",Za=function(){function _r(_t){this._isScalar=!1,_t&&(this._subscribe=_t)}return _r.prototype.lift=function(_t){var _o=new _r;return _o.source=this,_o.operator=_t,_o},_r.prototype.subscribe=function(_t,_o,yl){var El=this.operator;e:{if(_t){if(_t instanceof hb)break e;if(_t[Xk]){_t=_t[Xk]();break e}}_t=_t||_o||yl?new hb(_t,_o,yl):new hb(Wk)}if(El?_t.add(El.call(_t,this.source)):_t.add(this.source||sd.useDeprecatedSynchronousErrorHandling&&!_t.syncErrorThrowable?this._subscribe(_t):this._trySubscribe(_t)),sd.useDeprecatedSynchronousErrorHandling&&_t.syncErrorThrowable&&(_t.syncErrorThrowable=!1,_t.syncErrorThrown))throw _t.syncErrorValue;return _t},_r.prototype._trySubscribe=function(_t){try{return this._subscribe(_t)}catch(_o){sd.useDeprecatedSynchronousErrorHandling&&(_t.syncErrorThrown=!0,_t.syncErrorValue=_o),sm(_t)?_t.error(_o):console.warn(_o)}},_r.prototype.forEach=function(_t,_o){var yl=this;return new(_o=Fr(_o))(function(El,_l){var Tl=yl.subscribe(function(Il){try{_t(Il)}catch(Al){_l(Al),Tl&&Tl.unsubscribe()}},_l,El)})},_r.prototype._subscribe=function(_t){var _o=this.source;return _o&&_o.subscribe(_t)},_r.prototype[Xg]=function(){return this},_r.prototype.pipe=function(){for(var _t=[],_o=0;_o<arguments.length;_o++)_t[_o]=arguments[_o];return _t.length===0?this:Er(_t)(this)},_r.prototype.toPromise=function(_t){var _o=this;return new(_t=Fr(_t))(function(yl,El){var _l;_o.subscribe(function(Tl){return _l=Tl},function(Tl){return El(Tl)},function(){return yl(_l)})})},_r.create=function(_t){return new _r(_t)},_r}(),Cf=function(){function _r(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return _r.prototype=Object.create(Error.prototype),_r}(),ew=function(_r){function _t(_o,yl){var El=_r.call(this)||this;return El.subject=_o,El.subscriber=yl,El.closed=!1,El}return Ca(_t,_r),_t.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var _o=this.subject,yl=_o.observers;this.subject=null,!yl||yl.length===0||_o.isStopped||_o.closed||(_o=yl.indexOf(this.subscriber))!==-1&&yl.splice(_o,1)}},_t}(dc),fw=function(_r){function _t(_o){var yl=_r.call(this,_o)||this;return yl.destination=_o,yl}return Ca(_t,_r),_t}(hb),ec=function(_r){function _t(){var _o=_r.call(this)||this;return _o.observers=[],_o.closed=!1,_o.isStopped=!1,_o.hasError=!1,_o.thrownError=null,_o}return Ca(_t,_r),_t.prototype[Xk]=function(){return new fw(this)},_t.prototype.lift=function(_o){var yl=new gw(this,this);return yl.operator=_o,yl},_t.prototype.next=function(_o){if(this.closed)throw new Cf;if(!this.isStopped){var yl=this.observers,El=yl.length;yl=yl.slice();for(var _l=0;_l<El;_l++)yl[_l].next(_o)}},_t.prototype.error=function(_o){if(this.closed)throw new Cf;this.hasError=!0,this.thrownError=_o,this.isStopped=!0;var yl=this.observers,El=yl.length;yl=yl.slice();for(var _l=0;_l<El;_l++)yl[_l].error(_o);this.observers.length=0},_t.prototype.complete=function(){if(this.closed)throw new Cf;this.isStopped=!0;var _o=this.observers,yl=_o.length;_o=_o.slice();for(var El=0;El<yl;El++)_o[El].complete();this.observers.length=0},_t.prototype.unsubscribe=function(){this.closed=this.isStopped=!0,this.observers=null},_t.prototype._trySubscribe=function(_o){if(this.closed)throw new Cf;return _r.prototype._trySubscribe.call(this,_o)},_t.prototype._subscribe=function(_o){if(this.closed)throw new Cf;return this.hasError?(_o.error(this.thrownError),dc.EMPTY):this.isStopped?(_o.complete(),dc.EMPTY):(this.observers.push(_o),new ew(this,_o))},_t.prototype.asObservable=function(){var _o=new Za;return _o.source=this,_o},_t.create=function(_o,yl){return new gw(_o,yl)},_t}(Za),gw=function(_r){function _t(_o,yl){var El=_r.call(this)||this;return El.destination=_o,El.source=yl,El}return Ca(_t,_r),_t.prototype.next=function(_o){var yl=this.destination;yl&&yl.next&&yl.next(_o)},_t.prototype.error=function(_o){var yl=this.destination;yl&&yl.error&&this.destination.error(_o)},_t.prototype.complete=function(){var _o=this.destination;_o&&_o.complete&&this.destination.complete()},_t.prototype._subscribe=function(_o){return this.source?this.source.subscribe(_o):dc.EMPTY},_t}(ec),hB=function(){function _r(_t){this.connectable=_t}return _r.prototype.call=function(_t,_o){var yl=this.connectable;return yl._refCount++,_t=new vH(_t,yl),_o=_o.subscribe(_t),_t.closed||(_t.connection=yl.connect()),_o},_r}(),vH=function(_r){function _t(_o,yl){return(_o=_r.call(this,_o)||this).connectable=yl,_o}return Ca(_t,_r),_t.prototype._unsubscribe=function(){var _o=this.connectable;if(_o){this.connectable=null;var yl=_o._refCount;0>=yl?this.connection=null:(_o._refCount=yl-1,1<yl?this.connection=null:(yl=this.connection,_o=_o._connection,this.connection=null,!_o||yl&&_o!==yl||_o.unsubscribe()))}else this.connection=null},_t}(hb),hw=function(_r){function _t(_o,yl){var El=_r.call(this)||this;return El.source=_o,El.subjectFactory=yl,El._refCount=0,El._isComplete=!1,El}return Ca(_t,_r),_t.prototype._subscribe=function(_o){return this.getSubject().subscribe(_o)},_t.prototype.getSubject=function(){var _o=this._subject;return _o&&!_o.isStopped||(this._subject=this.subjectFactory()),this._subject},_t.prototype.connect=function(){var _o=this._connection;return _o||(this._isComplete=!1,(_o=this._connection=new dc).add(this.source.subscribe(new wH(this.getSubject(),this))),_o.closed&&(this._connection=null,_o=dc.EMPTY)),_o},_t.prototype.refCount=function(){return Gr()(this)},_t}(Za),WB=function(){var _r=hw.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:_r._subscribe},_isComplete:{value:_r._isComplete,writable:!0},getSubject:{value:_r.getSubject},connect:{value:_r.connect},refCount:{value:_r.refCount}}}(),wH=function(_r){function _t(_o,yl){return(_o=_r.call(this,_o)||this).connectable=yl,_o}return Ca(_t,_r),_t.prototype._error=function(_o){this._unsubscribe(),_r.prototype._error.call(this,_o)},_t.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),_r.prototype._complete.call(this)},_t.prototype._unsubscribe=function(){var _o=this.connectable;if(_o){this.connectable=null;var yl=_o._connection;_o._refCount=0,_o._subject=null,_o._connection=null,yl&&yl.unsubscribe()}},_t}(fw);(function(_r){function _t(_o,yl){return(_o=_r.call(this,_o)||this).connectable=yl,_o}Ca(_t,_r),_t.prototype._unsubscribe=function(){var _o=this.connectable;if(_o){this.connectable=null;var yl=_o._refCount;0>=yl?this.connection=null:(_o._refCount=yl-1,1<yl?this.connection=null:(yl=this.connection,_o=_o._connection,this.connection=null,!_o||yl&&_o!==yl||_o.unsubscribe()))}else this.connection=null}})(hb),function(_r){function _t(_o,yl,El,_l,Tl){return(_o=_r.call(this,_o)||this).keySelector=yl,_o.elementSelector=El,_o.durationSelector=_l,_o.subjectSelector=Tl,_o.groups=null,_o.attemptedToUnsubscribe=!1,_o.count=0,_o}Ca(_t,_r),_t.prototype._next=function(_o){try{var yl=this.keySelector(_o)}catch(El){return void this.error(El)}this._group(_o,yl)},_t.prototype._group=function(_o,yl){var El=this.groups;El||(El=this.groups=new Map);var _l=El.get(yl);if(this.elementSelector)try{var Tl=this.elementSelector(_o)}catch(Il){this.error(Il)}else Tl=_o;if(!_l&&(_l=this.subjectSelector?this.subjectSelector():new ec,El.set(yl,_l),_o=new Uo(yl,_l,this),this.destination.next(_o),this.durationSelector)){_o=void 0;try{_o=this.durationSelector(new Uo(yl,_l))}catch(Il){return void this.error(Il)}this.add(_o.subscribe(new xH(yl,_l,this)))}_l.closed||_l.next(Tl)},_t.prototype._error=function(_o){var yl=this.groups;yl&&(yl.forEach(function(El,_l){El.error(_o)}),yl.clear()),this.destination.error(_o)},_t.prototype._complete=function(){var _o=this.groups;_o&&(_o.forEach(function(yl,El){yl.complete()}),_o.clear()),this.destination.complete()},_t.prototype.removeGroup=function(_o){this.groups.delete(_o)},_t.prototype.unsubscribe=function(){this.closed||(this.attemptedToUnsubscribe=!0,this.count===0&&_r.prototype.unsubscribe.call(this))}}(hb);var xH=function(_r){function _t(_o,yl,El){var _l=_r.call(this,yl)||this;return _l.key=_o,_l.group=yl,_l.parent=El,_l}return Ca(_t,_r),_t.prototype._next=function(_o){this.complete()},_t.prototype._unsubscribe=function(){var _o=this.parent,yl=this.key;this.key=this.parent=null,_o&&_o.removeGroup(yl)},_t}(hb),Uo=function(_r){function _t(_o,yl,El){var _l=_r.call(this)||this;return _l.key=_o,_l.groupSubject=yl,_l.refCountSubscription=El,_l}return Ca(_t,_r),_t.prototype._subscribe=function(_o){var yl=new dc,El=this.refCountSubscription,_l=this.groupSubject;return El&&!El.closed&&yl.add(new yH(El)),yl.add(_l.subscribe(_o)),yl},_t}(Za),yH=function(_r){function _t(_o){var yl=_r.call(this)||this;return yl.parent=_o,_o.count++,yl}return Ca(_t,_r),_t.prototype.unsubscribe=function(){var _o=this.parent;_o.closed||this.closed||(_r.prototype.unsubscribe.call(this),--_o.count,_o.count===0&&_o.attemptedToUnsubscribe&&_o.unsubscribe())},_t}(dc),zH=function(_r){function _t(_o){var yl=_r.call(this)||this;return yl._value=_o,yl}return Ca(_t,_r),Object.defineProperty(_t.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),_t.prototype._subscribe=function(_o){var yl=_r.prototype._subscribe.call(this,_o);return yl&&!yl.closed&&_o.next(this._value),yl},_t.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Cf;return this._value},_t.prototype.next=function(_o){_r.prototype.next.call(this,this._value=_o)},_t}(ec),dj=function(_r){function _t(_o,yl){var El=_r.call(this,_o,yl)||this;return El.scheduler=_o,El.work=yl,El.pending=!1,El}return Ca(_t,_r),_t.prototype.schedule=function(_o,yl){if(yl===void 0&&(yl=0),this.closed)return this;this.state=_o,_o=this.id;var El=this.scheduler;return _o!=null&&(this.id=this.recycleAsyncId(El,_o,yl)),this.pending=!0,this.delay=yl,this.id=this.id||this.requestAsyncId(El,this.id,yl),this},_t.prototype.requestAsyncId=function(_o,yl,El){return El===void 0&&(El=0),setInterval(_o.flush.bind(_o,this),El)},_t.prototype.recycleAsyncId=function(_o,yl,El){if(El===void 0&&(El=0),El!==null&&this.delay===El&&this.pending===!1)return yl;clearInterval(yl)},_t.prototype.execute=function(_o,yl){return this.closed?Error("executing a cancelled action"):(this.pending=!1,(_o=this._execute(_o,yl))?_o:void(this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))))},_t.prototype._execute=function(_o,yl){yl=!1;var El=void 0;try{this.work(_o)}catch(_l){yl=!0,El=!!_l&&_l||Error(_l)}if(yl)return this.unsubscribe(),El},_t.prototype._unsubscribe=function(){var _o=this.id,yl=this.scheduler,El=yl.actions,_l=El.indexOf(this);this.state=this.work=null,this.pending=!1,this.scheduler=null,_l!==-1&&El.splice(_l,1),_o!=null&&(this.id=this.recycleAsyncId(yl,_o,null)),this.delay=null},_t}(function(_r){function _t(_o,yl){return _r.call(this)||this}return Ca(_t,_r),_t.prototype.schedule=function(_o,yl){return this},_t}(dc)),AH=function(_r){function _t(_o,yl){var El=_r.call(this,_o,yl)||this;return El.scheduler=_o,El.work=yl,El}return Ca(_t,_r),_t.prototype.schedule=function(_o,yl){return yl===void 0&&(yl=0),0<yl?_r.prototype.schedule.call(this,_o,yl):(this.delay=yl,this.state=_o,this.scheduler.flush(this),this)},_t.prototype.execute=function(_o,yl){return 0<yl||this.closed?_r.prototype.execute.call(this,_o,yl):this._execute(_o,yl)},_t.prototype.requestAsyncId=function(_o,yl,El){return El===void 0&&(El=0),El!==null&&0<El||El===null&&0<this.delay?_r.prototype.requestAsyncId.call(this,_o,yl,El):_o.flush(this)},_t}(dj),Vo=function(){function _r(_t,_o){_o===void 0&&(_o=_r.now),this.SchedulerAction=_t,this.now=_o}return _r.prototype.schedule=function(_t,_o,yl){return _o===void 0&&(_o=0),new this.SchedulerAction(this,_t).schedule(yl,_o)},_r.now=function(){return Date.now()},_r}(),ej=function(_r){function _t(_o,yl){yl===void 0&&(yl=Vo.now);var El=_r.call(this,_o,function(){return _t.delegate&&_t.delegate!==El?_t.delegate.now():yl()})||this;return El.actions=[],El.active=!1,El.scheduled=void 0,El}return Ca(_t,_r),_t.prototype.schedule=function(_o,yl,El){return yl===void 0&&(yl=0),_t.delegate&&_t.delegate!==this?_t.delegate.schedule(_o,yl,El):_r.prototype.schedule.call(this,_o,yl,El)},_t.prototype.flush=function(_o){var yl=this.actions;if(this.active)yl.push(_o);else{var El;this.active=!0;do if(El=_o.execute(_o.state,_o.delay))break;while(_o=yl.shift());if(this.active=!1,El){for(;_o=yl.shift();)_o.unsubscribe();throw El}}},_t}(Vo),fj=new(function(_r){function _t(){return _r!==null&&_r.apply(this,arguments)||this}return Ca(_t,_r),_t}(ej))(AH),$c=new Za(function(_r){return _r.complete()}),Hr=function(_r){return function(_t){for(var _o=0,yl=_r.length;_o<yl&&!_t.closed;_o++)_t.next(_r[_o]);_t.complete()}},Wo;(function(_r){_r.NEXT="N",_r.ERROR="E",_r.COMPLETE="C"})(Wo||(Wo={}));var Eh=function(){function _r(_t,_o,yl){this.kind=_t,this.value=_o,this.error=yl,this.hasValue=_t==="N"}return _r.prototype.observe=function(_t){switch(this.kind){case"N":return _t.next&&_t.next(this.value);case"E":return _t.error&&_t.error(this.error);case"C":return _t.complete&&_t.complete()}},_r.prototype.do=function(_t,_o,yl){switch(this.kind){case"N":return _t&&_t(this.value);case"E":return _o&&_o(this.error);case"C":return yl&&yl()}},_r.prototype.accept=function(_t,_o,yl){return _t&&typeof _t.next=="function"?this.observe(_t):this.do(_t,_o,yl)},_r.prototype.toObservable=function(){switch(this.kind){case"N":return Wb(this.value);case"E":return Va(this.error);case"C":return ji()}throw Error("unexpected notification kind value")},_r.createNext=function(_t){return _t!==void 0?new _r("N",_t):_r.undefinedValueNotification},_r.createError=function(_t){return new _r("E",void 0,_t)},_r.createComplete=function(){return _r.completeNotification},_r.completeNotification=new _r("C"),_r.undefinedValueNotification=new _r("N",void 0),_r}(),lB=function(){function _r(_t,_o){_o===void 0&&(_o=0),this.scheduler=_t,this.delay=_o}return _r.prototype.call=function(_t,_o){return _o.subscribe(new iw(_t,this.scheduler,this.delay))},_r}(),iw=function(_r){function _t(_o,yl,El){return El===void 0&&(El=0),(_o=_r.call(this,_o)||this).scheduler=yl,_o.delay=El,_o}return Ca(_t,_r),_t.dispatch=function(_o){_o.notification.observe(_o.destination),this.unsubscribe()},_t.prototype.scheduleMessage=function(_o){this.destination.add(this.scheduler.schedule(_t.dispatch,this.delay,new BH(_o,this.destination)))},_t.prototype._next=function(_o){this.scheduleMessage(Eh.createNext(_o))},_t.prototype._error=function(_o){this.scheduleMessage(Eh.createError(_o)),this.unsubscribe()},_t.prototype._complete=function(){this.scheduleMessage(Eh.createComplete()),this.unsubscribe()},_t}(hb),BH=function(_r,_t){this.notification=_r,this.destination=_t},ah=function(_r){function _t(_o,yl,El){_o===void 0&&(_o=Number.POSITIVE_INFINITY),yl===void 0&&(yl=Number.POSITIVE_INFINITY);var _l=_r.call(this)||this;return _l.scheduler=El,_l._events=[],_l._infiniteTimeWindow=!1,_l._bufferSize=1>_o?1:_o,_l._windowTime=1>yl?1:yl,yl===Number.POSITIVE_INFINITY?(_l._infiniteTimeWindow=!0,_l.next=_l.nextInfiniteTimeWindow):_l.next=_l.nextTimeWindow,_l}return Ca(_t,_r),_t.prototype.nextInfiniteTimeWindow=function(_o){if(!this.isStopped){var yl=this._events;yl.push(_o),yl.length>this._bufferSize&&yl.shift()}_r.prototype.next.call(this,_o)},_t.prototype.nextTimeWindow=function(_o){this.isStopped||(this._events.push(new CH(this._getNow(),_o)),this._trimBufferThenGetEvents()),_r.prototype.next.call(this,_o)},_t.prototype._subscribe=function(_o){var yl=this._infiniteTimeWindow,El=yl?this._events:this._trimBufferThenGetEvents(),_l=this.scheduler,Tl=El.length;if(this.closed)throw new Cf;if(this.isStopped||this.hasError)var Il=dc.EMPTY;else this.observers.push(_o),Il=new ew(this,_o);if(_l&&_o.add(_o=new iw(_o,_l)),yl)for(yl=0;yl<Tl&&!_o.closed;yl++)_o.next(El[yl]);else for(yl=0;yl<Tl&&!_o.closed;yl++)_o.next(El[yl].value);return this.hasError?_o.error(this.thrownError):this.isStopped&&_o.complete(),Il},_t.prototype._getNow=function(){return(this.scheduler||fj).now()},_t.prototype._trimBufferThenGetEvents=function(){for(var _o=this._getNow(),yl=this._bufferSize,El=this._windowTime,_l=this._events,Tl=_l.length,Il=0;Il<Tl&&!(_o-_l[Il].time<El);)Il++;return Tl>yl&&(Il=Math.max(Il,Tl-yl)),0<Il&&_l.splice(0,Il),_l},_t}(ec),CH=function(_r,_t){this.time=_r,this.value=_t},li=function(_r){function _t(){var _o=_r!==null&&_r.apply(this,arguments)||this;return _o.value=null,_o.hasNext=!1,_o.hasCompleted=!1,_o}return Ca(_t,_r),_t.prototype._subscribe=function(_o){return this.hasError?(_o.error(this.thrownError),dc.EMPTY):this.hasCompleted&&this.hasNext?(_o.next(this.value),_o.complete(),dc.EMPTY):_r.prototype._subscribe.call(this,_o)},_t.prototype.next=function(_o){this.hasCompleted||(this.value=_o,this.hasNext=!0)},_t.prototype.error=function(_o){this.hasCompleted||_r.prototype.error.call(this,_o)},_t.prototype.complete=function(){this.hasCompleted=!0,this.hasNext&&_r.prototype.next.call(this,this.value),_r.prototype.complete.call(this)},_t}(ec),DH=1,EH=Promise.resolve(),vm={},jw={setImmediate:function(_r){var _t=DH++;return vm[_t]=!0,EH.then(function(){return Ir(_t)&&_r()}),_t},clearImmediate:function(_r){Ir(_r)}},FH=function(_r){function _t(_o,yl){var El=_r.call(this,_o,yl)||this;return El.scheduler=_o,El.work=yl,El}return Ca(_t,_r),_t.prototype.requestAsyncId=function(_o,yl,El){return El===void 0&&(El=0),El!==null&&0<El?_r.prototype.requestAsyncId.call(this,_o,yl,El):(_o.actions.push(this),_o.scheduled||(_o.scheduled=jw.setImmediate(_o.flush.bind(_o,null))))},_t.prototype.recycleAsyncId=function(_o,yl,El){if(El===void 0&&(El=0),El!==null&&0<El||El===null&&0<this.delay)return _r.prototype.recycleAsyncId.call(this,_o,yl,El);_o.actions.length===0&&(jw.clearImmediate(yl),_o.scheduled=void 0)},_t}(dj),Fm=new(function(_r){function _t(){return _r!==null&&_r.apply(this,arguments)||this}return Ca(_t,_r),_t.prototype.flush=function(_o){this.active=!0,this.scheduled=void 0;var yl,El=this.actions,_l=-1,Tl=El.length;_o=_o||El.shift();do if(yl=_o.execute(_o.state,_o.delay))break;while(++_l<Tl&&(_o=El.shift()));if(this.active=!1,yl){for(;++_l<Tl&&(_o=El.shift());)_o.unsubscribe();throw yl}},_t}(ej))(FH),GH=Fm,Xo=new ej(dj),Ee=Xo,HH=function(_r){function _t(_o,yl){var El=_r.call(this,_o,yl)||this;return El.scheduler=_o,El.work=yl,El}return Ca(_t,_r),_t.prototype.requestAsyncId=function(_o,yl,El){return El===void 0&&(El=0),El!==null&&0<El?_r.prototype.requestAsyncId.call(this,_o,yl,El):(_o.actions.push(this),_o.scheduled||(_o.scheduled=requestAnimationFrame(function(){return _o.flush(null)})))},_t.prototype.recycleAsyncId=function(_o,yl,El){if(El===void 0&&(El=0),El!==null&&0<El||El===null&&0<this.delay)return _r.prototype.recycleAsyncId.call(this,_o,yl,El);_o.actions.length===0&&(cancelAnimationFrame(yl),_o.scheduled=void 0)},_t}(dj),kw=new(function(_r){function _t(){return _r!==null&&_r.apply(this,arguments)||this}return Ca(_t,_r),_t.prototype.flush=function(_o){this.active=!0,this.scheduled=void 0;var yl,El=this.actions,_l=-1,Tl=El.length;_o=_o||El.shift();do if(yl=_o.execute(_o.state,_o.delay))break;while(++_l<Tl&&(_o=El.shift()));if(this.active=!1,yl){for(;++_l<Tl&&(_o=El.shift());)_o.unsubscribe();throw yl}},_t}(ej))(HH),IH=function(_r){function _t(_o,yl){_o===void 0&&(_o=lw),yl===void 0&&(yl=Number.POSITIVE_INFINITY);var El=_r.call(this,_o,function(){return El.frame})||this;return El.maxFrames=yl,El.frame=0,El.index=-1,El}return Ca(_t,_r),_t.prototype.flush=function(){for(var _o,yl,El=this.actions,_l=this.maxFrames;(yl=El[0])&&yl.delay<=_l&&(El.shift(),this.frame=yl.delay,!(_o=yl.execute(yl.state,yl.delay))););if(_o){for(;yl=El.shift();)yl.unsubscribe();throw _o}},_t.frameTimeFactor=10,_t}(ej),lw=function(_r){function _t(_o,yl,El){El===void 0&&(El=_o.index+=1);var _l=_r.call(this,_o,yl)||this;return _l.scheduler=_o,_l.work=yl,_l.index=El,_l.active=!0,_l.index=_o.index=El,_l}return Ca(_t,_r),_t.prototype.schedule=function(_o,yl){if(yl===void 0&&(yl=0),!this.id)return _r.prototype.schedule.call(this,_o,yl);this.active=!1;var El=new _t(this.scheduler,this.work);return this.add(El),El.schedule(_o,yl)},_t.prototype.requestAsyncId=function(_o,yl,El){return El===void 0&&(El=0),this.delay=_o.frame+El,(_o=_o.actions).push(this),_o.sort(_t.sortActions),!0},_t.prototype.recycleAsyncId=function(_o,yl,El){},_t.prototype._execute=function(_o,yl){if(this.active===!0)return _r.prototype._execute.call(this,_o,yl)},_t.sortActions=function(_o,yl){return _o.delay===yl.delay?_o.index===yl.index?0:_o.index>yl.index?1:-1:_o.delay>yl.delay?1:-1},_t}(dj),Yo=function(){function _r(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return _r.prototype=Object.create(Error.prototype),_r}(),Lj=function(){function _r(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return _r.prototype=Object.create(Error.prototype),_r}(),ad=function(){function _r(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}return _r.prototype=Object.create(Error.prototype),_r}(),mB=function(){function _r(_t,_o){this.project=_t,this.thisArg=_o}return _r.prototype.call=function(_t,_o){return _o.subscribe(new JH(_t,this.project,this.thisArg))},_r}(),JH=function(_r){function _t(_o,yl,El){return(_o=_r.call(this,_o)||this).project=yl,_o.count=0,_o.thisArg=El||_o,_o}return Ca(_t,_r),_t.prototype._next=function(_o){try{var yl=this.project.call(this.thisArg,_o,this.count++)}catch(El){return void this.destination.error(El)}this.destination.next(yl)},_t}(hb),Zo=function(_r){function _t(){return _r!==null&&_r.apply(this,arguments)||this}return Ca(_t,_r),_t.prototype.notifyNext=function(_o,yl,El,_l,Tl){this.destination.next(yl)},_t.prototype.notifyError=function(_o,yl){this.destination.error(_o)},_t.prototype.notifyComplete=function(_o){this.destination.complete()},_t}(hb),rB=function(_r){function _t(_o,yl,El){var _l=_r.call(this)||this;return _l.parent=_o,_l.outerValue=yl,_l.outerIndex=El,_l.index=0,_l}return Ca(_t,_r),_t.prototype._next=function(_o){this.parent.notifyNext(this.outerValue,_o,this.outerIndex,this.index++,this)},_t.prototype._error=function(_o){this.parent.notifyError(_o,this),this.unsubscribe()},_t.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},_t}(hb),KH=function(_r){return function(_t){return _r.then(function(_o){_t.closed||(_t.next(_o),_t.complete())},function(_o){return _t.error(_o)}).then(null,Wg),_t}},kf=typeof Symbol=="function"&&Symbol.iterator?Symbol.iterator:"@@iterator",LH=function(_r){return function(_t){for(var _o=_r[kf]();;){var yl=void 0;try{yl=_o.next()}catch(El){return _t.error(El),_t}if(yl.done){_t.complete();break}if(_t.next(yl.value),_t.closed)break}return typeof _o.return=="function"&&_t.add(function(){_o.return&&_o.return()}),_t}},MH=function(_r){return function(_t){var _o=_r[Xg]();if(typeof _o.subscribe!="function")throw new TypeError("Provided object does not correctly implement Symbol.observable");return _o.subscribe(_t)}},Or=function(_r){return _r&&typeof _r.length=="number"&&typeof _r!="function"},mi=function(_r){if(_r&&typeof _r[Xg]=="function")return MH(_r);if(Or(_r))return Hr(_r);if(Mr(_r))return KH(_r);if(_r&&typeof _r[kf]=="function")return LH(_r);throw _r=rm(_r)?"an invalid object":"'"+_r+"'",new TypeError("You provided "+_r+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.")},mw={},OH=function(){function _r(_t){this.resultSelector=_t}return _r.prototype.call=function(_t,_o){return _o.subscribe(new NH(_t,this.resultSelector))},_r}(),NH=function(_r){function _t(_o,yl){return(_o=_r.call(this,_o)||this).resultSelector=yl,_o.active=0,_o.values=[],_o.observables=[],_o}return Ca(_t,_r),_t.prototype._next=function(_o){this.values.push(mw),this.observables.push(_o)},_t.prototype._complete=function(){var _o=this.observables,yl=_o.length;if(yl===0)this.destination.complete();else{this.toRespond=this.active=yl;for(var El=0;El<yl;El++)this.add(wm(this,_o[El],void 0,El))}},_t.prototype.notifyComplete=function(_o){--this.active==0&&this.destination.complete()},_t.prototype.notifyNext=function(_o,yl,El){var _l=(_o=this.values)[El];_l=this.toRespond?_l===mw?--this.toRespond:this.toRespond:0,_o[El]=yl,_l===0&&(this.resultSelector?this._tryResultSelector(_o):this.destination.next(_o.slice()))},_t.prototype._tryResultSelector=function(_o){try{var yl=this.resultSelector.apply(this,_o)}catch(El){return void this.destination.error(El)}this.destination.next(yl)},_t}(Zo),Qe=function(_r){function _t(_o){var yl=_r.call(this)||this;return yl.parent=_o,yl}return Ca(_t,_r),_t.prototype._next=function(_o){this.parent.notifyNext(_o)},_t.prototype._error=function(_o){this.parent.notifyError(_o),this.unsubscribe()},_t.prototype._complete=function(){this.parent.notifyComplete(),this.unsubscribe()},_t}(hb);(function(_r){function _t(_o,yl,El){var _l=_r.call(this)||this;return _l.parent=_o,_l.outerValue=yl,_l.outerIndex=El,_l}Ca(_t,_r),_t.prototype._next=function(_o){this.parent.notifyNext(this.outerValue,_o,this.outerIndex,this)},_t.prototype._error=function(_o){this.parent.notifyError(_o),this.unsubscribe()},_t.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()}})(hb);var Re=function(_r){function _t(){return _r!==null&&_r.apply(this,arguments)||this}return Ca(_t,_r),_t.prototype.notifyNext=function(_o){this.destination.next(_o)},_t.prototype.notifyError=function(_o){this.destination.error(_o)},_t.prototype.notifyComplete=function(){this.destination.complete()},_t}(hb);(function(_r){function _t(){return _r!==null&&_r.apply(this,arguments)||this}Ca(_t,_r),_t.prototype.notifyNext=function(_o,yl,El,_l){this.destination.next(yl)},_t.prototype.notifyError=function(_o){this.destination.error(_o)},_t.prototype.notifyComplete=function(_o){this.destination.complete()}})(hb);var vB=function(){function _r(_t,_o){_o===void 0&&(_o=Number.POSITIVE_INFINITY),this.project=_t,this.concurrent=_o}return _r.prototype.call=function(_t,_o){return _o.subscribe(new PH(_t,this.project,this.concurrent))},_r}(),PH=function(_r){function _t(_o,yl,El){return El===void 0&&(El=Number.POSITIVE_INFINITY),(_o=_r.call(this,_o)||this).project=yl,_o.concurrent=El,_o.hasCompleted=!1,_o.buffer=[],_o.active=0,_o.index=0,_o}return Ca(_t,_r),_t.prototype._next=function(_o){this.active<this.concurrent?this._tryNext(_o):this.buffer.push(_o)},_t.prototype._tryNext=function(_o){var yl=this.index++;try{var El=this.project(_o,yl)}catch(_l){return void this.destination.error(_l)}this.active++,this._innerSub(El)},_t.prototype._innerSub=function(_o){var yl=new Qe(this),El=this.destination;El.add(yl),(_o=De(_o,yl))!==yl&&El.add(_o)},_t.prototype._complete=function(){this.hasCompleted=!0,this.active===0&&this.buffer.length===0&&this.destination.complete(),this.unsubscribe()},_t.prototype.notifyNext=function(_o){this.destination.next(_o)},_t.prototype.notifyComplete=function(){var _o=this.buffer;this.active--,0<_o.length?this._next(_o.shift()):this.active===0&&this.hasCompleted&&this.destination.complete()},_t}(Re),$o=na.parseFloat,nw=-1/0!=1/$o(`	
\v\f\r                　\u2028\u2029\uFEFF-0`)?function(_r){_r=kk(String(_r));var _t=$o(_r);return _t===0&&_r.charAt(0)=="-"?-0:_t}:$o;wa({global:!0,forced:parseFloat!=nw},{parseFloat:nw});var ap=new Za(fe),AB=function(){function _r(_t,_o){this.predicate=_t,this.thisArg=_o}return _r.prototype.call=function(_t,_o){return _o.subscribe(new QH(_t,this.predicate,this.thisArg))},_r}(),QH=function(_r){function _t(_o,yl,El){return(_o=_r.call(this,_o)||this).predicate=yl,_o.thisArg=El,_o.count=0,_o}return Ca(_t,_r),_t.prototype._next=function(_o){try{var yl=this.predicate.call(this.thisArg,_o,this.count++)}catch(El){return void this.destination.error(El)}yl&&this.destination.next(_o)},_t}(hb),BB=function(){function _r(){}return _r.prototype.call=function(_t,_o){return _o.subscribe(new RH(_t))},_r}(),RH=function(_r){function _t(_o){return(_o=_r.call(this,_o)||this).hasFirst=!1,_o.observables=[],_o.subscriptions=[],_o}return Ca(_t,_r),_t.prototype._next=function(_o){this.observables.push(_o)},_t.prototype._complete=function(){var _o=this.observables,yl=_o.length;if(yl===0)this.destination.complete();else{for(var El=0;El<yl&&!this.hasFirst;El++){var _l=wm(this,_o[El],void 0,El);this.subscriptions&&this.subscriptions.push(_l),this.add(_l)}this.observables=null}},_t.prototype.notifyNext=function(_o,yl,El){if(!this.hasFirst){for(this.hasFirst=!0,_o=0;_o<this.subscriptions.length;_o++)if(_o!==El){var _l=this.subscriptions[_o];_l.unsubscribe(),this.remove(_l)}this.subscriptions=null}this.destination.next(yl)},_t}(Zo),EB=function(){function _r(_t){this.resultSelector=_t}return _r.prototype.call=function(_t,_o){return _o.subscribe(new SH(_t,this.resultSelector))},_r}(),SH=function(_r){function _t(_o,yl,El){return(_o=_r.call(this,_o)||this).resultSelector=yl,_o.iterators=[],_o.active=0,_o.resultSelector=typeof yl=="function"?yl:void 0,_o}return Ca(_t,_r),_t.prototype._next=function(_o){var yl=this.iterators;td(_o)?yl.push(new TH(_o)):typeof _o[kf]=="function"?yl.push(new UH(_o[kf]())):yl.push(new VH(this.destination,this,_o))},_t.prototype._complete=function(){var _o=this.iterators,yl=_o.length;if(this.unsubscribe(),yl===0)this.destination.complete();else{this.active=yl;for(var El=0;El<yl;El++){var _l=_o[El];_l.stillUnsubscribed?this.destination.add(_l.subscribe()):this.active--}}},_t.prototype.notifyInactive=function(){this.active--,this.active===0&&this.destination.complete()},_t.prototype.checkIterators=function(){for(var _o=this.iterators,yl=_o.length,El=this.destination,_l=0;_l<yl;_l++){var Tl=_o[_l];if(typeof Tl.hasValue=="function"&&!Tl.hasValue())return}var Il=!1,Al=[];for(_l=0;_l<yl;_l++){var Rl=(Tl=_o[_l]).next();if(Tl.hasCompleted()&&(Il=!0),Rl.done)return void El.complete();Al.push(Rl.value)}this.resultSelector?this._tryresultSelector(Al):El.next(Al),Il&&El.complete()},_t.prototype._tryresultSelector=function(_o){try{var yl=this.resultSelector.apply(this,_o)}catch(El){return void this.destination.error(El)}this.destination.next(yl)},_t}(hb),UH=function(){function _r(_t){this.iterator=_t,this.nextResult=_t.next()}return _r.prototype.hasValue=function(){return!0},_r.prototype.next=function(){var _t=this.nextResult;return this.nextResult=this.iterator.next(),_t},_r.prototype.hasCompleted=function(){var _t=this.nextResult;return!(!_t||!_t.done)},_r}(),TH=function(){function _r(_t){this.array=_t,this.length=this.index=0,this.length=_t.length}return _r.prototype[kf]=function(){return this},_r.prototype.next=function(_t){_t=this.index++;var _o=this.array;return _t<this.length?{value:_o[_t],done:!1}:{value:null,done:!0}},_r.prototype.hasValue=function(){return this.array.length>this.index},_r.prototype.hasCompleted=function(){return this.array.length===this.index},_r}(),VH=function(_r){function _t(_o,yl,El){return(_o=_r.call(this,_o)||this).parent=yl,_o.observable=El,_o.stillUnsubscribed=!0,_o.buffer=[],_o.isComplete=!1,_o}return Ca(_t,_r),_t.prototype[kf]=function(){return this},_t.prototype.next=function(){var _o=this.buffer;return _o.length===0&&this.isComplete?{value:null,done:!0}:{value:_o.shift(),done:!1}},_t.prototype.hasValue=function(){return 0<this.buffer.length},_t.prototype.hasCompleted=function(){return this.buffer.length===0&&this.isComplete},_t.prototype.notifyComplete=function(){0<this.buffer.length?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()},_t.prototype.notifyNext=function(_o){this.buffer.push(_o),this.parent.checkIterators()},_t.prototype.subscribe=function(){return De(this.observable,new Qe(this))},_t}(Re),WH=Object.freeze({__proto__:null,Observable:Za,ConnectableObservable:hw,GroupedObservable:Uo,observable:Xg,Subject:ec,BehaviorSubject:zH,ReplaySubject:ah,AsyncSubject:li,asap:GH,asapScheduler:Fm,async:Ee,asyncScheduler:Xo,queue:fj,queueScheduler:fj,animationFrame:kw,animationFrameScheduler:kw,VirtualTimeScheduler:IH,VirtualAction:lw,Scheduler:Vo,Subscription:dc,Subscriber:hb,Notification:Eh,get NotificationKind(){return Wo},pipe:tm,noop:fe,identity:jf,isObservable:function(_r){return!!_r&&(_r instanceof Za||typeof _r.lift=="function"&&typeof _r.subscribe=="function")},ArgumentOutOfRangeError:Yo,EmptyError:Lj,ObjectUnsubscribedError:Cf,UnsubscriptionError:ii,TimeoutError:ad,bindCallback:Jr,bindNodeCallback:Kr,combineLatest:function(){for(var _r=[],_t=0;_t<arguments.length;_t++)_r[_t]=arguments[_t];var _o=_t=void 0;return Ce(_r[_r.length-1])&&(_o=_r.pop()),typeof _r[_r.length-1]=="function"&&(_t=_r.pop()),_r.length===1&&td(_r[0])&&(_r=_r[0]),ki(_r,_o).lift(new OH(_t))},concat:Pr,defer:lf,empty:ji,forkJoin:function(){for(var _r=[],_t=0;_t<arguments.length;_t++)_r[_t]=arguments[_t];if(_r.length===1){var _o=_r[0];if(td(_o))return Jj(_o,null);if(rm(_o)&&Object.getPrototypeOf(_o)===Object.prototype)return Jj((_r=Object.keys(_o)).map(function(El){return _o[El]}),_r)}if(typeof _r[_r.length-1]=="function"){var yl=_r.pop();return Jj(_r=_r.length===1&&td(_r[0])?_r[0]:_r,null).pipe(Wa(function(El){return yl.apply(void 0,El)}))}return Jj(_r,null)},from:ge,fromEvent:Bc,fromEventPattern:Rr,generate:function(_r,_t,_o,yl,El){if(arguments.length==1){var _l=_r.initialState;_t=_r.condition,_o=_r.iterate;var Tl=_r.resultSelector||jf;El=_r.scheduler}else yl===void 0||Ce(yl)?(_l=_r,Tl=jf,El=yl):(_l=_r,Tl=yl);return new Za(function(Il){var Al=_l;if(El)return El.schedule(wB,0,{subscriber:Il,iterate:_o,condition:_t,resultSelector:Tl,state:Al});for(;;){if(_t){var Rl=void 0;try{Rl=_t(Al)}catch(Fl){Il.error(Fl);break}if(!Rl){Il.complete();break}}Rl=void 0;try{Rl=Tl(Al)}catch(Fl){Il.error(Fl);break}if(Il.next(Rl),Il.closed)break;try{Al=_o(Al)}catch(Fl){Il.error(Fl);break}}})},iif:function(_r,_t,_o){return _t===void 0&&(_t=$c),_o===void 0&&(_o=$c),lf(function(){return _r()?_t:_o})},interval:Yg,merge:Nc,never:function(){return ap},of:Wb,onErrorResumeNext:ym,pairs:function(_r,_t){return new Za(_t?function(_o){var yl=Object.keys(_r),El=new dc;return El.add(_t.schedule(yB,0,{keys:yl,index:0,subscriber:_o,subscription:El,obj:_r})),El}:function(_o){for(var yl=Object.keys(_r),El=0;El<yl.length&&!_o.closed;El++){var _l=yl[El];_r.hasOwnProperty(_l)&&_o.next([_l,_r[_l]])}_o.complete()})},partition:function(_r,_t,_o){return[sc(_t,_o)(new Za(mi(_r))),sc(zB(_t,_o))(new Za(mi(_r)))]},race:bb,range:function(_r,_t,_o){return _r===void 0&&(_r=0),new Za(function(yl){_t===void 0&&(_t=_r,_r=0);var El=0,_l=_r;if(_o)return _o.schedule(CB,0,{index:El,count:_t,start:_r,subscriber:yl});for(;;){if(El++>=_t){yl.complete();break}if(yl.next(_l++),yl.closed)break}})},throwError:Va,timer:Fe,using:function(_r,_t){return new Za(function(_o){try{var yl=_r()}catch(Tl){return void _o.error(Tl)}try{var El=_t(yl)}catch(Tl){return void _o.error(Tl)}var _l=(El?ge(El):$c).subscribe(_o);return function(){_l.unsubscribe(),yl&&yl.unsubscribe()}})},zip:zm,scheduled:Nr,EMPTY:$c,NEVER:ap,config:sd}),FB=function(){function _r(_t,_o,yl,El){this.bufferTimeSpan=_t,this.bufferCreationInterval=_o,this.maxBufferSize=yl,this.scheduler=El}return _r.prototype.call=function(_t,_o){return _o.subscribe(new XH(_t,this.bufferTimeSpan,this.bufferCreationInterval,this.maxBufferSize,this.scheduler))},_r}(),YH=function(){this.buffer=[]},XH=function(_r){function _t(_o,yl,El,_l,Tl){if((_o=_r.call(this,_o)||this).bufferTimeSpan=yl,_o.bufferCreationInterval=El,_o.maxBufferSize=_l,_o.scheduler=Tl,_o.contexts=[],_l=_o.openContext(),_o.timespanOnly=El==null||0>El,_o.timespanOnly)_o.add(_l.closeAction=Tl.schedule(Sr,yl,{subscriber:_o,context:_l,bufferTimeSpan:yl}));else{var Il={bufferTimeSpan:yl,bufferCreationInterval:El,subscriber:_o,scheduler:Tl};_o.add(_l.closeAction=Tl.schedule(Tr,yl,{subscriber:_o,context:_l})),_o.add(Tl.schedule(GB,El,Il))}return _o}return Ca(_t,_r),_t.prototype._next=function(_o){for(var yl,El=this.contexts,_l=El.length,Tl=0;Tl<_l;Tl++){var Il=El[Tl],Al=Il.buffer;Al.push(_o),Al.length==this.maxBufferSize&&(yl=Il)}yl&&this.onBufferFull(yl)},_t.prototype._error=function(_o){this.contexts.length=0,_r.prototype._error.call(this,_o)},_t.prototype._complete=function(){for(var _o=this.contexts,yl=this.destination;0<_o.length;){var El=_o.shift();yl.next(El.buffer)}_r.prototype._complete.call(this)},_t.prototype._unsubscribe=function(){this.contexts=null},_t.prototype.onBufferFull=function(_o){if(this.closeContext(_o),(_o=_o.closeAction).unsubscribe(),this.remove(_o),!this.closed&&this.timespanOnly){_o=this.openContext();var yl=this.bufferTimeSpan;this.add(_o.closeAction=this.scheduler.schedule(Sr,yl,{subscriber:this,context:_o,bufferTimeSpan:yl}))}},_t.prototype.openContext=function(){var _o=new YH;return this.contexts.push(_o),_o},_t.prototype.closeContext=function(_o){this.destination.next(_o.buffer);var yl=this.contexts;0<=(yl?yl.indexOf(_o):-1)&&yl.splice(yl.indexOf(_o),1)},_t}(hb),HB=function(){function _r(_t){this.selector=_t}return _r.prototype.call=function(_t,_o){return _o.subscribe(new ZH(_t,this.selector,this.caught))},_r}(),ZH=function(_r){function _t(_o,yl,El){return(_o=_r.call(this,_o)||this).selector=yl,_o.caught=El,_o}return Ca(_t,_r),_t.prototype.error=function(_o){if(!this.isStopped){var yl=void 0;try{yl=this.selector(_o,this.caught)}catch(El){return void _r.prototype.error.call(this,El)}this._unsubscribeAndRecycle(),_o=new Qe(this),this.add(_o),(yl=De(yl,_o))!==_o&&this.add(yl)}},_t}(Re),IB=function(){function _r(_t){this.defaultValue=_t}return _r.prototype.call=function(_t,_o){return _o.subscribe(new $H(_t,this.defaultValue))},_r}(),$H=function(_r){function _t(_o,yl){return(_o=_r.call(this,_o)||this).defaultValue=yl,_o.isEmpty=!0,_o}return Ca(_t,_r),_t.prototype._next=function(_o){this.isEmpty=!1,this.destination.next(_o)},_t.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},_t}(hb),JB=function(){function _r(_t,_o){this.delay=_t,this.scheduler=_o}return _r.prototype.call=function(_t,_o){return _o.subscribe(new aI(_t,this.delay,this.scheduler))},_r}(),aI=function(_r){function _t(_o,yl,El){return(_o=_r.call(this,_o)||this).delay=yl,_o.scheduler=El,_o.queue=[],_o.active=!1,_o.errored=!1,_o}return Ca(_t,_r),_t.dispatch=function(_o){for(var yl=_o.source,El=yl.queue,_l=_o.scheduler,Tl=_o.destination;0<El.length&&0>=El[0].time-_l.now();)El.shift().notification.observe(Tl);0<El.length?(yl=Math.max(0,El[0].time-_l.now()),this.schedule(_o,yl)):(this.unsubscribe(),yl.active=!1)},_t.prototype._schedule=function(_o){this.active=!0,this.destination.add(_o.schedule(_t.dispatch,this.delay,{source:this,destination:this.destination,scheduler:_o}))},_t.prototype.scheduleNotification=function(_o){if(this.errored!==!0){var yl=this.scheduler;_o=new bI(yl.now()+this.delay,_o),this.queue.push(_o),this.active===!1&&this._schedule(yl)}},_t.prototype._next=function(_o){this.scheduleNotification(Eh.createNext(_o))},_t.prototype._error=function(_o){this.errored=!0,this.queue=[],this.destination.error(_o),this.unsubscribe()},_t.prototype._complete=function(){this.scheduleNotification(Eh.createComplete()),this.unsubscribe()},_t}(hb),bI=function(_r,_t){this.time=_r,this.notification=_t},KB=function(){function _r(_t,_o){this.keySelector=_t,this.flushes=_o}return _r.prototype.call=function(_t,_o){return _o.subscribe(new cI(_t,this.keySelector,this.flushes))},_r}(),cI=function(_r){function _t(_o,yl,El){return(_o=_r.call(this,_o)||this).keySelector=yl,_o.values=new Set,El&&_o.add(De(El,new Qe(_o))),_o}return Ca(_t,_r),_t.prototype.notifyNext=function(){this.values.clear()},_t.prototype.notifyError=function(_o){this._error(_o)},_t.prototype._next=function(_o){this.keySelector?this._useKeySelector(_o):this._finalizeNext(_o,_o)},_t.prototype._useKeySelector=function(_o){var yl=this.destination;try{var El=this.keySelector(_o)}catch(_l){return void yl.error(_l)}this._finalizeNext(El,_o)},_t.prototype._finalizeNext=function(_o,yl){var El=this.values;El.has(_o)||(El.add(_o),this.destination.next(yl))},_t}(Re),MB=function(){function _r(_t){this.errorFactory=_t}return _r.prototype.call=function(_t,_o){return _o.subscribe(new dI(_t,this.errorFactory))},_r}(),dI=function(_r){function _t(_o,yl){return(_o=_r.call(this,_o)||this).errorFactory=yl,_o.hasValue=!1,_o}return Ca(_t,_r),_t.prototype._next=function(_o){this.hasValue=!0,this.destination.next(_o)},_t.prototype._complete=function(){if(this.hasValue)return this.destination.complete();var _o=void 0;try{_o=this.errorFactory()}catch(yl){_o=yl}this.destination.error(_o)},_t}(hb),NB=function(){function _r(_t){if(this.total=_t,0>this.total)throw new Yo}return _r.prototype.call=function(_t,_o){return _o.subscribe(new eI(_t,this.total))},_r}(),eI=function(_r){function _t(_o,yl){return(_o=_r.call(this,_o)||this).total=yl,_o.count=0,_o}return Ca(_t,_r),_t.prototype._next=function(_o){var yl=this.total,El=++this.count;El<=yl&&(this.destination.next(_o),El===yl&&(this.destination.complete(),this.unsubscribe()))},_t}(hb),OB=function(){function _r(_t){this.callback=_t}return _r.prototype.call=function(_t,_o){return _o.subscribe(new fI(_t,this.callback))},_r}(),fI=function(_r){function _t(_o,yl){return(_o=_r.call(this,_o)||this).add(new dc(yl)),_o}return Ca(_t,_r),_t}(hb),QB=function(){function _r(){}return _r.prototype.call=function(_t,_o){return _o.subscribe(new gI(_t))},_r}(),gI=function(_r){function _t(){return _r!==null&&_r.apply(this,arguments)||this}return Ca(_t,_r),_t.prototype._next=function(_o){},_t}(hb),RB=function(){function _r(_t){if(this.total=_t,0>this.total)throw new Yo}return _r.prototype.call=function(_t,_o){return _o.subscribe(new hI(_t,this.total))},_r}(),hI=function(_r){function _t(_o,yl){return(_o=_r.call(this,_o)||this).total=yl,_o.ring=[],_o.count=0,_o}return Ca(_t,_r),_t.prototype._next=function(_o){var yl=this.ring,El=this.total,_l=this.count++;yl.length<El?yl.push(_o):yl[_l%El]=_o},_t.prototype._complete=function(){var _o=this.destination,yl=this.count;if(0<yl)for(var El=this.count>=this.total?this.total:this.count,_l=this.ring,Tl=0;Tl<El;Tl++){var Il=yl++%El;_o.next(_l[Il])}_o.complete()},_t}(hb),SB=function(){function _r(_t){this.value=_t}return _r.prototype.call=function(_t,_o){return _o.subscribe(new iI(_t,this.value))},_r}(),iI=function(_r){function _t(_o,yl){return(_o=_r.call(this,_o)||this).value=yl,_o}return Ca(_t,_r),_t.prototype._next=function(_o){this.destination.next(this.value)},_t}(hb),TB=function(){function _r(_t,_o,yl){yl===void 0&&(yl=!1),this.accumulator=_t,this.seed=_o,this.hasSeed=yl}return _r.prototype.call=function(_t,_o){return _o.subscribe(new jI(_t,this.accumulator,this.seed,this.hasSeed))},_r}(),jI=function(_r){function _t(_o,yl,El,_l){return(_o=_r.call(this,_o)||this).accumulator=yl,_o._seed=El,_o.hasSeed=_l,_o.index=0,_o}return Ca(_t,_r),Object.defineProperty(_t.prototype,"seed",{get:function(){return this._seed},set:function(_o){this.hasSeed=!0,this._seed=_o},enumerable:!0,configurable:!0}),_t.prototype._next=function(_o){if(this.hasSeed)return this._tryNext(_o);this.seed=_o,this.destination.next(_o)},_t.prototype._tryNext=function(_o){var yl=this.index++;try{var El=this.accumulator(this.seed,_o,yl)}catch(_l){this.destination.error(_l)}this.seed=El,this.destination.next(El)},_t}(hb),VB=function(){function _r(_t,_o){this.subjectFactory=_t,this.selector=_o}return _r.prototype.call=function(_t,_o){var yl=this.selector,El=this.subjectFactory();return(_t=yl(El).subscribe(_t)).add(_o.subscribe(El)),_t},_r}(),XB=function(){function _r(_t,_o){this.notifier=_t,this.source=_o}return _r.prototype.call=function(_t,_o){return _o.subscribe(new kI(_t,this.notifier,this.source))},_r}(),kI=function(_r){function _t(_o,yl,El){return(_o=_r.call(this,_o)||this).notifier=yl,_o.source=El,_o}return Ca(_t,_r),_t.prototype.error=function(_o){if(!this.isStopped){var yl=this.errors,El=this.retries,_l=this.retriesSubscription;if(El)this.retriesSubscription=this.errors=void 0;else{yl=new ec;try{El=(0,this.notifier)(yl)}catch(Tl){return _r.prototype.error.call(this,Tl)}_l=De(El,new Qe(this))}this._unsubscribeAndRecycle(),this.errors=yl,this.retries=El,this.retriesSubscription=_l,yl.next(_o)}},_t.prototype._unsubscribe=function(){var _o=this.errors,yl=this.retriesSubscription;_o&&(_o.unsubscribe(),this.errors=void 0),yl&&(yl.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0},_t.prototype.notifyNext=function(){var _o=this._unsubscribe;this._unsubscribe=null,this._unsubscribeAndRecycle(),this._unsubscribe=_o,this.source.subscribe(this)},_t}(Re),$B=function(){function _r(_t){this.project=_t}return _r.prototype.call=function(_t,_o){return _o.subscribe(new lI(_t,this.project))},_r}(),lI=function(_r){function _t(_o,yl){return(_o=_r.call(this,_o)||this).project=yl,_o.index=0,_o}return Ca(_t,_r),_t.prototype._next=function(_o){var yl=this.index++;try{var El=this.project(_o,yl)}catch(_l){return void this.destination.error(_l)}this._innerSub(El)},_t.prototype._innerSub=function(_o){var yl=this.innerSubscription;yl&&yl.unsubscribe(),yl=new Qe(this);var El=this.destination;El.add(yl),this.innerSubscription=De(_o,yl),this.innerSubscription!==yl&&El.add(this.innerSubscription)},_t.prototype._complete=function(){var _o=this.innerSubscription;_o&&!_o.closed||_r.prototype._complete.call(this),this.unsubscribe()},_t.prototype._unsubscribe=function(){this.innerSubscription=void 0},_t.prototype.notifyComplete=function(){this.innerSubscription=void 0,this.isStopped&&_r.prototype._complete.call(this)},_t.prototype.notifyNext=function(_o){this.destination.next(_o)},_t}(Re),aC=function(){function _r(_t){this.notifier=_t}return _r.prototype.call=function(_t,_o){_t=new mI(_t);var yl=De(this.notifier,new Qe(_t));return yl&&!_t.seenValue?(_t.add(yl),_o.subscribe(_t)):_t},_r}(),mI=function(_r){function _t(_o){return(_o=_r.call(this,_o)||this).seenValue=!1,_o}return Ca(_t,_r),_t.prototype.notifyNext=function(){this.seenValue=!0,this.complete()},_t.prototype.notifyComplete=function(){},_t}(Re),bC=function(){function _r(_t,_o,yl){this.nextOrObserver=_t,this.error=_o,this.complete=yl}return _r.prototype.call=function(_t,_o){return _o.subscribe(new nI(_t,this.nextOrObserver,this.error,this.complete))},_r}(),nI=function(_r){function _t(_o,yl,El,_l){return(_o=_r.call(this,_o)||this)._tapNext=fe,_o._tapError=fe,_o._tapComplete=fe,_o._tapError=El||fe,_o._tapComplete=_l||fe,Vg(yl)?(_o._context=_o,_o._tapNext=yl):yl&&(_o._context=yl,_o._tapNext=yl.next||fe,_o._tapError=yl.error||fe,_o._tapComplete=yl.complete||fe),_o}return Ca(_t,_r),_t.prototype._next=function(_o){try{this._tapNext.call(this._context,_o)}catch(yl){return void this.destination.error(yl)}this.destination.next(_o)},_t.prototype._error=function(_o){try{this._tapError.call(this._context,_o)}catch(yl){return void this.destination.error(yl)}this.destination.error(_o)},_t.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(_o){return void this.destination.error(_o)}return this.destination.complete()},_t}(hb),dC={leading:!0,trailing:!1};(function(_r){function _t(_o,yl,El,_l){var Tl=_r.call(this,_o)||this;return Tl.destination=_o,Tl.durationSelector=yl,Tl._leading=El,Tl._trailing=_l,Tl._hasValue=!1,Tl}Ca(_t,_r),_t.prototype._next=function(_o){this._hasValue=!0,this._sendValue=_o,this._throttled||(this._leading?this.send():this.throttle(_o))},_t.prototype.send=function(){var _o=this._sendValue;this._hasValue&&(this.destination.next(_o),this.throttle(_o)),this._hasValue=!1,this._sendValue=void 0},_t.prototype.throttle=function(_o){(_o=this.tryDurationSelector(_o))&&this.add(this._throttled=De(_o,new Qe(this)))},_t.prototype.tryDurationSelector=function(_o){try{return this.durationSelector(_o)}catch(yl){return this.destination.error(yl),null}},_t.prototype.throttlingDone=function(){var _o=this._throttled,yl=this._trailing;_o&&_o.unsubscribe(),this._throttled=void 0,yl&&this.send()},_t.prototype.notifyNext=function(){this.throttlingDone()},_t.prototype.notifyComplete=function(){this.throttlingDone()}})(Re);for(var eC=function(){function _r(_t,_o,yl,El){this.duration=_t,this.scheduler=_o,this.leading=yl,this.trailing=El}return _r.prototype.call=function(_t,_o){return _o.subscribe(new oI(_t,this.duration,this.scheduler,this.leading,this.trailing))},_r}(),oI=function(_r){function _t(_o,yl,El,_l,Tl){return(_o=_r.call(this,_o)||this).duration=yl,_o.scheduler=El,_o.leading=_l,_o.trailing=Tl,_o._hasTrailingValue=!1,_o._trailingValue=null,_o}return Ca(_t,_r),_t.prototype._next=function(_o){this.throttled?this.trailing&&(this._trailingValue=_o,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(fC,this.duration,{subscriber:this})),this.leading?this.destination.next(_o):this.trailing&&(this._trailingValue=_o,this._hasTrailingValue=!0))},_t.prototype._complete=function(){this._hasTrailingValue&&this.destination.next(this._trailingValue),this.destination.complete()},_t.prototype.clearThrottle=function(){var _o=this.throttled;_o&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),_o.unsubscribe(),this.remove(_o),this.throttled=null)},_t}(hb),hC=function(){function _r(_t,_o,yl,El){this.waitFor=_t,this.absoluteTimeout=_o,this.withObservable=yl,this.scheduler=El}return _r.prototype.call=function(_t,_o){return _o.subscribe(new pI(_t,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))},_r}(),pI=function(_r){function _t(_o,yl,El,_l,Tl){return(_o=_r.call(this,_o)||this).absoluteTimeout=yl,_o.waitFor=El,_o.withObservable=_l,_o.scheduler=Tl,_o.scheduleTimeout(),_o}return Ca(_t,_r),_t.dispatchTimeout=function(_o){var yl=_o.withObservable;_o._unsubscribeAndRecycle(),_o.add(De(yl,new Qe(_o)))},_t.prototype.scheduleTimeout=function(){var _o=this.action;_o?this.action=_o.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(_t.dispatchTimeout,this.waitFor,this))},_t.prototype._next=function(_o){this.absoluteTimeout||this.scheduleTimeout(),_r.prototype._next.call(this,_o)},_t.prototype._unsubscribe=function(){this.action=void 0,this.withObservable=this.scheduler=null},_t}(Re),jC=function(){function _r(_t,_o){this.observables=_t,this.project=_o}return _r.prototype.call=function(_t,_o){return _o.subscribe(new qI(_t,this.observables,this.project))},_r}(),qI=function(_r){function _t(_o,yl,El){(_o=_r.call(this,_o)||this).observables=yl,_o.project=El,_o.toRespond=[],El=yl.length,_o.values=Array(El);for(var _l=0;_l<El;_l++)_o.toRespond.push(_l);for(_l=0;_l<El;_l++)_o.add(wm(_o,yl[_l],void 0,_l));return _o}return Ca(_t,_r),_t.prototype.notifyNext=function(_o,yl,El){this.values[El]=yl,0<(_o=this.toRespond).length&&(El=_o.indexOf(El))!==-1&&_o.splice(El,1)},_t.prototype.notifyComplete=function(){},_t.prototype._next=function(_o){this.toRespond.length===0&&(_o=[_o].concat(this.values),this.project?this._tryProject(_o):this.destination.next(_o))},_t.prototype._tryProject=function(_o){try{var yl=this.project.apply(this,_o)}catch(El){return void this.destination.error(El)}this.destination.next(yl)},_t}(Zo),ow=kc(function(_r){var _t=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof window.msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto);if(_t){var _o=new Uint8Array(16);_r.exports=function(){return _t(_o),_o}}else{var yl=Array(16);_r.exports=function(){for(var El,_l=0;16>_l;_l++)!(3&_l)&&(El=4294967296*Math.random()),yl[_l]=El>>>((3&_l)<<3)&255;return yl}}}),tc=[],Yk=0;256>Yk;++Yk)tc[Yk]=(Yk+256).toString(16).substr(1);var pw=function(_r,_t){return _t=_t||0,[tc[_r[_t++]],tc[_r[_t++]],tc[_r[_t++]],tc[_r[_t++]],"-",tc[_r[_t++]],tc[_r[_t++]],"-",tc[_r[_t++]],tc[_r[_t++]],"-",tc[_r[_t++]],tc[_r[_t++]],"-",tc[_r[_t++]],tc[_r[_t++]],tc[_r[_t++]],tc[_r[_t++]],tc[_r[_t++]],tc[_r[_t++]]].join("")},gj=function(_r,_t,_o){if(_o=_t&&_o||0,typeof _r=="string"&&(_t=_r==="binary"?Array(16):null,_r=null),(_r=(_r=_r||{}).random||(_r.rng||ow)())[6]=15&_r[6]|64,_r[8]=63&_r[8]|128,_t)for(var yl=0;16>yl;++yl)_t[_o+yl]=_r[yl];return _t||pw(_r)},hj=gj(),Bm=!1,$r=new AbortController,Se,Df,bp,cp,Ef,rg,Zd,sg,zd,dp,Te,tg,Ue,Ve,We,Fh,Uc,$d;(function(_r){_r[_r.ATTRIBUTE_OPERATION_ERR_FAILURE=2]="ATTRIBUTE_OPERATION_ERR_FAILURE",_r[_r.ATTRIBUTE_OPERATION_ERR_INVALID_ARGUMENT=3]="ATTRIBUTE_OPERATION_ERR_INVALID_ARGUMENT",_r[_r.ATTRIBUTE_OPERATION_ERR_SIZE_OVERFLOW=4]="ATTRIBUTE_OPERATION_ERR_SIZE_OVERFLOW",_r[_r.ATTRIBUTE_OPERATION_ERR_TOO_OFTEN=5]="ATTRIBUTE_OPERATION_ERR_TOO_OFTEN",_r[_r.ATTRIBUTE_OPERATION_ERR_USER_NOT_FOUND=6]="ATTRIBUTE_OPERATION_ERR_USER_NOT_FOUND",_r[_r.ATTRIBUTE_OPERATION_ERR_TIMEOUT=7]="ATTRIBUTE_OPERATION_ERR_TIMEOUT",_r[_r.ATTRIBUTE_OPERATION_ERR_USER_NOT_LOGGED_IN=102]="ATTRIBUTE_OPERATION_ERR_USER_NOT_LOGGED_IN"})(Se||(Se={})),function(_r){_r[_r.CHANNEL_MESSAGE_ERR_FAILURE=1]="CHANNEL_MESSAGE_ERR_FAILURE",_r[_r.CHANNEL_MESSAGE_ERR_TIMEOUT=2]="CHANNEL_MESSAGE_ERR_TIMEOUT",_r[_r.CHANNEL_MESSAGE_ERR_TOO_OFTEN=3]="CHANNEL_MESSAGE_ERR_TOO_OFTEN",_r[_r.CHANNEL_MESSAGE_ERR_INVALID_MESSAGE=4]="CHANNEL_MESSAGE_ERR_INVALID_MESSAGE",_r[_r.CHANNEL_MESSAGE_ERR_NOT_IN_CHANNEL=5]="CHANNEL_MESSAGE_ERR_NOT_IN_CHANNEL",_r[_r.CHANNEL_MESSAGE_ERR_USER_NOT_LOGGED_IN=102]="CHANNEL_MESSAGE_ERR_USER_NOT_LOGGED_IN"}(Df||(Df={})),function(_r){_r[_r.CREATE_CHANNEL_ERR_INVALID_ARGUMENT=1]="CREATE_CHANNEL_ERR_INVALID_ARGUMENT"}(bp||(bp={})),function(_r){_r[_r.CREATE_INSTANCE_ERR_INVALID_ARGUMENT=1]="CREATE_INSTANCE_ERR_INVALID_ARGUMENT"}(cp||(cp={})),function(_r){_r[_r.GET_MEMBERS_ERR_FAILURE=1]="GET_MEMBERS_ERR_FAILURE",_r[_r.GET_MEMBERS_ERR_REJECTED=2]="GET_MEMBERS_ERR_REJECTED",_r[_r.GET_MEMBERS_ERR_TIMEOUT=3]="GET_MEMBERS_ERR_TIMEOUT",_r[_r.GET_MEMBERS_ERR_TOO_OFTEN=4]="GET_MEMBERS_ERR_TOO_OFTEN",_r[_r.GET_MEMBERS_ERR_NOT_IN_CHANNEL=5]="GET_MEMBERS_ERR_NOT_IN_CHANNEL",_r[_r.GET_MEMBERS_ERR_USER_NOT_LOGGED_IN=102]="GET_MEMBERS_ERR_USER_NOT_LOGGED_IN"}(Ef||(Ef={})),function(_r){_r[_r.INVITATION_API_CALL_ERR_INVALID_ARGUMENT=1]="INVITATION_API_CALL_ERR_INVALID_ARGUMENT",_r[_r.INVITATION_API_CALL_ERR_NOT_STARTED=2]="INVITATION_API_CALL_ERR_NOT_STARTED",_r[_r.INVITATION_API_CALL_ERR_ALREADY_END=3]="INVITATION_API_CALL_ERR_ALREADY_END",_r[_r.INVITATION_API_CALL_ERR_ALREADY_ACCEPT=4]="INVITATION_API_CALL_ERR_ALREADY_ACCEPT",_r[_r.INVITATION_API_CALL_ERR_ALREADY_SENT=5]="INVITATION_API_CALL_ERR_ALREADY_SENT"}(rg||(rg={})),function(_r){_r[_r.JOIN_CHANNEL_ERR_FAILURE=1]="JOIN_CHANNEL_ERR_FAILURE",_r[_r.JOIN_CHANNEL_ERR_REJECTED=2]="JOIN_CHANNEL_ERR_REJECTED",_r[_r.JOIN_CHANNEL_ERR_INVALID_ARGUMENT=3]="JOIN_CHANNEL_ERR_INVALID_ARGUMENT",_r[_r.JOIN_CHANNEL_TIMEOUT=4]="JOIN_CHANNEL_TIMEOUT",_r[_r.JOIN_CHANNEL_ERR_EXCEED_LIMIT=5]="JOIN_CHANNEL_ERR_EXCEED_LIMIT",_r[_r.JOIN_CHANNEL_ERR_ALREADY_JOINED=6]="JOIN_CHANNEL_ERR_ALREADY_JOINED",_r[_r.JOIN_CHANNEL_ERR_TOO_OFTEN=7]="JOIN_CHANNEL_ERR_TOO_OFTEN",_r[_r.JOIN_CHANNEL_ERR_JOIN_SAME_CHANNEL_TOO_OFTEN=8]="JOIN_CHANNEL_ERR_JOIN_SAME_CHANNEL_TOO_OFTEN",_r[_r.JOIN_CHANNEL_ERR_USER_NOT_LOGGED_IN=102]="JOIN_CHANNEL_ERR_USER_NOT_LOGGED_IN",_r[_r.JOIN_CHANNEL_ERR_ABORTED_BY_LEAVE=201]="JOIN_CHANNEL_ERR_ABORTED_BY_LEAVE",_r[_r.JOIN_CHANNEL_ERR_ALREADY_JOINED_CHANNEL_OF_SAME_ID=202]="JOIN_CHANNEL_ERR_ALREADY_JOINED_CHANNEL_OF_SAME_ID"}(Zd||(Zd={})),function(_r){_r[_r.LEAVE_CHANNEL_ERR_FAILURE=1]="LEAVE_CHANNEL_ERR_FAILURE",_r[_r.LEAVE_CHANNEL_ERR_REJECTED=2]="LEAVE_CHANNEL_ERR_REJECTED",_r[_r.LEAVE_CHANNEL_ERR_NOT_IN_CHANNEL=3]="LEAVE_CHANNEL_ERR_NOT_IN_CHANNEL",_r[_r.LEAVE_CHANNEL_ERR_KICKED=4]="LEAVE_CHANNEL_ERR_KICKED",_r[_r.LEAVE_CHANNEL_ERR_USER_NOT_LOGGED_IN=102]="LEAVE_CHANNEL_ERR_USER_NOT_LOGGED_IN"}(sg||(sg={})),function(_r){_r[_r.LOGIN_ERR_UNKNOWN=1]="LOGIN_ERR_UNKNOWN",_r[_r.LOGIN_ERR_REJECTED=2]="LOGIN_ERR_REJECTED",_r[_r.LOGIN_ERR_INVALID_ARGUMENT=3]="LOGIN_ERR_INVALID_ARGUMENT",_r[_r.LOGIN_ERR_INVALID_APP_ID=4]="LOGIN_ERR_INVALID_APP_ID",_r[_r.LOGIN_ERR_INVALID_TOKEN=5]="LOGIN_ERR_INVALID_TOKEN",_r[_r.LOGIN_ERR_TOKEN_EXPIRED=6]="LOGIN_ERR_TOKEN_EXPIRED",_r[_r.LOGIN_ERR_NOT_AUTHORIZED=7]="LOGIN_ERR_NOT_AUTHORIZED",_r[_r.LOGIN_ERR_ALREADY_LOGIN=8]="LOGIN_ERR_ALREADY_LOGIN",_r[_r.LOGIN_ERR_TIMEOUT=9]="LOGIN_ERR_TIMEOUT",_r[_r.LOGIN_ERR_TOO_OFTEN=10]="LOGIN_ERR_TOO_OFTEN",_r[_r.LOGIN_ERR_ABORTED_BY_LOGOUT=201]="LOGIN_ERR_ABORTED_BY_LOGOUT"}(zd||(zd={})),function(_r){_r[_r.LOGOUT_ERR_USER_NOT_LOGGED_IN=102]="LOGOUT_ERR_USER_NOT_LOGGED_IN"}(dp||(dp={})),function(_r){_r[_r.PEER_MESSAGE_ERR_FAILURE=1]="PEER_MESSAGE_ERR_FAILURE",_r[_r.PEER_MESSAGE_ERR_TIMEOUT=2]="PEER_MESSAGE_ERR_TIMEOUT",_r[_r.PEER_MESSAGE_ERR_TOO_OFTEN=5]="PEER_MESSAGE_ERR_TOO_OFTEN",_r[_r.PEER_MESSAGE_ERR_INVALID_USERID=6]="PEER_MESSAGE_ERR_INVALID_USERID",_r[_r.PEER_MESSAGE_ERR_INVALID_MESSAGE=7]="PEER_MESSAGE_ERR_INVALID_MESSAGE",_r[_r.PEER_MESSAGE_ERR_INCOMPATIBLE_MESSAGE=8]="PEER_MESSAGE_ERR_INCOMPATIBLE_MESSAGE",_r[_r.PEER_MESSAGE_ERR_USER_NOT_LOGGED_IN=102]="PEER_MESSAGE_ERR_USER_NOT_LOGGED_IN"}(Te||(Te={})),function(_r){_r[_r.QUERY_PEERS_ONLINE_STATUS_ERR_INVALID_ARGUMENT=2]="QUERY_PEERS_ONLINE_STATUS_ERR_INVALID_ARGUMENT",_r[_r.QUERY_PEERS_ONLINE_STATUS_ERR_REJECTED=3]="QUERY_PEERS_ONLINE_STATUS_ERR_REJECTED",_r[_r.QUERY_PEERS_ONLINE_STATUS_ERR_TIMEOUT=4]="QUERY_PEERS_ONLINE_STATUS_ERR_TIMEOUT",_r[_r.QUERY_PEERS_ONLINE_STATUS_ERR_TOO_OFTEN=5]="QUERY_PEERS_ONLINE_STATUS_ERR_TOO_OFTEN",_r[_r.QUERY_PEERS_ONLINE_STATUS_ERR_USER_NOT_LOGGED_IN=102]="QUERY_PEERS_ONLINE_STATUS_ERR_USER_NOT_LOGGED_IN"}(tg||(tg={})),function(_r){_r[_r.RENEW_TOKEN_ERR_FAILURE=1]="RENEW_TOKEN_ERR_FAILURE",_r[_r.RENEW_TOKEN_ERR_INVALID_ARGUMENT=2]="RENEW_TOKEN_ERR_INVALID_ARGUMENT",_r[_r.RENEW_TOKEN_ERR_REJECTED=3]="RENEW_TOKEN_ERR_REJECTED",_r[_r.RENEW_TOKEN_ERR_TOO_OFTEN=4]="RENEW_TOKEN_ERR_TOO_OFTEN",_r[_r.RENEW_TOKEN_ERR_TOKEN_EXPIRED=5]="RENEW_TOKEN_ERR_TOKEN_EXPIRED",_r[_r.RENEW_TOKEN_ERR_INVALID_TOKEN=6]="RENEW_TOKEN_ERR_INVALID_TOKEN",_r[_r.RENEW_TOKEN_ERR_USER_NOT_LOGGED_IN=102]="RENEW_TOKEN_ERR_USER_NOT_LOGGED_IN",_r[_r.RENEW_TOKEN_ERR_ABORTED_BY_LOGOUT=201]="RENEW_TOKEN_ERR_ABORTED_BY_LOGOUT"}(Ue||(Ue={})),function(_r){_r[_r.GET_CHANNEL_MEMBER_COUNT_ERR_FAILURE=1]="GET_CHANNEL_MEMBER_COUNT_ERR_FAILURE",_r[_r.GET_CHANNEL_MEMBER_COUNT_ERR_INVALID_ARGUMENT=2]="GET_CHANNEL_MEMBER_COUNT_ERR_INVALID_ARGUMENT",_r[_r.GET_CHANNEL_MEMBER_COUNT_ERR_TOO_OFTEN=3]="GET_CHANNEL_MEMBER_COUNT_ERR_TOO_OFTEN",_r[_r.GET_CHANNEL_MEMBER_COUNT_ERR_TIMEOUT=4]="GET_CHANNEL_MEMBER_COUNT_ERR_TIMEOUT",_r[_r.GET_CHANNEL_MEMBER_COUNT_ERR_EXCEED_LIMIT=5]="GET_CHANNEL_MEMBER_COUNT_ERR_EXCEED_LIMIT",_r[_r.GET_CHANNEL_MEMBER_COUNT_ERR_NOT_INITIALIZED=101]="GET_CHANNEL_MEMBER_COUNT_ERR_NOT_INITIALIZED",_r[_r.GET_CHANNEL_MEMBER_COUNT_ERR_USER_NOT_LOGGED_IN=102]="GET_CHANNEL_MEMBER_COUNT_ERR_USER_NOT_LOGGED_IN"}(Ve||(Ve={})),function(_r){_r[_r.PEER_SUBSCRIPTION_STATUS_ERR_FAILURE=1]="PEER_SUBSCRIPTION_STATUS_ERR_FAILURE",_r[_r.PEER_SUBSCRIPTION_STATUS_ERR_INVALID_ARGUMENT=2]="PEER_SUBSCRIPTION_STATUS_ERR_INVALID_ARGUMENT",_r[_r.PEER_SUBSCRIPTION_STATUS_ERR_REJECTED=3]="PEER_SUBSCRIPTION_STATUS_ERR_REJECTED",_r[_r.PEER_SUBSCRIPTION_STATUS_ERR_TIMEOUT=4]="PEER_SUBSCRIPTION_STATUS_ERR_TIMEOUT",_r[_r.PEER_SUBSCRIPTION_STATUS_ERR_TOO_OFTEN=5]="PEER_SUBSCRIPTION_STATUS_ERR_TOO_OFTEN",_r[_r.PEER_SUBSCRIPTION_STATUS_ERR_OVERFLOW=6]="PEER_SUBSCRIPTION_STATUS_ERR_OVERFLOW",_r[_r.PEER_SUBSCRIPTION_STATUS_ERR_USER_NOT_LOGGED_IN=102]="PEER_SUBSCRIPTION_STATUS_ERR_USER_NOT_LOGGED_IN"}(We||(We={})),function(_r){_r[_r.QUERY_PEERS_BY_SUBSCRIPTION_OPTION_ERR_FAILURE=1]="QUERY_PEERS_BY_SUBSCRIPTION_OPTION_ERR_FAILURE",_r[_r.QUERY_PEERS_BY_SUBSCRIPTION_OPTION_ERR_TIMEOUT=2]="QUERY_PEERS_BY_SUBSCRIPTION_OPTION_ERR_TIMEOUT",_r[_r.QUERY_PEERS_BY_SUBSCRIPTION_OPTION_ERR_TOO_OFTEN=3]="QUERY_PEERS_BY_SUBSCRIPTION_OPTION_ERR_TOO_OFTEN",_r[_r.QUERY_PEERS_BY_SUBSCRIPTION_OPTION_ERR_USER_NOT_LOGGED_IN=102]="QUERY_PEERS_BY_SUBSCRIPTION_OPTION_ERR_USER_NOT_LOGGED_IN"}(Fh||(Fh={})),function(_r){_r[_r.METADATA_OPERATION_ERR_OK=0]="METADATA_OPERATION_ERR_OK",_r[_r.METADATA_OPERATION_ERR_FAILURE=1]="METADATA_OPERATION_ERR_FAILURE",_r[_r.METADATA_OPERATION_ERR_INVALID_USER_ID=2]="METADATA_OPERATION_ERR_INVALID_USER_ID",_r[_r.METADATA_OPERATION_ERR_INVALID_ARGUMENT=3]="METADATA_OPERATION_ERR_INVALID_ARGUMENT",_r[_r.METADATA_OPERATION_ERR_SIZE_OVERFLOW=4]="METADATA_OPERATION_ERR_SIZE_OVERFLOW",_r[_r.METADATA_OPERATION_ERR_DUPLICATE_KEY=5]="METADATA_OPERATION_ERR_DUPLICATE_KEY",_r[_r.METADATA_OPERATION_ERR_TOO_OFTEN=6]="METADATA_OPERATION_ERR_TOO_OFTEN",_r[_r.METADATA_OPERATION_ERR_TIMEOUT=7]="METADATA_OPERATION_ERR_TIMEOUT",_r[_r.METADATA_OPERATION_ERR_OUTDATE_REVISION=8]="METADATA_OPERATION_ERR_OUTDATE_REVISION",_r[_r.METADATA_OPERATION_ERR_NOT_IN_CHANNEL=9]="METADATA_OPERATION_ERR_NOT_IN_CHANNEL",_r[_r.METADATA_OPERATION_ERR_NOT_INITIALIZED=101]="METADATA_OPERATION_ERR_NOT_INITIALIZED",_r[_r.METADATA_OPERATION_ERR_USER_NOT_LOGGED_IN=102]="METADATA_OPERATION_ERR_USER_NOT_LOGGED_IN"}(Uc||(Uc={})),function(_r){_r[_r.METADATA_SUBSCRIPTION_ERR_OK=0]="METADATA_SUBSCRIPTION_ERR_OK",_r[_r.METADATA_SUBSCRIPTION_ERR_FAILURE=1]="METADATA_SUBSCRIPTION_ERR_FAILURE",_r[_r.METADATA_SUBSCRIPTION_ERR_TIMEOUT=2]="METADATA_SUBSCRIPTION_ERR_TIMEOUT",_r[_r.METADATA_SUBSCRIPTION_ERR_INVALID_ARGUMENT=3]="METADATA_SUBSCRIPTION_ERR_INVALID_ARGUMENT",_r[_r.METADATA_SUBSCRIPTION_ERR_TOO_OFTEN=4]="METADATA_SUBSCRIPTION_ERR_TOO_OFTEN",_r[_r.METADATA_SUBSCRIPTION_ERR_OVERFLOW=5]="METADATA_SUBSCRIPTION_ERR_OVERFLOW",_r[_r.METADATA_SUBSCRIPTION_USER_NOT_SUBSCRIBED=6]="METADATA_SUBSCRIPTION_USER_NOT_SUBSCRIBED",_r[_r.METADATA_SUBSCRIPTION_ERR_NOT_INITIALIZED=101]="METADATA_SUBSCRIPTION_ERR_NOT_INITIALIZED",_r[_r.METADATA_SUBSCRIPTION_ERR_NOT_LOGGED_IN=102]="METADATA_SUBSCRIPTION_ERR_NOT_LOGGED_IN"}($d||($d={}));var Ad=Se.ATTRIBUTE_OPERATION_ERR_FAILURE,Ub=Se.ATTRIBUTE_OPERATION_ERR_INVALID_ARGUMENT,ch=Se.ATTRIBUTE_OPERATION_ERR_SIZE_OVERFLOW;Se.ATTRIBUTE_OPERATION_ERR_TOO_OFTEN;var qw=Se.ATTRIBUTE_OPERATION_ERR_USER_NOT_FOUND,Bd=Se.ATTRIBUTE_OPERATION_ERR_TIMEOUT,Cd=Se.ATTRIBUTE_OPERATION_ERR_USER_NOT_LOGGED_IN,Zk=Df.CHANNEL_MESSAGE_ERR_FAILURE,ep=Df.CHANNEL_MESSAGE_ERR_TIMEOUT,rw=Df.CHANNEL_MESSAGE_ERR_TOO_OFTEN,fp=Df.CHANNEL_MESSAGE_ERR_INVALID_MESSAGE,rI=Df.CHANNEL_MESSAGE_ERR_NOT_IN_CHANNEL,gp=Df.CHANNEL_MESSAGE_ERR_USER_NOT_LOGGED_IN,sI=bp.CREATE_CHANNEL_ERR_INVALID_ARGUMENT,sw=cp.CREATE_INSTANCE_ERR_INVALID_ARGUMENT;Ve.GET_CHANNEL_MEMBER_COUNT_ERR_FAILURE;var tw=Ve.GET_CHANNEL_MEMBER_COUNT_ERR_INVALID_ARGUMENT;Ve.GET_CHANNEL_MEMBER_COUNT_ERR_TOO_OFTEN;var uw=Ve.GET_CHANNEL_MEMBER_COUNT_ERR_TIMEOUT,tI=Ve.GET_CHANNEL_MEMBER_COUNT_ERR_EXCEED_LIMIT;Ve.GET_CHANNEL_MEMBER_COUNT_ERR_NOT_INITIALIZED;var uI=Ve.GET_CHANNEL_MEMBER_COUNT_ERR_USER_NOT_LOGGED_IN,vI=Ef.GET_MEMBERS_ERR_FAILURE,wI=Ef.GET_MEMBERS_ERR_REJECTED;Ef.GET_MEMBERS_ERR_TIMEOUT,Ef.GET_MEMBERS_ERR_TOO_OFTEN;var xI=Ef.GET_MEMBERS_ERR_NOT_IN_CHANNEL,yI=Ef.GET_MEMBERS_ERR_USER_NOT_LOGGED_IN,ve=rg.INVITATION_API_CALL_ERR_INVALID_ARGUMENT,zI=rg.INVITATION_API_CALL_ERR_NOT_STARTED,$k=rg.INVITATION_API_CALL_ERR_ALREADY_END,vw=rg.INVITATION_API_CALL_ERR_ALREADY_ACCEPT,AI=rg.INVITATION_API_CALL_ERR_ALREADY_SENT,ww=Zd.JOIN_CHANNEL_ERR_FAILURE;Zd.JOIN_CHANNEL_ERR_REJECTED;var BI=Zd.JOIN_CHANNEL_ERR_INVALID_ARGUMENT,xw=Zd.JOIN_CHANNEL_TIMEOUT,yw=Zd.JOIN_CHANNEL_ERR_EXCEED_LIMIT,zw=Zd.JOIN_CHANNEL_ERR_ALREADY_JOINED;Zd.JOIN_CHANNEL_ERR_TOO_OFTEN;var Aw=Zd.JOIN_CHANNEL_ERR_USER_NOT_LOGGED_IN,Bw=Zd.JOIN_CHANNEL_ERR_ALREADY_JOINED_CHANNEL_OF_SAME_ID,Cw=sg.LEAVE_CHANNEL_ERR_FAILURE,Dw=sg.LEAVE_CHANNEL_ERR_REJECTED,CI=sg.LEAVE_CHANNEL_ERR_NOT_IN_CHANNEL,DI=sg.LEAVE_CHANNEL_ERR_USER_NOT_LOGGED_IN,EI=sg.LEAVE_CHANNEL_ERR_KICKED,Ew=zd.LOGIN_ERR_UNKNOWN,ij=zd.LOGIN_ERR_REJECTED,al=zd.LOGIN_ERR_INVALID_ARGUMENT,Fw=zd.LOGIN_ERR_INVALID_APP_ID,Gw=zd.LOGIN_ERR_INVALID_TOKEN,bl=zd.LOGIN_ERR_TOKEN_EXPIRED;zd.LOGIN_ERR_NOT_AUTHORIZED;var FI=zd.LOGIN_ERR_ALREADY_LOGIN,GI=zd.LOGIN_ERR_TIMEOUT,HI=zd.LOGIN_ERR_TOO_OFTEN,Hw=dp.LOGOUT_ERR_USER_NOT_LOGGED_IN,Iw=Te.PEER_MESSAGE_ERR_FAILURE,hp=Te.PEER_MESSAGE_ERR_TIMEOUT,Jw=Te.PEER_MESSAGE_ERR_TOO_OFTEN,Kw=Te.PEER_MESSAGE_ERR_INVALID_USERID,si=Te.PEER_MESSAGE_ERR_INVALID_MESSAGE,ip=Te.PEER_MESSAGE_ERR_USER_NOT_LOGGED_IN;Te.PEER_MESSAGE_ERR_INCOMPATIBLE_MESSAGE;var Lw=tg.QUERY_PEERS_ONLINE_STATUS_ERR_INVALID_ARGUMENT;tg.QUERY_PEERS_ONLINE_STATUS_ERR_REJECTED;var II=tg.QUERY_PEERS_ONLINE_STATUS_ERR_TIMEOUT;tg.QUERY_PEERS_ONLINE_STATUS_ERR_TOO_OFTEN;var JI=tg.QUERY_PEERS_ONLINE_STATUS_ERR_USER_NOT_LOGGED_IN,jp=Ue.RENEW_TOKEN_ERR_FAILURE,KI=Ue.RENEW_TOKEN_ERR_INVALID_ARGUMENT;Ue.RENEW_TOKEN_ERR_REJECTED,Ue.RENEW_TOKEN_ERR_TOO_OFTEN;var LI=Ue.RENEW_TOKEN_ERR_TOKEN_EXPIRED,MI=Ue.RENEW_TOKEN_ERR_INVALID_TOKEN,Mw=Ue.RENEW_TOKEN_ERR_USER_NOT_LOGGED_IN,Nw=We.PEER_SUBSCRIPTION_STATUS_ERR_FAILURE,jj=We.PEER_SUBSCRIPTION_STATUS_ERR_INVALID_ARGUMENT;We.PEER_SUBSCRIPTION_STATUS_ERR_REJECTED;var NI=We.PEER_SUBSCRIPTION_STATUS_ERR_TIMEOUT;We.PEER_SUBSCRIPTION_STATUS_ERR_TOO_OFTEN;var Ow=We.PEER_SUBSCRIPTION_STATUS_ERR_OVERFLOW,kp=We.PEER_SUBSCRIPTION_STATUS_ERR_USER_NOT_LOGGED_IN;Fh.QUERY_PEERS_BY_SUBSCRIPTION_OPTION_ERR_FAILURE,Fh.QUERY_PEERS_BY_SUBSCRIPTION_OPTION_ERR_TIMEOUT,Fh.QUERY_PEERS_BY_SUBSCRIPTION_OPTION_ERR_TOO_OFTEN,Fh.QUERY_PEERS_BY_SUBSCRIPTION_OPTION_ERR_USER_NOT_LOGGED_IN;var bd=Uc.METADATA_OPERATION_ERR_OK,He=Uc.METADATA_OPERATION_ERR_FAILURE;Uc.METADATA_OPERATION_ERR_INVALID_USER_ID;var Mb=Uc.METADATA_OPERATION_ERR_INVALID_ARGUMENT,Om=Uc.METADATA_OPERATION_ERR_SIZE_OVERFLOW,oC=Uc.METADATA_OPERATION_ERR_DUPLICATE_KEY,Vc=Uc.METADATA_OPERATION_ERR_TOO_OFTEN,cd=Uc.METADATA_OPERATION_ERR_TIMEOUT,of=Uc.METADATA_OPERATION_ERR_OUTDATE_REVISION;Uc.METADATA_OPERATION_ERR_NOT_INITIALIZED;var oc=Uc.METADATA_OPERATION_ERR_USER_NOT_LOGGED_IN,kj=Uc.METADATA_OPERATION_ERR_NOT_IN_CHANNEL,Pw=$d.METADATA_SUBSCRIPTION_ERR_OK,lp=$d.METADATA_SUBSCRIPTION_ERR_FAILURE,cl=$d.METADATA_SUBSCRIPTION_ERR_TIMEOUT,dl=$d.METADATA_SUBSCRIPTION_ERR_INVALID_ARGUMENT;$d.METADATA_SUBSCRIPTION_ERR_TOO_OFTEN;var OI=$d.METADATA_SUBSCRIPTION_ERR_OVERFLOW,PI=$d.METADATA_SUBSCRIPTION_USER_NOT_SUBSCRIBED;$d.METADATA_SUBSCRIPTION_ERR_NOT_INITIALIZED,$d.METADATA_SUBSCRIPTION_ERR_NOT_LOGGED_IN;var QI=function(_r,_t){var _o;return Po(_r,function(yl,El,_l){return!(_o=_t(yl,El,_l))}),!!_o},el=function(_r,_t,_o){if(!Kc(_o))return!1;var yl=Ia(_t);return!!(yl=="number"?$f(_o)&&Eo(_t,_o.length):yl=="string"&&_t in _o)&&$i(_o[_t],_r)},mp=function(_r,_t,_o){var yl=lc(_r)?Zv:QI;return _o&&el(_r,_t,_o)&&(_t=void 0),yl(_r,Ch(_t))},RI=function(_r,_t){var _o=-1,yl=$f(_r)?Array(_r.length):[];return Po(_r,function(El,_l,Tl){yl[++_o]=_t(El,_l,Tl)}),yl},SI=function(_r,_t){var _o=_r.length;for(_r.sort(_t);_o--;)_r[_o]=_r[_o].value;return _r},TI=function(_r,_t,_o){_t=_t.length?Rg(_t,function(El){return lc(El)?function(_l){return Uk(_l,El.length===1?El[0]:El)}:El}):[Vk];var yl=-1;return _t=Rg(_t,Rk(Ch)),_r=RI(_r,function(El,_l,Tl){return{criteria:Rg(_t,function(Il){return Il(El)}),index:++yl,value:El}}),SI(_r,function(El,_l){e:{for(var Tl=-1,Il=El.criteria,Al=_l.criteria,Rl=Il.length,Fl=_o.length;++Tl<Rl;){t:{var Bl=Il[Tl],Gl=Al[Tl];if(Bl!==Gl){var Ql=Bl!==void 0,_f=Bl===null,_h=Bl==Bl,vp=Sg(Bl),up=Gl!==void 0,_d=Gl===null,Ep=Gl==Gl,Op=Sg(Gl);if(!_d&&!Op&&!vp&&Bl>Gl||vp&&up&&Ep&&!_d&&!Op||_f&&up&&Ep||!Ql&&Ep||!_h){Bl=1;break t}if(!_f&&!vp&&!Op&&Bl<Gl||Op&&Ql&&_h&&!_f&&!vp||_d&&Ql&&_h||!up&&_h||!Ep){Bl=-1;break t}}Bl=0}if(Bl){El=Tl>=Fl?Bl:Bl*(_o[Tl]=="desc"?-1:1);break e}}El=El.index-_l.index}return El})},Qw=function(_r,_t){return Xv(Wv(_r,_t,Vk),_r+"")},Rw=Qw(function(_r,_t){if(_r==null)return[];var _o=_t.length;return 1<_o&&el(_r,_t[0],_t[1])?_t=[]:2<_o&&el(_t[0],_t[1],_t[2])&&(_t=[_t[0]]),TI(_r,mm(_t,1),[])}),Sw=function(_r){if(_r.__esModule)return _r;var _t=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(_r).forEach(function(_o){var yl=Object.getOwnPropertyDescriptor(_r,_o);Object.defineProperty(_t,_o,yl.get?yl:{enumerable:!0,get:function(){return _r[_o]}})}),_t}(WH),Tw=kc(function(_r,_t){Object.defineProperty(_t,"__esModule",{value:!0});var _o=[],yl=function(El,_l){return new WebSocket(El,_l)};_t.normalClosureMessage="Normal closure",_t.default=function(El,_l){var Tl=(_l=_l===void 0?{protocols:_o,makeWebSocket:yl}:_l).protocols,Il=Tl===void 0?_o:Tl,Al=(_l=_l.makeWebSocket)===void 0?yl:_l;return new Sw.Observable(function(Rl){var Fl,Bl=new Sw.Subject,Gl=Al(El,Il),Ql=!1,_f=!1,_h=function(vp){if(Fl)throw Ql=!0,vp=Error("Web socket message factory function called more than once"),Rl.error(vp),vp;return Fl=vp.subscribe(function(up){Gl.send(up)}),Bl};return Gl.onopen=function(){_f?(Ql=!0,Gl.close()):Rl.next(_h)},Gl.onmessage=function(vp){Bl.next(vp.data)},Gl.onerror=function(vp){Ql=!0,Rl.error(Error(vp.message))},Gl.onclose=function(vp){Ql||(Ql=!0,_f?(Rl.complete(),Bl.complete()):Rl.error(Error(vp.code===1e3?_t.normalClosureMessage:vp.reason)))},function(){_f=!0,Fl&&Fl.unsubscribe(),Ql||(Ql=!0,Gl.close())}})}});(function(_r){_r&&_r.__esModule&&Object.prototype.hasOwnProperty.call(_r,"default")&&_r.default})(Tw);var Dm=function(_r,_t,_o){(_o===void 0||$i(_r[_t],_o))&&(_o!==void 0||_t in _r)||bj(_r,_t,_o)},Cm=function(_r,_t){if((_t!=="constructor"||typeof _r[_t]!="function")&&_t!="__proto__")return _r[_t]},UI=function(_r){return Qw(function(_t,_o){var yl=-1,El=_o.length,_l=1<El?_o[El-1]:void 0,Tl=2<El?_o[2]:void 0;for(_l=3<_r.length&&typeof _l=="function"?(El--,_l):void 0,Tl&&el(_o[0],_o[1],Tl)&&(_l=3>El?void 0:_l,El=1),_t=Object(_t);++yl<El;)(Tl=_o[yl])&&_r(_t,Tl,yl,_l);return _t})}(function(_r,_t,_o,yl){as(_r,_t,_o,yl)}),VI=Math.floor,WI=Math.random,Uw=function(_r,_t){return _r+VI(WI()*(_t-_r+1))},Vw=function(_r){var _t=_r.length;return _t?_r[Uw(0,_t-1)]:void 0},XI=function(_r,_t){return Rg(_t,function(_o){return _r[_o]})},Vm=function(_r){return _r==null?[]:XI(_r,Wf(_r))},YI=function(_r){return Vw(Vm(_r))},Es=function(_r){return(lc(_r)?Vw:YI)(_r)},es=[],fs=function(_r,_t){return new WebSocket(_r,_t)};cb&&(/./g.flags!="g"||Sd)&&$b.f(RegExp.prototype,"flags",{configurable:!0,get:hk});var ZI=Math.floor;wa({target:"Number",stat:!0},{isInteger:function(_r){return!fb(_r)&&isFinite(_r)&&ZI(_r)===_r}}),tu("from",On,Nn);var $I=function(_r,_t){for(var _o=Array(arguments.length-1),yl=0,El=2,_l=!0;El<arguments.length;)_o[yl++]=arguments[El++];return new Promise(function(Tl,Il){_o[yl]=function(Al){if(_l)if(_l=!1,Al)Il(Al);else{for(var Rl=Array(arguments.length-1),Fl=0;Fl<Rl.length;)Rl[Fl++]=arguments[Fl];Tl.apply(null,Rl)}};try{_r.apply(_t||null,_o)}catch(Al){_l&&(_l=!1,Il(Al))}})},aJ=kc(function(_r,_t){_t.length=function(El){var _l=El.length;if(!_l)return 0;for(var Tl=0;1<--_l%4&&El.charAt(_l)==="=";)++Tl;return Math.ceil(3*El.length)/4-Tl};var _o=Array(64),yl=Array(123);for(_r=0;64>_r;)yl[_o[_r]=26>_r?_r+65:52>_r?_r+71:62>_r?_r-4:_r-59|43]=_r++;_t.encode=function(El,_l,Tl){for(var Il,Al=null,Rl=[],Fl=0,Bl=0;_l<Tl;){var Gl=El[_l++];switch(Bl){case 0:Rl[Fl++]=_o[Gl>>2],Il=(3&Gl)<<4,Bl=1;break;case 1:Rl[Fl++]=_o[Il|Gl>>4],Il=(15&Gl)<<2,Bl=2;break;case 2:Rl[Fl++]=_o[Il|Gl>>6],Rl[Fl++]=_o[63&Gl],Bl=0}8191<Fl&&((Al||(Al=[])).push(String.fromCharCode.apply(String,Rl)),Fl=0)}return Bl&&(Rl[Fl++]=_o[Il],Rl[Fl++]=61,Bl===1&&(Rl[Fl++]=61)),Al?(Fl&&Al.push(String.fromCharCode.apply(String,Rl.slice(0,Fl))),Al.join("")):String.fromCharCode.apply(String,Rl.slice(0,Fl))},_t.decode=function(El,_l,Tl){for(var Il,Al=Tl,Rl=0,Fl=0;Fl<El.length;){var Bl=El.charCodeAt(Fl++);if(Bl===61&&1<Rl)break;if((Bl=yl[Bl])===void 0)throw Error("invalid encoding");switch(Rl){case 0:Il=Bl,Rl=1;break;case 1:_l[Tl++]=Il<<2|(48&Bl)>>4,Il=Bl,Rl=2;break;case 2:_l[Tl++]=(15&Il)<<4|(60&Bl)>>2,Il=Bl,Rl=3;break;case 3:_l[Tl++]=(3&Il)<<6|Bl,Rl=0}}if(Rl===1)throw Error("invalid encoding");return Tl-Al},_t.test=function(El){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(El)}});Oj.prototype.on=function(_r,_t,_o){return(this._listeners[_r]||(this._listeners[_r]=[])).push({fn:_t,ctx:_o||this}),this},Oj.prototype.off=function(_r,_t){if(_r===void 0)this._listeners={};else if(_t===void 0)this._listeners[_r]=[];else{_r=this._listeners[_r];for(var _o=0;_o<_r.length;)_r[_o].fn===_t?_r.splice(_o,1):++_o}return this},Oj.prototype.emit=function(_r){var _t=this._listeners[_r];if(_t){for(var _o=[],yl=1;yl<arguments.length;)_o.push(arguments[yl++]);for(yl=0;yl<_t.length;)_t[yl].fn.apply(_t[yl++].ctx,_o)}return this};var bJ=gs(gs),cJ=function(d){try{var b=eval("quire".replace(/^/,"re"))(d);if(b&&(b.length||Object.keys(b).length))return b}catch(_r){}return null},dJ=kc(function(_r,_t){_t.length=function(_o){for(var yl,El=0,_l=0;_l<_o.length;++_l)128>(yl=_o.charCodeAt(_l))?El+=1:2048>yl?El+=2:(64512&yl)==55296&&(64512&_o.charCodeAt(_l+1))==56320?(++_l,El+=4):El+=3;return El},_t.read=function(_o,yl,El){if(1>El-yl)return"";for(var _l,Tl=null,Il=[],Al=0;yl<El;)128>(_l=_o[yl++])?Il[Al++]=_l:191<_l&&224>_l?Il[Al++]=(31&_l)<<6|63&_o[yl++]:239<_l&&365>_l?(_l=((7&_l)<<18|(63&_o[yl++])<<12|(63&_o[yl++])<<6|63&_o[yl++])-65536,Il[Al++]=55296+(_l>>10),Il[Al++]=56320+(1023&_l)):Il[Al++]=(15&_l)<<12|(63&_o[yl++])<<6|63&_o[yl++],8191<Al&&((Tl||(Tl=[])).push(String.fromCharCode.apply(String,Il)),Al=0);return Tl?(Al&&Tl.push(String.fromCharCode.apply(String,Il.slice(0,Al))),Tl.join("")):String.fromCharCode.apply(String,Il.slice(0,Al))},_t.write=function(_o,yl,El){for(var _l,Tl,Il=El,Al=0;Al<_o.length;++Al)128>(_l=_o.charCodeAt(Al))?yl[El++]=_l:(2048>_l?yl[El++]=_l>>6|192:((64512&_l)==55296&&(64512&(Tl=_o.charCodeAt(Al+1)))==56320?(_l=65536+((1023&_l)<<10)+(1023&Tl),++Al,yl[El++]=_l>>18|240,yl[El++]=_l>>12&63|128):yl[El++]=_l>>12|224,yl[El++]=_l>>6&63|128),yl[El++]=63&_l|128);return El-Il}}),eJ=function(_r,_t,_o){var yl=_o||8192,El=yl>>>1,_l=null,Tl=yl;return function(Il){return 1>Il||Il>El?_r(Il):(Tl+Il>yl&&(_l=_r(yl),Tl=0),Il=_t.call(_l,Tl,Tl+=Il),7&Tl&&(Tl=1+(7|Tl)),Il)}},ug=mc.zero=new mc(0,0);ug.toNumber=function(){return 0},ug.zzEncode=ug.zzDecode=function(){return this},ug.length=function(){return 1};var fJ=mc.zeroHash="\0\0\0\0\0\0\0\0";mc.fromNumber=function(_r){if(_r===0)return ug;var _t=0>_r;_t&&(_r=-_r);var _o=_r>>>0;return _r=(_r-_o)/4294967296>>>0,_t&&(_r=~_r>>>0,_o=~_o>>>0,4294967295<++_o&&(_o=0,4294967295<++_r&&(_r=0))),new mc(_o,_r)},mc.from=function(_r){if(typeof _r=="number")return mc.fromNumber(_r);if(Ra.isString(_r)){if(!Ra.Long)return mc.fromNumber(parseInt(_r,10));_r=Ra.Long.fromString(_r)}return _r.low||_r.high?new mc(_r.low>>>0,_r.high>>>0):ug},mc.prototype.toNumber=function(_r){if(!_r&&this.hi>>>31){_r=1+~this.lo>>>0;var _t=~this.hi>>>0;return _r||(_t=_t+1>>>0),-(_r+4294967296*_t)}return this.lo+4294967296*this.hi},mc.prototype.toLong=function(_r){return Ra.Long?new Ra.Long(0|this.lo,0|this.hi,!!_r):{low:0|this.lo,high:0|this.hi,unsigned:!!_r}};var Ff=String.prototype.charCodeAt;mc.fromHash=function(_r){return _r===fJ?ug:new mc((Ff.call(_r,0)|Ff.call(_r,1)<<8|Ff.call(_r,2)<<16|Ff.call(_r,3)<<24)>>>0,(Ff.call(_r,4)|Ff.call(_r,5)<<8|Ff.call(_r,6)<<16|Ff.call(_r,7)<<24)>>>0)},mc.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},mc.prototype.zzEncode=function(){var _r=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^_r)>>>0,this.lo=(this.lo<<1^_r)>>>0,this},mc.prototype.zzDecode=function(){var _r=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^_r)>>>0,this.hi=(this.hi>>>1^_r)>>>0,this},mc.prototype.length=function(){var _r=this.lo,_t=(this.lo>>>28|this.hi<<4)>>>0,_o=this.hi>>>24;return _o===0?_t===0?16384>_r?128>_r?1:2:2097152>_r?3:4:16384>_t?128>_t?5:6:2097152>_t?7:8:128>_o?9:10};var Ra=kc(function(_r,_t){function _o(El,_l,Tl){for(var Il=Object.keys(_l),Al=0;Al<Il.length;++Al)El[Il[Al]]!==void 0&&Tl||(El[Il[Al]]=_l[Il[Al]]);return El}function yl(El){function _l(Tl,Il){if(!(this instanceof _l))return new _l(Tl,Il);Object.defineProperty(this,"message",{get:function(){return Tl}}),Error.captureStackTrace?Error.captureStackTrace(this,_l):Object.defineProperty(this,"stack",{value:Error().stack||""}),Il&&_o(this,Il)}return(_l.prototype=Object.create(Error.prototype)).constructor=_l,Object.defineProperty(_l.prototype,"name",{get:function(){return El}}),_l.prototype.toString=function(){return this.name+": "+this.message},_l}_t.asPromise=$I,_t.base64=aJ,_t.EventEmitter=Oj,_t.float=bJ,_t.inquire=cJ,_t.utf8=dJ,_t.pool=eJ,_t.LongBits=mc,_t.isNode=!!(qb!==void 0&&qb&&qb.process&&qb.process.versions&&qb.process.versions.node),_t.global=_t.isNode&&qb||typeof window<"u"&&window||typeof self<"u"&&self||qb,_t.emptyArray=Object.freeze?Object.freeze([]):[],_t.emptyObject=Object.freeze?Object.freeze({}):{},_t.isInteger=Number.isInteger||function(El){return typeof El=="number"&&isFinite(El)&&Math.floor(El)===El},_t.isString=function(El){return typeof El=="string"||El instanceof String},_t.isObject=function(El){return El&&Ia(El)==="object"},_t.isset=_t.isSet=function(El,_l){var Tl=El[_l];return!(Tl==null||!El.hasOwnProperty(_l))&&(Ia(Tl)!=="object"||0<(Array.isArray(Tl)?Tl.length:Object.keys(Tl).length))},_t.Buffer=function(){try{var El=_t.inquire("buffer").Buffer;return El.prototype.utf8Write?El:null}catch{return null}}(),_t._Buffer_from=null,_t._Buffer_allocUnsafe=null,_t.newBuffer=function(El){return typeof El=="number"?_t.Buffer?_t._Buffer_allocUnsafe(El):new _t.Array(El):_t.Buffer?_t._Buffer_from(El):typeof Uint8Array>"u"?El:new Uint8Array(El)},_t.Array=typeof Uint8Array<"u"?Uint8Array:Array,_t.Long=_t.global.dcodeIO&&_t.global.dcodeIO.Long||_t.global.Long||_t.inquire("long"),_t.key2Re=/^true|false|0|1$/,_t.key32Re=/^-?(?:0|[1-9][0-9]*)$/,_t.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,_t.longToHash=function(El){return El?_t.LongBits.from(El).toHash():_t.LongBits.zeroHash},_t.longFromHash=function(El,_l){return El=_t.LongBits.fromHash(El),_t.Long?_t.Long.fromBits(El.lo,El.hi,_l):El.toNumber(!!_l)},_t.merge=_o,_t.lcFirst=function(El){return El.charAt(0).toLowerCase()+El.substring(1)},_t.newError=yl,_t.ProtocolError=yl("ProtocolError"),_t.oneOfGetter=function(El){for(var _l={},Tl=0;Tl<El.length;++Tl)_l[El[Tl]]=1;return function(){for(var Il=Object.keys(this),Al=Il.length-1;-1<Al;--Al)if(_l[Il[Al]]===1&&this[Il[Al]]!==void 0&&this[Il[Al]]!==null)return Il[Al]}},_t.oneOfSetter=function(El){return function(_l){for(var Tl=0;Tl<El.length;++Tl)El[Tl]!==_l&&delete this[El[Tl]]}},_t.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},_t._configure=function(){var El=_t.Buffer;El?(_t._Buffer_from=El.from!==Uint8Array.from&&El.from||function(_l,Tl){return new El(_l,Tl)},_t._Buffer_allocUnsafe=El.allocUnsafe||function(_l){return new El(_l)}):_t._Buffer_from=_t._Buffer_allocUnsafe=null}}),Lm=ib,np,fl=Ra.LongBits,Ww=Ra.base64,Xw=Ra.utf8,Yw=function(){return Ra.Buffer?function(){return(ib.create=function(){return new np})()}:function(){return new ib}};ib.create=Yw(),ib.alloc=function(_r){return new Ra.Array(_r)},Ra.Array!==Array&&(ib.alloc=Ra.pool(ib.alloc,Ra.Array.prototype.subarray)),ib.prototype._push=function(_r,_t,_o){return this.tail=this.tail.next=new pi(_r,_t,_o),this.len+=_t,this},Im.prototype=Object.create(pi.prototype),Im.prototype.fn=function(_r,_t,_o){for(;127<_r;)_t[_o++]=127&_r|128,_r>>>=7;_t[_o]=_r},ib.prototype.uint32=function(_r){return this.len+=(this.tail=this.tail.next=new Im(128>(_r>>>=0)?1:16384>_r?2:2097152>_r?3:268435456>_r?4:5,_r)).len,this},ib.prototype.int32=function(_r){return 0>_r?this._push(Jm,10,fl.fromNumber(_r)):this.uint32(_r)},ib.prototype.sint32=function(_r){return this.uint32((_r<<1^_r>>31)>>>0)},ib.prototype.uint64=function(_r){return _r=fl.from(_r),this._push(Jm,_r.length(),_r)},ib.prototype.int64=ib.prototype.uint64,ib.prototype.sint64=function(_r){return _r=fl.from(_r).zzEncode(),this._push(Jm,_r.length(),_r)},ib.prototype.bool=function(_r){return this._push(Hm,1,_r?1:0)},ib.prototype.fixed32=function(_r){return this._push(Km,4,_r>>>0)},ib.prototype.sfixed32=ib.prototype.fixed32,ib.prototype.fixed64=function(_r){return _r=fl.from(_r),this._push(Km,4,_r.lo)._push(Km,4,_r.hi)},ib.prototype.sfixed64=ib.prototype.fixed64,ib.prototype.float=function(_r){return this._push(Ra.float.writeFloatLE,4,_r)},ib.prototype.double=function(_r){return this._push(Ra.float.writeDoubleLE,8,_r)};var gJ=Ra.Array.prototype.set?function(_r,_t,_o){_t.set(_r,_o)}:function(_r,_t,_o){for(var yl=0;yl<_r.length;++yl)_t[_o+yl]=_r[yl]};ib.prototype.bytes=function(_r){var _t=_r.length>>>0;if(!_t)return this._push(Hm,1,0);if(Ra.isString(_r)){var _o=ib.alloc(_t=Ww.length(_r));Ww.decode(_r,_o,0),_r=_o}return this.uint32(_t)._push(gJ,_t,_r)},ib.prototype.string=function(_r){var _t=Xw.length(_r);return _t?this.uint32(_t)._push(Xw.write,_t,_r):this._push(Hm,1,0)},ib.prototype.fork=function(){return this.states=new mC(this),this.head=this.tail=new pi(Gm,0,0),this.len=0,this},ib.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new pi(Gm,0,0),this.len=0),this},ib.prototype.ldelim=function(){var _r=this.head,_t=this.tail,_o=this.len;return this.reset().uint32(_o),_o&&(this.tail.next=_r.next,this.tail=_t,this.len+=_o),this},ib.prototype.finish=function(){for(var _r=this.head.next,_t=this.constructor.alloc(this.len),_o=0;_r;)_r.fn(_r.val,_t,_o),_o+=_r.len,_r=_r.next;return _t},ib._configure=function(_r){np=_r,ib.create=Yw(),np._configure()},(ie.prototype=Object.create(Lm.prototype)).constructor=ie,ie._configure=function(){ie.alloc=Ra._Buffer_allocUnsafe,ie.writeBytesBuffer=Ra.Buffer&&Ra.Buffer.prototype instanceof Uint8Array&&Ra.Buffer.prototype.set.name==="set"?function(_r,_t,_o){_t.set(_r,_o)}:function(_r,_t,_o){if(_r.copy)_r.copy(_t,_o,0,_r.length);else for(var yl=0;yl<_r.length;)_t[_o++]=_r[yl++]}},ie.prototype.bytes=function(_r){Ra.isString(_r)&&(_r=Ra._Buffer_from(_r,"base64"));var _t=_r.length>>>0;return this.uint32(_t),_t&&this._push(ie.writeBytesBuffer,_t,_r),this},ie.prototype.string=function(_r){var _t=Ra.Buffer.byteLength(_r);return this.uint32(_t),_t&&this._push(nC,_t,_r),this},ie._configure();var Nm=Yb,op,ls=Ra.LongBits,hJ=Ra.utf8,Zw=typeof Uint8Array<"u"?function(_r){if(_r instanceof Uint8Array||Array.isArray(_r))return new Yb(_r);throw Error("illegal buffer")}:function(_r){if(Array.isArray(_r))return new Yb(_r);throw Error("illegal buffer")},$w=function(){return Ra.Buffer?function(_r){return(Yb.create=function(_t){return Ra.Buffer.isBuffer(_t)?new op(_t):Zw(_t)})(_r)}:Zw};Yb.create=$w(),Yb.prototype._slice=Ra.Array.prototype.subarray||Ra.Array.prototype.slice,Yb.prototype.uint32=function(){var _r=4294967295;return function(){if(_r=(127&this.buf[this.pos])>>>0,128>this.buf[this.pos++]||(_r=(_r|(127&this.buf[this.pos])<<7)>>>0,128>this.buf[this.pos++])||(_r=(_r|(127&this.buf[this.pos])<<14)>>>0,128>this.buf[this.pos++])||(_r=(_r|(127&this.buf[this.pos])<<21)>>>0,128>this.buf[this.pos++])||(_r=(_r|(15&this.buf[this.pos])<<28)>>>0,128>this.buf[this.pos++]))return _r;if((this.pos+=5)>this.len)throw this.pos=this.len,Od(this,10);return _r}}(),Yb.prototype.int32=function(){return 0|this.uint32()},Yb.prototype.sint32=function(){var _r=this.uint32();return _r>>>1^-(1&_r)|0},Yb.prototype.bool=function(){return this.uint32()!==0},Yb.prototype.fixed32=function(){if(this.pos+4>this.len)throw Od(this,4);return Pj(this.buf,this.pos+=4)},Yb.prototype.sfixed32=function(){if(this.pos+4>this.len)throw Od(this,4);return 0|Pj(this.buf,this.pos+=4)},Yb.prototype.float=function(){if(this.pos+4>this.len)throw Od(this,4);var _r=Ra.float.readFloatLE(this.buf,this.pos);return this.pos+=4,_r},Yb.prototype.double=function(){if(this.pos+8>this.len)throw Od(this,4);var _r=Ra.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,_r},Yb.prototype.bytes=function(){var _r=this.uint32(),_t=this.pos,_o=this.pos+_r;if(_o>this.len)throw Od(this,_r);return this.pos+=_r,Array.isArray(this.buf)?this.buf.slice(_t,_o):_t===_o?new this.buf.constructor(0):this._slice.call(this.buf,_t,_o)},Yb.prototype.string=function(){var _r=this.bytes();return hJ.read(_r,0,_r.length)},Yb.prototype.skip=function(_r){if(typeof _r=="number"){if(this.pos+_r>this.len)throw Od(this,_r);this.pos+=_r}else do if(this.pos>=this.len)throw Od(this);while(128&this.buf[this.pos++]);return this},Yb.prototype.skipType=function(_r){switch(_r){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(_r=7&this.uint32())!=4;)this.skipType(_r);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+_r+" at offset "+this.pos)}return this},Yb._configure=function(_r){op=_r,Yb.create=$w(),op._configure();var _t=Ra.Long?"toLong":"toNumber";Ra.merge(Yb.prototype,{int64:function(){return Mm.call(this)[_t](!1)},uint64:function(){return Mm.call(this)[_t](!0)},sint64:function(){return Mm.call(this).zzDecode()[_t](!1)},fixed64:function(){return ms.call(this)[_t](!0)},sfixed64:function(){return ms.call(this)[_t](!1)}})},(ag.prototype=Object.create(Nm.prototype)).constructor=ag,ag._configure=function(){Ra.Buffer&&(ag.prototype._slice=Ra.Buffer.prototype.slice)},ag.prototype.string=function(){var _r=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+_r,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+_r,this.len))},ag._configure(),(qi.prototype=Object.create(Ra.EventEmitter.prototype)).constructor=qi,qi.prototype.rpcCall=function _r(_t,_o,yl,El,_l){if(!El)throw TypeError("request must be specified");var Tl=this;if(!_l)return Ra.asPromise(_r,Tl,_t,_o,yl,El);if(Tl.rpcImpl)try{return Tl.rpcImpl(_t,_o[Tl.requestDelimited?"encodeDelimited":"encode"](El).finish(),function(Il,Al){if(Il)return Tl.emit("error",Il,_t),_l(Il);if(Al!==null){if(!(Al instanceof yl))try{Al=yl[Tl.responseDelimited?"decodeDelimited":"decode"](Al)}catch(Rl){return Tl.emit("error",Rl,_t),_l(Rl)}return Tl.emit("data",Al,_t),_l(null,Al)}Tl.end(!0)})}catch(Il){Tl.emit("error",Il,_t),setTimeout(function(){_l(Il)},0)}else setTimeout(function(){_l(Error("already ended"))},0)},qi.prototype.end=function(_r){return this.rpcImpl&&(_r||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this};var iJ=kc(function(_r,_t){_t.Service=qi}),jJ={},ae=kc(function(_r,_t){function _o(){yl.util._configure(),yl.Writer._configure(yl.BufferWriter),yl.Reader._configure(yl.BufferReader)}var yl=_t;yl.build="minimal",yl.Writer=Lm,yl.BufferWriter=ie,yl.Reader=Nm,yl.BufferReader=ag,yl.util=Ra,yl.rpc=iJ,yl.roots=jJ,yl.configure=_o,_o()});ae.util.Long=D,ae.configure();var T=ae.Reader,ta=ae.Writer,I=ae.util,Q=ae.roots.default||(ae.roots.default={}),kJ=Q.URI=function(){var _r={},_t=Object.create(_r);return _t[_r[0]="Unknown"]=0,_t[_r[1]="PingUri"]=1,_t[_r[2]="PongUri"]=2,_t[_r[11]="UserJoinUri"]=11,_t[_r[12]="UserRespUri"]=12,_t[_r[15]="UserTicketNearlyExpireUri"]=15,_t[_r[16]="UserRenewTokenReqUri"]=16,_t[_r[17]="UserRenewTokenRespUri"]=17,_t[_r[21]="UserQuitUri"]=21,_t[_r[22]="UserDropUri"]=22,_t[_r[31]="GroupEnterUri"]=31,_t[_r[32]="GroupLeaveUri"]=32,_t[_r[33]="GroupReplyUri"]=33,_t[_r[35]="GroupDropUri"]=35,_t[_r[36]="GroupEnterNoticeUri"]=36,_t[_r[37]="GroupLeaveNoticeUri"]=37,_t[_r[38]="GroupEventNoticeUri"]=38,_t[_r[39]="GroupCountNoticeUri"]=39,_t[_r[41]="UserStatusListUri"]=41,_t[_r[42]="UserStatusResultUri"]=42,_t[_r[51]="GroupStatusListUri"]=51,_t[_r[52]="GroupStatusResultUri"]=52,_t[_r[55]="GroupAllUsersListUri"]=55,_t[_r[56]="GroupAllUsersResultUri"]=56,_t[_r[100]="MessageUri"]=100,_t[_r[101]="AckUri"]=101,_t[_r[201]="UserJoinNoticeUri"]=201,_t[_r[202]="UserQuitNoticeUri"]=202,_t[_r[203]="UserWaitNoticeUri"]=203,_t[_r[301]="UserAttributeGetUri"]=301,_t[_r[302]="UserAttributeRetUri"]=302,_t[_r[303]="UserAttributeSetUri"]=303,_t[_r[304]="UserAttributeModUri"]=304,_t[_r[305]="UserAttributeDelUri"]=305,_t[_r[307]="UserAttributeRspUri"]=307,_t[_r[308]="UserAttributeErrUri"]=308,_t[_r[311]="UserAttributeKeysGetUri"]=311,_t[_r[312]="UserAttributeKeysRetUri"]=312,_t[_r[351]="GroupAttributeGetUri"]=351,_t[_r[352]="GroupAttributeRetUri"]=352,_t[_r[353]="GroupAttributeSetUri"]=353,_t[_r[354]="GroupAttributeModUri"]=354,_t[_r[355]="GroupAttributeDelUri"]=355,_t[_r[356]="GroupAttributeAltUri"]=356,_t[_r[357]="GroupAttributeRspUri"]=357,_t[_r[358]="GroupAttributeErrUri"]=358,_t[_r[361]="GroupAttributeKeysGetUri"]=361,_t[_r[362]="GroupAttributeKeysRetUri"]=362,_t[_r[401]="SubscribeUserStatusUri"]=401,_t[_r[402]="UnsubscribeUserStatusUri"]=402,_t[_r[499]="SubscribeResponseUri"]=499,_t[_r[601]="StateSubscribeUri"]=601,_t[_r[602]="StateUpdateUri"]=602,_t[_r[603]="StateSubscribeResultUri"]=603,_t[_r[604]="StateUnsubscribeUri"]=604,_t[_r[605]="StateSetUri"]=605,_t[_r[606]="StateModifyUri"]=606,_t[_r[607]="StateRequestResultUri"]=607,_t[_r[608]="StateGetUri"]=608,_t[_r[609]="StateGetResultUri"]=609,_t[_r[610]="StateLockAcquireUri"]=610,_t[_r[611]="StateLockReleaseUri"]=611,_t[_r[612]="StateLockAcquireResultUri"]=612,_t[_r[613]="StateLockUpdateUri"]=613,_t[_r[614]="StateLockReleaseResultUri"]=614,_t[_r[615]="StateLockDisableUri"]=615,_t[_r[616]="StateLockDisableResultUri"]=616,_t}(),gl=Q.Wrapper=function(){function _r(_t){if(_t)for(var _o=Object.keys(_t),yl=0;yl<_o.length;++yl)_t[_o[yl]]!=null&&(this[_o[yl]]=_t[_o[yl]])}return _r.prototype.uri=0,_r.prototype.data=I.newBuffer([]),_r.encode=function(_t,_o){return _o||(_o=ta.create()),_t.uri!=null&&Object.hasOwnProperty.call(_t,"uri")&&_o.uint32(8).int32(_t.uri),_t.data!=null&&Object.hasOwnProperty.call(_t,"data")&&_o.uint32(18).bytes(_t.data),_o},_r.decode=function(_t,_o){_t instanceof T||(_t=T.create(_t)),_o=_o===void 0?_t.len:_t.pos+_o;for(var yl=new Q.Wrapper;_t.pos<_o;){var El=_t.uint32();switch(El>>>3){case 1:yl.uri=_t.int32();break;case 2:yl.data=_t.bytes();break;default:_t.skipType(7&El)}}return yl},_r}(),lJ=Q.Ping=function(){function _r(_t){if(_t)for(var _o=Object.keys(_t),yl=0;yl<_o.length;++yl)_t[_o[yl]]!=null&&(this[_o[yl]]=_t[_o[yl]])}return _r.prototype.seq=I.Long?I.Long.fromBits(0,0,!0):0,_r.prototype.ms=I.Long?I.Long.fromBits(0,0,!0):0,_r.encode=function(_t,_o){return _o||(_o=ta.create()),_t.seq!=null&&Object.hasOwnProperty.call(_t,"seq")&&_o.uint32(8).uint64(_t.seq),_t.ms!=null&&Object.hasOwnProperty.call(_t,"ms")&&_o.uint32(16).uint64(_t.ms),_o},_r.decode=function(_t,_o){_t instanceof T||(_t=T.create(_t)),_o=_o===void 0?_t.len:_t.pos+_o;for(var yl=new Q.Ping;_t.pos<_o;){var El=_t.uint32();switch(El>>>3){case 1:yl.seq=_t.uint64();break;case 2:yl.ms=_t.uint64();break;default:_t.skipType(7&El)}}return yl},_r}(),mJ=Q.Pong=function(){function _r(_t){if(_t)for(var _o=Object.keys(_t),yl=0;yl<_o.length;++yl)_t[_o[yl]]!=null&&(this[_o[yl]]=_t[_o[yl]])}return _r.prototype.seq=I.Long?I.Long.fromBits(0,0,!0):0,_r.prototype.ms=I.Long?I.Long.fromBits(0,0,!0):0,_r.encode=function(_t,_o){return _o||(_o=ta.create()),_t.seq!=null&&Object.hasOwnProperty.call(_t,"seq")&&_o.uint32(8).uint64(_t.seq),_t.ms!=null&&Object.hasOwnProperty.call(_t,"ms")&&_o.uint32(16).uint64(_t.ms),_o},_r.decode=function(_t,_o){_t instanceof T||(_t=T.create(_t)),_o=_o===void 0?_t.len:_t.pos+_o;for(var yl=new Q.Pong;_t.pos<_o;){var El=_t.uint32();switch(El>>>3){case 1:yl.seq=_t.uint64();break;case 2:yl.ms=_t.uint64();break;default:_t.skipType(7&El)}}return yl},_r}(),nJ=Q.UserJoin=function(){function _r(_t){if(_t)for(var _o=Object.keys(_t),yl=0;yl<_o.length;++yl)_t[_o[yl]]!=null&&(this[_o[yl]]=_t[_o[yl]])}return _r.prototype.seq=I.Long?I.Long.fromBits(0,0,!0):0,_r.prototype.opt=I.Long?I.Long.fromBits(0,0,!0):0,_r.prototype.instance=I.Long?I.Long.fromBits(0,0,!0):0,_r.prototype.account="",_r.prototype.ticket="",_r.encode=function(_t,_o){return _o||(_o=ta.create()),_t.seq!=null&&Object.hasOwnProperty.call(_t,"seq")&&_o.uint32(8).uint64(_t.seq),_t.opt!=null&&Object.hasOwnProperty.call(_t,"opt")&&_o.uint32(16).uint64(_t.opt),_t.instance!=null&&Object.hasOwnProperty.call(_t,"instance")&&_o.uint32(24).uint64(_t.instance),_t.account!=null&&Object.hasOwnProperty.call(_t,"account")&&_o.uint32(34).string(_t.account),_t.ticket!=null&&Object.hasOwnProperty.call(_t,"ticket")&&_o.uint32(42).string(_t.ticket),_o},_r.decode=function(_t,_o){_t instanceof T||(_t=T.create(_t)),_o=_o===void 0?_t.len:_t.pos+_o;for(var yl=new Q.UserJoin;_t.pos<_o;){var El=_t.uint32();switch(El>>>3){case 1:yl.seq=_t.uint64();break;case 2:yl.opt=_t.uint64();break;case 3:yl.instance=_t.uint64();break;case 4:yl.account=_t.string();break;case 5:yl.ticket=_t.string();break;default:_t.skipType(7&El)}}return yl},_r}(),oJ=Q.UserResp=function(){function _r(_t){if(_t)for(var _o=Object.keys(_t),yl=0;yl<_o.length;++yl)_t[_o[yl]]!=null&&(this[_o[yl]]=_t[_o[yl]])}return _r.prototype.seq=I.Long?I.Long.fromBits(0,0,!0):0,_r.prototype.account="",_r.prototype.code=0,_r.encode=function(_t,_o){return _o||(_o=ta.create()),_t.seq!=null&&Object.hasOwnProperty.call(_t,"seq")&&_o.uint32(8).uint64(_t.seq),_t.account!=null&&Object.hasOwnProperty.call(_t,"account")&&_o.uint32(18).string(_t.account),_t.code!=null&&Object.hasOwnProperty.call(_t,"code")&&_o.uint32(24).uint32(_t.code),_o},_r.decode=function(_t,_o){_t instanceof T||(_t=T.create(_t)),_o=_o===void 0?_t.len:_t.pos+_o;for(var yl=new Q.UserResp;_t.pos<_o;){var El=_t.uint32();switch(El>>>3){case 1:yl.seq=_t.uint64();break;case 2:yl.account=_t.string();break;case 3:yl.code=_t.uint32();break;default:_t.skipType(7&El)}}return yl},_r}(),pJ=Q.UserQuit=function(){function _r(_t){if(_t)for(var _o=Object.keys(_t),yl=0;yl<_o.length;++yl)_t[_o[yl]]!=null&&(this[_o[yl]]=_t[_o[yl]])}return _r.encode=function(_t,_o){return _o||(_o=ta.create()),_o},_r.decode=function(_t,_o){_t instanceof T||(_t=T.create(_t)),_o=_o===void 0?_t.len:_t.pos+_o;for(var yl=new Q.UserQuit;_t.pos<_o;){var El=_t.uint32();_t.skipType(7&El)}return yl},_r}(),qJ=Q.UserDrop=function(){function _r(_t){if(_t)for(var _o=Object.keys(_t),yl=0;yl<_o.length;++yl)_t[_o[yl]]!=null&&(this[_o[yl]]=_t[_o[yl]])}return _r.prototype.code=0,_r.encode=function(_t,_o){return _o||(_o=ta.create()),_t.code!=null&&Object.hasOwnProperty.call(_t,"code")&&_o.uint32(8).uint32(_t.code),_o},_r.decode=function(_t,_o){_t instanceof T||(_t=T.create(_t)),_o=_o===void 0?_t.len:_t.pos+_o;for(var yl=new Q.UserDrop;_t.pos<_o;){var El=_t.uint32();switch(El>>>3){case 1:yl.code=_t.uint32();break;default:_t.skipType(7&El)}}return yl},_r}(),rJ=Q.UserTicketNearlyExpire=function(){function _r(_t){if(_t)for(var _o=Object.keys(_t),yl=0;yl<_o.length;++yl)_t[_o[yl]]!=null&&(this[_o[yl]]=_t[_o[yl]])}return _r.prototype.expireTs=I.Long?I.Long.fromBits(0,0,!0):0,_r.prototype.ticket="",_r.encode=function(_t,_o){return _o||(_o=ta.create()),_t.expireTs!=null&&Object.hasOwnProperty.call(_t,"expireTs")&&_o.uint32(8).uint64(_t.expireTs),_t.ticket!=null&&Object.hasOwnProperty.call(_t,"ticket")&&_o.uint32(18).string(_t.ticket),_o},_r.decode=function(_t,_o){_t instanceof T||(_t=T.create(_t)),_o=_o===void 0?_t.len:_t.pos+_o;for(var yl=new Q.UserTicketNearlyExpire;_t.pos<_o;){var El=_t.uint32();switch(El>>>3){case 1:yl.expireTs=_t.uint64();break;case 2:yl.ticket=_t.string();break;default:_t.skipType(7&El)}}return yl},_r}(),sJ=Q.UserRenewTokenReq=function(){function _r(_t){if(_t)for(var _o=Object.keys(_t),yl=0;yl<_o.length;++yl)_t[_o[yl]]!=null&&(this[_o[yl]]=_t[_o[yl]])}return _r.prototype.instance=I.Long?I.Long.fromBits(0,0,!0):0,_r.prototype.seq=I.Long?I.Long.fromBits(0,0,!0):0,_r.prototype.account="",_r.prototype.ticket="",_r.encode=function(_t,_o){return _o||(_o=ta.create()),_t.instance!=null&&Object.hasOwnProperty.call(_t,"instance")&&_o.uint32(8).uint64(_t.instance),_t.seq!=null&&Object.hasOwnProperty.call(_t,"seq")&&_o.uint32(16).uint64(_t.seq),_t.account!=null&&Object.hasOwnProperty.call(_t,"account")&&_o.uint32(26).string(_t.account),_t.ticket!=null&&Object.hasOwnProperty.call(_t,"ticket")&&_o.uint32(34).string(_t.ticket),_o},_r.decode=function(_t,_o){_t instanceof T||(_t=T.create(_t)),_o=_o===void 0?_t.len:_t.pos+_o;for(var yl=new Q.UserRenewTokenReq;_t.pos<_o;){var El=_t.uint32();switch(El>>>3){case 1:yl.instance=_t.uint64();break;case 2:yl.seq=_t.uint64();break;case 3:yl.account=_t.string();break;case 4:yl.ticket=_t.string();break;default:_t.skipType(7&El)}}return yl},_r}(),tJ=Q.UserRenewTokenResp=function(){function _r(_t){if(_t)for(var _o=Object.keys(_t),yl=0;yl<_o.length;++yl)_t[_o[yl]]!=null&&(this[_o[yl]]=_t[_o[yl]])}return _r.prototype.seq=I.Long?I.Long.fromBits(0,0,!0):0,_r.prototype.code=0,_r.encode=function(_t,_o){return _o||(_o=ta.create()),_t.seq!=null&&Object.hasOwnProperty.call(_t,"seq")&&_o.uint32(8).uint64(_t.seq),_t.code!=null&&Object.hasOwnProperty.call(_t,"code")&&_o.uint32(16).uint32(_t.code),_o},_r.decode=function(_t,_o){_t instanceof T||(_t=T.create(_t)),_o=_o===void 0?_t.len:_t.pos+_o;for(var yl=new Q.UserRenewTokenResp;_t.pos<_o;){var El=_t.uint32();switch(El>>>3){case 1:yl.seq=_t.uint64();break;case 2:yl.code=_t.uint32();break;default:_t.skipType(7&El)}}return yl},_r}(),uJ=Q.GroupEnter=function(){function _r(_t){if(_t)for(var _o=Object.keys(_t),yl=0;yl<_o.length;++yl)_t[_o[yl]]!=null&&(this[_o[yl]]=_t[_o[yl]])}return _r.prototype.seq=I.Long?I.Long.fromBits(0,0,!0):0,_r.prototype.account="",_r.encode=function(_t,_o){return _o||(_o=ta.create()),_t.seq!=null&&Object.hasOwnProperty.call(_t,"seq")&&_o.uint32(8).uint64(_t.seq),_t.account!=null&&Object.hasOwnProperty.call(_t,"account")&&_o.uint32(18).string(_t.account),_o},_r.decode=function(_t,_o){_t instanceof T||(_t=T.create(_t)),_o=_o===void 0?_t.len:_t.pos+_o;for(var yl=new Q.GroupEnter;_t.pos<_o;){var El=_t.uint32();switch(El>>>3){case 1:yl.seq=_t.uint64();break;case 2:yl.account=_t.string();break;default:_t.skipType(7&El)}}return yl},_r}(),vJ=Q.GroupLeave=function(){function _r(_t){if(_t)for(var _o=Object.keys(_t),yl=0;yl<_o.length;++yl)_t[_o[yl]]!=null&&(this[_o[yl]]=_t[_o[yl]])}return _r.prototype.account="",_r.encode=function(_t,_o){return _o||(_o=ta.create()),_t.account!=null&&Object.hasOwnProperty.call(_t,"account")&&_o.uint32(10).string(_t.account),_o},_r.decode=function(_t,_o){_t instanceof T||(_t=T.create(_t)),_o=_o===void 0?_t.len:_t.pos+_o;for(var yl=new Q.GroupLeave;_t.pos<_o;){var El=_t.uint32();switch(El>>>3){case 1:yl.account=_t.string();break;default:_t.skipType(7&El)}}return yl},_r}(),wJ=Q.GroupReply=function(){function _r(_t){if(_t)for(var _o=Object.keys(_t),yl=0;yl<_o.length;++yl)_t[_o[yl]]!=null&&(this[_o[yl]]=_t[_o[yl]])}return _r.prototype.seq=I.Long?I.Long.fromBits(0,0,!0):0,_r.prototype.account="",_r.prototype.code=0,_r.encode=function(_t,_o){return _o||(_o=ta.create()),_t.seq!=null&&Object.hasOwnProperty.call(_t,"seq")&&_o.uint32(8).uint64(_t.seq),_t.account!=null&&Object.hasOwnProperty.call(_t,"account")&&_o.uint32(18).string(_t.account),_t.code!=null&&Object.hasOwnProperty.call(_t,"code")&&_o.uint32(24).uint32(_t.code),_o},_r.decode=function(_t,_o){_t instanceof T||(_t=T.create(_t)),_o=_o===void 0?_t.len:_t.pos+_o;for(var yl=new Q.GroupReply;_t.pos<_o;){var El=_t.uint32();switch(El>>>3){case 1:yl.seq=_t.uint64();break;case 2:yl.account=_t.string();break;case 3:yl.code=_t.uint32();break;default:_t.skipType(7&El)}}return yl},_r}(),ax=Q.GroupLeaveNotice=function(){function _r(_t){if(_t)for(var _o=Object.keys(_t),yl=0;yl<_o.length;++yl)_t[_o[yl]]!=null&&(this[_o[yl]]=_t[_o[yl]])}return _r.prototype.seq=I.Long?I.Long.fromBits(0,0,!0):0,_r.prototype.user="",_r.prototype.group="",_r.prototype.instance=I.Long?I.Long.fromBits(0,0,!0):0,_r.prototype.size=0,_r.encode=function(_t,_o){return _o||(_o=ta.create()),_t.seq!=null&&Object.hasOwnProperty.call(_t,"seq")&&_o.uint32(8).uint64(_t.seq),_t.user!=null&&Object.hasOwnProperty.call(_t,"user")&&_o.uint32(18).string(_t.user),_t.group!=null&&Object.hasOwnProperty.call(_t,"group")&&_o.uint32(26).string(_t.group),_t.instance!=null&&Object.hasOwnProperty.call(_t,"instance")&&_o.uint32(32).uint64(_t.instance),_t.size!=null&&Object.hasOwnProperty.call(_t,"size")&&_o.uint32(40).uint32(_t.size),_o},_r.decode=function(_t,_o){_t instanceof T||(_t=T.create(_t)),_o=_o===void 0?_t.len:_t.pos+_o;for(var yl=new Q.GroupLeaveNotice;_t.pos<_o;){var El=_t.uint32();switch(El>>>3){case 1:yl.seq=_t.uint64();break;case 2:yl.user=_t.string();break;case 3:yl.group=_t.string();break;case 4:yl.instance=_t.uint64();break;case 5:yl.size=_t.uint32();break;default:_t.skipType(7&El)}}return yl},_r}(),bx=Q.GroupEnterNotice=function(){function _r(_t){if(_t)for(var _o=Object.keys(_t),yl=0;yl<_o.length;++yl)_t[_o[yl]]!=null&&(this[_o[yl]]=_t[_o[yl]])}return _r.prototype.seq=I.Long?I.Long.fromBits(0,0,!0):0,_r.prototype.user="",_r.prototype.group="",_r.prototype.instance=I.Long?I.Long.fromBits(0,0,!0):0,_r.prototype.size=0,_r.encode=function(_t,_o){return _o||(_o=ta.create()),_t.seq!=null&&Object.hasOwnProperty.call(_t,"seq")&&_o.uint32(8).uint64(_t.seq),_t.user!=null&&Object.hasOwnProperty.call(_t,"user")&&_o.uint32(18).string(_t.user),_t.group!=null&&Object.hasOwnProperty.call(_t,"group")&&_o.uint32(26).string(_t.group),_t.instance!=null&&Object.hasOwnProperty.call(_t,"instance")&&_o.uint32(32).uint64(_t.instance),_t.size!=null&&Object.hasOwnProperty.call(_t,"size")&&_o.uint32(40).uint32(_t.size),_o},_r.decode=function(_t,_o){_t instanceof T||(_t=T.create(_t)),_o=_o===void 0?_t.len:_t.pos+_o;for(var yl=new Q.GroupEnterNotice;_t.pos<_o;){var El=_t.uint32();switch(El>>>3){case 1:yl.seq=_t.uint64();break;case 2:yl.user=_t.string();break;case 3:yl.group=_t.string();break;case 4:yl.instance=_t.uint64();break;case 5:yl.size=_t.uint32();break;default:_t.skipType(7&El)}}return yl},_r}(),cx=Q.Message=function(){function _r(_t){if(this.MiscMap={},_t)for(var _o=Object.keys(_t),yl=0;yl<_o.length;++yl)_t[_o[yl]]!=null&&(this[_o[yl]]=_t[_o[yl]])}return _r.prototype.instance=I.Long?I.Long.fromBits(0,0,!0):0,_r.prototype.dialogue=I.Long?I.Long.fromBits(0,0,!0):0,_r.prototype.sequence=I.Long?I.Long.fromBits(0,0,!0):0,_r.prototype.options=I.Long?I.Long.fromBits(0,0,!0):0,_r.prototype.src="",_r.prototype.dst="",_r.prototype.payload=I.newBuffer([]),_r.prototype.MiscMap=I.emptyObject,_r.prototype.ms=I.Long?I.Long.fromBits(0,0,!0):0,_r.encode=function(_t,_o){if(_o||(_o=ta.create()),_t.instance!=null&&Object.hasOwnProperty.call(_t,"instance")&&_o.uint32(8).uint64(_t.instance),_t.dialogue!=null&&Object.hasOwnProperty.call(_t,"dialogue")&&_o.uint32(16).uint64(_t.dialogue),_t.sequence!=null&&Object.hasOwnProperty.call(_t,"sequence")&&_o.uint32(24).uint64(_t.sequence),_t.options!=null&&Object.hasOwnProperty.call(_t,"options")&&_o.uint32(32).uint64(_t.options),_t.src!=null&&Object.hasOwnProperty.call(_t,"src")&&_o.uint32(42).string(_t.src),_t.dst!=null&&Object.hasOwnProperty.call(_t,"dst")&&_o.uint32(50).string(_t.dst),_t.payload!=null&&Object.hasOwnProperty.call(_t,"payload")&&_o.uint32(58).bytes(_t.payload),_t.MiscMap!=null&&Object.hasOwnProperty.call(_t,"MiscMap"))for(var yl=Object.keys(_t.MiscMap),El=0;El<yl.length;++El)_o.uint32(66).fork().uint32(10).string(yl[El]).uint32(18).bytes(_t.MiscMap[yl[El]]).ldelim();return _t.ms!=null&&Object.hasOwnProperty.call(_t,"ms")&&_o.uint32(72).uint64(_t.ms),_o},_r.decode=function(_t,_o){_t instanceof T||(_t=T.create(_t)),_o=_o===void 0?_t.len:_t.pos+_o;for(var yl,El,_l=new Q.Message;_t.pos<_o;)switch(yl=_t.uint32(),yl>>>3){case 1:_l.instance=_t.uint64();break;case 2:_l.dialogue=_t.uint64();break;case 3:_l.sequence=_t.uint64();break;case 4:_l.options=_t.uint64();break;case 5:_l.src=_t.string();break;case 6:_l.dst=_t.string();break;case 7:_l.payload=_t.bytes();break;case 8:_l.MiscMap===I.emptyObject&&(_l.MiscMap={});var Tl=_t.uint32()+_t.pos;for(yl="",El=[];_t.pos<Tl;){var Il=_t.uint32();switch(Il>>>3){case 1:yl=_t.string();break;case 2:El=_t.bytes();break;default:_t.skipType(7&Il)}}_l.MiscMap[yl]=El;break;case 9:_l.ms=_t.uint64();break;default:_t.skipType(7&yl)}return _l},_r}(),dx=Q.Ack=function(){function _r(_t){if(_t)for(var _o=Object.keys(_t),yl=0;yl<_o.length;++yl)_t[_o[yl]]!=null&&(this[_o[yl]]=_t[_o[yl]])}return _r.prototype.instance=I.Long?I.Long.fromBits(0,0,!0):0,_r.prototype.dialogue=I.Long?I.Long.fromBits(0,0,!0):0,_r.prototype.sequence=I.Long?I.Long.fromBits(0,0,!0):0,_r.prototype.code=0,_r.encode=function(_t,_o){return _o||(_o=ta.create()),_t.instance!=null&&Object.hasOwnProperty.call(_t,"instance")&&_o.uint32(8).uint64(_t.instance),_t.dialogue!=null&&Object.hasOwnProperty.call(_t,"dialogue")&&_o.uint32(16).uint64(_t.dialogue),_t.sequence!=null&&Object.hasOwnProperty.call(_t,"sequence")&&_o.uint32(24).uint64(_t.sequence),_t.code!=null&&Object.hasOwnProperty.call(_t,"code")&&_o.uint32(32).uint32(_t.code),_o},_r.decode=function(_t,_o){_t instanceof T||(_t=T.create(_t)),_o=_o===void 0?_t.len:_t.pos+_o;for(var yl=new Q.Ack;_t.pos<_o;){var El=_t.uint32();switch(El>>>3){case 1:yl.instance=_t.uint64();break;case 2:yl.dialogue=_t.uint64();break;case 3:yl.sequence=_t.uint64();break;case 4:yl.code=_t.uint32();break;default:_t.skipType(7&El)}}return yl},_r}(),xJ=Q.GroupDrop=function(){function _r(_t){if(_t)for(var _o=Object.keys(_t),yl=0;yl<_o.length;++yl)_t[_o[yl]]!=null&&(this[_o[yl]]=_t[_o[yl]])}return _r.prototype.account="",_r.prototype.code=0,_r.encode=function(_t,_o){return _o||(_o=ta.create()),_t.account!=null&&Object.hasOwnProperty.call(_t,"account")&&_o.uint32(10).string(_t.account),_t.code!=null&&Object.hasOwnProperty.call(_t,"code")&&_o.uint32(16).uint32(_t.code),_o},_r.decode=function(_t,_o){_t instanceof T||(_t=T.create(_t)),_o=_o===void 0?_t.len:_t.pos+_o;for(var yl=new Q.GroupDrop;_t.pos<_o;){var El=_t.uint32();switch(El>>>3){case 1:yl.account=_t.string();break;case 2:yl.code=_t.uint32();break;default:_t.skipType(7&El)}}return yl},_r}(),yJ=Q.GroupAllUsersList=function(){function _r(_t){if(_t)for(var _o=Object.keys(_t),yl=0;yl<_o.length;++yl)_t[_o[yl]]!=null&&(this[_o[yl]]=_t[_o[yl]])}return _r.prototype.seq=I.Long?I.Long.fromBits(0,0,!0):0,_r.prototype.group="",_r.prototype.pageSize=0,_r.prototype.pageNumber=0,_r.encode=function(_t,_o){return _o||(_o=ta.create()),_t.seq!=null&&Object.hasOwnProperty.call(_t,"seq")&&_o.uint32(8).uint64(_t.seq),_t.group!=null&&Object.hasOwnProperty.call(_t,"group")&&_o.uint32(18).string(_t.group),_t.pageSize!=null&&Object.hasOwnProperty.call(_t,"pageSize")&&_o.uint32(24).uint32(_t.pageSize),_t.pageNumber!=null&&Object.hasOwnProperty.call(_t,"pageNumber")&&_o.uint32(32).uint32(_t.pageNumber),_o},_r.decode=function(_t,_o){_t instanceof T||(_t=T.create(_t)),_o=_o===void 0?_t.len:_t.pos+_o;for(var yl=new Q.GroupAllUsersList;_t.pos<_o;){var El=_t.uint32();switch(El>>>3){case 1:yl.seq=_t.uint64();break;case 2:yl.group=_t.string();break;case 3:yl.pageSize=_t.uint32();break;case 4:yl.pageNumber=_t.uint32();break;default:_t.skipType(7&El)}}return yl},_r}(),zJ=Q.GroupAllUsersResult=function(){function _r(_t){if(this.memberInfos=[],_t)for(var _o=Object.keys(_t),yl=0;yl<_o.length;++yl)_t[_o[yl]]!=null&&(this[_o[yl]]=_t[_o[yl]])}return _r.prototype.seq=I.Long?I.Long.fromBits(0,0,!0):0,_r.prototype.group="",_r.prototype.totalSize=0,_r.prototype.pageSize=0,_r.prototype.pageNumber=0,_r.prototype.memberInfos=I.emptyArray,_r.encode=function(_t,_o){if(_o||(_o=ta.create()),_t.seq!=null&&Object.hasOwnProperty.call(_t,"seq")&&_o.uint32(8).uint64(_t.seq),_t.group!=null&&Object.hasOwnProperty.call(_t,"group")&&_o.uint32(18).string(_t.group),_t.totalSize!=null&&Object.hasOwnProperty.call(_t,"totalSize")&&_o.uint32(24).uint32(_t.totalSize),_t.pageSize!=null&&Object.hasOwnProperty.call(_t,"pageSize")&&_o.uint32(32).uint32(_t.pageSize),_t.pageNumber!=null&&Object.hasOwnProperty.call(_t,"pageNumber")&&_o.uint32(40).uint32(_t.pageNumber),_t.memberInfos!=null&&_t.memberInfos.length)for(var yl=0;yl<_t.memberInfos.length;++yl)Q.GroupAllUsersResult.MemberInfo.encode(_t.memberInfos[yl],_o.uint32(50).fork()).ldelim();return _o},_r.decode=function(_t,_o){_t instanceof T||(_t=T.create(_t)),_o=_o===void 0?_t.len:_t.pos+_o;for(var yl=new Q.GroupAllUsersResult;_t.pos<_o;){var El=_t.uint32();switch(El>>>3){case 1:yl.seq=_t.uint64();break;case 2:yl.group=_t.string();break;case 3:yl.totalSize=_t.uint32();break;case 4:yl.pageSize=_t.uint32();break;case 5:yl.pageNumber=_t.uint32();break;case 6:yl.memberInfos&&yl.memberInfos.length||(yl.memberInfos=[]),yl.memberInfos.push(Q.GroupAllUsersResult.MemberInfo.decode(_t,_t.uint32()));break;default:_t.skipType(7&El)}}return yl},_r.MemberInfo=function(){function _t(_o){if(_o)for(var yl=Object.keys(_o),El=0;El<yl.length;++El)_o[yl[El]]!=null&&(this[yl[El]]=_o[yl[El]])}return _t.prototype.account="",_t.prototype.ts=0,_t.encode=function(_o,yl){return yl||(yl=ta.create()),_o.account!=null&&Object.hasOwnProperty.call(_o,"account")&&yl.uint32(10).string(_o.account),_o.ts!=null&&Object.hasOwnProperty.call(_o,"ts")&&yl.uint32(16).uint32(_o.ts),yl},_t.decode=function(_o,yl){_o instanceof T||(_o=T.create(_o)),yl=yl===void 0?_o.len:_o.pos+yl;for(var El=new Q.GroupAllUsersResult.MemberInfo;_o.pos<yl;){var _l=_o.uint32();switch(_l>>>3){case 1:El.account=_o.string();break;case 2:El.ts=_o.uint32();break;default:_o.skipType(7&_l)}}return El},_t}(),_r}(),AJ=Q.UserStatusList=function(){function _r(_t){if(this.users=[],_t)for(var _o=Object.keys(_t),yl=0;yl<_o.length;++yl)_t[_o[yl]]!=null&&(this[_o[yl]]=_t[_o[yl]])}return _r.prototype.seq=I.Long?I.Long.fromBits(0,0,!0):0,_r.prototype.users=I.emptyArray,_r.encode=function(_t,_o){if(_o||(_o=ta.create()),_t.seq!=null&&Object.hasOwnProperty.call(_t,"seq")&&_o.uint32(8).uint64(_t.seq),_t.users!=null&&_t.users.length)for(var yl=0;yl<_t.users.length;++yl)_o.uint32(18).string(_t.users[yl]);return _o},_r.decode=function(_t,_o){_t instanceof T||(_t=T.create(_t)),_o=_o===void 0?_t.len:_t.pos+_o;for(var yl=new Q.UserStatusList;_t.pos<_o;){var El=_t.uint32();switch(El>>>3){case 1:yl.seq=_t.uint64();break;case 2:yl.users&&yl.users.length||(yl.users=[]),yl.users.push(_t.string());break;default:_t.skipType(7&El)}}return yl},_r}(),BJ=Q.UserStatusResult=function(){function _r(_t){if(this.userInfos=[],_t)for(var _o=Object.keys(_t),yl=0;yl<_o.length;++yl)_t[_o[yl]]!=null&&(this[_o[yl]]=_t[_o[yl]])}return _r.prototype.seq=I.Long?I.Long.fromBits(0,0,!0):0,_r.prototype.userInfos=I.emptyArray,_r.encode=function(_t,_o){if(_o||(_o=ta.create()),_t.seq!=null&&Object.hasOwnProperty.call(_t,"seq")&&_o.uint32(8).uint64(_t.seq),_t.userInfos!=null&&_t.userInfos.length)for(var yl=0;yl<_t.userInfos.length;++yl)Q.UserStatusResult.UserStatusInfo.encode(_t.userInfos[yl],_o.uint32(18).fork()).ldelim();return _o},_r.decode=function(_t,_o){_t instanceof T||(_t=T.create(_t)),_o=_o===void 0?_t.len:_t.pos+_o;for(var yl=new Q.UserStatusResult;_t.pos<_o;){var El=_t.uint32();switch(El>>>3){case 1:yl.seq=_t.uint64();break;case 2:yl.userInfos&&yl.userInfos.length||(yl.userInfos=[]),yl.userInfos.push(Q.UserStatusResult.UserStatusInfo.decode(_t,_t.uint32()));break;default:_t.skipType(7&El)}}return yl},_r.UserStatusInfo=function(){function _t(_o){if(_o)for(var yl=Object.keys(_o),El=0;El<yl.length;++El)_o[yl[El]]!=null&&(this[yl[El]]=_o[yl[El]])}return _t.prototype.account="",_t.prototype.ts=0,_t.encode=function(_o,yl){return yl||(yl=ta.create()),_o.account!=null&&Object.hasOwnProperty.call(_o,"account")&&yl.uint32(10).string(_o.account),_o.ts!=null&&Object.hasOwnProperty.call(_o,"ts")&&yl.uint32(16).uint32(_o.ts),yl},_t.decode=function(_o,yl){_o instanceof T||(_o=T.create(_o)),yl=yl===void 0?_o.len:_o.pos+yl;for(var El=new Q.UserStatusResult.UserStatusInfo;_o.pos<yl;){var _l=_o.uint32();switch(_l>>>3){case 1:El.account=_o.string();break;case 2:El.ts=_o.uint32();break;default:_o.skipType(7&_l)}}return El},_t}(),_r}(),CJ=Q.UserAttributeGet=function(){function _r(_t){if(this.attributes=[],_t)for(var _o=Object.keys(_t),yl=0;yl<_o.length;++yl)_t[_o[yl]]!=null&&(this[_o[yl]]=_t[_o[yl]])}return _r.prototype.seq=I.Long?I.Long.fromBits(0,0,!0):0,_r.prototype.account="",_r.prototype.attributes=I.emptyArray,_r.encode=function(_t,_o){if(_o||(_o=ta.create()),_t.seq!=null&&Object.hasOwnProperty.call(_t,"seq")&&_o.uint32(8).uint64(_t.seq),_t.account!=null&&Object.hasOwnProperty.call(_t,"account")&&_o.uint32(18).string(_t.account),_t.attributes!=null&&_t.attributes.length)for(var yl=0;yl<_t.attributes.length;++yl)_o.uint32(26).string(_t.attributes[yl]);return _o},_r.decode=function(_t,_o){_t instanceof T||(_t=T.create(_t)),_o=_o===void 0?_t.len:_t.pos+_o;for(var yl=new Q.UserAttributeGet;_t.pos<_o;){var El=_t.uint32();switch(El>>>3){case 1:yl.seq=_t.uint64();break;case 2:yl.account=_t.string();break;case 3:yl.attributes&&yl.attributes.length||(yl.attributes=[]),yl.attributes.push(_t.string());break;default:_t.skipType(7&El)}}return yl},_r}(),DJ=Q.UserAttributeRet=function(){function _r(_t){if(this.attributeInfos=[],_t)for(var _o=Object.keys(_t),yl=0;yl<_o.length;++yl)_t[_o[yl]]!=null&&(this[_o[yl]]=_t[_o[yl]])}return _r.prototype.seq=I.Long?I.Long.fromBits(0,0,!0):0,_r.prototype.attributeInfos=I.emptyArray,_r.encode=function(_t,_o){if(_o||(_o=ta.create()),_t.seq!=null&&Object.hasOwnProperty.call(_t,"seq")&&_o.uint32(8).uint64(_t.seq),_t.attributeInfos!=null&&_t.attributeInfos.length)for(var yl=0;yl<_t.attributeInfos.length;++yl)Q.UserAttributeRet.AttributeInfo.encode(_t.attributeInfos[yl],_o.uint32(18).fork()).ldelim();return _o},_r.decode=function(_t,_o){_t instanceof T||(_t=T.create(_t)),_o=_o===void 0?_t.len:_t.pos+_o;for(var yl=new Q.UserAttributeRet;_t.pos<_o;){var El=_t.uint32();switch(El>>>3){case 1:yl.seq=_t.uint64();break;case 2:yl.attributeInfos&&yl.attributeInfos.length||(yl.attributeInfos=[]),yl.attributeInfos.push(Q.UserAttributeRet.AttributeInfo.decode(_t,_t.uint32()));break;default:_t.skipType(7&El)}}return yl},_r.AttributeInfo=function(){function _t(_o){if(_o)for(var yl=Object.keys(_o),El=0;El<yl.length;++El)_o[yl[El]]!=null&&(this[yl[El]]=_o[yl[El]])}return _t.prototype.key="",_t.prototype.value="",_t.encode=function(_o,yl){return yl||(yl=ta.create()),_o.key!=null&&Object.hasOwnProperty.call(_o,"key")&&yl.uint32(10).string(_o.key),_o.value!=null&&Object.hasOwnProperty.call(_o,"value")&&yl.uint32(18).string(_o.value),yl},_t.decode=function(_o,yl){_o instanceof T||(_o=T.create(_o)),yl=yl===void 0?_o.len:_o.pos+yl;for(var El=new Q.UserAttributeRet.AttributeInfo;_o.pos<yl;){var _l=_o.uint32();switch(_l>>>3){case 1:El.key=_o.string();break;case 2:El.value=_o.string();break;default:_o.skipType(7&_l)}}return El},_t}(),_r}(),EJ=Q.UserAttributeSet=function(){function _r(_t){if(this.attributeInfos=[],_t)for(var _o=Object.keys(_t),yl=0;yl<_o.length;++yl)_t[_o[yl]]!=null&&(this[_o[yl]]=_t[_o[yl]])}return _r.prototype.seq=I.Long?I.Long.fromBits(0,0,!0):0,_r.prototype.account="",_r.prototype.attributeInfos=I.emptyArray,_r.encode=function(_t,_o){if(_o||(_o=ta.create()),_t.seq!=null&&Object.hasOwnProperty.call(_t,"seq")&&_o.uint32(8).uint64(_t.seq),_t.account!=null&&Object.hasOwnProperty.call(_t,"account")&&_o.uint32(18).string(_t.account),_t.attributeInfos!=null&&_t.attributeInfos.length)for(var yl=0;yl<_t.attributeInfos.length;++yl)Q.UserAttributeSet.AttributeInfo.encode(_t.attributeInfos[yl],_o.uint32(26).fork()).ldelim();return _o},_r.decode=function(_t,_o){_t instanceof T||(_t=T.create(_t)),_o=_o===void 0?_t.len:_t.pos+_o;for(var yl=new Q.UserAttributeSet;_t.pos<_o;){var El=_t.uint32();switch(El>>>3){case 1:yl.seq=_t.uint64();break;case 2:yl.account=_t.string();break;case 3:yl.attributeInfos&&yl.attributeInfos.length||(yl.attributeInfos=[]),yl.attributeInfos.push(Q.UserAttributeSet.AttributeInfo.decode(_t,_t.uint32()));break;default:_t.skipType(7&El)}}return yl},_r.AttributeInfo=function(){function _t(_o){if(_o)for(var yl=Object.keys(_o),El=0;El<yl.length;++El)_o[yl[El]]!=null&&(this[yl[El]]=_o[yl[El]])}return _t.prototype.key="",_t.prototype.value="",_t.encode=function(_o,yl){return yl||(yl=ta.create()),_o.key!=null&&Object.hasOwnProperty.call(_o,"key")&&yl.uint32(10).string(_o.key),_o.value!=null&&Object.hasOwnProperty.call(_o,"value")&&yl.uint32(18).string(_o.value),yl},_t.decode=function(_o,yl){_o instanceof T||(_o=T.create(_o)),yl=yl===void 0?_o.len:_o.pos+yl;for(var El=new Q.UserAttributeSet.AttributeInfo;_o.pos<yl;){var _l=_o.uint32();switch(_l>>>3){case 1:El.key=_o.string();break;case 2:El.value=_o.string();break;default:_o.skipType(7&_l)}}return El},_t}(),_r}(),FJ=Q.UserAttributeMod=function(){function _r(_t){if(this.attributeInfos=[],_t)for(var _o=Object.keys(_t),yl=0;yl<_o.length;++yl)_t[_o[yl]]!=null&&(this[_o[yl]]=_t[_o[yl]])}return _r.prototype.seq=I.Long?I.Long.fromBits(0,0,!0):0,_r.prototype.account="",_r.prototype.attributeInfos=I.emptyArray,_r.encode=function(_t,_o){if(_o||(_o=ta.create()),_t.seq!=null&&Object.hasOwnProperty.call(_t,"seq")&&_o.uint32(8).uint64(_t.seq),_t.account!=null&&Object.hasOwnProperty.call(_t,"account")&&_o.uint32(18).string(_t.account),_t.attributeInfos!=null&&_t.attributeInfos.length)for(var yl=0;yl<_t.attributeInfos.length;++yl)Q.UserAttributeMod.AttributeInfo.encode(_t.attributeInfos[yl],_o.uint32(26).fork()).ldelim();return _o},_r.decode=function(_t,_o){_t instanceof T||(_t=T.create(_t)),_o=_o===void 0?_t.len:_t.pos+_o;for(var yl=new Q.UserAttributeMod;_t.pos<_o;){var El=_t.uint32();switch(El>>>3){case 1:yl.seq=_t.uint64();break;case 2:yl.account=_t.string();break;case 3:yl.attributeInfos&&yl.attributeInfos.length||(yl.attributeInfos=[]),yl.attributeInfos.push(Q.UserAttributeMod.AttributeInfo.decode(_t,_t.uint32()));break;default:_t.skipType(7&El)}}return yl},_r.AttributeInfo=function(){function _t(_o){if(_o)for(var yl=Object.keys(_o),El=0;El<yl.length;++El)_o[yl[El]]!=null&&(this[yl[El]]=_o[yl[El]])}return _t.prototype.key="",_t.prototype.value="",_t.encode=function(_o,yl){return yl||(yl=ta.create()),_o.key!=null&&Object.hasOwnProperty.call(_o,"key")&&yl.uint32(10).string(_o.key),_o.value!=null&&Object.hasOwnProperty.call(_o,"value")&&yl.uint32(18).string(_o.value),yl},_t.decode=function(_o,yl){_o instanceof T||(_o=T.create(_o)),yl=yl===void 0?_o.len:_o.pos+yl;for(var El=new Q.UserAttributeMod.AttributeInfo;_o.pos<yl;){var _l=_o.uint32();switch(_l>>>3){case 1:El.key=_o.string();break;case 2:El.value=_o.string();break;default:_o.skipType(7&_l)}}return El},_t}(),_r}(),GJ=Q.UserAttributeDel=function(){function _r(_t){if(this.attributes=[],_t)for(var _o=Object.keys(_t),yl=0;yl<_o.length;++yl)_t[_o[yl]]!=null&&(this[_o[yl]]=_t[_o[yl]])}return _r.prototype.seq=I.Long?I.Long.fromBits(0,0,!0):0,_r.prototype.account="",_r.prototype.attributes=I.emptyArray,_r.encode=function(_t,_o){if(_o||(_o=ta.create()),_t.seq!=null&&Object.hasOwnProperty.call(_t,"seq")&&_o.uint32(8).uint64(_t.seq),_t.account!=null&&Object.hasOwnProperty.call(_t,"account")&&_o.uint32(18).string(_t.account),_t.attributes!=null&&_t.attributes.length)for(var yl=0;yl<_t.attributes.length;++yl)_o.uint32(26).string(_t.attributes[yl]);return _o},_r.decode=function(_t,_o){_t instanceof T||(_t=T.create(_t)),_o=_o===void 0?_t.len:_t.pos+_o;for(var yl=new Q.UserAttributeDel;_t.pos<_o;){var El=_t.uint32();switch(El>>>3){case 1:yl.seq=_t.uint64();break;case 2:yl.account=_t.string();break;case 3:yl.attributes&&yl.attributes.length||(yl.attributes=[]),yl.attributes.push(_t.string());break;default:_t.skipType(7&El)}}return yl},_r}(),HJ=Q.UserAttributeErr=function(){function _r(_t){if(_t)for(var _o=Object.keys(_t),yl=0;yl<_o.length;++yl)_t[_o[yl]]!=null&&(this[_o[yl]]=_t[_o[yl]])}return _r.prototype.seq=I.Long?I.Long.fromBits(0,0,!0):0,_r.prototype.code=0,_r.encode=function(_t,_o){return _o||(_o=ta.create()),_t.seq!=null&&Object.hasOwnProperty.call(_t,"seq")&&_o.uint32(8).uint64(_t.seq),_t.code!=null&&Object.hasOwnProperty.call(_t,"code")&&_o.uint32(16).uint32(_t.code),_o},_r.decode=function(_t,_o){_t instanceof T||(_t=T.create(_t)),_o=_o===void 0?_t.len:_t.pos+_o;for(var yl=new Q.UserAttributeErr;_t.pos<_o;){var El=_t.uint32();switch(El>>>3){case 1:yl.seq=_t.uint64();break;case 2:yl.code=_t.uint32();break;default:_t.skipType(7&El)}}return yl},_r}(),IJ=Q.UserAttributeKeysGet=function(){function _r(_t){if(_t)for(var _o=Object.keys(_t),yl=0;yl<_o.length;++yl)_t[_o[yl]]!=null&&(this[_o[yl]]=_t[_o[yl]])}return _r.prototype.seq=I.Long?I.Long.fromBits(0,0,!0):0,_r.prototype.account="",_r.encode=function(_t,_o){return _o||(_o=ta.create()),_t.seq!=null&&Object.hasOwnProperty.call(_t,"seq")&&_o.uint32(8).uint64(_t.seq),_t.account!=null&&Object.hasOwnProperty.call(_t,"account")&&_o.uint32(18).string(_t.account),_o},_r.decode=function(_t,_o){_t instanceof T||(_t=T.create(_t)),_o=_o===void 0?_t.len:_t.pos+_o;for(var yl=new Q.UserAttributeKeysGet;_t.pos<_o;){var El=_t.uint32();switch(El>>>3){case 1:yl.seq=_t.uint64();break;case 2:yl.account=_t.string();break;default:_t.skipType(7&El)}}return yl},_r}(),JJ=Q.UserAttributeKeysRet=function(){function _r(_t){if(this.keys=[],_t)for(var _o=Object.keys(_t),yl=0;yl<_o.length;++yl)_t[_o[yl]]!=null&&(this[_o[yl]]=_t[_o[yl]])}return _r.prototype.seq=I.Long?I.Long.fromBits(0,0,!0):0,_r.prototype.keys=I.emptyArray,_r.encode=function(_t,_o){if(_o||(_o=ta.create()),_t.seq!=null&&Object.hasOwnProperty.call(_t,"seq")&&_o.uint32(8).uint64(_t.seq),_t.keys!=null&&_t.keys.length)for(var yl=0;yl<_t.keys.length;++yl)_o.uint32(18).string(_t.keys[yl]);return _o},_r.decode=function(_t,_o){_t instanceof T||(_t=T.create(_t)),_o=_o===void 0?_t.len:_t.pos+_o;for(var yl=new Q.UserAttributeKeysRet;_t.pos<_o;){var El=_t.uint32();switch(El>>>3){case 1:yl.seq=_t.uint64();break;case 2:yl.keys&&yl.keys.length||(yl.keys=[]),yl.keys.push(_t.string());break;default:_t.skipType(7&El)}}return yl},_r}(),KJ=Q.UserAttributeRsp=function(){function _r(_t){if(_t)for(var _o=Object.keys(_t),yl=0;yl<_o.length;++yl)_t[_o[yl]]!=null&&(this[_o[yl]]=_t[_o[yl]])}return _r.prototype.seq=I.Long?I.Long.fromBits(0,0,!0):0,_r.encode=function(_t,_o){return _o||(_o=ta.create()),_t.seq!=null&&Object.hasOwnProperty.call(_t,"seq")&&_o.uint32(8).uint64(_t.seq),_o},_r.decode=function(_t,_o){_t instanceof T||(_t=T.create(_t)),_o=_o===void 0?_t.len:_t.pos+_o;for(var yl=new Q.UserAttributeRsp;_t.pos<_o;){var El=_t.uint32();switch(El>>>3){case 1:yl.seq=_t.uint64();break;default:_t.skipType(7&El)}}return yl},_r}(),LJ=Q.GroupStatusList=function(){function _r(_t){if(this.groups=[],_t)for(var _o=Object.keys(_t),yl=0;yl<_o.length;++yl)_t[_o[yl]]!=null&&(this[_o[yl]]=_t[_o[yl]])}return _r.prototype.seq=I.Long?I.Long.fromBits(0,0,!0):0,_r.prototype.groups=I.emptyArray,_r.encode=function(_t,_o){if(_o||(_o=ta.create()),_t.seq!=null&&Object.hasOwnProperty.call(_t,"seq")&&_o.uint32(8).uint64(_t.seq),_t.groups!=null&&_t.groups.length)for(var yl=0;yl<_t.groups.length;++yl)_o.uint32(18).string(_t.groups[yl]);return _o},_r.decode=function(_t,_o){_t instanceof T||(_t=T.create(_t)),_o=_o===void 0?_t.len:_t.pos+_o;for(var yl=new Q.GroupStatusList;_t.pos<_o;){var El=_t.uint32();switch(El>>>3){case 1:yl.seq=_t.uint64();break;case 2:yl.groups&&yl.groups.length||(yl.groups=[]),yl.groups.push(_t.string());break;default:_t.skipType(7&El)}}return yl},_r}(),MJ=Q.GroupStatusResult=function(){function _r(_t){if(this.groupInfos=[],_t)for(var _o=Object.keys(_t),yl=0;yl<_o.length;++yl)_t[_o[yl]]!=null&&(this[_o[yl]]=_t[_o[yl]])}return _r.prototype.seq=I.Long?I.Long.fromBits(0,0,!0):0,_r.prototype.groupInfos=I.emptyArray,_r.encode=function(_t,_o){if(_o||(_o=ta.create()),_t.seq!=null&&Object.hasOwnProperty.call(_t,"seq")&&_o.uint32(8).uint64(_t.seq),_t.groupInfos!=null&&_t.groupInfos.length)for(var yl=0;yl<_t.groupInfos.length;++yl)Q.GroupStatusResult.GroupInfo.encode(_t.groupInfos[yl],_o.uint32(18).fork()).ldelim();return _o},_r.decode=function(_t,_o){_t instanceof T||(_t=T.create(_t)),_o=_o===void 0?_t.len:_t.pos+_o;for(var yl=new Q.GroupStatusResult;_t.pos<_o;){var El=_t.uint32();switch(El>>>3){case 1:yl.seq=_t.uint64();break;case 2:yl.groupInfos&&yl.groupInfos.length||(yl.groupInfos=[]),yl.groupInfos.push(Q.GroupStatusResult.GroupInfo.decode(_t,_t.uint32()));break;default:_t.skipType(7&El)}}return yl},_r.GroupInfo=function(){function _t(_o){if(_o)for(var yl=Object.keys(_o),El=0;El<yl.length;++El)_o[yl[El]]!=null&&(this[yl[El]]=_o[yl[El]])}return _t.prototype.group="",_t.prototype.memberCount=0,_t.encode=function(_o,yl){return yl||(yl=ta.create()),_o.group!=null&&Object.hasOwnProperty.call(_o,"group")&&yl.uint32(10).string(_o.group),_o.memberCount!=null&&Object.hasOwnProperty.call(_o,"memberCount")&&yl.uint32(16).uint32(_o.memberCount),yl},_t.decode=function(_o,yl){_o instanceof T||(_o=T.create(_o)),yl=yl===void 0?_o.len:_o.pos+yl;for(var El=new Q.GroupStatusResult.GroupInfo;_o.pos<yl;){var _l=_o.uint32();switch(_l>>>3){case 1:El.group=_o.string();break;case 2:El.memberCount=_o.uint32();break;default:_o.skipType(7&_l)}}return El},_t}(),_r}(),NJ=Q.GroupCountNotice=function(){function _r(_t){if(_t)for(var _o=Object.keys(_t),yl=0;yl<_o.length;++yl)_t[_o[yl]]!=null&&(this[_o[yl]]=_t[_o[yl]])}return _r.prototype.instance=I.Long?I.Long.fromBits(0,0,!0):0,_r.prototype.seq=I.Long?I.Long.fromBits(0,0,!0):0,_r.prototype.group="",_r.prototype.size=0,_r.encode=function(_t,_o){return _o||(_o=ta.create()),_t.instance!=null&&Object.hasOwnProperty.call(_t,"instance")&&_o.uint32(8).uint64(_t.instance),_t.seq!=null&&Object.hasOwnProperty.call(_t,"seq")&&_o.uint32(16).uint64(_t.seq),_t.group!=null&&Object.hasOwnProperty.call(_t,"group")&&_o.uint32(26).string(_t.group),_t.size!=null&&Object.hasOwnProperty.call(_t,"size")&&_o.uint32(32).uint32(_t.size),_o},_r.decode=function(_t,_o){_t instanceof T||(_t=T.create(_t)),_o=_o===void 0?_t.len:_t.pos+_o;for(var yl=new Q.GroupCountNotice;_t.pos<_o;){var El=_t.uint32();switch(El>>>3){case 1:yl.instance=_t.uint64();break;case 2:yl.seq=_t.uint64();break;case 3:yl.group=_t.string();break;case 4:yl.size=_t.uint32();break;default:_t.skipType(7&El)}}return yl},_r}(),OJ=Q.GroupAttributeGet=function(){function _r(_t){if(this.attributes=[],_t)for(var _o=Object.keys(_t),yl=0;yl<_o.length;++yl)_t[_o[yl]]!=null&&(this[_o[yl]]=_t[_o[yl]])}return _r.prototype.seq=I.Long?I.Long.fromBits(0,0,!0):0,_r.prototype.group="",_r.prototype.attributes=I.emptyArray,_r.encode=function(_t,_o){if(_o||(_o=ta.create()),_t.seq!=null&&Object.hasOwnProperty.call(_t,"seq")&&_o.uint32(8).uint64(_t.seq),_t.group!=null&&Object.hasOwnProperty.call(_t,"group")&&_o.uint32(18).string(_t.group),_t.attributes!=null&&_t.attributes.length)for(var yl=0;yl<_t.attributes.length;++yl)_o.uint32(26).string(_t.attributes[yl]);return _o},_r.decode=function(_t,_o){_t instanceof T||(_t=T.create(_t)),_o=_o===void 0?_t.len:_t.pos+_o;for(var yl=new Q.GroupAttributeGet;_t.pos<_o;){var El=_t.uint32();switch(El>>>3){case 1:yl.seq=_t.uint64();break;case 2:yl.group=_t.string();break;case 3:yl.attributes&&yl.attributes.length||(yl.attributes=[]),yl.attributes.push(_t.string());break;default:_t.skipType(7&El)}}return yl},_r}(),PJ=Q.GroupAttributeRet=function(){function _r(_t){if(this.attributeMaps=[],_t)for(var _o=Object.keys(_t),yl=0;yl<_o.length;++yl)_t[_o[yl]]!=null&&(this[_o[yl]]=_t[_o[yl]])}return _r.prototype.seq=I.Long?I.Long.fromBits(0,0,!0):0,_r.prototype.attributeMaps=I.emptyArray,_r.encode=function(_t,_o){if(_o||(_o=ta.create()),_t.seq!=null&&Object.hasOwnProperty.call(_t,"seq")&&_o.uint32(8).uint64(_t.seq),_t.attributeMaps!=null&&_t.attributeMaps.length)for(var yl=0;yl<_t.attributeMaps.length;++yl)Q.GroupAttributeRet.AttributeMap.encode(_t.attributeMaps[yl],_o.uint32(18).fork()).ldelim();return _o},_r.decode=function(_t,_o){_t instanceof T||(_t=T.create(_t)),_o=_o===void 0?_t.len:_t.pos+_o;for(var yl=new Q.GroupAttributeRet;_t.pos<_o;){var El=_t.uint32();switch(El>>>3){case 1:yl.seq=_t.uint64();break;case 2:yl.attributeMaps&&yl.attributeMaps.length||(yl.attributeMaps=[]),yl.attributeMaps.push(Q.GroupAttributeRet.AttributeMap.decode(_t,_t.uint32()));break;default:_t.skipType(7&El)}}return yl},_r.AttributeMap=function(){function _t(_o){if(_o)for(var yl=Object.keys(_o),El=0;El<yl.length;++El)_o[yl[El]]!=null&&(this[yl[El]]=_o[yl[El]])}return _t.prototype.key="",_t.prototype.value="",_t.prototype.origin="",_t.prototype.ms=I.Long?I.Long.fromBits(0,0,!0):0,_t.encode=function(_o,yl){return yl||(yl=ta.create()),_o.key!=null&&Object.hasOwnProperty.call(_o,"key")&&yl.uint32(10).string(_o.key),_o.value!=null&&Object.hasOwnProperty.call(_o,"value")&&yl.uint32(18).string(_o.value),_o.origin!=null&&Object.hasOwnProperty.call(_o,"origin")&&yl.uint32(26).string(_o.origin),_o.ms!=null&&Object.hasOwnProperty.call(_o,"ms")&&yl.uint32(32).uint64(_o.ms),yl},_t.decode=function(_o,yl){_o instanceof T||(_o=T.create(_o)),yl=yl===void 0?_o.len:_o.pos+yl;for(var El=new Q.GroupAttributeRet.AttributeMap;_o.pos<yl;){var _l=_o.uint32();switch(_l>>>3){case 1:El.key=_o.string();break;case 2:El.value=_o.string();break;case 3:El.origin=_o.string();break;case 4:El.ms=_o.uint64();break;default:_o.skipType(7&_l)}}return El},_t}(),_r}(),QJ=Q.GroupAttributeSet=function(){function _r(_t){if(this.attributeInfos=[],_t)for(var _o=Object.keys(_t),yl=0;yl<_o.length;++yl)_t[_o[yl]]!=null&&(this[_o[yl]]=_t[_o[yl]])}return _r.prototype.seq=I.Long?I.Long.fromBits(0,0,!0):0,_r.prototype.group="",_r.prototype.broadcast=!1,_r.prototype.attributeInfos=I.emptyArray,_r.encode=function(_t,_o){if(_o||(_o=ta.create()),_t.seq!=null&&Object.hasOwnProperty.call(_t,"seq")&&_o.uint32(8).uint64(_t.seq),_t.group!=null&&Object.hasOwnProperty.call(_t,"group")&&_o.uint32(18).string(_t.group),_t.broadcast!=null&&Object.hasOwnProperty.call(_t,"broadcast")&&_o.uint32(24).bool(_t.broadcast),_t.attributeInfos!=null&&_t.attributeInfos.length)for(var yl=0;yl<_t.attributeInfos.length;++yl)Q.GroupAttributeSet.AttributeInfo.encode(_t.attributeInfos[yl],_o.uint32(34).fork()).ldelim();return _o},_r.decode=function(_t,_o){_t instanceof T||(_t=T.create(_t)),_o=_o===void 0?_t.len:_t.pos+_o;for(var yl=new Q.GroupAttributeSet;_t.pos<_o;){var El=_t.uint32();switch(El>>>3){case 1:yl.seq=_t.uint64();break;case 2:yl.group=_t.string();break;case 3:yl.broadcast=_t.bool();break;case 4:yl.attributeInfos&&yl.attributeInfos.length||(yl.attributeInfos=[]),yl.attributeInfos.push(Q.GroupAttributeSet.AttributeInfo.decode(_t,_t.uint32()));break;default:_t.skipType(7&El)}}return yl},_r.AttributeInfo=function(){function _t(_o){if(_o)for(var yl=Object.keys(_o),El=0;El<yl.length;++El)_o[yl[El]]!=null&&(this[yl[El]]=_o[yl[El]])}return _t.prototype.key="",_t.prototype.value="",_t.encode=function(_o,yl){return yl||(yl=ta.create()),_o.key!=null&&Object.hasOwnProperty.call(_o,"key")&&yl.uint32(10).string(_o.key),_o.value!=null&&Object.hasOwnProperty.call(_o,"value")&&yl.uint32(18).string(_o.value),yl},_t.decode=function(_o,yl){_o instanceof T||(_o=T.create(_o)),yl=yl===void 0?_o.len:_o.pos+yl;for(var El=new Q.GroupAttributeSet.AttributeInfo;_o.pos<yl;){var _l=_o.uint32();switch(_l>>>3){case 1:El.key=_o.string();break;case 2:El.value=_o.string();break;default:_o.skipType(7&_l)}}return El},_t}(),_r}(),RJ=Q.GroupAttributeMod=function(){function _r(_t){if(this.attributeInfos=[],_t)for(var _o=Object.keys(_t),yl=0;yl<_o.length;++yl)_t[_o[yl]]!=null&&(this[_o[yl]]=_t[_o[yl]])}return _r.prototype.seq=I.Long?I.Long.fromBits(0,0,!0):0,_r.prototype.group="",_r.prototype.broadcast=!1,_r.prototype.attributeInfos=I.emptyArray,_r.encode=function(_t,_o){if(_o||(_o=ta.create()),_t.seq!=null&&Object.hasOwnProperty.call(_t,"seq")&&_o.uint32(8).uint64(_t.seq),_t.group!=null&&Object.hasOwnProperty.call(_t,"group")&&_o.uint32(18).string(_t.group),_t.broadcast!=null&&Object.hasOwnProperty.call(_t,"broadcast")&&_o.uint32(24).bool(_t.broadcast),_t.attributeInfos!=null&&_t.attributeInfos.length)for(var yl=0;yl<_t.attributeInfos.length;++yl)Q.GroupAttributeMod.AttributeInfo.encode(_t.attributeInfos[yl],_o.uint32(34).fork()).ldelim();return _o},_r.decode=function(_t,_o){_t instanceof T||(_t=T.create(_t)),_o=_o===void 0?_t.len:_t.pos+_o;for(var yl=new Q.GroupAttributeMod;_t.pos<_o;){var El=_t.uint32();switch(El>>>3){case 1:yl.seq=_t.uint64();break;case 2:yl.group=_t.string();break;case 3:yl.broadcast=_t.bool();break;case 4:yl.attributeInfos&&yl.attributeInfos.length||(yl.attributeInfos=[]),yl.attributeInfos.push(Q.GroupAttributeMod.AttributeInfo.decode(_t,_t.uint32()));break;default:_t.skipType(7&El)}}return yl},_r.AttributeInfo=function(){function _t(_o){if(_o)for(var yl=Object.keys(_o),El=0;El<yl.length;++El)_o[yl[El]]!=null&&(this[yl[El]]=_o[yl[El]])}return _t.prototype.key="",_t.prototype.value="",_t.encode=function(_o,yl){return yl||(yl=ta.create()),_o.key!=null&&Object.hasOwnProperty.call(_o,"key")&&yl.uint32(10).string(_o.key),_o.value!=null&&Object.hasOwnProperty.call(_o,"value")&&yl.uint32(18).string(_o.value),yl},_t.decode=function(_o,yl){_o instanceof T||(_o=T.create(_o)),yl=yl===void 0?_o.len:_o.pos+yl;for(var El=new Q.GroupAttributeMod.AttributeInfo;_o.pos<yl;){var _l=_o.uint32();switch(_l>>>3){case 1:El.key=_o.string();break;case 2:El.value=_o.string();break;default:_o.skipType(7&_l)}}return El},_t}(),_r}(),SJ=Q.GroupAttributeDel=function(){function _r(_t){if(this.attributes=[],_t)for(var _o=Object.keys(_t),yl=0;yl<_o.length;++yl)_t[_o[yl]]!=null&&(this[_o[yl]]=_t[_o[yl]])}return _r.prototype.seq=I.Long?I.Long.fromBits(0,0,!0):0,_r.prototype.group="",_r.prototype.broadcast=!1,_r.prototype.attributes=I.emptyArray,_r.encode=function(_t,_o){if(_o||(_o=ta.create()),_t.seq!=null&&Object.hasOwnProperty.call(_t,"seq")&&_o.uint32(8).uint64(_t.seq),_t.group!=null&&Object.hasOwnProperty.call(_t,"group")&&_o.uint32(18).string(_t.group),_t.broadcast!=null&&Object.hasOwnProperty.call(_t,"broadcast")&&_o.uint32(24).bool(_t.broadcast),_t.attributes!=null&&_t.attributes.length)for(var yl=0;yl<_t.attributes.length;++yl)_o.uint32(34).string(_t.attributes[yl]);return _o},_r.decode=function(_t,_o){_t instanceof T||(_t=T.create(_t)),_o=_o===void 0?_t.len:_t.pos+_o;for(var yl=new Q.GroupAttributeDel;_t.pos<_o;){var El=_t.uint32();switch(El>>>3){case 1:yl.seq=_t.uint64();break;case 2:yl.group=_t.string();break;case 3:yl.broadcast=_t.bool();break;case 4:yl.attributes&&yl.attributes.length||(yl.attributes=[]),yl.attributes.push(_t.string());break;default:_t.skipType(7&El)}}return yl},_r}(),TJ=Q.GroupAttributeAlt=function(){function _r(_t){if(this.attributeMaps=[],_t)for(var _o=Object.keys(_t),yl=0;yl<_o.length;++yl)_t[_o[yl]]!=null&&(this[_o[yl]]=_t[_o[yl]])}return _r.prototype.seq=I.Long?I.Long.fromBits(0,0,!0):0,_r.prototype.group="",_r.prototype.instance=I.Long?I.Long.fromBits(0,0,!0):0,_r.prototype.attributeMaps=I.emptyArray,_r.encode=function(_t,_o){if(_o||(_o=ta.create()),_t.seq!=null&&Object.hasOwnProperty.call(_t,"seq")&&_o.uint32(8).uint64(_t.seq),_t.group!=null&&Object.hasOwnProperty.call(_t,"group")&&_o.uint32(18).string(_t.group),_t.instance!=null&&Object.hasOwnProperty.call(_t,"instance")&&_o.uint32(24).uint64(_t.instance),_t.attributeMaps!=null&&_t.attributeMaps.length)for(var yl=0;yl<_t.attributeMaps.length;++yl)Q.GroupAttributeAlt.AttributeMap.encode(_t.attributeMaps[yl],_o.uint32(34).fork()).ldelim();return _o},_r.decode=function(_t,_o){_t instanceof T||(_t=T.create(_t)),_o=_o===void 0?_t.len:_t.pos+_o;for(var yl=new Q.GroupAttributeAlt;_t.pos<_o;){var El=_t.uint32();switch(El>>>3){case 1:yl.seq=_t.uint64();break;case 2:yl.group=_t.string();break;case 3:yl.instance=_t.uint64();break;case 4:yl.attributeMaps&&yl.attributeMaps.length||(yl.attributeMaps=[]),yl.attributeMaps.push(Q.GroupAttributeAlt.AttributeMap.decode(_t,_t.uint32()));break;default:_t.skipType(7&El)}}return yl},_r.AttributeMap=function(){function _t(_o){if(_o)for(var yl=Object.keys(_o),El=0;El<yl.length;++El)_o[yl[El]]!=null&&(this[yl[El]]=_o[yl[El]])}return _t.prototype.key="",_t.prototype.value="",_t.prototype.origin="",_t.prototype.ms=I.Long?I.Long.fromBits(0,0,!0):0,_t.encode=function(_o,yl){return yl||(yl=ta.create()),_o.key!=null&&Object.hasOwnProperty.call(_o,"key")&&yl.uint32(10).string(_o.key),_o.value!=null&&Object.hasOwnProperty.call(_o,"value")&&yl.uint32(18).string(_o.value),_o.origin!=null&&Object.hasOwnProperty.call(_o,"origin")&&yl.uint32(26).string(_o.origin),_o.ms!=null&&Object.hasOwnProperty.call(_o,"ms")&&yl.uint32(32).uint64(_o.ms),yl},_t.decode=function(_o,yl){_o instanceof T||(_o=T.create(_o)),yl=yl===void 0?_o.len:_o.pos+yl;for(var El=new Q.GroupAttributeAlt.AttributeMap;_o.pos<yl;){var _l=_o.uint32();switch(_l>>>3){case 1:El.key=_o.string();break;case 2:El.value=_o.string();break;case 3:El.origin=_o.string();break;case 4:El.ms=_o.uint64();break;default:_o.skipType(7&_l)}}return El},_t}(),_r}(),UJ=Q.GroupAttributeRsp=function(){function _r(_t){if(_t)for(var _o=Object.keys(_t),yl=0;yl<_o.length;++yl)_t[_o[yl]]!=null&&(this[_o[yl]]=_t[_o[yl]])}return _r.prototype.seq=I.Long?I.Long.fromBits(0,0,!0):0,_r.encode=function(_t,_o){return _o||(_o=ta.create()),_t.seq!=null&&Object.hasOwnProperty.call(_t,"seq")&&_o.uint32(8).uint64(_t.seq),_o},_r.decode=function(_t,_o){_t instanceof T||(_t=T.create(_t)),_o=_o===void 0?_t.len:_t.pos+_o;for(var yl=new Q.GroupAttributeRsp;_t.pos<_o;){var El=_t.uint32();switch(El>>>3){case 1:yl.seq=_t.uint64();break;default:_t.skipType(7&El)}}return yl},_r}(),VJ=Q.GroupAttributeErr=function(){function _r(_t){if(_t)for(var _o=Object.keys(_t),yl=0;yl<_o.length;++yl)_t[_o[yl]]!=null&&(this[_o[yl]]=_t[_o[yl]])}return _r.prototype.seq=I.Long?I.Long.fromBits(0,0,!0):0,_r.prototype.code=0,_r.encode=function(_t,_o){return _o||(_o=ta.create()),_t.seq!=null&&Object.hasOwnProperty.call(_t,"seq")&&_o.uint32(8).uint64(_t.seq),_t.code!=null&&Object.hasOwnProperty.call(_t,"code")&&_o.uint32(16).uint32(_t.code),_o},_r.decode=function(_t,_o){_t instanceof T||(_t=T.create(_t)),_o=_o===void 0?_t.len:_t.pos+_o;for(var yl=new Q.GroupAttributeErr;_t.pos<_o;){var El=_t.uint32();switch(El>>>3){case 1:yl.seq=_t.uint64();break;case 2:yl.code=_t.uint32();break;default:_t.skipType(7&El)}}return yl},_r}(),WJ=Q.GroupAttributeKeysGet=function(){function _r(_t){if(_t)for(var _o=Object.keys(_t),yl=0;yl<_o.length;++yl)_t[_o[yl]]!=null&&(this[_o[yl]]=_t[_o[yl]])}return _r.prototype.seq=I.Long?I.Long.fromBits(0,0,!0):0,_r.prototype.group="",_r.encode=function(_t,_o){return _o||(_o=ta.create()),_t.seq!=null&&Object.hasOwnProperty.call(_t,"seq")&&_o.uint32(8).uint64(_t.seq),_t.group!=null&&Object.hasOwnProperty.call(_t,"group")&&_o.uint32(18).string(_t.group),_o},_r.decode=function(_t,_o){_t instanceof T||(_t=T.create(_t)),_o=_o===void 0?_t.len:_t.pos+_o;for(var yl=new Q.GroupAttributeKeysGet;_t.pos<_o;){var El=_t.uint32();switch(El>>>3){case 1:yl.seq=_t.uint64();break;case 2:yl.group=_t.string();break;default:_t.skipType(7&El)}}return yl},_r}(),XJ=Q.GroupAttributeKeysRet=function(){function _r(_t){if(this.keys=[],_t)for(var _o=Object.keys(_t),yl=0;yl<_o.length;++yl)_t[_o[yl]]!=null&&(this[_o[yl]]=_t[_o[yl]])}return _r.prototype.seq=I.Long?I.Long.fromBits(0,0,!0):0,_r.prototype.keys=I.emptyArray,_r.encode=function(_t,_o){if(_o||(_o=ta.create()),_t.seq!=null&&Object.hasOwnProperty.call(_t,"seq")&&_o.uint32(8).uint64(_t.seq),_t.keys!=null&&_t.keys.length)for(var yl=0;yl<_t.keys.length;++yl)_o.uint32(18).string(_t.keys[yl]);return _o},_r.decode=function(_t,_o){_t instanceof T||(_t=T.create(_t)),_o=_o===void 0?_t.len:_t.pos+_o;for(var yl=new Q.GroupAttributeKeysRet;_t.pos<_o;){var El=_t.uint32();switch(El>>>3){case 1:yl.seq=_t.uint64();break;case 2:yl.keys&&yl.keys.length||(yl.keys=[]),yl.keys.push(_t.string());break;default:_t.skipType(7&El)}}return yl},_r}(),YJ=Q.SubscribeUserStatus=function(){function _r(_t){if(this.users=[],_t)for(var _o=Object.keys(_t),yl=0;yl<_o.length;++yl)_t[_o[yl]]!=null&&(this[_o[yl]]=_t[_o[yl]])}return _r.prototype.seq=I.Long?I.Long.fromBits(0,0,!0):0,_r.prototype.users=I.emptyArray,_r.encode=function(_t,_o){if(_o||(_o=ta.create()),_t.seq!=null&&Object.hasOwnProperty.call(_t,"seq")&&_o.uint32(8).uint64(_t.seq),_t.users!=null&&_t.users.length)for(var yl=0;yl<_t.users.length;++yl)_o.uint32(18).string(_t.users[yl]);return _o},_r.decode=function(_t,_o){_t instanceof T||(_t=T.create(_t)),_o=_o===void 0?_t.len:_t.pos+_o;for(var yl=new Q.SubscribeUserStatus;_t.pos<_o;){var El=_t.uint32();switch(El>>>3){case 1:yl.seq=_t.uint64();break;case 2:yl.users&&yl.users.length||(yl.users=[]),yl.users.push(_t.string());break;default:_t.skipType(7&El)}}return yl},_r}(),ZJ=Q.UnsubscribeUserStatus=function(){function _r(_t){if(this.users=[],_t)for(var _o=Object.keys(_t),yl=0;yl<_o.length;++yl)_t[_o[yl]]!=null&&(this[_o[yl]]=_t[_o[yl]])}return _r.prototype.seq=I.Long?I.Long.fromBits(0,0,!0):0,_r.prototype.users=I.emptyArray,_r.encode=function(_t,_o){if(_o||(_o=ta.create()),_t.seq!=null&&Object.hasOwnProperty.call(_t,"seq")&&_o.uint32(8).uint64(_t.seq),_t.users!=null&&_t.users.length)for(var yl=0;yl<_t.users.length;++yl)_o.uint32(18).string(_t.users[yl]);return _o},_r.decode=function(_t,_o){_t instanceof T||(_t=T.create(_t)),_o=_o===void 0?_t.len:_t.pos+_o;for(var yl=new Q.UnsubscribeUserStatus;_t.pos<_o;){var El=_t.uint32();switch(El>>>3){case 1:yl.seq=_t.uint64();break;case 2:yl.users&&yl.users.length||(yl.users=[]),yl.users.push(_t.string());break;default:_t.skipType(7&El)}}return yl},_r}(),$J=Q.UserJoinNotice=function(){function _r(_t){if(_t)for(var _o=Object.keys(_t),yl=0;yl<_o.length;++yl)_t[_o[yl]]!=null&&(this[_o[yl]]=_t[_o[yl]])}return _r.prototype.instance=I.Long?I.Long.fromBits(0,0,!0):0,_r.prototype.seq=I.Long?I.Long.fromBits(0,0,!0):0,_r.prototype.user="",_r.encode=function(_t,_o){return _o||(_o=ta.create()),_t.instance!=null&&Object.hasOwnProperty.call(_t,"instance")&&_o.uint32(8).uint64(_t.instance),_t.seq!=null&&Object.hasOwnProperty.call(_t,"seq")&&_o.uint32(16).uint64(_t.seq),_t.user!=null&&Object.hasOwnProperty.call(_t,"user")&&_o.uint32(26).string(_t.user),_o},_r.decode=function(_t,_o){_t instanceof T||(_t=T.create(_t)),_o=_o===void 0?_t.len:_t.pos+_o;for(var yl=new Q.UserJoinNotice;_t.pos<_o;){var El=_t.uint32();switch(El>>>3){case 1:yl.instance=_t.uint64();break;case 2:yl.seq=_t.uint64();break;case 3:yl.user=_t.string();break;default:_t.skipType(7&El)}}return yl},_r}(),aK=Q.UserQuitNotice=function(){function _r(_t){if(_t)for(var _o=Object.keys(_t),yl=0;yl<_o.length;++yl)_t[_o[yl]]!=null&&(this[_o[yl]]=_t[_o[yl]])}return _r.prototype.instance=I.Long?I.Long.fromBits(0,0,!0):0,_r.prototype.seq=I.Long?I.Long.fromBits(0,0,!0):0,_r.prototype.user="",_r.encode=function(_t,_o){return _o||(_o=ta.create()),_t.instance!=null&&Object.hasOwnProperty.call(_t,"instance")&&_o.uint32(8).uint64(_t.instance),_t.seq!=null&&Object.hasOwnProperty.call(_t,"seq")&&_o.uint32(16).uint64(_t.seq),_t.user!=null&&Object.hasOwnProperty.call(_t,"user")&&_o.uint32(26).string(_t.user),_o},_r.decode=function(_t,_o){_t instanceof T||(_t=T.create(_t)),_o=_o===void 0?_t.len:_t.pos+_o;for(var yl=new Q.UserQuitNotice;_t.pos<_o;){var El=_t.uint32();switch(El>>>3){case 1:yl.instance=_t.uint64();break;case 2:yl.seq=_t.uint64();break;case 3:yl.user=_t.string();break;default:_t.skipType(7&El)}}return yl},_r}(),bK=Q.UserWaitNotice=function(){function _r(_t){if(_t)for(var _o=Object.keys(_t),yl=0;yl<_o.length;++yl)_t[_o[yl]]!=null&&(this[_o[yl]]=_t[_o[yl]])}return _r.prototype.instance=I.Long?I.Long.fromBits(0,0,!0):0,_r.prototype.seq=I.Long?I.Long.fromBits(0,0,!0):0,_r.prototype.user="",_r.encode=function(_t,_o){return _o||(_o=ta.create()),_t.instance!=null&&Object.hasOwnProperty.call(_t,"instance")&&_o.uint32(8).uint64(_t.instance),_t.seq!=null&&Object.hasOwnProperty.call(_t,"seq")&&_o.uint32(16).uint64(_t.seq),_t.user!=null&&Object.hasOwnProperty.call(_t,"user")&&_o.uint32(26).string(_t.user),_o},_r.decode=function(_t,_o){_t instanceof T||(_t=T.create(_t)),_o=_o===void 0?_t.len:_t.pos+_o;for(var yl=new Q.UserWaitNotice;_t.pos<_o;){var El=_t.uint32();switch(El>>>3){case 1:yl.instance=_t.uint64();break;case 2:yl.seq=_t.uint64();break;case 3:yl.user=_t.string();break;default:_t.skipType(7&El)}}return yl},_r}(),cK=Q.StateSubscribe=function(){function _r(_t){if(_t)for(var _o=Object.keys(_t),yl=0;yl<_o.length;++yl)_t[_o[yl]]!=null&&(this[_o[yl]]=_t[_o[yl]])}return _r.prototype.target="",_r.prototype.subTarget="",_r.prototype.sequence=I.Long?I.Long.fromBits(0,0,!0):0,_r.prototype.flags=I.Long?I.Long.fromBits(0,0,!0):0,_r.encode=function(_t,_o){return _o||(_o=ta.create()),_t.target!=null&&Object.hasOwnProperty.call(_t,"target")&&_o.uint32(10).string(_t.target),_t.subTarget!=null&&Object.hasOwnProperty.call(_t,"subTarget")&&_o.uint32(18).string(_t.subTarget),_t.sequence!=null&&Object.hasOwnProperty.call(_t,"sequence")&&_o.uint32(24).uint64(_t.sequence),_t.flags!=null&&Object.hasOwnProperty.call(_t,"flags")&&_o.uint32(32).uint64(_t.flags),_o},_r.decode=function(_t,_o){_t instanceof T||(_t=T.create(_t)),_o=_o===void 0?_t.len:_t.pos+_o;for(var yl=new Q.StateSubscribe;_t.pos<_o;){var El=_t.uint32();switch(El>>>3){case 1:yl.target=_t.string();break;case 2:yl.subTarget=_t.string();break;case 3:yl.sequence=_t.uint64();break;case 4:yl.flags=_t.uint64();break;default:_t.skipType(7&El)}}return yl},_r}(),dK=Q.StateUpdate=function(){function _r(_t){if(_t)for(var _o=Object.keys(_t),yl=0;yl<_o.length;++yl)_t[_o[yl]]!=null&&(this[_o[yl]]=_t[_o[yl]])}return _r.prototype.target="",_r.prototype.subTarget="",_r.prototype.allStates="",_r.prototype.flags=I.Long?I.Long.fromBits(0,0,!0):0,_r.encode=function(_t,_o){return _o||(_o=ta.create()),_t.target!=null&&Object.hasOwnProperty.call(_t,"target")&&_o.uint32(10).string(_t.target),_t.subTarget!=null&&Object.hasOwnProperty.call(_t,"subTarget")&&_o.uint32(18).string(_t.subTarget),_t.allStates!=null&&Object.hasOwnProperty.call(_t,"allStates")&&_o.uint32(26).string(_t.allStates),_t.flags!=null&&Object.hasOwnProperty.call(_t,"flags")&&_o.uint32(32).uint64(_t.flags),_o},_r.decode=function(_t,_o){_t instanceof T||(_t=T.create(_t)),_o=_o===void 0?_t.len:_t.pos+_o;for(var yl=new Q.StateUpdate;_t.pos<_o;){var El=_t.uint32();switch(El>>>3){case 1:yl.target=_t.string();break;case 2:yl.subTarget=_t.string();break;case 3:yl.allStates=_t.string();break;case 4:yl.flags=_t.uint64();break;default:_t.skipType(7&El)}}return yl},_r}(),eK=Q.StateSubscribeResult=function(){function _r(_t){if(_t)for(var _o=Object.keys(_t),yl=0;yl<_o.length;++yl)_t[_o[yl]]!=null&&(this[_o[yl]]=_t[_o[yl]])}return _r.prototype.target="",_r.prototype.subTarget="",_r.prototype.sequence=I.Long?I.Long.fromBits(0,0,!0):0,_r.prototype.flags=I.Long?I.Long.fromBits(0,0,!0):0,_r.prototype.code=0,_r.encode=function(_t,_o){return _o||(_o=ta.create()),_t.target!=null&&Object.hasOwnProperty.call(_t,"target")&&_o.uint32(10).string(_t.target),_t.subTarget!=null&&Object.hasOwnProperty.call(_t,"subTarget")&&_o.uint32(18).string(_t.subTarget),_t.sequence!=null&&Object.hasOwnProperty.call(_t,"sequence")&&_o.uint32(24).uint64(_t.sequence),_t.flags!=null&&Object.hasOwnProperty.call(_t,"flags")&&_o.uint32(32).uint64(_t.flags),_t.code!=null&&Object.hasOwnProperty.call(_t,"code")&&_o.uint32(40).uint32(_t.code),_o},_r.decode=function(_t,_o){_t instanceof T||(_t=T.create(_t)),_o=_o===void 0?_t.len:_t.pos+_o;for(var yl=new Q.StateSubscribeResult;_t.pos<_o;){var El=_t.uint32();switch(El>>>3){case 1:yl.target=_t.string();break;case 2:yl.subTarget=_t.string();break;case 3:yl.sequence=_t.uint64();break;case 4:yl.flags=_t.uint64();break;case 5:yl.code=_t.uint32();break;default:_t.skipType(7&El)}}return yl},_r}(),fK=Q.StateUnsubscribe=function(){function _r(_t){if(_t)for(var _o=Object.keys(_t),yl=0;yl<_o.length;++yl)_t[_o[yl]]!=null&&(this[_o[yl]]=_t[_o[yl]])}return _r.prototype.target="",_r.prototype.subTarget="",_r.prototype.sequence=I.Long?I.Long.fromBits(0,0,!0):0,_r.prototype.flags=I.Long?I.Long.fromBits(0,0,!0):0,_r.encode=function(_t,_o){return _o||(_o=ta.create()),_t.target!=null&&Object.hasOwnProperty.call(_t,"target")&&_o.uint32(10).string(_t.target),_t.subTarget!=null&&Object.hasOwnProperty.call(_t,"subTarget")&&_o.uint32(18).string(_t.subTarget),_t.sequence!=null&&Object.hasOwnProperty.call(_t,"sequence")&&_o.uint32(24).uint64(_t.sequence),_t.flags!=null&&Object.hasOwnProperty.call(_t,"flags")&&_o.uint32(32).uint64(_t.flags),_o},_r.decode=function(_t,_o){_t instanceof T||(_t=T.create(_t)),_o=_o===void 0?_t.len:_t.pos+_o;for(var yl=new Q.StateUnsubscribe;_t.pos<_o;){var El=_t.uint32();switch(El>>>3){case 1:yl.target=_t.string();break;case 2:yl.subTarget=_t.string();break;case 3:yl.sequence=_t.uint64();break;case 4:yl.flags=_t.uint64();break;default:_t.skipType(7&El)}}return yl},_r}(),gK=Q.StateSet=function(){function _r(_t){if(_t)for(var _o=Object.keys(_t),yl=0;yl<_o.length;++yl)_t[_o[yl]]!=null&&(this[_o[yl]]=_t[_o[yl]])}return _r.prototype.target="",_r.prototype.author="",_r.prototype.value="",_r.prototype.lock="",_r.prototype.requestUuid="",_r.prototype.sequence=I.Long?I.Long.fromBits(0,0,!0):0,_r.prototype.flags=I.Long?I.Long.fromBits(0,0,!0):0,_r.prototype.baseRevision=I.Long?I.Long.fromBits(0,0,!0):0,_r.prototype.lockRev=I.Long?I.Long.fromBits(0,0,!0):0,_r.encode=function(_t,_o){return _o||(_o=ta.create()),_t.target!=null&&Object.hasOwnProperty.call(_t,"target")&&_o.uint32(10).string(_t.target),_t.author!=null&&Object.hasOwnProperty.call(_t,"author")&&_o.uint32(18).string(_t.author),_t.value!=null&&Object.hasOwnProperty.call(_t,"value")&&_o.uint32(26).string(_t.value),_t.lock!=null&&Object.hasOwnProperty.call(_t,"lock")&&_o.uint32(34).string(_t.lock),_t.requestUuid!=null&&Object.hasOwnProperty.call(_t,"requestUuid")&&_o.uint32(42).string(_t.requestUuid),_t.sequence!=null&&Object.hasOwnProperty.call(_t,"sequence")&&_o.uint32(48).uint64(_t.sequence),_t.flags!=null&&Object.hasOwnProperty.call(_t,"flags")&&_o.uint32(56).uint64(_t.flags),_t.baseRevision!=null&&Object.hasOwnProperty.call(_t,"baseRevision")&&_o.uint32(64).uint64(_t.baseRevision),_t.lockRev!=null&&Object.hasOwnProperty.call(_t,"lockRev")&&_o.uint32(72).uint64(_t.lockRev),_o},_r.decode=function(_t,_o){_t instanceof T||(_t=T.create(_t)),_o=_o===void 0?_t.len:_t.pos+_o;for(var yl=new Q.StateSet;_t.pos<_o;){var El=_t.uint32();switch(El>>>3){case 1:yl.target=_t.string();break;case 2:yl.author=_t.string();break;case 3:yl.value=_t.string();break;case 4:yl.lock=_t.string();break;case 5:yl.requestUuid=_t.string();break;case 6:yl.sequence=_t.uint64();break;case 7:yl.flags=_t.uint64();break;case 8:yl.baseRevision=_t.uint64();break;case 9:yl.lockRev=_t.uint64();break;default:_t.skipType(7&El)}}return yl},_r}(),hK=Q.StateModify=function(){function _r(_t){if(_t)for(var _o=Object.keys(_t),yl=0;yl<_o.length;++yl)_t[_o[yl]]!=null&&(this[_o[yl]]=_t[_o[yl]])}return _r.prototype.target="",_r.prototype.author="",_r.prototype.value="",_r.prototype.lock="",_r.prototype.requestUuid="",_r.prototype.sequence=I.Long?I.Long.fromBits(0,0,!0):0,_r.prototype.flags=I.Long?I.Long.fromBits(0,0,!0):0,_r.prototype.baseRevision=I.Long?I.Long.fromBits(0,0,!0):0,_r.prototype.lockRev=I.Long?I.Long.fromBits(0,0,!0):0,_r.encode=function(_t,_o){return _o||(_o=ta.create()),_t.target!=null&&Object.hasOwnProperty.call(_t,"target")&&_o.uint32(10).string(_t.target),_t.author!=null&&Object.hasOwnProperty.call(_t,"author")&&_o.uint32(18).string(_t.author),_t.value!=null&&Object.hasOwnProperty.call(_t,"value")&&_o.uint32(26).string(_t.value),_t.lock!=null&&Object.hasOwnProperty.call(_t,"lock")&&_o.uint32(34).string(_t.lock),_t.requestUuid!=null&&Object.hasOwnProperty.call(_t,"requestUuid")&&_o.uint32(42).string(_t.requestUuid),_t.sequence!=null&&Object.hasOwnProperty.call(_t,"sequence")&&_o.uint32(48).uint64(_t.sequence),_t.flags!=null&&Object.hasOwnProperty.call(_t,"flags")&&_o.uint32(56).uint64(_t.flags),_t.baseRevision!=null&&Object.hasOwnProperty.call(_t,"baseRevision")&&_o.uint32(64).uint64(_t.baseRevision),_t.lockRev!=null&&Object.hasOwnProperty.call(_t,"lockRev")&&_o.uint32(72).uint64(_t.lockRev),_o},_r.decode=function(_t,_o){_t instanceof T||(_t=T.create(_t)),_o=_o===void 0?_t.len:_t.pos+_o;for(var yl=new Q.StateModify;_t.pos<_o;){var El=_t.uint32();switch(El>>>3){case 1:yl.target=_t.string();break;case 2:yl.author=_t.string();break;case 3:yl.value=_t.string();break;case 4:yl.lock=_t.string();break;case 5:yl.requestUuid=_t.string();break;case 6:yl.sequence=_t.uint64();break;case 7:yl.flags=_t.uint64();break;case 8:yl.baseRevision=_t.uint64();break;case 9:yl.lockRev=_t.uint64();break;default:_t.skipType(7&El)}}return yl},_r}(),iK=Q.StateRequestResult=function(){function _r(_t){if(_t)for(var _o=Object.keys(_t),yl=0;yl<_o.length;++yl)_t[_o[yl]]!=null&&(this[_o[yl]]=_t[_o[yl]])}return _r.prototype.requestUuid="",_r.prototype.sequence=I.Long?I.Long.fromBits(0,0,!0):0,_r.prototype.code=0,_r.encode=function(_t,_o){return _o||(_o=ta.create()),_t.requestUuid!=null&&Object.hasOwnProperty.call(_t,"requestUuid")&&_o.uint32(10).string(_t.requestUuid),_t.sequence!=null&&Object.hasOwnProperty.call(_t,"sequence")&&_o.uint32(16).uint64(_t.sequence),_t.code!=null&&Object.hasOwnProperty.call(_t,"code")&&_o.uint32(24).uint32(_t.code),_o},_r.decode=function(_t,_o){_t instanceof T||(_t=T.create(_t)),_o=_o===void 0?_t.len:_t.pos+_o;for(var yl=new Q.StateRequestResult;_t.pos<_o;){var El=_t.uint32();switch(El>>>3){case 1:yl.requestUuid=_t.string();break;case 2:yl.sequence=_t.uint64();break;case 3:yl.code=_t.uint32();break;default:_t.skipType(7&El)}}return yl},_r}(),jK=Q.StateGet=function(){function _r(_t){if(_t)for(var _o=Object.keys(_t),yl=0;yl<_o.length;++yl)_t[_o[yl]]!=null&&(this[_o[yl]]=_t[_o[yl]])}return _r.prototype.target="",_r.prototype.subTarget="",_r.prototype.lock="",_r.prototype.sequence=I.Long?I.Long.fromBits(0,0,!0):0,_r.prototype.flags=I.Long?I.Long.fromBits(0,0,!0):0,_r.prototype.lockRev=I.Long?I.Long.fromBits(0,0,!0):0,_r.encode=function(_t,_o){return _o||(_o=ta.create()),_t.target!=null&&Object.hasOwnProperty.call(_t,"target")&&_o.uint32(10).string(_t.target),_t.subTarget!=null&&Object.hasOwnProperty.call(_t,"subTarget")&&_o.uint32(18).string(_t.subTarget),_t.lock!=null&&Object.hasOwnProperty.call(_t,"lock")&&_o.uint32(26).string(_t.lock),_t.sequence!=null&&Object.hasOwnProperty.call(_t,"sequence")&&_o.uint32(32).uint64(_t.sequence),_t.flags!=null&&Object.hasOwnProperty.call(_t,"flags")&&_o.uint32(40).uint64(_t.flags),_t.lockRev!=null&&Object.hasOwnProperty.call(_t,"lockRev")&&_o.uint32(48).uint64(_t.lockRev),_o},_r.decode=function(_t,_o){_t instanceof T||(_t=T.create(_t)),_o=_o===void 0?_t.len:_t.pos+_o;for(var yl=new Q.StateGet;_t.pos<_o;){var El=_t.uint32();switch(El>>>3){case 1:yl.target=_t.string();break;case 2:yl.subTarget=_t.string();break;case 3:yl.lock=_t.string();break;case 4:yl.sequence=_t.uint64();break;case 5:yl.flags=_t.uint64();break;case 6:yl.lockRev=_t.uint64();break;default:_t.skipType(7&El)}}return yl},_r}(),kK=Q.StateGetResult=function(){function _r(_t){if(_t)for(var _o=Object.keys(_t),yl=0;yl<_o.length;++yl)_t[_o[yl]]!=null&&(this[_o[yl]]=_t[_o[yl]])}return _r.prototype.target="",_r.prototype.subTarget="",_r.prototype.allStates="",_r.prototype.sequence=I.Long?I.Long.fromBits(0,0,!0):0,_r.prototype.flags=I.Long?I.Long.fromBits(0,0,!0):0,_r.prototype.code=0,_r.encode=function(_t,_o){return _o||(_o=ta.create()),_t.target!=null&&Object.hasOwnProperty.call(_t,"target")&&_o.uint32(10).string(_t.target),_t.subTarget!=null&&Object.hasOwnProperty.call(_t,"subTarget")&&_o.uint32(18).string(_t.subTarget),_t.allStates!=null&&Object.hasOwnProperty.call(_t,"allStates")&&_o.uint32(26).string(_t.allStates),_t.sequence!=null&&Object.hasOwnProperty.call(_t,"sequence")&&_o.uint32(32).uint64(_t.sequence),_t.flags!=null&&Object.hasOwnProperty.call(_t,"flags")&&_o.uint32(40).uint64(_t.flags),_t.code!=null&&Object.hasOwnProperty.call(_t,"code")&&_o.uint32(48).uint32(_t.code),_o},_r.decode=function(_t,_o){_t instanceof T||(_t=T.create(_t)),_o=_o===void 0?_t.len:_t.pos+_o;for(var yl=new Q.StateGetResult;_t.pos<_o;){var El=_t.uint32();switch(El>>>3){case 1:yl.target=_t.string();break;case 2:yl.subTarget=_t.string();break;case 3:yl.allStates=_t.string();break;case 4:yl.sequence=_t.uint64();break;case 5:yl.flags=_t.uint64();break;case 6:yl.code=_t.uint32();break;default:_t.skipType(7&El)}}return yl},_r}(),lK=Q.StateLockAcquire=function(){function _r(_t){if(_t)for(var _o=Object.keys(_t),yl=0;yl<_o.length;++yl)_t[_o[yl]]!=null&&(this[_o[yl]]=_t[_o[yl]])}return _r.prototype.target="",_r.prototype.lock="",_r.prototype.requestUuid="",_r.prototype.flags=I.Long?I.Long.fromBits(0,0,!0):0,_r.prototype.ttl=I.Long?I.Long.fromBits(0,0,!0):0,_r.encode=function(_t,_o){return _o||(_o=ta.create()),_t.target!=null&&Object.hasOwnProperty.call(_t,"target")&&_o.uint32(10).string(_t.target),_t.lock!=null&&Object.hasOwnProperty.call(_t,"lock")&&_o.uint32(18).string(_t.lock),_t.requestUuid!=null&&Object.hasOwnProperty.call(_t,"requestUuid")&&_o.uint32(26).string(_t.requestUuid),_t.flags!=null&&Object.hasOwnProperty.call(_t,"flags")&&_o.uint32(32).uint64(_t.flags),_t.ttl!=null&&Object.hasOwnProperty.call(_t,"ttl")&&_o.uint32(40).uint64(_t.ttl),_o},_r.decode=function(_t,_o){_t instanceof T||(_t=T.create(_t)),_o=_o===void 0?_t.len:_t.pos+_o;for(var yl=new Q.StateLockAcquire;_t.pos<_o;){var El=_t.uint32();switch(El>>>3){case 1:yl.target=_t.string();break;case 2:yl.lock=_t.string();break;case 3:yl.requestUuid=_t.string();break;case 4:yl.flags=_t.uint64();break;case 5:yl.ttl=_t.uint64();break;default:_t.skipType(7&El)}}return yl},_r}(),mK=Q.StateLockRelease=function(){function _r(_t){if(_t)for(var _o=Object.keys(_t),yl=0;yl<_o.length;++yl)_t[_o[yl]]!=null&&(this[_o[yl]]=_t[_o[yl]])}return _r.prototype.target="",_r.prototype.lock="",_r.prototype.requestUuid="",_r.prototype.flags=I.Long?I.Long.fromBits(0,0,!0):0,_r.encode=function(_t,_o){return _o||(_o=ta.create()),_t.target!=null&&Object.hasOwnProperty.call(_t,"target")&&_o.uint32(10).string(_t.target),_t.lock!=null&&Object.hasOwnProperty.call(_t,"lock")&&_o.uint32(18).string(_t.lock),_t.requestUuid!=null&&Object.hasOwnProperty.call(_t,"requestUuid")&&_o.uint32(26).string(_t.requestUuid),_t.flags!=null&&Object.hasOwnProperty.call(_t,"flags")&&_o.uint32(32).uint64(_t.flags),_o},_r.decode=function(_t,_o){_t instanceof T||(_t=T.create(_t)),_o=_o===void 0?_t.len:_t.pos+_o;for(var yl=new Q.StateLockRelease;_t.pos<_o;){var El=_t.uint32();switch(El>>>3){case 1:yl.target=_t.string();break;case 2:yl.lock=_t.string();break;case 3:yl.requestUuid=_t.string();break;case 4:yl.flags=_t.uint64();break;default:_t.skipType(7&El)}}return yl},_r}(),nK=Q.StateLockAcquireResult=function(){function _r(_t){if(_t)for(var _o=Object.keys(_t),yl=0;yl<_o.length;++yl)_t[_o[yl]]!=null&&(this[_o[yl]]=_t[_o[yl]])}return _r.prototype.target="",_r.prototype.lock="",_r.prototype.requestUuid="",_r.prototype.flags=I.Long?I.Long.fromBits(0,0,!0):0,_r.prototype.lockRev=I.Long?I.Long.fromBits(0,0,!0):0,_r.prototype.code=0,_r.prototype.reason="",_r.encode=function(_t,_o){return _o||(_o=ta.create()),_t.target!=null&&Object.hasOwnProperty.call(_t,"target")&&_o.uint32(10).string(_t.target),_t.lock!=null&&Object.hasOwnProperty.call(_t,"lock")&&_o.uint32(18).string(_t.lock),_t.requestUuid!=null&&Object.hasOwnProperty.call(_t,"requestUuid")&&_o.uint32(26).string(_t.requestUuid),_t.flags!=null&&Object.hasOwnProperty.call(_t,"flags")&&_o.uint32(32).uint64(_t.flags),_t.lockRev!=null&&Object.hasOwnProperty.call(_t,"lockRev")&&_o.uint32(40).uint64(_t.lockRev),_t.code!=null&&Object.hasOwnProperty.call(_t,"code")&&_o.uint32(48).uint32(_t.code),_t.reason!=null&&Object.hasOwnProperty.call(_t,"reason")&&_o.uint32(58).string(_t.reason),_o},_r.decode=function(_t,_o){_t instanceof T||(_t=T.create(_t)),_o=_o===void 0?_t.len:_t.pos+_o;for(var yl=new Q.StateLockAcquireResult;_t.pos<_o;){var El=_t.uint32();switch(El>>>3){case 1:yl.target=_t.string();break;case 2:yl.lock=_t.string();break;case 3:yl.requestUuid=_t.string();break;case 4:yl.flags=_t.uint64();break;case 5:yl.lockRev=_t.uint64();break;case 6:yl.code=_t.uint32();break;case 7:yl.reason=_t.string();break;default:_t.skipType(7&El)}}return yl},_r}(),oK=Q.StateLockUpdate=function(){function _r(_t){if(_t)for(var _o=Object.keys(_t),yl=0;yl<_o.length;++yl)_t[_o[yl]]!=null&&(this[_o[yl]]=_t[_o[yl]])}return _r.prototype.target="",_r.prototype.lock="",_r.prototype.flags=I.Long?I.Long.fromBits(0,0,!0):0,_r.prototype.code=0,_r.encode=function(_t,_o){return _o||(_o=ta.create()),_t.target!=null&&Object.hasOwnProperty.call(_t,"target")&&_o.uint32(10).string(_t.target),_t.lock!=null&&Object.hasOwnProperty.call(_t,"lock")&&_o.uint32(18).string(_t.lock),_t.flags!=null&&Object.hasOwnProperty.call(_t,"flags")&&_o.uint32(24).uint64(_t.flags),_t.code!=null&&Object.hasOwnProperty.call(_t,"code")&&_o.uint32(32).uint32(_t.code),_o},_r.decode=function(_t,_o){_t instanceof T||(_t=T.create(_t)),_o=_o===void 0?_t.len:_t.pos+_o;for(var yl=new Q.StateLockUpdate;_t.pos<_o;){var El=_t.uint32();switch(El>>>3){case 1:yl.target=_t.string();break;case 2:yl.lock=_t.string();break;case 3:yl.flags=_t.uint64();break;case 4:yl.code=_t.uint32();break;default:_t.skipType(7&El)}}return yl},_r}(),pK=Q.StateLockReleaseResult=function(){function _r(_t){if(_t)for(var _o=Object.keys(_t),yl=0;yl<_o.length;++yl)_t[_o[yl]]!=null&&(this[_o[yl]]=_t[_o[yl]])}return _r.prototype.target="",_r.prototype.lock="",_r.prototype.requestUuid="",_r.prototype.flags=I.Long?I.Long.fromBits(0,0,!0):0,_r.prototype.code=0,_r.encode=function(_t,_o){return _o||(_o=ta.create()),_t.target!=null&&Object.hasOwnProperty.call(_t,"target")&&_o.uint32(10).string(_t.target),_t.lock!=null&&Object.hasOwnProperty.call(_t,"lock")&&_o.uint32(18).string(_t.lock),_t.requestUuid!=null&&Object.hasOwnProperty.call(_t,"requestUuid")&&_o.uint32(26).string(_t.requestUuid),_t.flags!=null&&Object.hasOwnProperty.call(_t,"flags")&&_o.uint32(32).uint64(_t.flags),_t.code!=null&&Object.hasOwnProperty.call(_t,"code")&&_o.uint32(40).uint32(_t.code),_o},_r.decode=function(_t,_o){_t instanceof T||(_t=T.create(_t)),_o=_o===void 0?_t.len:_t.pos+_o;for(var yl=new Q.StateLockReleaseResult;_t.pos<_o;){var El=_t.uint32();switch(El>>>3){case 1:yl.target=_t.string();break;case 2:yl.lock=_t.string();break;case 3:yl.requestUuid=_t.string();break;case 4:yl.flags=_t.uint64();break;case 5:yl.code=_t.uint32();break;default:_t.skipType(7&El)}}return yl},_r}(),qK=Q.StateLockDisable=function(){function _r(_t){if(_t)for(var _o=Object.keys(_t),yl=0;yl<_o.length;++yl)_t[_o[yl]]!=null&&(this[_o[yl]]=_t[_o[yl]])}return _r.prototype.target="",_r.prototype.lock="",_r.prototype.userId="",_r.prototype.requestUuid="",_r.prototype.flags=I.Long?I.Long.fromBits(0,0,!0):0,_r.encode=function(_t,_o){return _o||(_o=ta.create()),_t.target!=null&&Object.hasOwnProperty.call(_t,"target")&&_o.uint32(10).string(_t.target),_t.lock!=null&&Object.hasOwnProperty.call(_t,"lock")&&_o.uint32(18).string(_t.lock),_t.userId!=null&&Object.hasOwnProperty.call(_t,"userId")&&_o.uint32(26).string(_t.userId),_t.requestUuid!=null&&Object.hasOwnProperty.call(_t,"requestUuid")&&_o.uint32(34).string(_t.requestUuid),_t.flags!=null&&Object.hasOwnProperty.call(_t,"flags")&&_o.uint32(40).uint64(_t.flags),_o},_r.decode=function(_t,_o){_t instanceof T||(_t=T.create(_t)),_o=_o===void 0?_t.len:_t.pos+_o;for(var yl=new Q.StateLockDisable;_t.pos<_o;){var El=_t.uint32();switch(El>>>3){case 1:yl.target=_t.string();break;case 2:yl.lock=_t.string();break;case 3:yl.userId=_t.string();break;case 4:yl.requestUuid=_t.string();break;case 5:yl.flags=_t.uint64();break;default:_t.skipType(7&El)}}return yl},_r}(),rK=Q.StateLockDisableResult=function(){function _r(_t){if(_t)for(var _o=Object.keys(_t),yl=0;yl<_o.length;++yl)_t[_o[yl]]!=null&&(this[_o[yl]]=_t[_o[yl]])}return _r.prototype.target="",_r.prototype.lock="",_r.prototype.requestUuid="",_r.prototype.flags=I.Long?I.Long.fromBits(0,0,!0):0,_r.prototype.code=0,_r.encode=function(_t,_o){return _o||(_o=ta.create()),_t.target!=null&&Object.hasOwnProperty.call(_t,"target")&&_o.uint32(10).string(_t.target),_t.lock!=null&&Object.hasOwnProperty.call(_t,"lock")&&_o.uint32(18).string(_t.lock),_t.requestUuid!=null&&Object.hasOwnProperty.call(_t,"requestUuid")&&_o.uint32(26).string(_t.requestUuid),_t.flags!=null&&Object.hasOwnProperty.call(_t,"flags")&&_o.uint32(32).uint64(_t.flags),_t.code!=null&&Object.hasOwnProperty.call(_t,"code")&&_o.uint32(40).uint32(_t.code),_o},_r.decode=function(_t,_o){_t instanceof T||(_t=T.create(_t)),_o=_o===void 0?_t.len:_t.pos+_o;for(var yl=new Q.StateLockDisableResult;_t.pos<_o;){var El=_t.uint32();switch(El>>>3){case 1:yl.target=_t.string();break;case 2:yl.lock=_t.string();break;case 3:yl.requestUuid=_t.string();break;case 4:yl.flags=_t.uint64();break;case 5:yl.code=_t.uint32();break;default:_t.skipType(7&El)}}return yl},_r}(),sK=Q.SubscribeResponse=function(){function _r(_t){if(this.errors=[],_t)for(var _o=Object.keys(_t),yl=0;yl<_o.length;++yl)_t[_o[yl]]!=null&&(this[_o[yl]]=_t[_o[yl]])}return _r.prototype.seq=I.Long?I.Long.fromBits(0,0,!0):0,_r.prototype.errors=I.emptyArray,_r.encode=function(_t,_o){if(_o||(_o=ta.create()),_t.seq!=null&&Object.hasOwnProperty.call(_t,"seq")&&_o.uint32(8).uint64(_t.seq),_t.errors!=null&&_t.errors.length)for(var yl=0;yl<_t.errors.length;++yl)Q.SubscribeResponse.SubscribeErrorsType.encode(_t.errors[yl],_o.uint32(18).fork()).ldelim();return _o},_r.decode=function(_t,_o){_t instanceof T||(_t=T.create(_t)),_o=_o===void 0?_t.len:_t.pos+_o;for(var yl=new Q.SubscribeResponse;_t.pos<_o;){var El=_t.uint32();switch(El>>>3){case 1:yl.seq=_t.uint64();break;case 2:yl.errors&&yl.errors.length||(yl.errors=[]),yl.errors.push(Q.SubscribeResponse.SubscribeErrorsType.decode(_t,_t.uint32()));break;default:_t.skipType(7&El)}}return yl},_r.SubscribeErrorsType=function(){function _t(_o){if(_o)for(var yl=Object.keys(_o),El=0;El<yl.length;++El)_o[yl[El]]!=null&&(this[yl[El]]=_o[yl[El]])}return _t.prototype.account="",_t.prototype.code=0,_t.encode=function(_o,yl){return yl||(yl=ta.create()),_o.account!=null&&Object.hasOwnProperty.call(_o,"account")&&yl.uint32(10).string(_o.account),_o.code!=null&&Object.hasOwnProperty.call(_o,"code")&&yl.uint32(16).uint32(_o.code),yl},_t.decode=function(_o,yl){_o instanceof T||(_o=T.create(_o)),yl=yl===void 0?_o.len:_o.pos+yl;for(var El=new Q.SubscribeResponse.SubscribeErrorsType;_o.pos<yl;){var _l=_o.uint32();switch(_l>>>3){case 1:El.account=_o.string();break;case 2:El.code=_o.uint32();break;default:_o.skipType(7&_l)}}return El},_t}(),_r}(),tK=Object.freeze({__proto__:null,URI:kJ,Wrapper:gl,Ping:lJ,Pong:mJ,UserJoin:nJ,UserResp:oJ,UserQuit:pJ,UserDrop:qJ,UserTicketNearlyExpire:rJ,UserRenewTokenReq:sJ,UserRenewTokenResp:tJ,GroupEnter:uJ,GroupLeave:vJ,GroupReply:wJ,GroupLeaveNotice:ax,GroupEnterNotice:bx,Message:cx,Ack:dx,GroupDrop:xJ,GroupAllUsersList:yJ,GroupAllUsersResult:zJ,UserStatusList:AJ,UserStatusResult:BJ,UserAttributeGet:CJ,UserAttributeRet:DJ,UserAttributeSet:EJ,UserAttributeMod:FJ,UserAttributeDel:GJ,UserAttributeErr:HJ,UserAttributeKeysGet:IJ,UserAttributeKeysRet:JJ,UserAttributeRsp:KJ,GroupStatusList:LJ,GroupStatusResult:MJ,GroupCountNotice:NJ,GroupAttributeGet:OJ,GroupAttributeRet:PJ,GroupAttributeSet:QJ,GroupAttributeMod:RJ,GroupAttributeDel:SJ,GroupAttributeAlt:TJ,GroupAttributeRsp:UJ,GroupAttributeErr:VJ,GroupAttributeKeysGet:WJ,GroupAttributeKeysRet:XJ,SubscribeUserStatus:YJ,UnsubscribeUserStatus:ZJ,UserJoinNotice:$J,UserQuitNotice:aK,UserWaitNotice:bK,StateSubscribe:cK,StateUpdate:dK,StateSubscribeResult:eK,StateUnsubscribe:fK,StateSet:gK,StateModify:hK,StateRequestResult:iK,StateGet:jK,StateGetResult:kK,StateLockAcquire:lK,StateLockRelease:mK,StateLockAcquireResult:nK,StateLockUpdate:oK,StateLockReleaseResult:pK,StateLockDisable:qK,StateLockDisableResult:rK,SubscribeResponse:sK,default:Q}),uK=Math.ceil,ex=function(_r){return function(_t,_o,yl){var El=(_t=String(Ec(_t))).length;return yl=yl===void 0?" ":String(yl),(_o=xb(_o))<=El||yl==""?_t:(_o-=El,(El=At.call(yl,uK(_o/yl.length))).length>_o&&(El=El.slice(0,_o)),_r?_t+El:El+_t)}},vK=ex(!1),wK=ex(!0),fx=/Version\/10(?:\.\d+){1,2}(?: [\w./]+)?(?: Mobile\/\w+)? Safari\//.test(lh);wa({target:"String",proto:!0,forced:fx},{padEnd:function(_r){return wK(this,_r,1<arguments.length?arguments[1]:void 0)}}),wa({target:"Object",stat:!0},{entries:function(_r){return BF(_r)}});var xK=pd.f,gx="".endsWith,yK=Math.min,hx=no("endsWith"),zK=!hx&&!!function(){var _r=xK(String.prototype,"endsWith");return _r&&!_r.writable}();wa({target:"String",proto:!0,forced:!zK&&!hx},{endsWith:function(_r){var _t=String(Ec(this));mo(_r);var _o=1<arguments.length?arguments[1]:void 0,yl=xb(_t.length);return _o=_o===void 0?yl:yK(xb(_o),yl),yl=String(_r),gx?gx.call(_t,yl,_o):_t.slice(_o-yl.length,_o)===yl}}),jk("match",1,function(_r,_t,_o){return[function(yl){var El=Ec(this),_l=yl==null?void 0:yl[_r];return _l!==void 0?_l.call(yl,El):new RegExp(yl)[_r](String(El))},function(yl){var El=_o(_t,yl,this);if(El.done)return El.value;if(yl=ub(yl),El=String(this),!yl.global)return mh(yl,El);var _l=yl.unicode;yl.lastIndex=0;for(var Tl,Il=[],Al=0;(Tl=mh(yl,El))!==null;)Tl=String(Tl[0]),Il[Al]=Tl,Tl===""&&(yl.lastIndex=hn(El,xb(yl.lastIndex),_l)),Al++;return Al===0?null:Il}]});var AK=pd.f,ix="".startsWith,BK=Math.min,jx=no("startsWith"),CK=!jx&&!!function(){var _r=AK(String.prototype,"startsWith");return _r&&!_r.writable}();wa({target:"String",proto:!0,forced:!CK&&!jx},{startsWith:function(_r){var _t=String(Ec(this));mo(_r);var _o=xb(BK(1<arguments.length?arguments[1]:void 0,_t.length)),yl=String(_r);return ix?ix.call(_t,yl,_o):_t.slice(_o,_o+yl.length)===yl}});var us=function(_r){var _t=/(%?)(%([jds]))/g,_o=Array.prototype.slice.call(arguments,1);return _o.length&&(_r=_r.replace(_t,function(yl,El,_l,Tl){switch(_l=_o.shift(),Tl){case"s":_l=""+_l;break;case"d":_l=Number(_l);break;case"j":_l=JSON.stringify(_l)}return El?(_o.unshift(_l),yl):_l})),_o.length&&(_r+=" "+_o.join(" ")),""+(_r=_r.replace(/%{2,2}/g,"%"))},DK=/\s/,EK=/^\s+/,kx=NaN,FK=/^[-+]0x[0-9a-f]+$/i,GK=/^0b[01]+$/i,HK=/^0o[0-7]+$/i,IK=parseInt,hl=function(_r){if(typeof _r=="number")return _r;if(Sg(_r))return kx;if(Kc(_r)&&(_r=typeof _r.valueOf=="function"?_r.valueOf():_r,_r=Kc(_r)?_r+"":_r),typeof _r!="string")return _r===0?_r:+_r;if(_r){for(var _t=_r.slice,_o=_r.length;_o--&&DK.test(_r.charAt(_o)););_r=_t.call(_r,0,_o+1).replace(EK,"")}return(_t=GK.test(_r))||HK.test(_r)?IK(_r.slice(2),_t?2:8):FK.test(_r)?kx:+_r},JK=Math.max,KK=Math.min,LK=function(_r,_t,_o){function yl(_d){var Ep=Al,Op=Rl;return Al=Rl=void 0,Ql=_d,Fl=_r.apply(Op,Ep)}function El(_d){var Ep=_d-Gl;return _d-=Ql,Gl===void 0||Ep>=_t||0>Ep||_h&&_d>=up}function _l(){var _d=hd.Date.now();if(El(_d))return Tl(_d);var Ep=setTimeout,Op=_d-Ql;_d=_t-(_d-Gl),Op=_h?KK(_d,up-Op):_d,Bl=Ep(_l,Op)}function Tl(_d){return Bl=void 0,vp&&Al?yl(_d):(Al=Rl=void 0,Fl)}function Il(){var _d=hd.Date.now(),Ep=El(_d);if(Al=arguments,Rl=this,Gl=_d,Ep){if(Bl===void 0)return Ql=_d=Gl,Bl=setTimeout(_l,_t),_f?yl(_d):Fl;if(_h)return clearTimeout(Bl),Bl=setTimeout(_l,_t),yl(Gl)}return Bl===void 0&&(Bl=setTimeout(_l,_t)),Fl}var Al,Rl,Fl,Bl,Gl,Ql=0,_f=!1,_h=!1,vp=!0;if(typeof _r!="function")throw new TypeError("Expected a function");if(_t=hl(_t)||0,Kc(_o)){_f=!!_o.leading;var up=(_h="maxWait"in _o)?JK(hl(_o.maxWait)||0,_t):up;vp="trailing"in _o?!!_o.trailing:vp}return Il.cancel=function(){Bl!==void 0&&clearTimeout(Bl),Ql=0,Al=Gl=Rl=Bl=void 0},Il.flush=function(){return Bl===void 0?Fl:Tl(hd.Date.now())},Il},vb;(function(_r){_r[_r.ChannelSMsg=1]="ChannelSMsg",_r[_r.ChannelRMsg=2]="ChannelRMsg",_r[_r.P2pSMsgOfflineFlag=3]="P2pSMsgOfflineFlag",_r[_r.P2pRMsgOfflineFlag=4]="P2pRMsgOfflineFlag",_r[_r.P2pSMsgNoOfflineFlag=5]="P2pSMsgNoOfflineFlag",_r[_r.P2pRMsgNoOfflineFlag=6]="P2pRMsgNoOfflineFlag",_r[_r.P2pCallInvitation=7]="P2pCallInvitation",_r[_r.P2pCallCancellation=8]="P2pCallCancellation",_r[_r.P2pCallAcceptance=9]="P2pCallAcceptance",_r[_r.P2pCallRefusal=10]="P2pCallRefusal"})(vb||(vb={}));var Xe=function(_r){function _t(yl,El){return ab(this,_t),E(L(yl=_o.call(this,ts(yl,El))),"originalError",void 0),E(L(yl),"code",void 0),E(L(yl),"serverCode",void 0),typeof El=="number"?yl.code=El:typeof El=="string"?yl.name=El:El!==void 0&&(El.originalError&&(yl.originalError=El.originalError),El.code!==void 0&&(yl.code=El.code),El.serverCode!==void 0&&(yl.serverCode=El.serverCode)),yl}nb(_t,_r);var _o=ob(_t);return _t}(di(Error)),Ib=function(_r){function _t(yl,El){return ab(this,_t),E(L(yl=_o.call(this,ts(yl,El))),"name","RtmInternalError"),E(L(yl),"code",void 0),yl.code=El,yl}nb(_t,_r);var _o=ob(_t);return _t}(di(Error)),il=function(){return function(_r){function _t(yl){ab(this,_t);var El=Object.keys(yl);return _o.call(this,yl[El[0]],El[0])}nb(_t,_r);var _o=ob(_t);return _t}(Ib)},rb=il(),Pc=function(_r){function _t(){ab(this,_t);for(var yl=arguments.length,El=Array(yl),_l=0;_l<yl;_l++)El[_l]=arguments[_l];return E(L(yl=_o.call.apply(_o,[this].concat(El))),"name","RtmTimeoutError"),yl}nb(_t,_r);var _o=ob(_t);return _t}(Xe),ja=function(_r){function _t(){ab(this,_t);for(var yl=arguments.length,El=Array(yl),_l=0;_l<yl;_l++)El[_l]=arguments[_l];return E(L(yl=_o.call.apply(_o,[this].concat(El))),"name","RtmInvalidArgumentError"),yl}nb(_t,_r);var _o=ob(_t);return _t}(Xe),ia=function(_r){function _t(){ab(this,_t);for(var yl=arguments.length,El=Array(yl),_l=0;_l<yl;_l++)El[_l]=arguments[_l];return E(L(yl=_o.call.apply(_o,[this].concat(El))),"name","RtmInvalidStatusError"),yl}nb(_t,_r);var _o=ob(_t);return _t}(Xe),Dc=function(_r){function _t(){ab(this,_t);for(var yl=arguments.length,El=Array(yl),_l=0;_l<yl;_l++)El[_l]=arguments[_l];return E(L(yl=_o.call.apply(_o,[this].concat(El))),"name","RtmLimitExceededError"),yl}nb(_t,_r);var _o=ob(_t);return _t}(Xe),Fc=function(_r){function _t(){ab(this,_t);for(var yl=arguments.length,El=Array(yl),_l=0;_l<yl;_l++)El[_l]=arguments[_l];return E(L(yl=_o.call.apply(_o,[this].concat(El))),"name","RtmInvokeTooOftenError"),yl}nb(_t,_r);var _o=ob(_t);return _t}(Xe),Pa=function(_r){function _t(){ab(this,_t);for(var yl=arguments.length,El=Array(yl),_l=0;_l<yl;_l++)El[_l]=arguments[_l];return E(L(yl=_o.call.apply(_o,[this].concat(El))),"name","RtmUnavailableError"),E(L(yl),"serverCode",void 0),E(L(yl),"statusCode",void 0),yl}nb(_t,_r);var _o=ob(_t);return _t}(Xe),Gh=function(_r){function _t(){ab(this,_t);for(var yl=arguments.length,El=Array(yl),_l=0;_l<yl;_l++)El[_l]=arguments[_l];return E(L(yl=_o.call.apply(_o,[this].concat(El))),"name","RtmUnauthenticatedError"),E(L(yl),"serverCode",void 0),yl}nb(_t,_r);var _o=ob(_t);return _t}(Xe),id=function(_r){function _t(){ab(this,_t);for(var yl=arguments.length,El=Array(yl),_l=0;_l<yl;_l++)El[_l]=arguments[_l];return E(L(yl=_o.call.apply(_o,[this].concat(El))),"name","RtmUnknownError"),yl}nb(_t,_r);var _o=ob(_t);return _t}(Xe),uc=function(_r){return _r instanceof Pc||_r instanceof ad},Sa=function(_r){return _r instanceof Xe},vg=function(_r,_t,_o){return['Executing "%s.%s" timed out after %ds',_r,_t,_o/1e3]},ss=new Map,MK=function(){var _r=new Date;return"".concat(_r.toISOString().split("T")[1].replace(/\..+/,""),".").concat(_r.getMilliseconds())},vi=Object.keys,Vj=Object.entries.bind(Object),Sj=function(_r){return typeof _r=="string"?_r.endsWith(".")?_r:"".concat(_r,"."):_r},NK=Ga(function(){return new Date(NaN).toJSON()!==null||Date.prototype.toJSON.call({toISOString:function(){return 1}})!==1});wa({target:"Date",proto:!0,forced:NK},{toJSON:function(_r){_r=Zb(this);var _t=le(_r);return typeof _t!="number"||isFinite(_t)?_r.toISOString():null}}),wa({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return URL.prototype.toString.call(this)}});var rC=Object.prototype.hasOwnProperty,lx=function(_r,_t,_o){return JSON.stringify(As(_r),_t,_o)};lx.ensureProperties=As;var OK=function(_r,_t){_t=_t||{};var _o=Ia(_r);if(_o==="string"&&0<_r.length)return sC(_r);if(_o==="number"&&isFinite(_r))return _t.long?_r=864e5<=(_t=Math.abs(_r))?Xj(_r,_t,864e5,"day"):36e5<=_t?Xj(_r,_t,36e5,"hour"):6e4<=_t?Xj(_r,_t,6e4,"minute"):1e3<=_t?Xj(_r,_t,1e3,"second"):_r+" ms":_r=864e5<=(_t=Math.abs(_r))?Math.round(_r/864e5)+"d":36e5<=_t?Math.round(_r/36e5)+"h":6e4<=_t?Math.round(_r/6e4)+"m":1e3<=_t?Math.round(_r/1e3)+"s":_r+"ms",_r;throw Error("val is not a non-empty string or a valid number. val="+JSON.stringify(_r))},PK=function(_r){function _t(El){function _l(){for(var Al=arguments.length,Rl=Array(Al),Fl=0;Fl<Al;Fl++)Rl[Fl]=arguments[Fl];if(_l.enabled){Al=Number(new Date),_l.diff=Al-(Tl||Al),_l.prev=Tl,Tl=_l.curr=Al,Rl[0]=_t.coerce(Rl[0]),typeof Rl[0]!="string"&&Rl.unshift("%O");var Bl=0;Rl[0]=Rl[0].replace(/%([a-zA-Z%])/g,function(Gl,Ql){return Gl==="%%"?"%":(Bl++,typeof(Ql=_t.formatters[Ql])=="function"&&(Gl=Ql.call(_l,Rl[Bl]),Rl.splice(Bl,1),Bl--),Gl)}),_t.formatArgs.call(_l,Rl),(_l.log||_t.log).apply(_l,Rl)}}var Tl,Il=null;return _l.namespace=El,_l.useColors=_t.useColors(),_l.color=_t.selectColor(El),_l.extend=_o,_l.destroy=_t.destroy,Object.defineProperty(_l,"enabled",{enumerable:!0,configurable:!1,get:function(){return Il===null?_t.enabled(El):Il},set:function(Al){Il=Al}}),typeof _t.init=="function"&&_t.init(_l),_l}function _o(El,_l){return(El=_t(this.namespace+(_l===void 0?":":_l)+El)).log=this.log,El}function yl(El){return El.toString().substring(2,El.toString().length-2).replace(/\.\*\?$/,"*")}return _t.debug=_t,_t.default=_t,_t.coerce=function(El){return El instanceof Error?El.stack||El.message:El},_t.disable=function(){var El=[].concat(ra(_t.names.map(yl)),ra(_t.skips.map(yl).map(function(_l){return"-"+_l}))).join(",");return _t.enable(""),El},_t.enable=function(El){_t.save(El),_t.names=[],_t.skips=[];var _l,Tl=(typeof El=="string"?El:"").split(/[\s,]+/),Il=Tl.length;for(_l=0;_l<Il;_l++)Tl[_l]&&((El=Tl[_l].replace(/\*/g,".*?"))[0]==="-"?_t.skips.push(new RegExp("^"+El.substr(1)+"$")):_t.names.push(new RegExp("^"+El+"$")))},_t.enabled=function(El){if(El[El.length-1]==="*")return!0;var _l,Tl=0;for(_l=_t.skips.length;Tl<_l;Tl++)if(_t.skips[Tl].test(El))return!1;for(Tl=0,_l=_t.names.length;Tl<_l;Tl++)if(_t.names[Tl].test(El))return!0;return!1},_t.humanize=OK,_t.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(_r).forEach(function(El){_t[El]=_r[El]}),_t.names=[],_t.skips=[],_t.formatters={},_t.selectColor=function(El){for(var _l=0,Tl=0;Tl<El.length;Tl++)_l=(_l<<5)-_l+El.charCodeAt(Tl),_l|=0;return _t.colors[Math.abs(_l)%_t.colors.length]},_t.enable(_t.load()),_t},mx=kc(function(_r,_t){_t.formatArgs=function(El){if(El[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+El[0]+(this.useColors?"%c ":" ")+"+"+_r.exports.humanize(this.diff),this.useColors){var _l="color: "+this.color;El.splice(1,0,_l,"color: inherit");var Tl=0,Il=0;El[0].replace(/%[a-zA-Z%]/g,function(Al){Al!=="%%"&&(Tl++,Al==="%c"&&(Il=Tl))}),El.splice(Il,0,_l)}},_t.save=function(El){try{El?_t.storage.setItem("debug",El):_t.storage.removeItem("debug")}catch{}},_t.load=function(){try{var El=_t.storage.getItem("debug")}catch{}return!El&&typeof process<"u"&&"env"in process&&(El={}.DEBUG),El},_t.useColors=function(){return!(typeof window>"u"||!window.process||window.process.type!=="renderer"&&!window.process.__nwjs)||(typeof navigator>"u"||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&(typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&31<=parseInt(RegExp.$1,10)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))};e:{try{var _o=localStorage;break e}catch{}_o=void 0}var yl;_t.storage=_o,_t.destroy=(yl=!1,function(){yl||(yl=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}),_t.colors="#0000CC #0000FF #0033CC #0033FF #0066CC #0066FF #0099CC #0099FF #00CC00 #00CC33 #00CC66 #00CC99 #00CCCC #00CCFF #3300CC #3300FF #3333CC #3333FF #3366CC #3366FF #3399CC #3399FF #33CC00 #33CC33 #33CC66 #33CC99 #33CCCC #33CCFF #6600CC #6600FF #6633CC #6633FF #66CC00 #66CC33 #9900CC #9900FF #9933CC #9933FF #99CC00 #99CC33 #CC0000 #CC0033 #CC0066 #CC0099 #CC00CC #CC00FF #CC3300 #CC3333 #CC3366 #CC3399 #CC33CC #CC33FF #CC6600 #CC6633 #CC9900 #CC9933 #CCCC00 #CCCC33 #FF0000 #FF0033 #FF0066 #FF0099 #FF00CC #FF00FF #FF3300 #FF3333 #FF3366 #FF3399 #FF33CC #FF33FF #FF6600 #FF6633 #FF9900 #FF9933 #FFCC00 #FFCC33".split(" "),_t.log=console.debug||console.log||function(){},_r.exports=PK(_t),_r.exports.formatters.j=function(El){try{return JSON.stringify(El)}catch(_l){return"[UnexpectedJSONParseError]: "+_l.message}}}),nx=mx("RTM:DEBUG"),Hh;nx.enabled=!1,function(_r){_r[_r.Uploading=0]="Uploading",_r[_r.Free=1]="Free"}(Hh||(Hh={}));var QK=function(){function _r(_t){ab(this,_r),E(this,"uploadRequest",void 0),E(this,"uploadState",void 0),E(this,"uploadResendCount",void 0),E(this,"LogCache",void 0),E(this,"LogsToPost",void 0),E(this,"processId",void 0),E(this,"sdkVersion",void 0),E(this,"logId",void 0),E(this,"rtmConfig",void 0),this.processId=_t.processId,this.sdkVersion=_t.sdkVersion,this.rtmConfig=_t.rtmConfig,this.uploadRequest=_t.uploadRequest,this.uploadState=Hh.Free,this.uploadResendCount=0,this.LogCache=[],this.LogsToPost=[],this.logId=0}return Qb(_r,[{key:"upload",value:function(_t){this.LogCache.push(_t),this.uploadState===Hh.Free&&(this.LogsToPost=40>this.LogCache.length?this.LogCache.splice(0,this.LogCache.length):this.LogCache.splice(0,40),this.postLog(this.LogsToPost))}},{key:"postLog",value:function(_t){var _o=this;this.uploadState=Hh.Uploading,setTimeout(za(W.mark(function yl(){var El,_l,Tl;return W.wrap(function(Il){for(;;)switch(Il.prev=Il.next){case 0:return El={sdk_version:_o.sdkVersion,process_id:_o.processId,payload:JSON.stringify(_t)},Il.prev=1,Il.next=4,_o.uploadRequest(El,(_l=_o.rtmConfig.enableCloudProxy)!==null&&_l!==void 0&&_l);case 4:if(!Bm){Il.next=6;break}throw Error("RTM is busy");case 6:Il.next=13;break;case 8:return Il.prev=8,Il.t0=Il.catch(1),Tl=2>_o.uploadResendCount++?2e3:1e4,setTimeout(function(){return _o.postLog(_o.LogsToPost)},Tl),Il.abrupt("return");case 13:if(nx('The logs uploaded for "process-'.concat(hj,'"')),_o.LogCache.length!==0){Il.next=17;break}return _o.uploadState=Hh.Free,Il.abrupt("return");case 17:_o.uploadResendCount=0,_o.LogsToPost=40>_o.LogCache.length?_o.LogCache.splice(0,_o.LogCache.length):_o.LogCache.splice(0,40),_o.postLog(_o.LogsToPost);case 20:case"end":return Il.stop()}},yl,null,[[1,8]])})),wg.getParameter("LOG_UPLOAD_INTERVAL"))}}]),_r}(),ox=function(_r,_t,_o,yl,El,_l,Tl,Il){var Al=0;for(Tl=!!Tl&&tf(Tl,Il,3);Al<yl;){if(Al in _o){if(Il=Tl?Tl(_o[Al],Al,_t):_o[Al],0<_l&&uf(Il))El=ox(_r,_t,Il,xb(Il.length),El,_l-1)-1;else{if(9007199254740991<=El)throw TypeError("Exceed the acceptable array length");_r[El]=Il}El++}Al++}return El},px=ox;wa({target:"Array",proto:!0},{flat:function(){var _r=arguments.length?arguments[0]:void 0,_t=Zb(this),_o=xb(_t.length),yl=Ei(_t,0);return yl.length=px(yl,_t,_t,_o,0,_r===void 0?1:Rd(_r)),yl}});var RK=["CODE"],jd,Gf,oa;(function(_r){_r.CHINA="CN",_r.ASIA="AS",_r.NORTH_AMERICA="NA",_r.EUROPE="EU",_r.JAPAN="JP",_r.INDIA="IN",_r.OCEANIA="OC",_r.SOUTH_AMERICA="SA",_r.AFRICA="AF",_r.OVERSEA="OVERSEA",_r.GLOBAL="GLOBAL"})(oa||(oa={}));var SK={CN:oa.CHINA,NA:oa.NORTH_AMERICA,EU:oa.EUROPE,AS:oa.ASIA,JP:oa.JAPAN,IN:oa.INDIA,GLOB:oa.GLOBAL,AF:oa.AFRICA,OC:oa.OVERSEA,OVS:oa.OVERSEA,SA:oa.SOUTH_AMERICA},Yj=ys((jd={},E(jd,oa.ASIA,{CODE:oa.ASIA,AP_DOMAINS:["ap-web-1-asia.agora.io"],AP_BACKUP_DOMAINS:["ap-web-2-asia.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-asia.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-asia.agora.io"],LOG_UPLOAD_SERVER:["logservice-asia.agora.io"],PROXY_AP:["proxy-ap-web-asia.agora.io"],PROXY_NGINX:["southeast-asia.webrtc-cloud-proxy.sd-rtn.com"]}),E(jd,oa.NORTH_AMERICA,{CODE:oa.NORTH_AMERICA,AP_DOMAINS:["ap-web-1-north-america.agora.io"],AP_BACKUP_DOMAINS:["ap-web-2-north-america.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-north-america.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-north-america.agora.io"],LOG_UPLOAD_SERVER:["logservice-north-america.agora.io"],PROXY_AP:["proxy-ap-web-america.agora.io"],PROXY_NGINX:["east-usa.webrtc-cloud-proxy.sd-rtn.com"]}),E(jd,oa.EUROPE,{CODE:oa.EUROPE,AP_DOMAINS:["ap-web-1-europe.agora.io"],AP_BACKUP_DOMAINS:["ap-web-2-europe.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-europe.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-europe.agora.io"],LOG_UPLOAD_SERVER:["logservice-europe.agora.io"],PROXY_AP:["proxy-ap-web-europe.agora.io"],PROXY_NGINX:["europe.webrtc-cloud-proxy.sd-rtn.com"]}),E(jd,oa.JAPAN,{CODE:oa.JAPAN,AP_DOMAINS:["ap-web-1-japan.agora.io"],AP_BACKUP_DOMAINS:["ap-web-2-japan.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-japan.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-japan.agora.io"],LOG_UPLOAD_SERVER:["logservice-japan.agora.io"],PROXY_AP:["proxy-ap-web-japan.agora.io"],PROXY_NGINX:["japan.webrtc-cloud-proxy.sd-rtn.com"]}),E(jd,oa.INDIA,{CODE:oa.INDIA,AP_DOMAINS:["ap-web-1-india.agora.io"],AP_BACKUP_DOMAINS:["ap-web-2-india.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-india.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-india.agora.io"],LOG_UPLOAD_SERVER:["logservice-india.agora.io"],PROXY_AP:["proxy-ap-web-india.agora.io"],PROXY_NGINX:["india.webrtc-cloud-proxy.sd-rtn.com"]}),E(jd,oa.OVERSEA,{CODE:oa.OVERSEA,AP_DOMAINS:["ap-web-1-oversea.agora.io"],AP_BACKUP_DOMAINS:["ap-web-2-oversea.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-oversea.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-oversea.agora.io"],LOG_UPLOAD_SERVER:["logservice-oversea.agora.io"],PROXY_AP:["proxy-ap-web-oversea.agora.io"],PROXY_NGINX:["webrtc-cloud-proxy.agora.io"]}),E(jd,oa.GLOBAL,{CODE:oa.GLOBAL,AP_DOMAINS:["ap-web-1.agora.io","ap-web-2.agora.io"],AP_BACKUP_DOMAINS:["ap-web-3.agora.io","ap-web-4.agora.io"],EVENT_REPORT_DOMAIN:["webcollector-rtm.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["webcollector-1.agora.io"],LOG_UPLOAD_SERVER:["logservice-rtm.agora.io"],PROXY_AP:["ap-proxy-1.agora.io","ap-proxy-2.agora.io"],PROXY_NGINX:["webrtc-cloud-proxy.sd-rtn.com"]}),E(jd,oa.OCEANIA,{CODE:oa.OCEANIA,AP_DOMAINS:["ap-web-1-oceania.agora.io"],AP_BACKUP_DOMAINS:["ap-web-2-oceania.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-oceania.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-oceania.agora.io"],LOG_UPLOAD_SERVER:["logservice-oceania.agora.io"],PROXY_AP:["proxy-ap-web-oceania.agora.io"],PROXY_NGINX:["oceania.webrtc-cloud-proxy.sd-rtn.com"]}),E(jd,oa.SOUTH_AMERICA,{CODE:oa.SOUTH_AMERICA,AP_DOMAINS:["ap-web-1-south-america.agora.io"],AP_BACKUP_DOMAINS:["ap-web-2-south-america.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-south-america.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-south-america.agora.io"],LOG_UPLOAD_SERVER:["logservice-south-america.agora.io"],PROXY_AP:["proxy-ap-web-south-america.agora.io"],PROXY_NGINX:["south-america.webrtc-cloud-proxy.sd-rtn.com"]}),E(jd,oa.AFRICA,{CODE:oa.AFRICA,AP_DOMAINS:["ap-web-1-africa.agora.io"],AP_BACKUP_DOMAINS:["ap-web-2-africa.agora.io"],EVENT_REPORT_DOMAIN:["statscollector-1-africa.agora.io"],EVENT_REPORT_BACKUP_DOMAIN:["statscollector-2-africa.agora.io"],LOG_UPLOAD_SERVER:["logservice-south-africa.agora.io"],PROXY_AP:["proxy-ap-web-africa.agora.io"],PROXY_NGINX:["africa.webrtc-cloud-proxy.sd-rtn.com"]}),E(jd,oa.CHINA,{CODE:oa.CHINA,AP_DOMAINS:["webrtc2-2.ap.sd-rtn.com"],AP_BACKUP_DOMAINS:["webrtc2-4.ap.sd-rtn.com"],EVENT_REPORT_DOMAIN:["web-3.statscollector.sd-rtn.com"],EVENT_REPORT_BACKUP_DOMAIN:["web-4.statscollector.sd-rtn.com"],LOG_UPLOAD_SERVER:["logservice-china.agora.io"],PROXY_AP:["proxy-ap-web.agoraio.cn"],PROXY_NGINX:["east-cn.webrtc-cloud-proxy.sd-rtn.com"]}),jd)),wi=(Gf={},E(Gf,oa.ASIA,[oa.CHINA,oa.JAPAN,oa.INDIA]),E(Gf,oa.EUROPE,[]),E(Gf,oa.NORTH_AMERICA,[]),E(Gf,oa.SOUTH_AMERICA,[]),E(Gf,oa.OCEANIA,[]),E(Gf,oa.AFRICA,[]),Gf),qx=[oa.OVERSEA,oa.GLOBAL,oa.CHINA,oa.NORTH_AMERICA,oa.EUROPE,oa.ASIA,oa.JAPAN,oa.INDIA,oa.OCEANIA,oa.SOUTH_AMERICA,oa.AFRICA],Bs=function(_r){return Object.values(wi).flat().includes(_r)},uC=function(_r){var _t;return(_t=Vj(wi).find(function(_o){return(_o=Lb(_o,2))[0],_o[1].includes(_r)}))===null||_t===void 0?void 0:_t[0]},TK=function(_r){return _r.sort(function(_t,_o){return qx.indexOf(_t)-qx.indexOf(_o)})},eh=function(_r){var _t=new Set;if((_r=TK(_r).slice(0,3).map(function(_o){var yl=Yj[_o];if(yl===void 0)throw new Ib("invalid area key");return _o=yl.CODE,yl=em(yl,RK),_t.add(_o),yl})).length===0)throw new Ib("areas cannot be empty");return tb({CODES:_t},_r.reduce(function(_o,yl){for(var El=0,_l=Vj(_o);El<_l.length;El++){var Tl=Lb(_l[El],2),Il=Tl[0];Tl=Tl[1],_o[Il]=Array.from(new Set([].concat(ra(yl[Il]),ra(Tl))))}return _o}))},Ba,rx=function(){var _r=za(W.mark(function _t(_o,yl){var El,_l,Tl,Il,Al,Rl=arguments;return W.wrap(function(Fl){for(;;)switch(Fl.prev=Fl.next){case 0:if(!(2<(_l=2<Rl.length&&Rl[2]!==void 0?Rl[2]:0))){Fl.next=3;break}return Fl.abrupt("return");case 3:return Tl={withCredentials:!0,body:_o,timeout:2e4},Il=0<_l?(Ba==null?void 0:Ba.LOG_UPLOAD_SERVER[0])||"rtm.logservice.sd-rtn.com":(Ba==null?void 0:Ba.LOG_UPLOAD_SERVER[0])||"logservice-rtm.agora.io",Al=yl?"https://".concat((El=Ba==null?void 0:Ba.PROXY_NGINX[0])!==null&&El!==void 0?El:"webrtc-cloud-proxy.sd-rtn.com","/ls/?h=").concat(Il,"&p=443&d=upload/v1"):"https://".concat(Il,"/upload/v1"),Fl.next=8,Tj(Al,Tl).catch(function(Bl){return rx(_o,yl,_l+1)});case 8:case"end":return Fl.stop()}},_t)}));return function(_t,_o){return _r.apply(this,arguments)}}(),sx=new QK({processId:"process-".concat(hj),sdkVersion:"Agora_RTM_SDK_for_Web_".concat("v1.5.1-67-g0f6d3600"),uploadRequest:rx,rtmConfig:{}}),pp="text payload rawMessage thumbnail attributeInfos keys value extra".split(" "),tx="account ticket uid detail token account fileName cname user group key origin users src dst lastUpdateUserId channel cert wan_ip".split(" "),ux=["serverReceivedTs","hasPeerReceived","messageType","enableNotificationToChannelMembers","lastUpdateTs"],UK="ChannelMessage MemberLeft MessageFromPeer LocalInvitationRefused LocalInvitationAccepted RemoteInvitationCanceled PeersOnlineStatusChanged AttributesUpdated MemberJoined".split(" "),fh=function(_r){if(typeof _r=="string")return wb(_r);if(Array.isArray(_r)&&_r.every(function(_l){return typeof _l=="string"}))return _r.map(function(_l){return wb(_l)});if(!or(_r)){for(var _t={},_o=0;_o<ux.length;_o++){var yl=ux[_o];yl in _r&&(_t[yl]=_r[yl])}if(0<Object.keys(_t).length)return _t;if(5>Object.keys(_r).length){for(_o=0,_r=Object.entries(_r);_o<_r.length;_o++){var El=Lb(_r[_o],2);yl=El[0],El=El[1],pp.includes(yl)?_t[yl]="[Hidden Info]":_t[wb(yl)]=typeof El=="string"?wb(El):"[Sensitive Info]"}return _t}return"[Sensitive Info]"}return _r},vx=function(_r){return Ia(_r)==="object"?Lg(_r)?xs(Pg(_r,5),pp,tx):_r.constructor&&_r.constructor.name:_r},wx=function(_r,_t){return _r instanceof Error?_r.message:typeof _r!="string"?JSON.stringify(xs(Pg(_r,5),pp,tx)):(_t=_t.map(function(_o){return _o instanceof Error?_o.message:Ia(_o)==="object"?lx(Array.isArray(_o)?_o.map(vx):vx(_o)):_o}),us.apply(void 0,[_r.replace(/%[%Oo]/g,function(_o){return _o==="%%"?"%":_o==="%o"||_o==="%O"?"%s":_o})].concat(ra(_t))))},VK=1,xx=function(_r,_t,_o){var yl=mx(_r);return yl.enabled=!0,yl.log=_o,yl.useColors=!1,function(El){for(var _l=arguments.length,Tl=Array(1<_l?_l-1:0),Il=1;Il<_l;Il++)Tl[Il-1]=arguments[Il];if(_t.enableLogUpload){_l=Sj(El);var Al=wx(_l,Tl);sx.upload({log_item_id:"".concat(VK++),log_level:_r,payload_str:"[".concat(MK(),"] ").concat(_r," - ").concat(256<Al.length?Al.slice(0,256):Al)})}switch(_l=function(Rl){var Fl=Al||wx(Sj(El),Tl),Bl=Yd.LOG_HANDLER;typeof Bl=="function"&&Bl({level:Rl,message:Fl}),yl(Fl)},_r){case"RTM:INFO":_t.logFilter.info&&_l("log");break;case"RTM:WARN":_t.logFilter.warn&&_l("warning");break;case"RTM:ERROR":_t.logFilter.error&&_l("error");break;case"RTM:TRACK":_t.logFilter.track&&_l("log");break;case"RTM:MSG:RECV":case"RTM:MSG:SEND":_t.logFilter.debug&&_l("debug");break;case"RTM:DEBUG":_t.logFilter.debug&&_l("debug")}}},qp,yx=function(_r){return function(_t){var _o=qp===1||_r===void 0?"":"Ins#".concat(_r," ");return"".concat(_o).concat(_t)}},rp=function(_r,_t,_o){var yl=yx(qp);return xx("RTM:".concat(_t),_o,function(El){return _r(yl(El))})},Dd=function(){return function(_r){function _t(yl,El){var _l=2<arguments.length&&arguments[2]!==void 0&&arguments[2];ab(this,_t);var Tl=_o.call(this);if(E(L(Tl),"logError",void 0),E(L(Tl),"invokeTracker",void 0),E(L(Tl),"resultTracker",void 0),E(L(Tl),"errorTracker",void 0),E(L(Tl),"eventTracker",void 0),E(L(Tl),"info",void 0),E(L(Tl),"warn",void 0),E(L(Tl),"log",void 0),E(L(Tl),"genLogger",void 0),E(L(Tl),"loggerId",void 0),E(L(Tl),"logger",void 0),E(L(Tl),"name",void 0),Tl.logger=yl,Tl.name=El,Tl.loggerId=yl.loggerId,Tl.info=yl.info,Tl.warn=yl.warn,Tl.logError=yl.logError,Tl.genLogger=yl.genLogger,Tl.log=yl.genLogger("RTM:DEBUG","<".concat(El,"> ")),Tl.invokeTracker=yl.genTracker("Invoke"),Tl.eventTracker=yl.genTracker("Event"),Tl.resultTracker=yl.genTracker("Result"),Tl.errorTracker=yl.genTracker("Error"),_l){var Il=Tl.emit.bind(L(Tl));Tl.emit=function(){for(var Al=arguments.length,Rl=Array(Al),Fl=0;Fl<Al;Fl++)Rl[Fl]=arguments[Fl];Al=Rl[0],Fl=Rl.slice(1);var Bl=UK.includes(Al);Tl.eventTracker.apply(Tl,["%s: ".concat(0<Fl.length?"%s emitted with args: ".concat(Fl.map(function(){return"%o"})):"%s emitted"),El,Al].concat(ra(Bl?Fl.map(fh):Fl)));try{Il.apply(void 0,Rl)}catch(Gl){Tl.logError("Caught in the callback function of the event %s",Al,Gl)}}}return Tl}nb(_t,_r);var _o=ob(_t);return _t}(kb)},WK=function(_r){return rp(console.log.bind(console),"INFO",_r)},XK=function(_r){return rp(console.warn.bind(console),"WARN",_r)},YK=function(_r){return rp(console.error.bind(console),"ERROR",_r)},zx=function(_r,_t){return function(_o){var yl=1<arguments.length&&arguments[1]!==void 0?arguments[1]:"",El=yx(_r),_l=console.debug.bind(console),Tl=xx(_o,_t,function(Il){return _l(El(Il))});return function(Il){for(var Al=arguments.length,Rl=Array(1<Al?Al-1:0),Fl=1;Fl<Al;Fl++)Rl[Fl-1]=arguments[Fl];return Tl.apply(void 0,[yl+Il].concat(Rl))}}},ZK=function(_r,_t){return function(_o){return zx(_r,_t)("RTM:TRACK","[".concat(_o,"] "))}},Tm=Q.URI,wC=gl,$K=em(tK,["Wrapper"]),Cs=Oo($K,"URI"),Ax=function(_r,_t){var _o=-1,yl=_r.length,El=yl-1;for(_t=_t===void 0?yl:_t;++_o<_t;){var _l=_r[yl=Uw(_o,El)];_r[yl]=_r[_o],_r[_o]=_l}return _r.length=_t,_r},aL=function(_r){return Ax(jm(_r))},bL=function(_r){return Ax(Vm(_r))},Ih=function(_r){return(lc(_r)?aL:bL)(_r)},Jh={0:9591,1:9593},xg=function(_r){var _t=ui(null);return"https://".concat(_t?null:_r,"/api/v1")},cL=Wb.apply(void 0,ra(Ih(["web-1.ap.sd-rtn.com","web-2.ap.sd-rtn.com"].map(xg)))),dL=Wb.apply(void 0,ra(Ih(["ap-web-1.agora.io","ap-web-2.agora.io"].map(xg)))),eL=Wb.apply(void 0,ra(Ih(["web-3.ap.sd-rtn.com","web-4.ap.sd-rtn.com"].map(xg)))),fL=Wb.apply(void 0,ra(Ih(["ap-web-3.agora.io","ap-web-4.agora.io"].map(xg)))),vc=ae.Writer,O=ae.util,bc=ae.roots.default||(ae.roots.default={}),gL=bc.Session=function(){function _r(_t){if(_t)for(var _o=Object.keys(_t),yl=0;yl<_o.length;++yl)_t[_o[yl]]!=null&&(this[_o[yl]]=_t[_o[yl]])}return _r.prototype.sid="",_r.prototype.userId="",_r.prototype.lts=O.Long?O.Long.fromBits(0,0,!1):0,_r.prototype.elapse=O.Long?O.Long.fromBits(0,0,!1):0,_r.prototype.appId="",_r.prototype.ver="",_r.prototype.buildno=0,_r.prototype.installId="",_r.prototype.os=0,_r.prototype.did="",_r.prototype.index=null,_r.prototype.token="",_r.prototype.version=0,_r.prototype.subVersion=0,_r.encode=function(_t,_o){return _o||(_o=vc.create()),_t.sid!=null&&Object.hasOwnProperty.call(_t,"sid")&&_o.uint32(10).string(_t.sid),_t.userId!=null&&Object.hasOwnProperty.call(_t,"userId")&&_o.uint32(18).string(_t.userId),_t.lts!=null&&Object.hasOwnProperty.call(_t,"lts")&&_o.uint32(24).int64(_t.lts),_t.elapse!=null&&Object.hasOwnProperty.call(_t,"elapse")&&_o.uint32(32).int64(_t.elapse),_t.appId!=null&&Object.hasOwnProperty.call(_t,"appId")&&_o.uint32(42).string(_t.appId),_t.ver!=null&&Object.hasOwnProperty.call(_t,"ver")&&_o.uint32(50).string(_t.ver),_t.buildno!=null&&Object.hasOwnProperty.call(_t,"buildno")&&_o.uint32(56).int32(_t.buildno),_t.installId!=null&&Object.hasOwnProperty.call(_t,"installId")&&_o.uint32(66).string(_t.installId),_t.os!=null&&Object.hasOwnProperty.call(_t,"os")&&_o.uint32(128).int32(_t.os),_t.did!=null&&Object.hasOwnProperty.call(_t,"did")&&_o.uint32(138).string(_t.did),_t.index!=null&&Object.hasOwnProperty.call(_t,"index")&&bc.Session.CommonIndex.encode(_t.index,_o.uint32(162).fork()).ldelim(),_t.token!=null&&Object.hasOwnProperty.call(_t,"token")&&_o.uint32(170).string(_t.token),_t.version!=null&&Object.hasOwnProperty.call(_t,"version")&&_o.uint32(176).int32(_t.version),_t.subVersion!=null&&Object.hasOwnProperty.call(_t,"subVersion")&&_o.uint32(184).int32(_t.subVersion),_o},_r.CommonIndex=function(){function _t(_o){if(_o)for(var yl=Object.keys(_o),El=0;El<yl.length;++El)_o[yl[El]]!=null&&(this[yl[El]]=_o[yl[El]])}return _t.prototype.index1="",_t.prototype.index2="",_t.prototype.index3="",_t.encode=function(_o,yl){return yl||(yl=vc.create()),_o.index1!=null&&Object.hasOwnProperty.call(_o,"index1")&&yl.uint32(10).string(_o.index1),_o.index2!=null&&Object.hasOwnProperty.call(_o,"index2")&&yl.uint32(18).string(_o.index2),_o.index3!=null&&Object.hasOwnProperty.call(_o,"index3")&&yl.uint32(26).string(_o.index3),yl},_t}(),_r}(),hL=bc.ApEvent=function(){function _r(_t){if(this.linkServerList=[],_t)for(var _o=Object.keys(_t),yl=0;yl<_o.length;++yl)_t[_o[yl]]!=null&&(this[_o[yl]]=_t[_o[yl]])}return _r.prototype.sid="",_r.prototype.userId="",_r.prototype.lts=O.Long?O.Long.fromBits(0,0,!1):0,_r.prototype.elapse=O.Long?O.Long.fromBits(0,0,!1):0,_r.prototype.apAddr="",_r.prototype.linkServerList=O.emptyArray,_r.prototype.errCode=0,_r.prototype.serverErrCode=0,_r.prototype.isp="",_r.prototype.opId=O.Long?O.Long.fromBits(0,0,!1):0,_r.prototype.envId=0,_r.prototype.flag=0,_r.prototype.area="",_r.encode=function(_t,_o){if(_o||(_o=vc.create()),_t.sid!=null&&Object.hasOwnProperty.call(_t,"sid")&&_o.uint32(10).string(_t.sid),_t.userId!=null&&Object.hasOwnProperty.call(_t,"userId")&&_o.uint32(18).string(_t.userId),_t.lts!=null&&Object.hasOwnProperty.call(_t,"lts")&&_o.uint32(24).int64(_t.lts),_t.elapse!=null&&Object.hasOwnProperty.call(_t,"elapse")&&_o.uint32(32).int64(_t.elapse),_t.apAddr!=null&&Object.hasOwnProperty.call(_t,"apAddr")&&_o.uint32(50).string(_t.apAddr),_t.linkServerList!=null&&_t.linkServerList.length)for(var yl=0;yl<_t.linkServerList.length;++yl)_o.uint32(58).string(_t.linkServerList[yl]);return _t.errCode!=null&&Object.hasOwnProperty.call(_t,"errCode")&&_o.uint32(72).int32(_t.errCode),_t.serverErrCode!=null&&Object.hasOwnProperty.call(_t,"serverErrCode")&&_o.uint32(80).int32(_t.serverErrCode),_t.isp!=null&&Object.hasOwnProperty.call(_t,"isp")&&_o.uint32(90).string(_t.isp),_t.opId!=null&&Object.hasOwnProperty.call(_t,"opId")&&_o.uint32(96).int64(_t.opId),_t.envId!=null&&Object.hasOwnProperty.call(_t,"envId")&&_o.uint32(104).int32(_t.envId),_t.flag!=null&&Object.hasOwnProperty.call(_t,"flag")&&_o.uint32(112).int32(_t.flag),_t.area!=null&&Object.hasOwnProperty.call(_t,"area")&&_o.uint32(122).string(_t.area),_o},_r}(),iL=bc.ApRequest=function(){function _r(_t){if(_t)for(var _o=Object.keys(_t),yl=0;yl<_o.length;++yl)_t[_o[yl]]!=null&&(this[_o[yl]]=_t[_o[yl]])}return _r.prototype.sid="",_r.prototype.userId="",_r.prototype.lts=O.Long?O.Long.fromBits(0,0,!1):0,_r.prototype.elapse=O.Long?O.Long.fromBits(0,0,!1):0,_r.prototype.apAddr="",_r.prototype.opId=O.Long?O.Long.fromBits(0,0,!1):0,_r.prototype.envId=0,_r.prototype.flag=0,_r.encode=function(_t,_o){return _o||(_o=vc.create()),_t.sid!=null&&Object.hasOwnProperty.call(_t,"sid")&&_o.uint32(10).string(_t.sid),_t.userId!=null&&Object.hasOwnProperty.call(_t,"userId")&&_o.uint32(18).string(_t.userId),_t.lts!=null&&Object.hasOwnProperty.call(_t,"lts")&&_o.uint32(24).int64(_t.lts),_t.elapse!=null&&Object.hasOwnProperty.call(_t,"elapse")&&_o.uint32(32).int64(_t.elapse),_t.apAddr!=null&&Object.hasOwnProperty.call(_t,"apAddr")&&_o.uint32(42).string(_t.apAddr),_t.opId!=null&&Object.hasOwnProperty.call(_t,"opId")&&_o.uint32(48).int64(_t.opId),_t.envId!=null&&Object.hasOwnProperty.call(_t,"envId")&&_o.uint32(56).int32(_t.envId),_t.flag!=null&&Object.hasOwnProperty.call(_t,"flag")&&_o.uint32(64).int32(_t.flag),_o},_r}(),jL=bc.LinkLoginRequest=function(){function _r(_t){if(_t)for(var _o=Object.keys(_t),yl=0;yl<_o.length;++yl)_t[_o[yl]]!=null&&(this[_o[yl]]=_t[_o[yl]])}return _r.prototype.sid="",_r.prototype.userId="",_r.prototype.lts=O.Long?O.Long.fromBits(0,0,!1):0,_r.prototype.elapse=O.Long?O.Long.fromBits(0,0,!1):0,_r.prototype.destServerIp="",_r.prototype.linkId=0,_r.encode=function(_t,_o){return _o||(_o=vc.create()),_t.sid!=null&&Object.hasOwnProperty.call(_t,"sid")&&_o.uint32(10).string(_t.sid),_t.userId!=null&&Object.hasOwnProperty.call(_t,"userId")&&_o.uint32(18).string(_t.userId),_t.lts!=null&&Object.hasOwnProperty.call(_t,"lts")&&_o.uint32(24).int64(_t.lts),_t.elapse!=null&&Object.hasOwnProperty.call(_t,"elapse")&&_o.uint32(32).int64(_t.elapse),_t.destServerIp!=null&&Object.hasOwnProperty.call(_t,"destServerIp")&&_o.uint32(42).string(_t.destServerIp),_t.linkId!=null&&Object.hasOwnProperty.call(_t,"linkId")&&_o.uint32(48).int32(_t.linkId),_o},_r}(),kL=bc.Link=function(){function _r(_t){if(_t)for(var _o=Object.keys(_t),yl=0;yl<_o.length;++yl)_t[_o[yl]]!=null&&(this[_o[yl]]=_t[_o[yl]])}return _r.prototype.sid="",_r.prototype.userId="",_r.prototype.lts=O.Long?O.Long.fromBits(0,0,!1):0,_r.prototype.elapse=O.Long?O.Long.fromBits(0,0,!1):0,_r.prototype.ec=0,_r.prototype.sc=0,_r.prototype.destServerIp="",_r.prototype.ackedServerIp="",_r.prototype.responseTime=0,_r.encode=function(_t,_o){return _o||(_o=vc.create()),_t.sid!=null&&Object.hasOwnProperty.call(_t,"sid")&&_o.uint32(10).string(_t.sid),_t.userId!=null&&Object.hasOwnProperty.call(_t,"userId")&&_o.uint32(18).string(_t.userId),_t.lts!=null&&Object.hasOwnProperty.call(_t,"lts")&&_o.uint32(24).int64(_t.lts),_t.elapse!=null&&Object.hasOwnProperty.call(_t,"elapse")&&_o.uint32(32).int64(_t.elapse),_t.ec!=null&&Object.hasOwnProperty.call(_t,"ec")&&_o.uint32(40).int32(_t.ec),_t.sc!=null&&Object.hasOwnProperty.call(_t,"sc")&&_o.uint32(48).int32(_t.sc),_t.destServerIp!=null&&Object.hasOwnProperty.call(_t,"destServerIp")&&_o.uint32(58).string(_t.destServerIp),_t.ackedServerIp!=null&&Object.hasOwnProperty.call(_t,"ackedServerIp")&&_o.uint32(66).string(_t.ackedServerIp),_t.responseTime!=null&&Object.hasOwnProperty.call(_t,"responseTime")&&_o.uint32(72).int32(_t.responseTime),_o},_r}(),lL=bc.Logout=function(){function _r(_t){if(_t)for(var _o=Object.keys(_t),yl=0;yl<_o.length;++yl)_t[_o[yl]]!=null&&(this[_o[yl]]=_t[_o[yl]])}return _r.prototype.sid="",_r.prototype.userId="",_r.prototype.lts=O.Long?O.Long.fromBits(0,0,!1):0,_r.prototype.elapse=O.Long?O.Long.fromBits(0,0,!1):0,_r.encode=function(_t,_o){return _o||(_o=vc.create()),_t.sid!=null&&Object.hasOwnProperty.call(_t,"sid")&&_o.uint32(10).string(_t.sid),_t.userId!=null&&Object.hasOwnProperty.call(_t,"userId")&&_o.uint32(18).string(_t.userId),_t.lts!=null&&Object.hasOwnProperty.call(_t,"lts")&&_o.uint32(24).int64(_t.lts),_t.elapse!=null&&Object.hasOwnProperty.call(_t,"elapse")&&_o.uint32(32).int64(_t.elapse),_o},_r}(),mL=bc.KickedOff=function(){function _r(_t){if(_t)for(var _o=Object.keys(_t),yl=0;yl<_o.length;++yl)_t[_o[yl]]!=null&&(this[_o[yl]]=_t[_o[yl]])}return _r.prototype.sid="",_r.prototype.userId="",_r.prototype.lts=O.Long?O.Long.fromBits(0,0,!1):0,_r.prototype.elapse=O.Long?O.Long.fromBits(0,0,!1):0,_r.prototype.linkId=0,_r.prototype.code=0,_r.prototype.server="",_r.prototype.serverCode=0,_r.encode=function(_t,_o){return _o||(_o=vc.create()),_t.sid!=null&&Object.hasOwnProperty.call(_t,"sid")&&_o.uint32(10).string(_t.sid),_t.userId!=null&&Object.hasOwnProperty.call(_t,"userId")&&_o.uint32(18).string(_t.userId),_t.lts!=null&&Object.hasOwnProperty.call(_t,"lts")&&_o.uint32(24).int64(_t.lts),_t.elapse!=null&&Object.hasOwnProperty.call(_t,"elapse")&&_o.uint32(32).int64(_t.elapse),_t.linkId!=null&&Object.hasOwnProperty.call(_t,"linkId")&&_o.uint32(48).int32(_t.linkId),_t.code!=null&&Object.hasOwnProperty.call(_t,"code")&&_o.uint32(56).int32(_t.code),_t.server!=null&&Object.hasOwnProperty.call(_t,"server")&&_o.uint32(66).string(_t.server),_t.serverCode!=null&&Object.hasOwnProperty.call(_t,"serverCode")&&_o.uint32(72).int32(_t.serverCode),_o},_r}(),nL=bc.ChnJoin=function(){function _r(_t){if(_t)for(var _o=Object.keys(_t),yl=0;yl<_o.length;++yl)_t[_o[yl]]!=null&&(this[_o[yl]]=_t[_o[yl]])}return _r.prototype.sid="",_r.prototype.userId="",_r.prototype.lts=O.Long?O.Long.fromBits(0,0,!1):0,_r.prototype.elapse=O.Long?O.Long.fromBits(0,0,!1):0,_r.prototype.cname="",_r.prototype.errCode=0,_r.encode=function(_t,_o){return _o||(_o=vc.create()),_t.sid!=null&&Object.hasOwnProperty.call(_t,"sid")&&_o.uint32(10).string(_t.sid),_t.userId!=null&&Object.hasOwnProperty.call(_t,"userId")&&_o.uint32(18).string(_t.userId),_t.lts!=null&&Object.hasOwnProperty.call(_t,"lts")&&_o.uint32(24).int64(_t.lts),_t.elapse!=null&&Object.hasOwnProperty.call(_t,"elapse")&&_o.uint32(32).int64(_t.elapse),_t.cname!=null&&Object.hasOwnProperty.call(_t,"cname")&&_o.uint32(50).string(_t.cname),_t.errCode!=null&&Object.hasOwnProperty.call(_t,"errCode")&&_o.uint32(56).int32(_t.errCode),_o},_r}(),oL=bc.ChnJoinRes=function(){function _r(_t){if(_t)for(var _o=Object.keys(_t),yl=0;yl<_o.length;++yl)_t[_o[yl]]!=null&&(this[_o[yl]]=_t[_o[yl]])}return _r.prototype.sid="",_r.prototype.userId="",_r.prototype.lts=O.Long?O.Long.fromBits(0,0,!1):0,_r.prototype.elapse=O.Long?O.Long.fromBits(0,0,!1):0,_r.prototype.cname="",_r.prototype.errCode=0,_r.prototype.serverErrCode=0,_r.encode=function(_t,_o){return _o||(_o=vc.create()),_t.sid!=null&&Object.hasOwnProperty.call(_t,"sid")&&_o.uint32(10).string(_t.sid),_t.userId!=null&&Object.hasOwnProperty.call(_t,"userId")&&_o.uint32(18).string(_t.userId),_t.lts!=null&&Object.hasOwnProperty.call(_t,"lts")&&_o.uint32(24).int64(_t.lts),_t.elapse!=null&&Object.hasOwnProperty.call(_t,"elapse")&&_o.uint32(32).int64(_t.elapse),_t.cname!=null&&Object.hasOwnProperty.call(_t,"cname")&&_o.uint32(50).string(_t.cname),_t.errCode!=null&&Object.hasOwnProperty.call(_t,"errCode")&&_o.uint32(56).int32(_t.errCode),_t.serverErrCode!=null&&Object.hasOwnProperty.call(_t,"serverErrCode")&&_o.uint32(64).int32(_t.serverErrCode),_o},_r}(),pL=bc.ChnLeave=function(){function _r(_t){if(_t)for(var _o=Object.keys(_t),yl=0;yl<_o.length;++yl)_t[_o[yl]]!=null&&(this[_o[yl]]=_t[_o[yl]])}return _r.prototype.sid="",_r.prototype.userId="",_r.prototype.lts=O.Long?O.Long.fromBits(0,0,!1):0,_r.prototype.elapse=O.Long?O.Long.fromBits(0,0,!1):0,_r.prototype.cname="",_r.prototype.errCode=0,_r.encode=function(_t,_o){return _o||(_o=vc.create()),_t.sid!=null&&Object.hasOwnProperty.call(_t,"sid")&&_o.uint32(10).string(_t.sid),_t.userId!=null&&Object.hasOwnProperty.call(_t,"userId")&&_o.uint32(18).string(_t.userId),_t.lts!=null&&Object.hasOwnProperty.call(_t,"lts")&&_o.uint32(24).int64(_t.lts),_t.elapse!=null&&Object.hasOwnProperty.call(_t,"elapse")&&_o.uint32(32).int64(_t.elapse),_t.cname!=null&&Object.hasOwnProperty.call(_t,"cname")&&_o.uint32(50).string(_t.cname),_t.errCode!=null&&Object.hasOwnProperty.call(_t,"errCode")&&_o.uint32(56).int32(_t.errCode),_o},_r}(),qL=bc.ConnectionStateChange=function(){function _r(_t){if(_t)for(var _o=Object.keys(_t),yl=0;yl<_o.length;++yl)_t[_o[yl]]!=null&&(this[_o[yl]]=_t[_o[yl]])}return _r.prototype.sid="",_r.prototype.userId="",_r.prototype.lts=O.Long?O.Long.fromBits(0,0,!1):0,_r.prototype.elapse=O.Long?O.Long.fromBits(0,0,!1):0,_r.prototype.oldState=0,_r.prototype.newState=0,_r.prototype.reason=0,_r.prototype.reconnId=0,_r.encode=function(_t,_o){return _o||(_o=vc.create()),_t.sid!=null&&Object.hasOwnProperty.call(_t,"sid")&&_o.uint32(10).string(_t.sid),_t.userId!=null&&Object.hasOwnProperty.call(_t,"userId")&&_o.uint32(18).string(_t.userId),_t.lts!=null&&Object.hasOwnProperty.call(_t,"lts")&&_o.uint32(24).int64(_t.lts),_t.elapse!=null&&Object.hasOwnProperty.call(_t,"elapse")&&_o.uint32(32).int64(_t.elapse),_t.oldState!=null&&Object.hasOwnProperty.call(_t,"oldState")&&_o.uint32(40).int32(_t.oldState),_t.newState!=null&&Object.hasOwnProperty.call(_t,"newState")&&_o.uint32(48).int32(_t.newState),_t.reason!=null&&Object.hasOwnProperty.call(_t,"reason")&&_o.uint32(56).int32(_t.reason),_t.reconnId!=null&&Object.hasOwnProperty.call(_t,"reconnId")&&_o.uint32(64).int32(_t.reconnId),_o},_r}(),Bx=bc.RtmSdkMessageCount=function(){function _r(_t){if(_t)for(var _o=Object.keys(_t),yl=0;yl<_o.length;++yl)_t[_o[yl]]!=null&&(this[_o[yl]]=_t[_o[yl]])}return _r.prototype.lts=O.Long?O.Long.fromBits(0,0,!1):0,_r.prototype.vid=O.Long?O.Long.fromBits(0,0,!1):0,_r.prototype.sid="",_r.prototype.messagecategory=0,_r.prototype.reportsequence=O.Long?O.Long.fromBits(0,0,!1):0,_r.prototype.sentcount=O.Long?O.Long.fromBits(0,0,!1):0,_r.prototype.receivedcount=O.Long?O.Long.fromBits(0,0,!1):0,_r.prototype.peerack10mscount=O.Long?O.Long.fromBits(0,0,!1):0,_r.prototype.peerack25mscount=O.Long?O.Long.fromBits(0,0,!1):0,_r.prototype.peerack50mscount=O.Long?O.Long.fromBits(0,0,!1):0,_r.prototype.peerack75mscount=O.Long?O.Long.fromBits(0,0,!1):0,_r.prototype.peerack100mscount=O.Long?O.Long.fromBits(0,0,!1):0,_r.prototype.peerack150mscount=O.Long?O.Long.fromBits(0,0,!1):0,_r.prototype.peerack200mscount=O.Long?O.Long.fromBits(0,0,!1):0,_r.prototype.peerack250mscount=O.Long?O.Long.fromBits(0,0,!1):0,_r.prototype.peerack300mscount=O.Long?O.Long.fromBits(0,0,!1):0,_r.prototype.peerack400mscount=O.Long?O.Long.fromBits(0,0,!1):0,_r.prototype.peerack500mscount=O.Long?O.Long.fromBits(0,0,!1):0,_r.prototype.peerack600mscount=O.Long?O.Long.fromBits(0,0,!1):0,_r.prototype.peerack800mscount=O.Long?O.Long.fromBits(0,0,!1):0,_r.prototype.peerack1000mscount=O.Long?O.Long.fromBits(0,0,!1):0,_r.prototype.peerack2000mscount=O.Long?O.Long.fromBits(0,0,!1):0,_r.prototype.peerack3000mscount=O.Long?O.Long.fromBits(0,0,!1):0,_r.prototype.peerack5000mscount=O.Long?O.Long.fromBits(0,0,!1):0,_r.prototype.peerack7000mscount=O.Long?O.Long.fromBits(0,0,!1):0,_r.prototype.peerackslowcount=O.Long?O.Long.fromBits(0,0,!1):0,_r.prototype.norecipientack10mscount=O.Long?O.Long.fromBits(0,0,!1):0,_r.prototype.norecipientack25mscount=O.Long?O.Long.fromBits(0,0,!1):0,_r.prototype.norecipientack50mscount=O.Long?O.Long.fromBits(0,0,!1):0,_r.prototype.norecipientack75mscount=O.Long?O.Long.fromBits(0,0,!1):0,_r.prototype.norecipientack100mscount=O.Long?O.Long.fromBits(0,0,!1):0,_r.prototype.norecipientack150mscount=O.Long?O.Long.fromBits(0,0,!1):0,_r.prototype.norecipientack200mscount=O.Long?O.Long.fromBits(0,0,!1):0,_r.prototype.norecipientack250mscount=O.Long?O.Long.fromBits(0,0,!1):0,_r.prototype.norecipientack300mscount=O.Long?O.Long.fromBits(0,0,!1):0,_r.prototype.norecipientack400mscount=O.Long?O.Long.fromBits(0,0,!1):0,_r.prototype.norecipientack500mscount=O.Long?O.Long.fromBits(0,0,!1):0,_r.prototype.norecipientack600mscount=O.Long?O.Long.fromBits(0,0,!1):0,_r.prototype.norecipientack800mscount=O.Long?O.Long.fromBits(0,0,!1):0,_r.prototype.norecipientack1000mscount=O.Long?O.Long.fromBits(0,0,!1):0,_r.prototype.norecipientack2000mscount=O.Long?O.Long.fromBits(0,0,!1):0,_r.prototype.norecipientack3000mscount=O.Long?O.Long.fromBits(0,0,!1):0,_r.prototype.norecipientack5000mscount=O.Long?O.Long.fromBits(0,0,!1):0,_r.prototype.norecipientack7000mscount=O.Long?O.Long.fromBits(0,0,!1):0,_r.prototype.norecipientackslowcount=O.Long?O.Long.fromBits(0,0,!1):0,_r.prototype.acktimeoutcount=O.Long?O.Long.fromBits(0,0,!1):0,_r.prototype.apimajorversion=0,_r.prototype.apiminorversion=0,_r.prototype.os=0,_r.prototype.toooftencount=0,_r.prototype.receiverofflinecount=0,_r.prototype.invalidmessagecount=0,_r.prototype.unknowerrorcount=0,_r.prototype.servercachedcount=0,_r.prototype.timeoutcount=0,_r.prototype.successcount=0,_r.prototype.userid="",_r.encode=function(_t,_o){return _o||(_o=vc.create()),_t.lts!=null&&Object.hasOwnProperty.call(_t,"lts")&&_o.uint32(8).int64(_t.lts),_t.vid!=null&&Object.hasOwnProperty.call(_t,"vid")&&_o.uint32(16).int64(_t.vid),_t.sid!=null&&Object.hasOwnProperty.call(_t,"sid")&&_o.uint32(26).string(_t.sid),_t.messagecategory!=null&&Object.hasOwnProperty.call(_t,"messagecategory")&&_o.uint32(32).int32(_t.messagecategory),_t.reportsequence!=null&&Object.hasOwnProperty.call(_t,"reportsequence")&&_o.uint32(40).int64(_t.reportsequence),_t.sentcount!=null&&Object.hasOwnProperty.call(_t,"sentcount")&&_o.uint32(48).int64(_t.sentcount),_t.receivedcount!=null&&Object.hasOwnProperty.call(_t,"receivedcount")&&_o.uint32(56).int64(_t.receivedcount),_t.peerack10mscount!=null&&Object.hasOwnProperty.call(_t,"peerack10mscount")&&_o.uint32(64).int64(_t.peerack10mscount),_t.peerack25mscount!=null&&Object.hasOwnProperty.call(_t,"peerack25mscount")&&_o.uint32(72).int64(_t.peerack25mscount),_t.peerack50mscount!=null&&Object.hasOwnProperty.call(_t,"peerack50mscount")&&_o.uint32(80).int64(_t.peerack50mscount),_t.peerack75mscount!=null&&Object.hasOwnProperty.call(_t,"peerack75mscount")&&_o.uint32(88).int64(_t.peerack75mscount),_t.peerack100mscount!=null&&Object.hasOwnProperty.call(_t,"peerack100mscount")&&_o.uint32(96).int64(_t.peerack100mscount),_t.peerack150mscount!=null&&Object.hasOwnProperty.call(_t,"peerack150mscount")&&_o.uint32(104).int64(_t.peerack150mscount),_t.peerack200mscount!=null&&Object.hasOwnProperty.call(_t,"peerack200mscount")&&_o.uint32(112).int64(_t.peerack200mscount),_t.peerack250mscount!=null&&Object.hasOwnProperty.call(_t,"peerack250mscount")&&_o.uint32(120).int64(_t.peerack250mscount),_t.peerack300mscount!=null&&Object.hasOwnProperty.call(_t,"peerack300mscount")&&_o.uint32(128).int64(_t.peerack300mscount),_t.peerack400mscount!=null&&Object.hasOwnProperty.call(_t,"peerack400mscount")&&_o.uint32(136).int64(_t.peerack400mscount),_t.peerack500mscount!=null&&Object.hasOwnProperty.call(_t,"peerack500mscount")&&_o.uint32(144).int64(_t.peerack500mscount),_t.peerack600mscount!=null&&Object.hasOwnProperty.call(_t,"peerack600mscount")&&_o.uint32(152).int64(_t.peerack600mscount),_t.peerack800mscount!=null&&Object.hasOwnProperty.call(_t,"peerack800mscount")&&_o.uint32(160).int64(_t.peerack800mscount),_t.peerack1000mscount!=null&&Object.hasOwnProperty.call(_t,"peerack1000mscount")&&_o.uint32(168).int64(_t.peerack1000mscount),_t.peerack2000mscount!=null&&Object.hasOwnProperty.call(_t,"peerack2000mscount")&&_o.uint32(176).int64(_t.peerack2000mscount),_t.peerack3000mscount!=null&&Object.hasOwnProperty.call(_t,"peerack3000mscount")&&_o.uint32(184).int64(_t.peerack3000mscount),_t.peerack5000mscount!=null&&Object.hasOwnProperty.call(_t,"peerack5000mscount")&&_o.uint32(192).int64(_t.peerack5000mscount),_t.peerack7000mscount!=null&&Object.hasOwnProperty.call(_t,"peerack7000mscount")&&_o.uint32(200).int64(_t.peerack7000mscount),_t.peerackslowcount!=null&&Object.hasOwnProperty.call(_t,"peerackslowcount")&&_o.uint32(208).int64(_t.peerackslowcount),_t.norecipientack10mscount!=null&&Object.hasOwnProperty.call(_t,"norecipientack10mscount")&&_o.uint32(216).int64(_t.norecipientack10mscount),_t.norecipientack25mscount!=null&&Object.hasOwnProperty.call(_t,"norecipientack25mscount")&&_o.uint32(224).int64(_t.norecipientack25mscount),_t.norecipientack50mscount!=null&&Object.hasOwnProperty.call(_t,"norecipientack50mscount")&&_o.uint32(232).int64(_t.norecipientack50mscount),_t.norecipientack75mscount!=null&&Object.hasOwnProperty.call(_t,"norecipientack75mscount")&&_o.uint32(240).int64(_t.norecipientack75mscount),_t.norecipientack100mscount!=null&&Object.hasOwnProperty.call(_t,"norecipientack100mscount")&&_o.uint32(248).int64(_t.norecipientack100mscount),_t.norecipientack150mscount!=null&&Object.hasOwnProperty.call(_t,"norecipientack150mscount")&&_o.uint32(256).int64(_t.norecipientack150mscount),_t.norecipientack200mscount!=null&&Object.hasOwnProperty.call(_t,"norecipientack200mscount")&&_o.uint32(264).int64(_t.norecipientack200mscount),_t.norecipientack250mscount!=null&&Object.hasOwnProperty.call(_t,"norecipientack250mscount")&&_o.uint32(272).int64(_t.norecipientack250mscount),_t.norecipientack300mscount!=null&&Object.hasOwnProperty.call(_t,"norecipientack300mscount")&&_o.uint32(280).int64(_t.norecipientack300mscount),_t.norecipientack400mscount!=null&&Object.hasOwnProperty.call(_t,"norecipientack400mscount")&&_o.uint32(288).int64(_t.norecipientack400mscount),_t.norecipientack500mscount!=null&&Object.hasOwnProperty.call(_t,"norecipientack500mscount")&&_o.uint32(296).int64(_t.norecipientack500mscount),_t.norecipientack600mscount!=null&&Object.hasOwnProperty.call(_t,"norecipientack600mscount")&&_o.uint32(304).int64(_t.norecipientack600mscount),_t.norecipientack800mscount!=null&&Object.hasOwnProperty.call(_t,"norecipientack800mscount")&&_o.uint32(312).int64(_t.norecipientack800mscount),_t.norecipientack1000mscount!=null&&Object.hasOwnProperty.call(_t,"norecipientack1000mscount")&&_o.uint32(320).int64(_t.norecipientack1000mscount),_t.norecipientack2000mscount!=null&&Object.hasOwnProperty.call(_t,"norecipientack2000mscount")&&_o.uint32(328).int64(_t.norecipientack2000mscount),_t.norecipientack3000mscount!=null&&Object.hasOwnProperty.call(_t,"norecipientack3000mscount")&&_o.uint32(336).int64(_t.norecipientack3000mscount),_t.norecipientack5000mscount!=null&&Object.hasOwnProperty.call(_t,"norecipientack5000mscount")&&_o.uint32(344).int64(_t.norecipientack5000mscount),_t.norecipientack7000mscount!=null&&Object.hasOwnProperty.call(_t,"norecipientack7000mscount")&&_o.uint32(352).int64(_t.norecipientack7000mscount),_t.norecipientackslowcount!=null&&Object.hasOwnProperty.call(_t,"norecipientackslowcount")&&_o.uint32(360).int64(_t.norecipientackslowcount),_t.acktimeoutcount!=null&&Object.hasOwnProperty.call(_t,"acktimeoutcount")&&_o.uint32(368).int64(_t.acktimeoutcount),_t.apimajorversion!=null&&Object.hasOwnProperty.call(_t,"apimajorversion")&&_o.uint32(376).int32(_t.apimajorversion),_t.apiminorversion!=null&&Object.hasOwnProperty.call(_t,"apiminorversion")&&_o.uint32(384).int32(_t.apiminorversion),_t.os!=null&&Object.hasOwnProperty.call(_t,"os")&&_o.uint32(392).int32(_t.os),_t.toooftencount!=null&&Object.hasOwnProperty.call(_t,"toooftencount")&&_o.uint32(400).int32(_t.toooftencount),_t.receiverofflinecount!=null&&Object.hasOwnProperty.call(_t,"receiverofflinecount")&&_o.uint32(408).int32(_t.receiverofflinecount),_t.invalidmessagecount!=null&&Object.hasOwnProperty.call(_t,"invalidmessagecount")&&_o.uint32(416).int32(_t.invalidmessagecount),_t.unknowerrorcount!=null&&Object.hasOwnProperty.call(_t,"unknowerrorcount")&&_o.uint32(424).int32(_t.unknowerrorcount),_t.servercachedcount!=null&&Object.hasOwnProperty.call(_t,"servercachedcount")&&_o.uint32(432).int32(_t.servercachedcount),_t.timeoutcount!=null&&Object.hasOwnProperty.call(_t,"timeoutcount")&&_o.uint32(440).int32(_t.timeoutcount),_t.successcount!=null&&Object.hasOwnProperty.call(_t,"successcount")&&_o.uint32(448).int32(_t.successcount),_t.userid!=null&&Object.hasOwnProperty.call(_t,"userid")&&_o.uint32(458).string(_t.userid),_o},_r}(),rL=bc.SyncOperateEvent=function(){function _r(_t){if(_t)for(var _o=Object.keys(_t),yl=0;yl<_o.length;++yl)_t[_o[yl]]!=null&&(this[_o[yl]]=_t[_o[yl]])}return _r.prototype.lts=O.Long?O.Long.fromBits(0,0,!1):0,_r.prototype.userid="",_r.prototype.vid=O.Long?O.Long.fromBits(0,0,!1):0,_r.prototype.sid="",_r.prototype.requestts=O.Long?O.Long.fromBits(0,0,!1):0,_r.prototype.replyts=O.Long?O.Long.fromBits(0,0,!1):0,_r.prototype.target="",_r.prototype.eventtype="",_r.prototype.revision=O.Long?O.Long.fromBits(0,0,!1):0,_r.prototype.uuid="",_r.prototype.sdktype=0,_r.prototype.flags=O.Long?O.Long.fromBits(0,0,!1):0,_r.prototype.code=0,_r.prototype.seq=O.Long?O.Long.fromBits(0,0,!1):0,_r.prototype.index=null,_r.prototype.lock="",_r.prototype.lockrev=O.Long?O.Long.fromBits(0,0,!1):0,_r.prototype.subtarget="",_r.prototype.usersid="",_r.encode=function(_t,_o){return _o||(_o=vc.create()),_t.lts!=null&&Object.hasOwnProperty.call(_t,"lts")&&_o.uint32(8).int64(_t.lts),_t.userid!=null&&Object.hasOwnProperty.call(_t,"userid")&&_o.uint32(26).string(_t.userid),_t.vid!=null&&Object.hasOwnProperty.call(_t,"vid")&&_o.uint32(32).int64(_t.vid),_t.sid!=null&&Object.hasOwnProperty.call(_t,"sid")&&_o.uint32(42).string(_t.sid),_t.requestts!=null&&Object.hasOwnProperty.call(_t,"requestts")&&_o.uint32(48).int64(_t.requestts),_t.replyts!=null&&Object.hasOwnProperty.call(_t,"replyts")&&_o.uint32(56).int64(_t.replyts),_t.target!=null&&Object.hasOwnProperty.call(_t,"target")&&_o.uint32(66).string(_t.target),_t.eventtype!=null&&Object.hasOwnProperty.call(_t,"eventtype")&&_o.uint32(74).string(_t.eventtype),_t.revision!=null&&Object.hasOwnProperty.call(_t,"revision")&&_o.uint32(80).int64(_t.revision),_t.uuid!=null&&Object.hasOwnProperty.call(_t,"uuid")&&_o.uint32(90).string(_t.uuid),_t.sdktype!=null&&Object.hasOwnProperty.call(_t,"sdktype")&&_o.uint32(96).int32(_t.sdktype),_t.flags!=null&&Object.hasOwnProperty.call(_t,"flags")&&_o.uint32(104).int64(_t.flags),_t.code!=null&&Object.hasOwnProperty.call(_t,"code")&&_o.uint32(112).int32(_t.code),_t.seq!=null&&Object.hasOwnProperty.call(_t,"seq")&&_o.uint32(120).int64(_t.seq),_t.index!=null&&Object.hasOwnProperty.call(_t,"index")&&bc.CommonIndex.encode(_t.index,_o.uint32(130).fork()).ldelim(),_t.lock!=null&&Object.hasOwnProperty.call(_t,"lock")&&_o.uint32(138).string(_t.lock),_t.lockrev!=null&&Object.hasOwnProperty.call(_t,"lockrev")&&_o.uint32(144).int64(_t.lockrev),_t.subtarget!=null&&Object.hasOwnProperty.call(_t,"subtarget")&&_o.uint32(154).string(_t.subtarget),_t.usersid!=null&&Object.hasOwnProperty.call(_t,"usersid")&&_o.uint32(162).string(_t.usersid),_o},_r}(),sL=bc.SyncSubscribeEvent=function(){function _r(_t){if(_t)for(var _o=Object.keys(_t),yl=0;yl<_o.length;++yl)_t[_o[yl]]!=null&&(this[_o[yl]]=_t[_o[yl]])}return _r.prototype.lts=O.Long?O.Long.fromBits(0,0,!1):0,_r.prototype.userid="",_r.prototype.vid=O.Long?O.Long.fromBits(0,0,!1):0,_r.prototype.sid="",_r.prototype.target="",_r.prototype.eventtype="",_r.prototype.sdktype=0,_r.prototype.flags=O.Long?O.Long.fromBits(0,0,!1):0,_r.prototype.code=0,_r.prototype.seq=O.Long?O.Long.fromBits(0,0,!1):0,_r.prototype.requestts=O.Long?O.Long.fromBits(0,0,!1):0,_r.prototype.replyts=O.Long?O.Long.fromBits(0,0,!1):0,_r.prototype.index=null,_r.prototype.subtarget="",_r.prototype.usersid="",_r.encode=function(_t,_o){return _o||(_o=vc.create()),_t.lts!=null&&Object.hasOwnProperty.call(_t,"lts")&&_o.uint32(8).int64(_t.lts),_t.userid!=null&&Object.hasOwnProperty.call(_t,"userid")&&_o.uint32(26).string(_t.userid),_t.vid!=null&&Object.hasOwnProperty.call(_t,"vid")&&_o.uint32(32).int64(_t.vid),_t.sid!=null&&Object.hasOwnProperty.call(_t,"sid")&&_o.uint32(42).string(_t.sid),_t.target!=null&&Object.hasOwnProperty.call(_t,"target")&&_o.uint32(66).string(_t.target),_t.eventtype!=null&&Object.hasOwnProperty.call(_t,"eventtype")&&_o.uint32(74).string(_t.eventtype),_t.sdktype!=null&&Object.hasOwnProperty.call(_t,"sdktype")&&_o.uint32(96).int32(_t.sdktype),_t.flags!=null&&Object.hasOwnProperty.call(_t,"flags")&&_o.uint32(104).int64(_t.flags),_t.code!=null&&Object.hasOwnProperty.call(_t,"code")&&_o.uint32(112).int32(_t.code),_t.seq!=null&&Object.hasOwnProperty.call(_t,"seq")&&_o.uint32(120).int64(_t.seq),_t.requestts!=null&&Object.hasOwnProperty.call(_t,"requestts")&&_o.uint32(128).int64(_t.requestts),_t.replyts!=null&&Object.hasOwnProperty.call(_t,"replyts")&&_o.uint32(136).int64(_t.replyts),_t.index!=null&&Object.hasOwnProperty.call(_t,"index")&&bc.CommonIndex.encode(_t.index,_o.uint32(146).fork()).ldelim(),_t.subtarget!=null&&Object.hasOwnProperty.call(_t,"subtarget")&&_o.uint32(154).string(_t.subtarget),_t.usersid!=null&&Object.hasOwnProperty.call(_t,"usersid")&&_o.uint32(162).string(_t.usersid),_o},_r}(),tL=bc.SyncUpdateEvent=function(){function _r(_t){if(_t)for(var _o=Object.keys(_t),yl=0;yl<_o.length;++yl)_t[_o[yl]]!=null&&(this[_o[yl]]=_t[_o[yl]])}return _r.prototype.lts=O.Long?O.Long.fromBits(0,0,!1):0,_r.prototype.userid="",_r.prototype.vid=O.Long?O.Long.fromBits(0,0,!1):0,_r.prototype.sid="",_r.prototype.replyts=O.Long?O.Long.fromBits(0,0,!1):0,_r.prototype.target="",_r.prototype.eventtype="",_r.prototype.revision=O.Long?O.Long.fromBits(0,0,!1):0,_r.prototype.sdktype=0,_r.prototype.flags=O.Long?O.Long.fromBits(0,0,!1):0,_r.prototype.count=0,_r.prototype.delta=0,_r.prototype.code=0,_r.prototype.index=null,_r.prototype.subtarget="",_r.encode=function(_t,_o){return _o||(_o=vc.create()),_t.lts!=null&&Object.hasOwnProperty.call(_t,"lts")&&_o.uint32(8).int64(_t.lts),_t.userid!=null&&Object.hasOwnProperty.call(_t,"userid")&&_o.uint32(26).string(_t.userid),_t.vid!=null&&Object.hasOwnProperty.call(_t,"vid")&&_o.uint32(32).int64(_t.vid),_t.sid!=null&&Object.hasOwnProperty.call(_t,"sid")&&_o.uint32(42).string(_t.sid),_t.replyts!=null&&Object.hasOwnProperty.call(_t,"replyts")&&_o.uint32(56).int64(_t.replyts),_t.target!=null&&Object.hasOwnProperty.call(_t,"target")&&_o.uint32(66).string(_t.target),_t.eventtype!=null&&Object.hasOwnProperty.call(_t,"eventtype")&&_o.uint32(74).string(_t.eventtype),_t.revision!=null&&Object.hasOwnProperty.call(_t,"revision")&&_o.uint32(80).int64(_t.revision),_t.sdktype!=null&&Object.hasOwnProperty.call(_t,"sdktype")&&_o.uint32(96).int32(_t.sdktype),_t.flags!=null&&Object.hasOwnProperty.call(_t,"flags")&&_o.uint32(104).int64(_t.flags),_t.count!=null&&Object.hasOwnProperty.call(_t,"count")&&_o.uint32(112).int32(_t.count),_t.delta!=null&&Object.hasOwnProperty.call(_t,"delta")&&_o.uint32(120).int32(_t.delta),_t.code!=null&&Object.hasOwnProperty.call(_t,"code")&&_o.uint32(128).int32(_t.code),_t.index!=null&&Object.hasOwnProperty.call(_t,"index")&&bc.CommonIndex.encode(_t.index,_o.uint32(138).fork()).ldelim(),_t.subtarget!=null&&Object.hasOwnProperty.call(_t,"subtarget")&&_o.uint32(162).string(_t.subtarget),_o},_r}(),uL=bc.CommonIndex=function(){function _r(_t){if(_t)for(var _o=Object.keys(_t),yl=0;yl<_o.length;++yl)_t[_o[yl]]!=null&&(this[_o[yl]]=_t[_o[yl]])}return _r.prototype.index1="",_r.prototype.index2="",_r.prototype.index3="",_r.encode=function(_t,_o){return _o||(_o=vc.create()),_t.index1!=null&&Object.hasOwnProperty.call(_t,"index1")&&_o.uint32(10).string(_t.index1),_t.index2!=null&&Object.hasOwnProperty.call(_t,"index2")&&_o.uint32(18).string(_t.index2),_t.index3!=null&&Object.hasOwnProperty.call(_t,"index3")&&_o.uint32(26).string(_t.index3),_o},_r}(),xC=Object.freeze({__proto__:null,Session:gL,ApEvent:hL,ApRequest:iL,LinkLoginRequest:jL,Link:kL,Logout:lL,KickedOff:mL,ChnJoin:nL,ChnJoinRes:oL,ChnLeave:pL,ConnectionStateChange:qL,RtmSdkMessageCount:Bx,SyncOperateEvent:rL,SyncSubscribeEvent:sL,SyncUpdateEvent:tL,CommonIndex:uL,default:bc}),yC=Object.freeze({__proto__:null,Counter:1,ApiExec:154,Session:164,ApEvent:165,Link:166,Logout:167,TxMessage:168,RxMessage:169,KickedOff:170,TxMessageRes:171,ChnJoin:172,ChnJoinRes:173,ChnLeave:174,ChnGetMembers:175,ChnGetMembersRes:176,ChnMemberJoined:177,ChnMemberLeft:178,QueryPeersOnlineStatus:179,QueryPeersOnlineStatusRes:180,RenewToken:181,OperateAttribute:186,OperateAttributeRes:187,ApRequest:188,LinkTcpEvent:189,LinkLoginRequest:190,ConnectionStateChange:191,RtmSdkMessageCount:510,SyncOperateEvent:9654,SyncSubscribeEvent:9651,default:{Counter:1,ApiExec:154,Session:164,ApEvent:165,Link:166,Logout:167,TxMessage:168,RxMessage:169,KickedOff:170,TxMessageRes:171,ChnJoin:172,ChnJoinRes:173,ChnLeave:174,ChnGetMembers:175,ChnGetMembersRes:176,ChnMemberJoined:177,ChnMemberLeft:178,QueryPeersOnlineStatus:179,QueryPeersOnlineStatusRes:180,RenewToken:181,OperateAttribute:186,OperateAttributeRes:187,ApRequest:188,LinkTcpEvent:189,LinkLoginRequest:190,ConnectionStateChange:191,RtmSdkMessageCount:510,SyncOperateEvent:9654,SyncSubscribeEvent:9651}}),Cx=il(),sp=function(_r){function _t(yl,El,_l,Tl,Il,Al){var Rl,Fl;ab(this,_t);var Bl=_o.call(this,Il,Pm("Socket-",Il.loggerId));if(E(L(Bl),"isActiveClose",!1),E(L(Bl),"loggedIn",!1),E(L(Bl),"useNewDomain",void 0),E(L(Bl),"receivedPacket",new ec),E(L(Bl),"open$",void 0),E(L(Bl),"input$",new ec),E(L(Bl),"userJoin$",new ec),E(L(Bl),"attemptsSinceLastError",0),E(L(Bl),"message$",new ec),E(L(Bl),"socket$",void 0),E(L(Bl),"toClose",new ec),E(L(Bl),"toReconnect",new ec),E(L(Bl),"sendLogger",void 0),E(L(Bl),"receiveLogger",void 0),E(L(Bl),"ip",void 0),E(L(Bl),"env",void 0),E(L(Bl),"ticket",void 0),E(L(Bl),"context",void 0),E(L(Bl),"getDomain",function(){return Ds(Bl.ip,Bl.useNewDomain)}),E(L(Bl),"socketReconnector",function(_f){var _h=function(vp){return Bl.attemptsSinceLastError+=1,Bl.warn("The %s of Env %d reconnecting %s",Bl.name,Bl.env,vp.message),Fe(3e3)};return _f.pipe(Rb(function(vp){return Bl.log("socket connection closed"),Bl.loggedIn=!1,2<=Bl.attemptsSinceLastError?(Bl.warn("socket connection failure"),Bl.emit("connectionFailure"),Bl.close(),Va(vp)):Bl.isActiveClose?$c:(Bl.emit("reconnect"),Bl.useNewDomain=!Bl.useNewDomain,Va(vp))}),Zg(function(vp){return vp.pipe(Cc(_h))}))}),Bl.ip=yl,Bl.env=El,Bl.ticket=_l,Bl.context=Tl,Bl.useNewDomain=Al??.5<=Math.random(),Bl.sendLogger=Bl.genLogger("RTM:MSG:SEND"),Bl.receiveLogger=Bl.genLogger("RTM:MSG:RECV"),El!==0&&El!==1)throw new Cx({ILLEGAL_RTM_ENV:"The env number is out of rtm env count"});var Gl=Jh[El];Bl.log("Opening websocket address %s for the Env %d",Bl.ip,Bl.env),$a("LinkLoginRequest",{sid:Bl.context.sid,userId:Bl.context.uid,lts:D.fromNumber(Date.now()),elapse:Nb(Bl.context.startTime),destServerIp:Bl.ip,linkId:Bl.env},(Rl=Bl.context.config.enableCloudProxy||Bl.context.socketUseProxy)!==null&&Rl!==void 0&&Rl),$a("LinkLoginRequest",{sid:Bl.context.sid,userId:Bl.context.uid,lts:D.fromNumber(Date.now()),elapse:Nb(Bl.context.startTime),destServerIp:Bl.ip,linkId:Bl.env},(Fl=Bl.context.config.enableCloudProxy||Bl.context.socketUseProxy)!==null&&Fl!==void 0&&Fl);var Ql=Nc(Bl.input$,Bl.userJoin$.pipe(kC(2)),Bl.message$).pipe(Wa(function(_f){return gl.encode(_f).finish()}));return yl=Nc(lC("",{protocols:[],makeWebSocket:function(){if(Bl.context.config.enableCloudProxy||Bl.context.socketUseProxy){if(Bl.context.cloudProxyServers.length===0)throw Bl.logError("No cloud proxy server to connect"),new Pa;var _f=ui(null)?JSON.parse(null.replace(/-/g,".")):Bl.context.cloudProxyServers;_f=dh(_f="wss://".concat(Ds(Es(_f),!1),"/"),"sid",Bl.context.sid),_f=dh(_f,"remote_port",Gl.toString()),_f=dh(_f,"remote_ip",Bl.ip),_f=dh(_f,"token",Bl.context.key),_f=new WebSocket(_f)}else _f=new WebSocket("wss://".concat(Bl.getDomain(),":").concat(Gl));return _f.binaryType="arraybuffer",_f}}),Bl.toReconnect),Bl.socket$=bb(yl,ap.pipe(Oc(7e3),Rb(function(_f){return uc(_f)&&Bl.warn("socket open timed out"),Va(_f)}))).pipe(Wa(function(_f){if(_f instanceof Error)throw Bl.warn("Env_%d: Force reconnect the socket",Bl.env),_f;return _f(Ql).pipe(Wa(function(_h){return gl.decode(new Uint8Array(_h))}))}),Bl.socketReconnector),Bl.open$=Bl.socket$.pipe(Ka(function(_f){Bl.log("Websocket opened",Bl.name),_f.subscribe(function(_h){var vp=_h.data;_h=Tm[_h.uri].slice(0,-3),vp=Cs[_h].decode(vp);var up=UI({},Oo(vp,"toJSON"),function(Ip,Pp){return Pp instanceof D?rs(Pp):Pp}),_d=!1;if((vp instanceof bx||vp instanceof ax)&&vp.instance.lessThanOrEqual(4294967295)&&(_d=!0),vp instanceof cx||vp instanceof dx){var Ep=vp.instance,Op=vp.sequence;(vp.dialogue.lessThanOrEqual(4294967295)||Ep.lessThanOrEqual(4294967295)||Op.lessThan(1))&&(_d=!0)}_d?Bl.warn("Env_%d: Illegal %s, abandoned %o",Bl.env,_h,up):(_h!=="Pong"&&Bl.receiveLogger("Env_%d: %s %o",Bl.env,_h,up),Bl.receivedPacket.next([_h,vp]))},function(){})}),ni(void 0),he(Bl.toClose),$g()),Bl}nb(_t,_r);var _o=ob(_t);return Qb(_t,[{key:"address",get:function(){return"".concat(this.ip,":").concat(Jh[this.env])}},{key:"sendPacket",value:function(yl,El){if(yl!=="Ping"){var _l=Pe(El,function(Tl){return Tl instanceof D?rs(Tl):Tl});this.sendLogger("Env_%d: %s %o",this.env,yl,_l)}El=vC(yl,El),yl==="UserJoin"?this.userJoin$.next(El):yl==="Message"?this.message$.next(El):this.input$.next(El)}},{key:"close",value:function(){this.isActiveClose=!0,this.loggedIn=!1,this.toClose.next()}},{key:"fromReceived",value:function(yl){return this.receivedPacket.pipe(sc(function(El){return Lb(El,1)[0]===yl}),Wa(function(El){return Lb(El,2)[1]}))}},{key:"forceReconnect",value:function(){this.toReconnect.next(new Cx({FORCE_RECONNECTING:"Connection seems broken, try force reconnecting"}))}}]),_t}(Dd());wa({target:"String",proto:!0,forced:fx},{padStart:function(_r){return vK(this,_r,1<arguments.length?arguments[1]:void 0)}});var vL=function(_r){var _t=vi(Yj);_r=qC(_r);for(var _o=0;_o<_t.length;_o++){var yl=Yj[_t[_o]];if(yl!=null&&yl.AP_DOMAINS.includes(_r)||yl!=null&&yl.AP_BACKUP_DOMAINS.includes(_r)||yl!=null&&yl.PROXY_AP.includes(_r))return[yl.CODE]}return[oa.CHINA,oa.GLOBAL]},wL={INVALID_APP_ID:"Illegal App ID",NO_AUTHORIZED:"Signature verification failed",TOKEN_TIMEOUT:"Dynamic key expired",INVALID_TOKEN_UID:"UID in the security key(token) is not valid",APP_ID_NO_ACTIVATED:"The vendor is not activated",DYNAMIC_KEY_NOT_ENABLED:"The vendor did not enable the dynamic key, but uses the dynamic key",DYNAMIC_ENABLED_BUT_STATIC_KEY:"The vendor enabled the dynamic key, but uses the static key",TOKEN_EXPIRED:"The token has expired",INVALID_USER_ID:"The user ID to login does not match the token",FORBIDDEN_REGION:"Forbidden to access the request in this area",CANNOT_MEET_AREA_DEMAND:"Cannot allocate to meet the requirements of the given area limit"},Dx={5:"INVALID_APP_ID",7:"INVALID_USER_ID",9:"NO_AUTHORIZED",10:"TOKEN_TIMEOUT",11:"APP_ID_NO_ACTIVATED",12:"INVALID_TOKEN_UID",13:"TOKEN_EXPIRED",14:"DYNAMIC_KEY_NOT_ENABLED",15:"DYNAMIC_ENABLED_BUT_STATIC_KEY",18:"FORBIDDEN_REGION",19:"CANNOT_MEET_AREA_DEMAND"},xL=[100,101,102],jl=/web-(\d)/,Ex=function(_r){function _t(yl,El){var _l=2<arguments.length&&arguments[2]!==void 0&&arguments[2];ab(this,_t);var Tl=_o.call(this,El,"AccessPoint");return E(L(Tl),"handleUniLbsError",function(Il,Al){var Rl=Il;if(4<Il.toString().length){var Fl=Il.toString().padStart(8,"0"),Bl=parseInt(Fl.slice(0,4),10);if(Fl=parseInt(Fl.slice(4,8),10),Bl===201)Rl=Fl;else if(Bl===101&&!xL.includes(Fl))return Va(Error("service is currently unavailable"))}if(Bl=Rl.toString(),!Object.keys(Dx).includes(Bl))return(Il=new Pa(["Login is rejected by the server. The response code is %d",Il],ij)).serverCode=Rl,Va(Il);switch(Bl=Dx[Bl],Rl=wL[Bl],Bl){case"INVALID_APP_ID":case"APP_ID_NO_ACTIVATED":return(Al=new Gh(Rl,Fw)).serverCode=Il,Va(Al);case"INVALID_USER_ID":return(Al=new Gh(Rl,al)).serverCode=Il,Va(Al);case"TOKEN_EXPIRED":case"TOKEN_TIMEOUT":return(Al=new Gh(Rl,bl)).serverCode=Il,Va(Al);case"NO_AUTHORIZED":case"INVALID_TOKEN_UID":case"DYNAMIC_KEY_NOT_ENABLED":case"DYNAMIC_ENABLED_BUT_STATIC_KEY":return(Al=new Gh(Rl,Gw)).serverCode=Il,Va(Al);case"CANNOT_MEET_AREA_DEMAND":return(Al=vL(Al)).forEach(function(Gl){return Tl.failedAreas.add(Gl)}),Tl.failedAreas.size===(Ba===void 0?2:Ba.CODES.size)?((Al=new ja(Rl,ij)).serverCode=Il,Va(Al)):Va(Error("ap ".concat(Al.join(", ")," cannot meet requirement")));case"FORBIDDEN_REGION":return(Al=new Pa(Rl,ij)).serverCode=Il,Va(Al);default:return Va(ps("ApResErrType",Bl))}}),E(L(Tl),"getApEdgeInfo$",void 0),E(L(Tl),"getApEdgeInfoEndFirst$",void 0),E(L(Tl),"apFinish$",new ec),E(L(Tl),"retryCount",0),E(L(Tl),"failedAreas",new Set),E(L(Tl),"usedUrl",[]),E(L(Tl),"newDomainUsed",!1),E(L(Tl),"backupNewDomainUsed",!1),E(L(Tl),"genUrl",function(){return Ba===void 0?zm.apply(void 0,ra(Ih([cL,dL]))).pipe(Am(function(Il){return Wb.apply(void 0,ra(Il))})):Wb.apply(void 0,ra(Ba.AP_DOMAINS.slice(0,3).map(xg)))}),E(L(Tl),"genBackupUrl",function(){return Ba===void 0?zm.apply(void 0,ra(Ih([eL,fL]))).pipe(Am(function(Il){return Wb.apply(void 0,ra(Il))})):Wb.apply(void 0,ra(Ba.AP_BACKUP_DOMAINS.slice(0,3).map(xg)))}),E(L(Tl),"getApUrl$",function(Il){var Al,Rl;return Tl.genUrl().pipe(sc(function(Fl){return(!Tl.newDomainUsed||!Fl.includes("sd-rtn.com"))&&(Fl.includes("sd-rtn.com")&&(Tl.newDomainUsed=!0),!mp(Tl.usedUrl,function(Bl){var Gl;return Bl===((Gl=Fl.match(jl))===null||Gl===void 0?void 0:Gl[1])}))}),Ka(function(Fl){var Bl;Ba===void 0&&typeof(Fl=(Bl=Fl.match(jl))===null||Bl===void 0?void 0:Bl[1])=="string"&&Tl.usedUrl.push(Fl)}),Xb(Il?Math.max(Yd.RECONNECTING_AP_NUM,(Al=Ba==null?void 0:Ba.CODES.size)!==null&&Al!==void 0?Al:0):(Rl=Ba==null?void 0:Ba.CODES.size)!==null&&Rl!==void 0?Rl:2),Zf(function(){return _t.runOutOfUrlSymbol}),Rb(function(Fl,Bl){return Tl.newDomainUsed=!1,Fl===_t.runOutOfUrlSymbol?(Tl.usedUrl=[],Bl):Va(Fl)}))}),E(L(Tl),"getBackupApUrl$",function(Il){var Al,Rl;return Tl.genBackupUrl().pipe(sc(function(Fl){return(!Tl.backupNewDomainUsed||!Fl.includes("sd-rtn.com"))&&(Fl.includes("sd-rtn.com")&&(Tl.backupNewDomainUsed=!0),!mp(Tl.usedUrl,function(Bl){var Gl;return Bl===((Gl=Fl.match(jl))===null||Gl===void 0?void 0:Gl[1])}))}),Ka(function(Fl){var Bl;Ba===void 0&&typeof(Fl=(Bl=Fl.match(jl))===null||Bl===void 0?void 0:Bl[1])=="string"&&Tl.usedUrl.push(Fl)}),Xb(Il?Math.max(Yd.RECONNECTING_AP_NUM,(Al=Ba==null?void 0:Ba.CODES.size)!==null&&Al!==void 0?Al:0):(Rl=Ba==null?void 0:Ba.CODES.size)!==null&&Rl!==void 0?Rl:2),Zf(function(){return _t.runOutOfUrlSymbol}),Rb(function(Fl,Bl){return Tl.backupNewDomainUsed=!1,Fl===_t.runOutOfUrlSymbol?(Tl.usedUrl=[],Bl):Va(Fl)}))}),E(L(Tl),"getProxyApUrl$",function(Il){var Al,Rl;return Wb.apply(void 0,ra(((Ba==null?void 0:Ba.PROXY_AP.slice(0,3))||["ap-proxy-1.agora.io","ap-proxy-2.agora.io"]).map(xg))).pipe(Xb(Il?Math.max(Yd.RECONNECTING_AP_NUM,(Al=Ba==null?void 0:Ba.CODES.size)!==null&&Al!==void 0?Al:0):(Rl=Ba==null?void 0:Ba.CODES.size)!==null&&Rl!==void 0?Rl:2))}),E(L(Tl),"context",void 0),E(L(Tl),"fetchCloudProxy",function(Il,Al){var Rl=Pm("AP-",Tl.loggerId);Tl.log("The AccessPoint requests %s(%s)",Il,Rl);var Fl,Bl=new AbortController;return Tl.apFinish$.pipe(Xb(1)).subscribe(function(){return Bl.abort()}),lf(za(W.mark(function Gl(){var Ql,_f;return W.wrap(function(_h){for(;;)switch(_h.prev=_h.next){case 0:return _f=Qj(0,Number.MAX_SAFE_INTEGER),Tl.log("%s request opid: %d",Rl,_f),$a("ApRequest",{sid:Tl.context.sid,userId:Tl.context.uid,lts:D.fromNumber(Date.now()),elapse:Nb(Tl.context.startTime),apAddr:Il,opId:D.fromNumber(_f),envId:0,flag:128},(Ql=Tl.context.config.enableCloudProxy)!==null&&Ql!==void 0&&Ql),_h.abrupt("return",Tj(Il,{headers:{"X-Packet-Service-Type":"0","X-Packet-URI":"90","Content-Type":"application/json"},body:{sid:Tl.context.sid,opid:_f,appid:Tl.context.appId,client_ts:Math.ceil(Date.now()/1e3),request_bodies:[{uri:22,buffer:{service_ids:[7,16],key:Al??Tl.context.key,cname:Tl.context.uid,uid:0,detail:tb({},Ba===void 0?{11:[oa.CHINA,oa.GLOBAL].join(),12:"1"}:{11:Array.from(Ba.CODES).map(function(vp){return vp===oa.OVERSEA?"".concat(oa.ASIA,",").concat(oa.EUROPE,",").concat(oa.AFRICA,",").concat(oa.NORTH_AMERICA,",").concat(oa.SOUTH_AMERICA,",").concat(oa.OCEANIA):vp}).join(","),12:"1"})}}]},signal:Bl.signal}));case 4:case"end":return _h.stop()}},Gl)}))).pipe(Rb(function(Gl){return Gl.name!=="AbortError"&&(Tl.logError(Gl),Tl.warn("The AP server %s request failure",Il,Gl)),$c}),Ac((Fl=za(W.mark(function Gl(Ql){var _f,_h,vp,up,_d,Ep,Op,Ip,Pp,xp,Np,Kp,Tp,Dp,Bp,Qp,Cp,$p,Vp;return W.wrap(function(Hp){for(;;)switch(Hp.prev=Hp.next){case 0:if(_f=Ql.responseText,_h=JSON.parse(_f),Tl.log("The %s response is %o",Rl,_h),((vp=_h.response_body)===void 0||vp.length===0||vp.some(function(Up){var Yp;return((Yp=Up.buffer)===null||Yp===void 0?void 0:Yp.code)===void 0||Up.uri!==23}))&&Va(new Pa("cloud proxy response_body not valid",ij)),(up=vp.filter(function(Up){return Up.buffer.code!==0})).length===0){Hp.next=14;break}if((_d=up.find(function(Up){return Up.buffer.flag===128}))===void 0){Hp.next=12;break}return Hp.abrupt("return",Tl.handleUniLbsError(_d.buffer.code,Il));case 12:return Tl.logError("cloud proxy error response"),Hp.abrupt("return",Tl.handleUniLbsError(up[0].buffer.code,Il));case 14:for(Ep=[],Op=0;Op<vp.length;Op++)if(((xp=vp[Op])==null||(Ip=xp.buffer)===null||Ip===void 0?void 0:Ip.flag)===262144)(Np=xp.buffer)===null||Np===void 0||(Kp=Np.edges_services)===null||Kp===void 0||(Tp=Kp.forEach)===null||Tp===void 0||Tp.call(Kp,function(Up){ns(Up=Up.ip)&&Tl.context.cloudProxyServers.indexOf(Up)===-1&&(Tl.log("got cloud proxy server: %s",Up),Tl.context.cloudProxyServers.push(Up))});else if((xp==null||(Pp=xp.buffer)===null||Pp===void 0?void 0:Pp.flag)===128){for(Cp=function(Up,Yp){var zp=Yp[Up];Ep.some(function(_v){return _v.ip===zp.ip})||Ep.push({ip:zp.ip,ticket:xp.buffer.cert})},$p=0,Vp=xp.buffer.edges_services;$p<Vp.length;$p++)Cp($p,Vp);Tl.context.rtmArea=(Dp=(Bp=xp.buffer)===null||Bp===void 0||(Qp=Bp.detail)===null||Qp===void 0?void 0:Qp[9])!==null&&Dp!==void 0?Dp:""}return Hp.abrupt("return",Wb.apply(void 0,ra(Ep).concat([fj])));case 19:case"end":return Hp.stop()}},Gl)})),function(Gl){return Fl.apply(this,arguments)})),Rb(function(Gl){return Sa(Gl)?Va(Gl):$c}),Ij(),sc(function(Gl){return Gl!==void 0&&typeof Gl.ip=="string"&&typeof Gl.ticket=="string"&&ns(Gl.ip)}))}),E(L(Tl),"fetchAp",function(Il,Al){var Rl=Pm("AP-",Tl.loggerId);Tl.log("The AccessPoint requests %s(%s)",Il,Rl);var Fl=new AbortController;Tl.apFinish$.pipe(Xb(1)).subscribe(function(){return Fl.abort()});var Bl,Gl=Qj(0,Number.MAX_SAFE_INTEGER);return lf(za(W.mark(function Ql(){var _f;return W.wrap(function(_h){for(;;)switch(_h.prev=_h.next){case 0:return Tl.log("%s request opid: %d",Rl,Gl),$a("ApRequest",{sid:Tl.context.sid,userId:Tl.context.uid,lts:D.fromNumber(Date.now()),elapse:Nb(Tl.context.startTime),apAddr:Il,opId:D.fromNumber(Gl),envId:0,flag:128},(_f=Tl.context.config.enableCloudProxy)!==null&&_f!==void 0&&_f),_h.abrupt("return",Tj(Il,{headers:{"X-Packet-Service-Type":"0","X-Packet-URI":"69","Content-Type":"application/json"},body:{flag:128,opid:Gl,key:Al||Tl.context.key,cname:Tl.context.uid,detail:tb({},Ba===void 0?{11:[oa.CHINA,oa.GLOBAL].join(),12:"1"}:{11:Array.from(Ba.CODES).map(function(vp){return vp===oa.OVERSEA?"".concat(oa.ASIA,",").concat(oa.EUROPE,",").concat(oa.AFRICA,",").concat(oa.NORTH_AMERICA,",").concat(oa.SOUTH_AMERICA,",").concat(oa.OCEANIA):vp}).join(","),12:"1"}),uid:0,sid:Tl.context.sid},signal:Fl.signal}));case 3:case"end":return _h.stop()}},Ql)}))).pipe(Rb(function(Ql){return Ql.name!=="AbortError"&&(Tl.logError(Ql),Tl.warn("The AP server %s request failure",Il,Ql)),$c}),Ac((Bl=za(W.mark(function Ql(_f){var _h,vp,up,_d,Ep,Op,Ip,Pp,xp,Np;return W.wrap(function(Kp){for(;;)switch(Kp.prev=Kp.next){case 0:if(up=_f.responseText,_d=JSON.parse(up),Tl.log("The %s response is %o",Rl,_d),Op=(Ep=_d).code,Ip=Ep.addresses,Pp=Ep.detail,Tl.context.vid=(_h=Pp[8])!==null&&_h!==void 0?_h:"",$a("ApEvent",{sid:Tl.context.sid,userId:Tl.context.uid,lts:D.fromNumber(Date.now()),elapse:Nb(Tl.context.startTime),apAddr:Il,linkServerList:Ip.map(function(Tp){return Tp.ip}),serverErrCode:Op,flag:128,envId:0,opId:D.fromNumber(Gl),errCode:0,area:Pp[9],isp:Pp[2]},(vp=Tl.context.config.enableCloudProxy)!==null&&vp!==void 0&&vp),Tl.info(_d),Op===0){Kp.next=9;break}return Kp.abrupt("return",Tl.handleUniLbsError(Op,Il));case 9:if(xp=Ip,ui(null)&&(Np=JSON.parse(null.replace(/-/g,".")),xp=Np.map(function(Tp){return{ip:Tp,ticket:xp[0].ticket}})),xp.length!==0){Kp.next=14;break}return Kp.abrupt("return",Va(Error("No available edge address to connect")));case 14:return Tl.context.rtmArea=Pp==null?void 0:Pp[9],Kp.abrupt("return",Wb.apply(void 0,ra(xp).concat([fj])));case 16:case"end":return Kp.stop()}},Ql)})),function(Ql){return Bl.apply(this,arguments)})),Ij(),Rb(function(Ql){return Sa(Ql)?Va(Ql):$c}),sc(function(Ql){return Ql!==void 0&&typeof Ql.ip=="string"&&typeof Ql.ticket=="string"}))}),Tl.context=yl,Tl.getApEdgeInfoEndFirst$=function(){var Il=0<arguments.length&&arguments[0]!==void 0&&arguments[0];return Fe(0,Il||_l?Yd.RECONNECTING_AP_INTERVAL:2e3).pipe(Xb(1),Ka(function(){Tl.retryCount+=1}),Ac(function(){return Tl.context.config.enableCloudProxy||Tl.context.socketUseProxy?Tl.getProxyApUrl$(Il||_l):(4<=Tl.retryCount&&(Tl.retryCount=0),3>=Tl.retryCount?Tl.getApUrl$(Il||_l):Tl.getBackupApUrl$(Il||_l))}),Ac(function(Al){return Tl.context.config.enableCloudProxy||Tl.context.socketUseProxy?Tl.fetchCloudProxy(Al):Tl.fetchAp(Al)}),Rb(function(Al){return Al instanceof ad&&Tl.warn("AP request timeout"),Va(Al)}),Vr(function(Al){return Al.ip}),he(Tl.apFinish$))},Tl.getApEdgeInfo$=function(Il){return Fe(0,Il||_l?Yd.RECONNECTING_AP_INTERVAL:2e3).pipe(Xb(8),Ka(function(){Tl.retryCount+=1}),Ac(function(){return Tl.context.config.enableCloudProxy||Tl.context.socketUseProxy?Tl.getProxyApUrl$(Il||_l):3>=Tl.retryCount?Tl.getApUrl$(Il||_l):Tl.getBackupApUrl$(Il||_l)}),Ac(function(Al){return(Tl.context.config.enableCloudProxy||Tl.context.socketUseProxy?Tl.fetchCloudProxy(Al):Tl.fetchAp(Al)).pipe()}),Rb(function(Al){return Al instanceof ad&&Tl.warn("AP request timeout"),Va(Al)}),Vr(function(Al){return Al.ip}),he(Tl.apFinish$))},Tl}nb(_t,_r);var _o=ob(_t);return Qb(_t,[{key:"clearUp",value:function(){this.failedAreas.clear(),this.retryCount=0}}]),_t}(Dd());E(Ex,"runOutOfUrlSymbol",Symbol("AP urls are used up"));var Fx=il(),Gx=function(_r){function _t(yl,El,_l){ab(this,_t);var Tl=_o.call(this,El,"Connection");E(L(Tl),"apClient",void 0),E(L(Tl),"lastOpenSockets",[new ah(1),new ah(1)]),E(L(Tl),"curOpenSockets",[void 0,void 0]),E(L(Tl),"ipIterator",0),E(L(Tl),"loginSocketOpenFailureCount",0),E(L(Tl),"firstEnv",.5<=Math.random()?1:0),E(L(Tl),"firstSocketOpener",void 0),E(L(Tl),"secondSocketOpener",void 0),E(L(Tl),"firstOpenKeeperSubject",new ec),E(L(Tl),"secondOpenKeeperSubject",new ec),E(L(Tl),"blacklistedIP",{}),E(L(Tl),"edgeInfoReplayed",void 0),E(L(Tl),"firstEnvOpenSocket",void 0),E(L(Tl),"firstOpenKeeperSub",void 0),E(L(Tl),"secondOpenKeeperSub",void 0),E(L(Tl),"context",void 0),E(L(Tl),"logger",void 0),Tl.context=yl,Tl.logger=El,Tl.apClient=new Ex(Tl.context,El),Tl.apClient.apFinish$.subscribe(function(){Tl.log("Ap client fetch finished")});var Il,Al=[];return Tl.edgeInfoReplayed=Tl.apClient.getApEdgeInfo$(_l).pipe(Zg(function(Rl){return Rl.pipe(Ka(function(Fl){if(Sa(Fl))throw Fl}),mf(_l?wg.getParameter("RECONNECTING_AP_INTERVAL"):900),he(Fe(2e4)))}),sc(function(Rl){var Fl;return!mp(Al,Rl)&&1>=((Fl=Tl.blacklistedIP[Rl.ip])!==null&&Fl!==void 0?Fl:0)}),Zf(function(){return new Fx({AP_NO_AVAILABLE_EDGE:"No available edge address to connect"})}),Ka(function(Rl){Al.push(Rl),Tl.log("An edge info got %o",Rl)}),Ka({error:function(Rl){Tl.emit("connectionInitFailure",Rl)}}),Mj(function(){Tl.apClient.clearUp()}),Yr()),Tl.firstEnvOpenSocket=Tl.edgeInfoReplayed.pipe(Ac(function(Rl){if(Rl===void 0)return Va(Error("Invalid edge info"));var Fl=new sp(Rl.ip,Tl.firstEnv,Rl.ticket,Tl.context,El,Il);if(Tl.firstEnv=Tl.firstEnv===1?0:1,Fl.once("connectionFailure",function(){return Tl.onSocketConnectionFailure(Fl)}),!_l&&Yd.ENABLE_EDGE_AUTO_FALLBACK&&!Tl.context.config.enableCloudProxy){var Bl,Gl=Date.now();Fl.on("reconnect",function(){var Ql;Tl.loginSocketOpenFailureCount+=1,(Ql=Bl)!==null&&Ql!==void 0||(Bl=Date.now()-Gl),500>Bl&&1<Tl.loginSocketOpenFailureCount&&(Tl.context.socketUseProxy=!0)})}return Il=!Fl.useNewDomain,Fl.open$.pipe(ni(Fl))}),Ka(function(Rl){Tl.log("The websocket of ENV_%d opened to %s:%d",Rl.env,Rl.ip,Jh[Rl.env]),Tl.curOpenSockets[Rl.env]=Rl,Tl.lastOpenSockets[Rl.env].next(Rl),Tl.firstEnv=Rl.env,Tl.openSecondSocket(Rl.env,Rl.ip,Rl.useNewDomain)}),Xb(1),$g()),Tl.firstSocketOpener=Tl.firstEnvOpenSocket.pipe(Ac(function(Rl){return Rl.open$.pipe(Ka(function(){Tl.log("The websocket of first ENV_%d re-opened to %s:%d",Rl.env,Rl.ip,Jh[Rl.env]),Tl.curOpenSockets[Rl.env]=Rl,Tl.lastOpenSockets[Rl.env].next(Rl)}))})),yl=Tl.firstOpenKeeperSubject.pipe(Cc(jf)),Tl.firstOpenKeeperSub=yl.subscribe({error:Tl.logError}),Tl}nb(_t,_r);var _o=ob(_t);return Qb(_t,[{key:"initConnection",value:function(){this.firstOpenKeeperSubject.next(this.firstSocketOpener)}},{key:"closeSocket",value:function(yl,El){if(![0,1].includes(yl))throw new rb({INVALID_ENV:"The env argument is not 0 or 1"});var _l=yl===this.firstEnv?this.firstOpenKeeperSub:this.secondOpenKeeperSub;this.firstOpenKeeperSub=void 0;var Tl=this.curOpenSockets[yl];this.curOpenSockets[yl]=void 0,Tl&&(Tl.isActiveClose=!0,setTimeout(function(){Tl.close()},El)),_l!==void 0&&setTimeout(function(){_l==null||_l.unsubscribe()},El)}},{key:"waitClosing",value:function(yl){var El=this;return yl.isActiveClose=!0,yl.open$.pipe(PB(),Rb(function(_l){return _l.message===Tw.normalClosureMessage?$c:Va(_l)}),Oc(5e3),Rb(function(_l){return _l instanceof ad?(El.warn("Force closing the ENV_%d connection",yl.env),$c):Va(_l)}))}},{key:"onSocketConnectionFailure",value:function(yl){var El=[0,1].filter(function(_l){return _l!==yl.env})[0];(El=this.curOpenSockets[El])&&El.loggedIn?this.reopenSocketWithApRequest(yl.env):this.emit("socketsFailure")}},{key:"openSecondSocket",value:function(yl,El,_l){var Tl=this,Il=yl===1?0:1;this.secondSocketOpener=this.edgeInfoReplayed.pipe(Xr(function(Al,Rl){return[].concat(ra(Al),[Rl])},[]),Wa(function(Al){return Rw(Al,function(Rl){return qs(El,Rl.ip)}).slice(-1)[0]}),Xb(1),Ac(function(Al){if(Al===void 0)return Va(Error("Invalid edge info"));var Rl=new sp(Al.ip,Il,Al.ticket,Tl.context,Tl.logger,_l);return Rl.on("connectionFailure",function(){return Tl.onSocketConnectionFailure(Rl)}),Rl.open$.pipe(Ka(function(){Tl.lastOpenSockets[Il].next(Rl),Tl.curOpenSockets[Il]=Rl}))}),$g()),this.secondOpenKeeperSub=this.secondOpenKeeperSubject.pipe(Cc(jf)).subscribe({error:this.logError}),this.secondOpenKeeperSubject.next(this.secondSocketOpener)}},{key:"reopenSocketWithApRequest",value:function(yl){var El=this,_l=[0,1].filter(function(Al){return Al!==yl})[0];if((_l=this.curOpenSockets[_l])!==void 0){var Tl,Il=_l.ip;_l=this.apClient.getApEdgeInfoEndFirst$(!0).pipe(Zf(function(){return new Fx({AP_NO_AVAILABLE_EDGE:"No available edge address to connect"})}),Zg(function(Al){return Al.pipe(Ka(function(Rl){if(Rl.code===bl)El.emit("tokenExpired"),El.apClient.apFinish$.next(void 0);else if(Sa(Rl))throw Rl}),mf(wg.getParameter("RECONNECTING_AP_INTERVAL")),he(Fe(15e3)))}),Ka(function(Al){El.log("An edge info got %o",Al)}),Mj(function(){El.apClient.clearUp()})).pipe(Xr(function(Al,Rl){return[].concat(ra(Al),[Rl])},[]),Wa(function(Al){return(Al=Rw(Al,function(Rl){return qs(Il,Rl.ip)})).length-1>=El.ipIterator?Al.slice(-El.ipIterator++-1)[0]:(El.ipIterator=0,Al.slice(-1)[0])}),Zf(),Ac(function(Al){if(Al===void 0)return Va(Error("Invalid edge info"));var Rl=new sp(Al.ip,yl,Al.ticket,El.context,El.logger,Tl);return Rl.on("connectionFailure",function(){return El.onSocketConnectionFailure(Rl)}),Tl=!Rl.useNewDomain,Rl.open$.pipe(ni(Rl))}),Ka(function(Al){El.log("The websocket of ENV_%d re-opened to %s:%d using ap",Al.env,Al.ip,Jh[Al.env]),El.curOpenSockets[yl]=Al,El.lastOpenSockets[yl].next(Al)}),Ac(function(Al){return Al.open$.pipe(Ka(function(){El.log("The websocket of ENV_%d re-opened to %s:%d",Al.env,Al.ip,Jh[Al.env]),El.curOpenSockets[yl]=Al,El.lastOpenSockets[yl].next(Al)}))}),$g()),yl===this.firstEnv?this.firstOpenKeeperSubject.next(_l):this.secondOpenKeeperSubject.next(_l)}}}]),_t}(Dd()),yL=function(_r){function _t(yl,El,_l){return ab(this,_t),E(L(_l=_o.call(this,_l,"Context")),"_token",void 0),E(L(_l),"config",void 0),E(L(_l),"_uid",void 0),E(L(_l),"_sid",void 0),E(L(_l),"_vid",void 0),E(L(_l),"_startTime",void 0),E(L(_l),"_lastModifyMeteDataTime",-1),E(L(_l),"_lastGetMetaDataTime",-1),E(L(_l),"_lastSubscribeMetaDataTime",-1),E(L(_l),"_area","CN"),E(L(_l),"_socketUseProxy",!1),E(L(_l),"appId",void 0),E(L(_l),"enableCloudProxy",!1),E(L(_l),"cloudProxyServers",[]),_l.appId=yl,_l.config=El,_l}nb(_t,_r);var _o=ob(_t);return Qb(_t,[{key:"socketUseProxy",get:function(){return this._socketUseProxy&&Yd.ENABLE_EDGE_AUTO_FALLBACK},set:function(yl){this.log("socketUseProxy is set to %s",yl),this._socketUseProxy=yl}},{key:"token",set:function(yl){this._token=typeof yl=="string"&&yl?yl:void 0}},{key:"uid",get:function(){if(typeof this._uid=="string"&&this._uid)return this._uid;throw new Ib("Cannot get illegal uid")},set:function(yl){if(this.log("The user ID is set to %s",wb(yl)),!yb(yl))throw new Ib;this._uid=yl}},{key:"vid",get:function(){if(typeof this._vid=="string")return this._vid;throw new Ib("Cannot get illegal vid")},set:function(yl){if(typeof yl!="string")throw new Ib;this._vid=yl}},{key:"key",get:function(){if(typeof this._token=="string"&&this._token)return this._token;if(typeof this.appId=="string"&&this.appId)return this.appId;throw new Ib("Cannot get illegal key")}},{key:"sid",get:function(){if(typeof this._sid=="string"&&this._sid)return this._sid;throw new Ib("Cannot get illegal sid")},set:function(yl){if(this.log("sid is set to %s",yl),typeof yl!="string"||!yl)throw new Ib;this._sid=yl}},{key:"startTime",get:function(){if(typeof this._startTime=="number"&&this._startTime)return this._startTime;throw new Ib("Cannot get illegal startTime")},set:function(yl){if(this.log("startTime is set to %s",yl),typeof yl!="number"||!yl)throw new Ib;this._startTime=yl}},{key:"rtmArea",get:function(){if(typeof this._area=="string"&&this._area)return this._area;throw new Ib("Cannot get illegal area")},set:function(yl){this.log("area is set to %s",yl),typeof yl=="string"&&yl?this._area=yl:this.warn("set area failed")}},{key:"lastModifyMeteDataTime",get:function(){if(typeof this._lastModifyMeteDataTime=="number"&&this._lastModifyMeteDataTime)return this._lastModifyMeteDataTime;throw new Ib("Cannot get illegal lastModifyMeteDataTime")},set:function(yl){if(this.log("lastModifyMeteDataTime is set to %s",yl),typeof yl!="number"||!yl)throw new Ib;this._lastModifyMeteDataTime=yl}},{key:"lastGetMetaDataTime",get:function(){if(typeof this._lastGetMetaDataTime=="number"&&this._lastGetMetaDataTime)return this._lastGetMetaDataTime;throw new Ib("Cannot get illegal lastGetMetaDataTime")},set:function(yl){if(this.log("lastGetMetaDataTime is set to %s",yl),typeof yl!="number"||!yl)throw new Ib;this._lastGetMetaDataTime=yl}},{key:"lastSubscribeMetaDataTime",get:function(){if(typeof this._lastSubscribeMetaDataTime=="number"&&this._lastSubscribeMetaDataTime)return this._lastSubscribeMetaDataTime;throw new Ib("Cannot get illegal lastSubscribeMetaDataTime")},set:function(yl){if(this.log("lastSubscribeMetaDataTime is set to %s",yl),typeof yl!="number"||!yl)throw new Ib;this._lastGetMetaDataTime=yl}}]),_t}(Dd());tu("of",function(){for(var _r=0,_t=arguments.length,_o=new(wh(this))(_t);_t>_r;)_o[_r]=arguments[_r++];return _o},Nn),wa({target:"Array",proto:!0,forced:Rn!==[].lastIndexOf},{lastIndexOf:Rn}),wa({target:"Array",proto:!0},{flatMap:function(_r){var _t=Zb(this),_o=xb(_t.length);Rc(_r);var yl=Ei(_t,0);return yl.length=px(yl,_t,_t,_o,0,1,_r,1<arguments.length?arguments[1]:void 0),yl}}),wf("flatMap");var zL=gg("reduceRight"),AL=!qe&&79<oe&&83>oe;wa({target:"Array",proto:!0,forced:!zL||AL},{reduceRight:function(_r){return Cu(this,_r,arguments.length,1<arguments.length?arguments[1]:void 0)}});var tp=function(_r){return Ga(function(){return!!`	
\v\f\r                　\u2028\u2029\uFEFF`[_r]()||"​᠎"[_r]()!="​᠎"||`	
\v\f\r                　\u2028\u2029\uFEFF`[_r].name!==_r})};wa({target:"String",proto:!0,forced:tp("trim")},{trim:function(){return kk(this)}});var Hx=tp("trimEnd"),Ix=Hx?function(){return lD(this)}:"".trimEnd;wa({target:"String",proto:!0,forced:Hx},{trimEnd:Ix,trimRight:Ix});var Jx=tp("trimStart"),Kx=Jx?function(){return kD(this)}:"".trimStart;wa({target:"String",proto:!0,forced:Jx},{trimStart:Kx,trimLeft:Kx});var Pd=kc(function(_r,_t){(function(){function _o(Fp,Xp,wp){switch(wp.length){case 0:return Fp.call(Xp);case 1:return Fp.call(Xp,wp[0]);case 2:return Fp.call(Xp,wp[0],wp[1]);case 3:return Fp.call(Xp,wp[0],wp[1],wp[2])}return Fp.apply(Xp,wp)}function yl(Fp,Xp,wp,ny){for(var oy=-1,ey=Fp==null?0:Fp.length;++oy<ey;){var Oy=Fp[oy];Xp(ny,Oy,wp(Oy),Fp)}return ny}function El(Fp,Xp){for(var wp=-1,ny=Fp==null?0:Fp.length;++wp<ny&&Xp(Fp[wp],wp,Fp)!==!1;);return Fp}function _l(Fp,Xp){for(var wp=Fp==null?0:Fp.length;wp--&&Xp(Fp[wp],wp,Fp)!==!1;);return Fp}function Tl(Fp,Xp){for(var wp=-1,ny=Fp==null?0:Fp.length;++wp<ny;)if(!Xp(Fp[wp],wp,Fp))return!1;return!0}function Il(Fp,Xp){for(var wp=-1,ny=Fp==null?0:Fp.length,oy=0,ey=[];++wp<ny;){var Oy=Fp[wp];Xp(Oy,wp,Fp)&&(ey[oy++]=Oy)}return ey}function Al(Fp,Xp){return!(Fp==null||!Fp.length)&&-1<up(Fp,Xp,0)}function Rl(Fp,Xp,wp){for(var ny=-1,oy=Fp==null?0:Fp.length;++ny<oy;)if(wp(Xp,Fp[ny]))return!0;return!1}function Fl(Fp,Xp){for(var wp=-1,ny=Fp==null?0:Fp.length,oy=Array(ny);++wp<ny;)oy[wp]=Xp(Fp[wp],wp,Fp);return oy}function Bl(Fp,Xp){for(var wp=-1,ny=Xp.length,oy=Fp.length;++wp<ny;)Fp[oy+wp]=Xp[wp];return Fp}function Gl(Fp,Xp,wp,ny){var oy=-1,ey=Fp==null?0:Fp.length;for(ny&&ey&&(wp=Fp[++oy]);++oy<ey;)wp=Xp(wp,Fp[oy],oy,Fp);return wp}function Ql(Fp,Xp,wp,ny){var oy=Fp==null?0:Fp.length;for(ny&&oy&&(wp=Fp[--oy]);oy--;)wp=Xp(wp,Fp[oy],oy,Fp);return wp}function _f(Fp,Xp){for(var wp=-1,ny=Fp==null?0:Fp.length;++wp<ny;)if(Xp(Fp[wp],wp,Fp))return!0;return!1}function _h(Fp,Xp,wp){var ny;return wp(Fp,function(oy,ey,Oy){if(Xp(oy,ey,Oy))return ny=ey,!1}),ny}function vp(Fp,Xp,wp,ny){var oy=Fp.length;for(wp+=ny?1:-1;ny?wp--:++wp<oy;)if(Xp(Fp[wp],wp,Fp))return wp;return-1}function up(Fp,Xp,wp){if(Xp==Xp)e:{--wp;for(var ny=Fp.length;++wp<ny;)if(Fp[wp]===Xp){Fp=wp;break e}Fp=-1}else Fp=vp(Fp,Ep,wp);return Fp}function _d(Fp,Xp,wp,ny){--wp;for(var oy=Fp.length;++wp<oy;)if(ny(Fp[wp],Xp))return wp;return-1}function Ep(Fp){return Fp!=Fp}function Op(Fp,Xp){var wp=Fp==null?0:Fp.length;return wp?Np(Fp,Xp)/wp:Vy}function Ip(Fp){return function(Xp){return Xp==null?Ap:Xp[Fp]}}function Pp(Fp){return function(Xp){return Fp==null?Ap:Fp[Xp]}}function xp(Fp,Xp,wp,ny,oy){return oy(Fp,function(ey,Oy,Qy){wp=ny?(ny=!1,ey):Xp(wp,ey,Oy,Qy)}),wp}function Np(Fp,Xp){for(var wp,ny=-1,oy=Fp.length;++ny<oy;){var ey=Xp(Fp[ny]);ey!==Ap&&(wp=wp===Ap?ey:wp+ey)}return wp}function Kp(Fp,Xp){for(var wp=-1,ny=Array(Fp);++wp<Fp;)ny[wp]=Xp(wp);return ny}function Tp(Fp){return Fp&&Fp.slice(0,dy(Fp)+1).replace(N1,"")}function Dp(Fp){return function(Xp){return Fp(Xp)}}function Bp(Fp,Xp){return Fl(Xp,function(wp){return Fp[wp]})}function Qp(Fp,Xp){return Fp.has(Xp)}function Cp(Fp,Xp){for(var wp=-1,ny=Fp.length;++wp<ny&&-1<up(Xp,Fp[wp],0););return wp}function $p(Fp,Xp){for(var wp=Fp.length;wp--&&-1<up(Xp,Fp[wp],0););return wp}function Vp(Fp){return"\\"+OT[Fp]}function Hp(Fp){var Xp=-1,wp=Array(Fp.size);return Fp.forEach(function(ny,oy){wp[++Xp]=[oy,ny]}),wp}function Up(Fp,Xp){return function(wp){return Fp(Xp(wp))}}function Yp(Fp,Xp){for(var wp=-1,ny=Fp.length,oy=0,ey=[];++wp<ny;){var Oy=Fp[wp];Oy!==Xp&&Oy!=="__lodash_placeholder__"||(Fp[wp]="__lodash_placeholder__",ey[oy++]=wp)}return ey}function zp(Fp){var Xp=-1,wp=Array(Fp.size);return Fp.forEach(function(ny){wp[++Xp]=ny}),wp}function _v(Fp){if(S0.test(Fp)){for(var Xp=L1.lastIndex=0;L1.test(Fp);)++Xp;Fp=Xp}else Fp=kT(Fp);return Fp}function _g(Fp){return S0.test(Fp)?Fp.match(L1)||[]:Fp.split("")}function dy(Fp){for(var Xp=Fp.length;Xp--&&nT.test(Fp.charAt(Xp)););return Xp}var Ap,Ky=1/0,Vy=NaN,O0=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],zS=/\b__p \+= '';/g,HS=/\b(__p \+=) '' \+/g,WS=/(__e\(.*?\)|\b__t\)) \+\n'';/g,C_=/&(?:amp|lt|gt|quot|#39);/g,$_=/[&<>"']/g,KS=RegExp(C_.source),QS=RegExp($_.source),XS=/<%-([\s\S]+?)%>/g,YS=/<%([\s\S]+?)%>/g,P_=/<%=([\s\S]+?)%>/g,JS=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ZS=/^\w*$/,eT=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,P1=/[\\^$.*+?()[\]{}|]/g,tT=RegExp(P1.source),N1=/^\s+/,nT=/\s/,rT=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,iT=/\{\n\/\* \[wrapped with (.+)\] \*/,oT=/,? & /,sT=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,aT=/[()=,{}\[\]\/\s]/,uT=/\\(\\)?/g,cT=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,N_=/\w*$/,lT=/^[-+]0x[0-9a-f]+$/i,fT=/^0b[01]+$/i,hT=/^\[object .+?Constructor\]$/,dT=/^0o[0-7]+$/i,pT=/^(?:0|[1-9]\d*)$/,gT=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,X0=/($^)/,mT=/['\n\r\u2028\u2029\\]/g,vT=/['\u2019]/g,yT=/[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]/g,L1=/\ud83c[\udffb-\udfff](?=\ud83c[\udffb-\udfff])|(?:[^\ud800-\udfff][\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]?|[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g,bT=/[A-Z\xc0-\xd6\xd8-\xde]?[a-z\xdf-\xf6\xf8-\xff]+(?:['\u2019](?:d|ll|m|re|s|t|ve))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde]|$)|(?:[A-Z\xc0-\xd6\xd8-\xde]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['\u2019](?:D|LL|M|RE|S|T|VE))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde](?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])|$)|[A-Z\xc0-\xd6\xd8-\xde]?(?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['\u2019](?:d|ll|m|re|s|t|ve))?|[A-Z\xc0-\xd6\xd8-\xde]+(?:['\u2019](?:D|LL|M|RE|S|T|VE))?|\d*(?:1ST|2ND|3RD|(?![123])\dTH)(?=\b|[a-z_])|\d*(?:1st|2nd|3rd|(?![123])\dth)(?=\b|[A-Z_])|\d+|(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g,S0=/[\u200d\ud800-\udfff\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff\ufe0e\ufe0f]/,ET=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,wT="Array Buffer DataView Date Error Float32Array Float64Array Function Int8Array Int16Array Int32Array Map Math Object Promise RegExp Set String Symbol TypeError Uint8Array Uint8ClampedArray Uint16Array Uint32Array WeakMap _ clearTimeout isFinite parseInt setTimeout".split(" "),_T=-1,my={};my["[object Float32Array]"]=my["[object Float64Array]"]=my["[object Int8Array]"]=my["[object Int16Array]"]=my["[object Int32Array]"]=my["[object Uint8Array]"]=my["[object Uint8ClampedArray]"]=my["[object Uint16Array]"]=my["[object Uint32Array]"]=!0,my["[object Arguments]"]=my["[object Array]"]=my["[object ArrayBuffer]"]=my["[object Boolean]"]=my["[object DataView]"]=my["[object Date]"]=my["[object Error]"]=my["[object Function]"]=my["[object Map]"]=my["[object Number]"]=my["[object Object]"]=my["[object RegExp]"]=my["[object Set]"]=my["[object String]"]=my["[object WeakMap]"]=!1;var gy={};gy["[object Arguments]"]=gy["[object Array]"]=gy["[object ArrayBuffer]"]=gy["[object DataView]"]=gy["[object Boolean]"]=gy["[object Date]"]=gy["[object Float32Array]"]=gy["[object Float64Array]"]=gy["[object Int8Array]"]=gy["[object Int16Array]"]=gy["[object Int32Array]"]=gy["[object Map]"]=gy["[object Number]"]=gy["[object Object]"]=gy["[object RegExp]"]=gy["[object Set]"]=gy["[object String]"]=gy["[object Symbol]"]=gy["[object Uint8Array]"]=gy["[object Uint8ClampedArray]"]=gy["[object Uint16Array]"]=gy["[object Uint32Array]"]=!0,gy["[object Error]"]=gy["[object Function]"]=gy["[object WeakMap]"]=!1;var OT={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ST=parseFloat,TT=parseInt,L_=Ia(qb)=="object"&&qb&&qb.Object===Object&&qb,IT=(typeof self>"u"?"undefined":Ia(self))=="object"&&self&&self.Object===Object&&self,Ay=L_||IT||Function("return this")(),D1=_t&&!_t.nodeType&&_t,m0=D1&&_r&&!_r.nodeType&&_r,D_=m0&&m0.exports===D1,j1=D_&&L_.process,qy=function(){try{var Fp=m0&&m0.require&&m0.require("util").types;return Fp||j1&&j1.binding&&j1.binding("util")}catch{}}(),j_=qy&&qy.isArrayBuffer,M_=qy&&qy.isDate,U_=qy&&qy.isMap,F_=qy&&qy.isRegExp,B_=qy&&qy.isSet,V_=qy&&qy.isTypedArray,kT=Ip("length"),AT=Pp({À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"}),RT=Pp({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"}),xT=Pp({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),T0=function Fp(Xp){function wp(Ll){if(wy(Ll)&&!ay(Ll)&&!(Ll instanceof ey)){if(Ll instanceof oy)return Ll;if(py.call(Ll,"__wrapped__"))return GO(Ll)}return new oy(Ll)}function ny(){}function oy(Ll,Vl){this.__wrapped__=Ll,this.__actions__=[],this.__chain__=!!Vl,this.__index__=0,this.__values__=Ap}function ey(Ll){this.__wrapped__=Ll,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}function Oy(Ll){var Vl=-1,Jl=Ll==null?0:Ll.length;for(this.clear();++Vl<Jl;){var yp=Ll[Vl];this.set(yp[0],yp[1])}}function Qy(Ll){var Vl=-1,Jl=Ll==null?0:Ll.length;for(this.clear();++Vl<Jl;){var yp=Ll[Vl];this.set(yp[0],yp[1])}}function t0(Ll){var Vl=-1,Jl=Ll==null?0:Ll.length;for(this.clear();++Vl<Jl;){var yp=Ll[Vl];this.set(yp[0],yp[1])}}function v0(Ll){var Vl=-1,Jl=Ll==null?0:Ll.length;for(this.__data__=new t0;++Vl<Jl;)this.add(Ll[Vl])}function Xy(Ll){this.size=(this.__data__=new Qy(Ll)).size}function q_(Ll,Vl){var Jl,yp=ay(Ll),_p=!yp&&_0(Ll),Sp=!yp&&!_p&&g0(Ll),Rp=!yp&&!_p&&!Sp&&D0(Ll),Lp=(_p=(yp=yp||_p||Sp||Rp)?Kp(Ll.length,GT):[]).length;for(Jl in Ll)!Vl&&!py.call(Ll,Jl)||yp&&(Jl=="length"||Sp&&(Jl=="offset"||Jl=="parent")||Rp&&(Jl=="buffer"||Jl=="byteLength"||Jl=="byteOffset")||s0(Jl,Lp))||_p.push(Jl);return _p}function G_(Ll){var Vl=Ll.length;return Vl?Ll[W1(0,Vl-1)]:Ap}function CT(Ll,Vl){return c1(Ny(Ll),y0(Vl,0,Ll.length))}function $T(Ll){return c1(Ny(Ll))}function M1(Ll,Vl,Jl){(Jl===Ap||Yy(Ll[Vl],Jl))&&(Jl!==Ap||Vl in Ll)||n0(Ll,Vl,Jl)}function M0(Ll,Vl,Jl){var yp=Ll[Vl];py.call(Ll,Vl)&&Yy(yp,Jl)&&(Jl!==Ap||Vl in Ll)||n0(Ll,Vl,Jl)}function Y0(Ll,Vl){for(var Jl=Ll.length;Jl--;)if(Yy(Ll[Jl][0],Vl))return Jl;return-1}function PT(Ll,Vl,Jl,yp){return p0(Ll,function(_p,Sp,Rp){Vl(yp,_p,Jl(_p),Rp)}),yp}function z_(Ll,Vl){return Ll&&Zy(Vl,ky(Vl),Ll)}function n0(Ll,Vl,Jl){Vl=="__proto__"&&T1?T1(Ll,Vl,{configurable:!0,enumerable:!0,value:Jl,writable:!0}):Ll[Vl]=Jl}function U1(Ll,Vl){for(var Jl=-1,yp=Vl.length,_p=Sy(yp),Sp=Ll==null;++Jl<yp;)_p[Jl]=Sp?Ap:l_(Ll,Vl[Jl]);return _p}function y0(Ll,Vl,Jl){return Ll==Ll&&(Jl!==Ap&&(Ll=Ll<=Jl?Ll:Jl),Vl!==Ap&&(Ll=Ll>=Vl?Ll:Vl)),Ll}function Gy(Ll,Vl,Jl,yp,_p,Sp){var Rp,Lp=1&Vl,Mp=2&Vl,Gp=4&Vl;if(Jl&&(Rp=_p?Jl(Ll,yp,_p,Sp):Jl(Ll)),Rp!==Ap)return Rp;if(!yy(Ll))return Ll;if(yp=ay(Ll)){if(Rp=function(Jp){var ty=Jp.length,sy=new Jp.constructor(ty);return ty&&typeof Jp[0]=="string"&&py.call(Jp,"index")&&(sy.index=Jp.index,sy.input=Jp.input),sy}(Ll),!Lp)return Ny(Ll,Rp)}else{var Wp=Cy(Ll),Zp=Wp=="[object Function]"||Wp=="[object GeneratorFunction]";if(g0(Ll))return lO(Ll,Lp);if(Wp=="[object Object]"||Wp=="[object Arguments]"||Zp&&!_p){if(Rp=Mp||Zp?{}:DO(Ll),!Lp)return Mp?function(Jp,ty){return Zy(Jp,PS(Jp),ty)}(Ll,function(Jp,ty){return Jp&&Zy(ty,Dy(ty),Jp)}(Rp,Ll)):function(Jp,ty){return Zy(Jp,T_(Jp),ty)}(Ll,z_(Rp,Ll))}else{if(!gy[Wp])return _p?Ll:{};Rp=function(Jp,ty,sy){var cy=Jp.constructor;switch(ty){case"[object ArrayBuffer]":return _E(Jp);case"[object Boolean]":case"[object Date]":return new cy(+Jp);case"[object DataView]":return ty=sy?_E(Jp.buffer):Jp.buffer,new Jp.constructor(ty,Jp.byteOffset,Jp.byteLength);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return fO(Jp,sy);case"[object Map]":return new cy;case"[object Number]":case"[object String]":return new cy(Jp);case"[object RegExp]":return(ty=new Jp.constructor(Jp.source,N_.exec(Jp))).lastIndex=Jp.lastIndex,ty;case"[object Set]":return new cy;case"[object Symbol]":return K0?vy(K0.call(Jp)):{}}}(Ll,Wp,Lp)}}if(Sp||(Sp=new Xy),_p=Sp.get(Ll))return _p;Sp.set(Ll,Rp),US(Ll)?Ll.forEach(function(Jp){Rp.add(Gy(Jp,Vl,Jl,Jp,Ll,Sp))}):MS(Ll)&&Ll.forEach(function(Jp,ty){Rp.set(ty,Gy(Jp,Vl,Jl,ty,Ll,Sp))}),Mp=Gp?Mp?n_:t_:Mp?Dy:ky;var _m=yp?Ap:Mp(Ll);return El(_m||Ll,function(Jp,ty){_m&&(Jp=Ll[ty=Jp]),M0(Rp,ty,Gy(Jp,Vl,Jl,ty,Ll,Sp))}),Rp}function H_(Ll,Vl,Jl){var yp=Jl.length;if(Ll==null)return!yp;for(Ll=vy(Ll);yp--;){var _p=Jl[yp],Sp=Vl[_p],Rp=Ll[_p];if(Rp===Ap&&!(_p in Ll)||!Sp(Rp))return!1}return!0}function W_(Ll,Vl,Jl){if(typeof Ll!="function")throw new Wy("Expected a function");return Q0(function(){Ll.apply(Ap,Jl)},Vl)}function U0(Ll,Vl,Jl,yp){var _p=-1,Sp=Al,Rp=!0,Lp=Ll.length,Mp=[],Gp=Vl.length;if(!Lp)return Mp;Jl&&(Vl=Fl(Vl,Dp(Jl))),yp?(Sp=Rl,Rp=!1):200<=Vl.length&&(Sp=Qp,Rp=!1,Vl=new v0(Vl));e:for(;++_p<Lp;){var Wp=Ll[_p],Zp=Jl==null?Wp:Jl(Wp);if(Wp=yp||Wp!==0?Wp:0,Rp&&Zp==Zp){for(var _m=Gp;_m--;)if(Vl[_m]===Zp)continue e;Mp.push(Wp)}else Sp(Vl,Zp,yp)||Mp.push(Wp)}return Mp}function NT(Ll,Vl){var Jl=!0;return p0(Ll,function(yp,_p,Sp){return Jl=!!Vl(yp,_p,Sp)}),Jl}function J0(Ll,Vl,Jl){for(var yp=-1,_p=Ll.length;++yp<_p;){var Sp=Ll[yp],Rp=Vl(Sp);if(Rp!=null&&(Lp===Ap?Rp==Rp&&!Fy(Rp):Jl(Rp,Lp)))var Lp=Rp,Mp=Sp}return Mp}function K_(Ll,Vl){var Jl=[];return p0(Ll,function(yp,_p,Sp){Vl(yp,_p,Sp)&&Jl.push(yp)}),Jl}function Ry(Ll,Vl,Jl,yp,_p){var Sp=-1,Rp=Ll.length;for(Jl||(Jl=VT),_p||(_p=[]);++Sp<Rp;){var Lp=Ll[Sp];0<Vl&&Jl(Lp)?1<Vl?Ry(Lp,Vl-1,Jl,yp,_p):Bl(_p,Lp):yp||(_p[_p.length]=Lp)}return _p}function Jy(Ll,Vl){return Ll&&O_(Ll,Vl,ky)}function F1(Ll,Vl){return Ll&&xS(Ll,Vl,ky)}function Z0(Ll,Vl){return Il(Vl,function(Jl){return a0(Ll[Jl])})}function r0(Ll,Vl){for(var Jl=0,yp=(Vl=f0(Vl,Ll)).length;Ll!=null&&Jl<yp;)Ll=Ll[e0(Vl[Jl++])];return Jl&&Jl==yp?Ll:Ap}function Q_(Ll,Vl,Jl){return Vl=Vl(Ll),ay(Ll)?Vl:Bl(Vl,Jl(Ll))}function $y(Ll){if(Ll==null)return Ll===Ap?"[object Undefined]":"[object Null]";if(w0&&w0 in vy(Ll)){var Vl=py.call(Ll,w0),Jl=Ll[w0];try{Ll[w0]=Ap;var yp=!0}catch{}var _p=E1.call(Ll);yp&&(Vl?Ll[w0]=Jl:delete Ll[w0]),Ll=_p}else Ll=E1.call(Ll);return Ll}function B1(Ll,Vl){return Ll>Vl}function LT(Ll,Vl){return Ll!=null&&py.call(Ll,Vl)}function DT(Ll,Vl){return Ll!=null&&Vl in vy(Ll)}function V1(Ll,Vl,Jl){for(var yp=Jl?Rl:Al,_p=Ll[0].length,Sp=Ll.length,Rp=Sp,Lp=Sy(Sp),Mp=1/0,Gp=[];Rp--;){var Wp=Ll[Rp];Rp&&Vl&&(Wp=Fl(Wp,Dp(Vl))),Mp=xy(Wp.length,Mp),Lp[Rp]=!Jl&&(Vl||120<=_p&&120<=Wp.length)?new v0(Rp&&Wp):Ap}Wp=Ll[0];var Zp=-1,_m=Lp[0];e:for(;++Zp<_p&&Gp.length<Mp;){var Jp=Wp[Zp],ty=Vl?Vl(Jp):Jp;if(Jp=Jl||Jp!==0?Jp:0,_m?!_m.has(ty):!yp(Gp,ty,Jl)){for(Rp=Sp;--Rp;){var sy=Lp[Rp];if(sy?!sy.has(ty):!yp(Ll[Rp],ty,Jl))continue e}_m&&_m.push(ty),Gp.push(Jp)}}return Gp}function F0(Ll,Vl,Jl){return(Vl=(Ll=2>(Vl=f0(Vl,Ll)).length?Ll:r0(Ll,My(Vl,0,-1)))==null?Ll:Ll[e0(zy(Vl))])==null?Ap:_o(Vl,Ll,Jl)}function X_(Ll){return wy(Ll)&&$y(Ll)=="[object Arguments]"}function c0(Ll,Vl,Jl,yp,_p){if(Ll===Vl)return!0;if(Ll==null||Vl==null||!wy(Ll)&&!wy(Vl))return Ll!=Ll&&Vl!=Vl;e:{var Sp=ay(Ll),Rp=ay(Vl),Lp=Sp?"[object Array]":Cy(Ll),Mp=Rp?"[object Array]":Cy(Vl),Gp=(Lp=Lp=="[object Arguments]"?"[object Object]":Lp)=="[object Object]";if(Rp=(Mp=Mp=="[object Arguments]"?"[object Object]":Mp)=="[object Object]",(Mp=Lp==Mp)&&g0(Ll)){if(!g0(Vl)){Vl=!1;break e}Sp=!0,Gp=!1}if(Mp&&!Gp)_p||(_p=new Xy),Vl=Sp||D0(Ll)?xO(Ll,Vl,Jl,yp,c0,_p):function(sy,cy,by,ry,hy,Ey,Iy){switch(by){case"[object DataView]":if(sy.byteLength!=cy.byteLength||sy.byteOffset!=cy.byteOffset)break;sy=sy.buffer,cy=cy.buffer;case"[object ArrayBuffer]":if(sy.byteLength!=cy.byteLength||!Ey(new _1(sy),new _1(cy)))break;return!0;case"[object Boolean]":case"[object Date]":case"[object Number]":return Yy(+sy,+cy);case"[object Error]":return sy.name==cy.name&&sy.message==cy.message;case"[object RegExp]":case"[object String]":return sy==cy+"";case"[object Map]":var By=Hp;case"[object Set]":if(By||(By=zp),sy.size!=cy.size&&!(1&ry))break;return(by=Iy.get(sy))?by==cy:(ry|=2,Iy.set(sy,cy),cy=xO(By(sy),By(cy),ry,hy,Ey,Iy),Iy.delete(sy),cy);case"[object Symbol]":if(K0)return K0.call(sy)==K0.call(cy)}return!1}(Ll,Vl,Lp,Jl,yp,c0,_p);else{if(!(1&Jl)&&(Sp=Gp&&py.call(Ll,"__wrapped__"),Lp=Rp&&py.call(Vl,"__wrapped__"),Sp||Lp)){Ll=Sp?Ll.value():Ll,Vl=Lp?Vl.value():Vl,_p||(_p=new Xy),Vl=c0(Ll,Vl,Jl,yp,_p);break e}if(Mp)t:if(_p||(_p=new Xy),Sp=1&Jl,Lp=t_(Ll),Rp=Lp.length,Mp=t_(Vl).length,Rp==Mp||Sp){for(Mp=Rp;Mp--;){var Wp=Lp[Mp];if(!(Sp?Wp in Vl:py.call(Vl,Wp))){Vl=!1;break t}}if(Gp=_p.get(Ll),Wp=_p.get(Vl),Gp&&Wp)Vl=Gp==Vl&&Wp==Ll;else{Gp=!0,_p.set(Ll,Vl),_p.set(Vl,Ll);for(var Zp=Sp;++Mp<Rp;){var _m=Ll[Wp=Lp[Mp]],Jp=Vl[Wp];if(yp)var ty=Sp?yp(Jp,_m,Wp,Vl,Ll,_p):yp(_m,Jp,Wp,Ll,Vl,_p);if(ty===Ap?_m!==Jp&&!c0(_m,Jp,Jl,yp,_p):!ty){Gp=!1;break}Zp||(Zp=Wp=="constructor")}Gp&&!Zp&&(Jl=Ll.constructor)!=(yp=Vl.constructor)&&"constructor"in Ll&&"constructor"in Vl&&!(typeof Jl=="function"&&Jl instanceof Jl&&typeof yp=="function"&&yp instanceof yp)&&(Gp=!1),_p.delete(Ll),_p.delete(Vl),Vl=Gp}}else Vl=!1;else Vl=!1}}return Vl}function q1(Ll,Vl,Jl,yp){var _p=Jl.length,Sp=_p,Rp=!yp;if(Ll==null)return!Sp;for(Ll=vy(Ll);_p--;){var Lp=Jl[_p];if(Rp&&Lp[2]?Lp[1]!==Ll[Lp[0]]:!(Lp[0]in Ll))return!1}for(;++_p<Sp;){var Mp=(Lp=Jl[_p])[0],Gp=Ll[Mp],Wp=Lp[1];if(Rp&&Lp[2]){if(Gp===Ap&&!(Mp in Ll))return!1}else{if(Lp=new Xy,yp)var Zp=yp(Gp,Wp,Mp,Ll,Vl,Lp);if(Zp===Ap?!c0(Wp,Gp,3,yp,Lp):!Zp)return!1}}return!0}function Y_(Ll){return!(!yy(Ll)||wS&&wS in Ll)&&(a0(Ll)?KT:hT).test(E0(Ll))}function J_(Ll){return typeof Ll=="function"?Ll:Ll==null?jy:Ia(Ll)=="object"?ay(Ll)?tO(Ll[0],Ll[1]):eO(Ll):yS(Ll)}function G1(Ll){if(!V0(Ll))return _I(Ll);var Vl,Jl=[];for(Vl in vy(Ll))py.call(Ll,Vl)&&Vl!="constructor"&&Jl.push(Vl);return Jl}function z1(Ll,Vl){return Ll<Vl}function Z_(Ll,Vl){var Jl=-1,yp=Ly(Ll)?Sy(Ll.length):[];return p0(Ll,function(_p,Sp,Rp){yp[++Jl]=Vl(_p,Sp,Rp)}),yp}function eO(Ll){var Vl=r_(Ll);return Vl.length==1&&Vl[0][2]?jO(Vl[0][0],Vl[0][1]):function(Jl){return Jl===Ll||q1(Jl,Ll,Vl)}}function tO(Ll,Vl){return i_(Ll)&&Vl==Vl&&!yy(Vl)?jO(e0(Ll),Vl):function(Jl){var yp=l_(Jl,Ll);return yp===Ap&&yp===Vl?f_(Jl,Ll):c0(Vl,yp,3)}}function _b(Ll,Vl,Jl,yp,_p){Ll!==Vl&&O_(Vl,function(Sp,Rp){if(_p||(_p=new Xy),yy(Sp)){Sp=_p;var Lp=s_(Ll,Rp),Mp=s_(Vl,Rp),Gp=Sp.get(Mp);if(Gp)M1(Ll,Rp,Gp);else{var Wp=(Gp=yp?yp(Lp,Mp,Rp+"",Ll,Vl,Sp):Ap)===Ap;if(Wp){var Zp=ay(Mp),_m=!Zp&&g0(Mp),Jp=!Zp&&!_m&&D0(Mp);Gp=Mp,Zp||_m||Jp?ay(Lp)?Gp=Lp:_y(Lp)?Gp=Ny(Lp):_m?(Wp=!1,Gp=lO(Mp,!0)):Jp?(Wp=!1,Gp=fO(Mp,!0)):Gp=[]:q0(Mp)||_0(Mp)?(Gp=Lp,_0(Lp)?Gp=dS(Lp):yy(Lp)&&!a0(Lp)||(Gp=DO(Mp))):Wp=!1}Wp&&(Sp.set(Mp,Gp),_b(Gp,Mp,Jl,yp,Sp),Sp.delete(Mp)),M1(Ll,Rp,Gp)}}else(Lp=yp?yp(s_(Ll,Rp),Sp,Rp+"",Ll,Vl,_p):Ap)===Ap&&(Lp=Sp),M1(Ll,Rp,Lp)},Dy)}function nO(Ll,Vl){var Jl=Ll.length;if(Jl)return s0(Vl+=0>Vl?Jl:0,Jl)?Ll[Vl]:Ap}function rO(Ll,Vl,Jl){Vl=Vl.length?Fl(Vl,function(_p){return ay(_p)?function(Sp){return r0(Sp,_p.length===1?_p[0]:_p)}:_p}):[jy];var yp=-1;return Vl=Fl(Vl,Dp(iy())),function(_p,Sp){var Rp=_p.length;for(_p.sort(Sp);Rp--;)_p[Rp]=_p[Rp].value;return _p}(Ll=Z_(Ll,function(_p,Sp,Rp){return{criteria:Fl(Vl,function(Lp){return Lp(_p)}),index:++yp,value:_p}}),function(_p,Sp){e:{for(var Rp=-1,Lp=_p.criteria,Mp=Sp.criteria,Gp=Lp.length,Wp=Jl.length;++Rp<Gp;){var Zp=hO(Lp[Rp],Mp[Rp]);if(Zp){if(Rp>=Wp){_p=Zp;break e}_p=Zp*(Jl[Rp]=="desc"?-1:1);break e}}_p=_p.index-Sp.index}return _p})}function iO(Ll,Vl,Jl){for(var yp=-1,_p=Vl.length,Sp={};++yp<_p;){var Rp=Vl[yp],Lp=r0(Ll,Rp);Jl(Lp,Rp)&&I0(Sp,f0(Rp,Ll),Lp)}return Sp}function H1(Ll,Vl,Jl,yp){var _p=yp?_d:up,Sp=-1,Rp=Vl.length,Lp=Ll;for(Ll===Vl&&(Vl=Ny(Vl)),Jl&&(Lp=Fl(Ll,Dp(Jl)));++Sp<Rp;){var Mp=0,Gp=Vl[Sp];for(Gp=Jl?Jl(Gp):Gp;-1<(Mp=_p(Lp,Gp,Mp,yp));)Lp!==Ll&&S1.call(Lp,Mp,1),S1.call(Ll,Mp,1)}return Ll}function oO(Ll,Vl){for(var Jl=Ll?Vl.length:0,yp=Jl-1;Jl--;){var _p=Vl[Jl];if(Jl==yp||_p!==Sp){var Sp=_p;s0(_p)?S1.call(Ll,_p,1):X1(Ll,_p)}}return Ll}function W1(Ll,Vl){return Ll+k1(kS()*(Vl-Ll+1))}function K1(Ll,Vl){var Jl="";if(!Ll||1>Vl||9007199254740991<Vl)return Jl;do Vl%2&&(Jl+=Ll),(Vl=k1(Vl/2))&&(Ll+=Ll);while(Vl);return Jl}function ly(Ll,Vl){return I_(FO(Ll,Vl,jy),Ll+"")}function jT(Ll){return G_(x0(Ll))}function MT(Ll,Vl){return c1(Ll=x0(Ll),y0(Vl,0,Ll.length))}function I0(Ll,Vl,Jl,yp){if(!yy(Ll))return Ll;for(var _p=-1,Sp=(Vl=f0(Vl,Ll)).length,Rp=Sp-1,Lp=Ll;Lp!=null&&++_p<Sp;){var Mp=e0(Vl[_p]),Gp=Jl;if(Mp==="__proto__"||Mp==="constructor"||Mp==="prototype")break;if(_p!=Rp){var Wp=Lp[Mp];(Gp=yp?yp(Wp,Mp,Lp):Ap)===Ap&&(Gp=yy(Wp)?Wp:s0(Vl[_p+1])?[]:{})}M0(Lp,Mp,Gp),Lp=Lp[Mp]}return Ll}function UT(Ll){return c1(x0(Ll))}function My(Ll,Vl,Jl){var yp=-1,_p=Ll.length;for(0>Vl&&(Vl=-Vl>_p?0:_p+Vl),0>(Jl=Jl>_p?_p:Jl)&&(Jl+=_p),_p=Vl>Jl?0:Jl-Vl>>>0,Vl>>>=0,Jl=Sy(_p);++yp<_p;)Jl[yp]=Ll[yp+Vl];return Jl}function FT(Ll,Vl){var Jl;return p0(Ll,function(yp,_p,Sp){return!(Jl=Vl(yp,_p,Sp))}),!!Jl}function e1(Ll,Vl,Jl){var yp=0,_p=Ll==null?yp:Ll.length;if(typeof Vl=="number"&&Vl==Vl&&2147483647>=_p){for(;yp<_p;){var Sp=yp+_p>>>1,Rp=Ll[Sp];Rp!==null&&!Fy(Rp)&&(Jl?Rp<=Vl:Rp<Vl)?yp=Sp+1:_p=Sp}return _p}return Q1(Ll,Vl,jy,Jl)}function Q1(Ll,Vl,Jl,yp){var _p=0,Sp=Ll==null?0:Ll.length;if(Sp===0)return 0;for(var Rp=(Vl=Jl(Vl))!=Vl,Lp=Vl===null,Mp=Fy(Vl),Gp=Vl===Ap;_p<Sp;){var Wp=k1((_p+Sp)/2),Zp=Jl(Ll[Wp]),_m=Zp!==Ap,Jp=Zp===null,ty=Zp==Zp,sy=Fy(Zp);(Rp?yp||ty:Gp?ty&&(yp||_m):Lp?ty&&_m&&(yp||!Jp):Mp?ty&&_m&&!Jp&&(yp||!sy):!Jp&&!sy&&(yp?Zp<=Vl:Zp<Vl))?_p=Wp+1:Sp=Wp}return xy(Sp,4294967294)}function sO(Ll,Vl){for(var Jl=-1,yp=Ll.length,_p=0,Sp=[];++Jl<yp;){var Rp=Ll[Jl],Lp=Vl?Vl(Rp):Rp;if(!Jl||!Yy(Lp,Mp)){var Mp=Lp;Sp[_p++]=Rp===0?0:Rp}}return Sp}function aO(Ll){return typeof Ll=="number"?Ll:Fy(Ll)?Vy:+Ll}function Uy(Ll){if(typeof Ll=="string")return Ll;if(ay(Ll))return Fl(Ll,Uy)+"";if(Fy(Ll))return AS?AS.call(Ll):"";var Vl=Ll+"";return Vl=="0"&&1/Ll==-Ky?"-0":Vl}function l0(Ll,Vl,Jl){var yp=-1,_p=Al,Sp=Ll.length,Rp=!0,Lp=[],Mp=Lp;if(Jl)Rp=!1,_p=Rl;else if(200<=Sp){if(_p=Vl?null:aR(Ll))return zp(_p);Rp=!1,_p=Qp,Mp=new v0}else Mp=Vl?[]:Lp;e:for(;++yp<Sp;){var Gp=Ll[yp],Wp=Vl?Vl(Gp):Gp;if(Gp=Jl||Gp!==0?Gp:0,Rp&&Wp==Wp){for(var Zp=Mp.length;Zp--;)if(Mp[Zp]===Wp)continue e;Vl&&Mp.push(Wp),Lp.push(Gp)}else _p(Mp,Wp,Jl)||(Mp!==Lp&&Mp.push(Wp),Lp.push(Gp))}return Lp}function X1(Ll,Vl){return(Ll=2>(Vl=f0(Vl,Ll)).length?Ll:r0(Ll,My(Vl,0,-1)))==null||delete Ll[e0(zy(Vl))]}function t1(Ll,Vl,Jl,yp){for(var _p=Ll.length,Sp=yp?_p:-1;(yp?Sp--:++Sp<_p)&&Vl(Ll[Sp],Sp,Ll););return Jl?My(Ll,yp?0:Sp,yp?Sp+1:_p):My(Ll,yp?Sp+1:0,yp?_p:Sp)}function uO(Ll,Vl){return Ll instanceof ey&&(Ll=Ll.value()),Gl(Vl,function(Jl,yp){return yp.func.apply(yp.thisArg,Bl([Jl],yp.args))},Ll)}function Y1(Ll,Vl,Jl){var yp=Ll.length;if(2>yp)return yp?l0(Ll[0]):[];for(var _p=-1,Sp=Sy(yp);++_p<yp;)for(var Rp=Ll[_p],Lp=-1;++Lp<yp;)Lp!=_p&&(Sp[_p]=U0(Sp[_p]||Rp,Ll[Lp],Vl,Jl));return l0(Ry(Sp,1),Vl,Jl)}function cO(Ll,Vl,Jl){for(var yp=-1,_p=Ll.length,Sp=Vl.length,Rp={};++yp<_p;)Jl(Rp,Ll[yp],yp<Sp?Vl[yp]:Ap);return Rp}function J1(Ll){return _y(Ll)?Ll:[]}function Z1(Ll){return typeof Ll=="function"?Ll:jy}function f0(Ll,Vl){return ay(Ll)?Ll:i_(Ll,Vl)?[Ll]:LS(fy(Ll))}function h0(Ll,Vl,Jl){var yp=Ll.length;return Jl=Jl===Ap?yp:Jl,!Vl&&Jl>=yp?Ll:My(Ll,Vl,Jl)}function lO(Ll,Vl){return Vl?Ll.slice():(Vl=Ll.length,Vl=_S?_S(Vl):new Ll.constructor(Vl),Ll.copy(Vl),Vl)}function _E(Ll){var Vl=new Ll.constructor(Ll.byteLength);return new _1(Vl).set(new _1(Ll)),Vl}function fO(Ll,Vl){return Vl=Vl?_E(Ll.buffer):Ll.buffer,new Ll.constructor(Vl,Ll.byteOffset,Ll.length)}function hO(Ll,Vl){if(Ll!==Vl){var Jl=Ll!==Ap,yp=Ll===null,_p=Ll==Ll,Sp=Fy(Ll),Rp=Vl!==Ap,Lp=Vl===null,Mp=Vl==Vl,Gp=Fy(Vl);if(!Lp&&!Gp&&!Sp&&Ll>Vl||Sp&&Rp&&Mp&&!Lp&&!Gp||yp&&Rp&&Mp||!Jl&&Mp||!_p)return 1;if(!yp&&!Sp&&!Gp&&Ll<Vl||Gp&&Jl&&_p&&!yp&&!Sp||Lp&&Jl&&_p||!Rp&&_p||!Mp)return-1}return 0}function dO(Ll,Vl,Jl,yp){var _p=-1,Sp=Ll.length,Rp=Jl.length,Lp=-1,Mp=Vl.length,Gp=Ty(Sp-Rp,0),Wp=Sy(Mp+Gp);for(yp=!yp;++Lp<Mp;)Wp[Lp]=Vl[Lp];for(;++_p<Rp;)(yp||_p<Sp)&&(Wp[Jl[_p]]=Ll[_p]);for(;Gp--;)Wp[Lp++]=Ll[_p++];return Wp}function pO(Ll,Vl,Jl,yp){var _p=-1,Sp=Ll.length,Rp=-1,Lp=Jl.length,Mp=-1,Gp=Vl.length,Wp=Ty(Sp-Lp,0),Zp=Sy(Wp+Gp);for(yp=!yp;++_p<Wp;)Zp[_p]=Ll[_p];for(Wp=_p;++Mp<Gp;)Zp[Wp+Mp]=Vl[Mp];for(;++Rp<Lp;)(yp||_p<Sp)&&(Zp[Wp+Jl[Rp]]=Ll[_p++]);return Zp}function Ny(Ll,Vl){var Jl=-1,yp=Ll.length;for(Vl||(Vl=Sy(yp));++Jl<yp;)Vl[Jl]=Ll[Jl];return Vl}function Zy(Ll,Vl,Jl,yp){var _p=!Jl;Jl||(Jl={});for(var Sp=-1,Rp=Vl.length;++Sp<Rp;){var Lp=Vl[Sp],Mp=yp?yp(Jl[Lp],Ll[Lp],Lp,Jl,Ll):Ap;Mp===Ap&&(Mp=Ll[Lp]),_p?n0(Jl,Lp,Mp):M0(Jl,Lp,Mp)}return Jl}function n1(Ll,Vl){return function(Jl,yp){var _p=ay(Jl)?yl:PT,Sp=Vl?Vl():{};return _p(Jl,Ll,iy(yp,2),Sp)}}function k0(Ll){return ly(function(Vl,Jl){var yp=-1,_p=Jl.length,Sp=1<_p?Jl[_p-1]:Ap,Rp=2<_p?Jl[2]:Ap;for(Sp=3<Ll.length&&typeof Sp=="function"?(_p--,Sp):Ap,Rp&&Py(Jl[0],Jl[1],Rp)&&(Sp=3>_p?Ap:Sp,_p=1),Vl=vy(Vl);++yp<_p;)(Rp=Jl[yp])&&Ll(Vl,Rp,yp,Sp);return Vl})}function gO(Ll,Vl){return function(Jl,yp){if(Jl==null)return Jl;if(!Ly(Jl))return Ll(Jl,yp);for(var _p=Jl.length,Sp=Vl?_p:-1,Rp=vy(Jl);(Vl?Sp--:++Sp<_p)&&yp(Rp[Sp],Sp,Rp)!==!1;);return Jl}}function mO(Ll){return function(Vl,Jl,yp){for(var _p=-1,Sp=vy(Vl),Rp=(yp=yp(Vl)).length;Rp--;){var Lp=yp[Ll?Rp:++_p];if(Jl(Sp[Lp],Lp,Sp)===!1)break}return Vl}}function vO(Ll){return function(Vl){Vl=fy(Vl);var Jl=S0.test(Vl)?_g(Vl):Ap,yp=Jl?Jl[0]:Vl.charAt(0);return Vl=Jl?h0(Jl,1).join(""):Vl.slice(1),yp[Ll]()+Vl}}function A0(Ll){return function(Vl){return Gl(vS(mS(Vl).replace(vT,"")),Ll,"")}}function B0(Ll){return function(){var Vl=arguments;switch(Vl.length){case 0:return new Ll;case 1:return new Ll(Vl[0]);case 2:return new Ll(Vl[0],Vl[1]);case 3:return new Ll(Vl[0],Vl[1],Vl[2]);case 4:return new Ll(Vl[0],Vl[1],Vl[2],Vl[3]);case 5:return new Ll(Vl[0],Vl[1],Vl[2],Vl[3],Vl[4]);case 6:return new Ll(Vl[0],Vl[1],Vl[2],Vl[3],Vl[4],Vl[5]);case 7:return new Ll(Vl[0],Vl[1],Vl[2],Vl[3],Vl[4],Vl[5],Vl[6])}var Jl=L0(Ll.prototype);return yy(Vl=Ll.apply(Jl,Vl))?Vl:Jl}}function yO(Ll){return function(Vl,Jl,yp){var _p=vy(Vl);if(!Ly(Vl)){var Sp=iy(Jl,3);Vl=ky(Vl),Jl=function(Rp){return Sp(_p[Rp],Rp,_p)}}return-1<(Jl=Ll(Vl,Jl,yp))?_p[Sp?Vl[Jl]:Jl]:Ap}}function bO(Ll){return o0(function(Vl){var Jl=Vl.length,yp=Jl,_p=oy.prototype.thru;for(Ll&&Vl.reverse();yp--;){var Sp=Vl[yp];if(typeof Sp!="function")throw new Wy("Expected a function");if(_p&&!Rp&&a1(Sp)=="wrapper")var Rp=new oy([],!0)}for(yp=Rp?yp:Jl;++yp<Jl;){var Lp=(_p=a1(Sp=Vl[yp]))=="wrapper"?S_(Sp):Ap;Rp=Lp&&o_(Lp[0])&&Lp[1]==424&&!Lp[4].length&&Lp[9]==1?Rp[a1(Lp[0])].apply(Rp,Lp[3]):Sp.length==1&&o_(Sp)?Rp[_p]():Rp.thru(Sp)}return function(){var Mp=arguments,Gp=Mp[0];if(Rp&&Mp.length==1&&ay(Gp))return Rp.plant(Gp).value();var Wp=0;for(Mp=Jl?Vl[Wp].apply(this,Mp):Gp;++Wp<Jl;)Mp=Vl[Wp].call(this,Mp);return Mp}})}function r1(Ll,Vl,Jl,yp,_p,Sp,Rp,Lp,Mp,Gp){var Wp=128&Vl,Zp=1&Vl,_m=2&Vl,Jp=24&Vl,ty=512&Vl,sy=_m?Ap:B0(Ll);return function cy(){for(var by=arguments.length,ry=Sy(by),hy=by;hy--;)ry[hy]=arguments[hy];if(Jp){var Ey,Iy=R0(cy);for(hy=ry.length,Ey=0;hy--;)ry[hy]===Iy&&++Ey}if(yp&&(ry=dO(ry,yp,_p,Jp)),Sp&&(ry=pO(ry,Sp,Rp,Jp)),by-=Ey,Jp&&by<Gp)return Iy=Yp(ry,Iy),_O(Ll,Vl,r1,cy.placeholder,Jl,ry,Iy,Lp,Mp,Gp-by);if(Iy=Zp?Jl:this,hy=_m?Iy[Ll]:Ll,by=ry.length,Lp){Ey=ry.length;for(var By=xy(Lp.length,Ey),$1=Ny(ry);By--;){var j0=Lp[By];ry[By]=s0(j0,Ey)?$1[j0]:Ap}}else ty&&1<by&&ry.reverse();return Wp&&Mp<by&&(ry.length=Mp),this&&this!==Ay&&this instanceof cy&&(hy=sy||B0(hy)),hy.apply(Iy,ry)}}function EO(Ll,Vl){return function(Jl,yp){return function(_p,Sp,Rp,Lp){return Jy(_p,function(Mp,Gp,Wp){Sp(Lp,Rp(Mp),Gp,Wp)}),Lp}(Jl,Ll,Vl(yp),{})}}function i1(Ll,Vl){return function(Jl,yp){var _p;if(Jl===Ap&&yp===Ap)return Vl;if(Jl!==Ap&&(_p=Jl),yp!==Ap){if(_p===Ap)return yp;typeof Jl=="string"||typeof yp=="string"?(Jl=Uy(Jl),yp=Uy(yp)):(Jl=aO(Jl),yp=aO(yp)),_p=Ll(Jl,yp)}return _p}}function _w(Ll){return o0(function(Vl){return Vl=Fl(Vl,Dp(iy())),ly(function(Jl){var yp=this;return Ll(Vl,function(_p){return _o(_p,yp,Jl)})})})}function o1(Ll,Vl){var Jl=(Vl=Vl===Ap?" ":Uy(Vl)).length;return 2>Jl?Jl?K1(Vl,Ll):Vl:(Jl=K1(Vl,I1(Ll/_v(Vl))),S0.test(Vl)?h0(_g(Jl),0,Ll).join(""):Jl.slice(0,Ll))}function wO(Ll){return function(Vl,Jl,yp){yp&&typeof yp!="number"&&Py(Vl,Jl,yp)&&(Jl=yp=Ap),Vl=u0(Vl),Jl===Ap?(Jl=Vl,Vl=0):Jl=u0(Jl),yp=yp===Ap?Vl<Jl?1:-1:u0(yp);var _p=-1;Jl=Ty(I1((Jl-Vl)/(yp||1)),0);for(var Sp=Sy(Jl);Jl--;)Sp[Ll?Jl:++_p]=Vl,Vl+=yp;return Sp}}function s1(Ll){return function(Vl,Jl){return typeof Vl=="string"&&typeof Jl=="string"||(Vl=Hy(Vl),Jl=Hy(Jl)),Ll(Vl,Jl)}}function _O(Ll,Vl,Jl,yp,_p,Sp,Rp,Lp,Mp,Gp){var Wp=8&Vl;return 4&(Vl=(Vl|(Wp?32:64))&~(Wp?64:32))||(Vl&=-4),_p=[Ll,Vl,_p,Wp?Sp:Ap,Wp?Rp:Ap,Sp=Wp?Ap:Sp,Rp=Wp?Ap:Rp,Lp,Mp,Gp],Jl=Jl.apply(Ap,_p),o_(Ll)&&NS(Jl,_p),Jl.placeholder=yp,BO(Jl,Ll,Vl)}function e_(Ll){var Vl=C0[Ll];return function(Jl,yp){return Jl=Hy(Jl),(yp=yp==null?0:xy(uy(yp),292))&&IS(Jl)?(Jl=(fy(Jl)+"e").split("e"),+((Jl=(fy(Jl=Vl(Jl[0]+"e"+(+Jl[1]+yp)))+"e").split("e"))[0]+"e"+(+Jl[1]-yp))):Vl(Jl)}}function IO(Ll){return function(Vl){var Jl=Cy(Vl);return Jl=="[object Map]"?Hp(Vl):Jl=="[object Set]"?function(yp){var _p=-1,Sp=Array(yp.size);return yp.forEach(function(Rp){Sp[++_p]=[Rp,Rp]}),Sp}(Vl):function(yp,_p){return Fl(_p,function(Sp){return[Sp,yp[Sp]]})}(Vl,Ll(Vl))}}function i0(Ll,Vl,Jl,yp,_p,Sp,Rp,Lp){var Mp=2&Vl;if(!Mp&&typeof Ll!="function")throw new Wy("Expected a function");var Gp=yp?yp.length:0;if(Gp||(Vl&=-97,yp=_p=Ap),Rp=Rp===Ap?Rp:Ty(uy(Rp),0),Lp=Lp===Ap?Lp:uy(Lp),Gp-=_p?_p.length:0,64&Vl){var Wp=yp,Zp=_p;yp=_p=Ap}var _m=Mp?Ap:S_(Ll);return Sp=[Ll,Vl,Jl,yp,_p,Wp,Zp,Sp,Rp,Lp],_m&&(Vl=(Jl=Sp[1])|(Ll=_m[1]),yp=Ll==128&&Jl==8||Ll==128&&Jl==256&&Sp[7].length<=_m[8]||Ll==384&&_m[7].length<=_m[8]&&Jl==8,131>Vl||yp)&&(1&Ll&&(Sp[2]=_m[2],Vl|=1&Jl?0:4),(Jl=_m[3])&&(yp=Sp[3],Sp[3]=yp?dO(yp,Jl,_m[4]):Jl,Sp[4]=yp?Yp(Sp[3],"__lodash_placeholder__"):_m[4]),(Jl=_m[5])&&(yp=Sp[5],Sp[5]=yp?pO(yp,Jl,_m[6]):Jl,Sp[6]=yp?Yp(Sp[5],"__lodash_placeholder__"):_m[6]),(Jl=_m[7])&&(Sp[7]=Jl),128&Ll&&(Sp[8]=Sp[8]==null?_m[8]:xy(Sp[8],_m[8])),Sp[9]==null&&(Sp[9]=_m[9]),Sp[0]=_m[0],Sp[1]=Vl),Ll=Sp[0],Vl=Sp[1],Jl=Sp[2],yp=Sp[3],_p=Sp[4],!(Lp=Sp[9]=Sp[9]===Ap?Mp?0:Ll.length:Ty(Sp[9]-Gp,0))&&24&Vl&&(Vl&=-25),Mp=Vl&&Vl!=1?Vl==8||Vl==16?function(Jp,ty,sy){var cy=B0(Jp);return function by(){for(var ry=arguments.length,hy=Sy(ry),Ey=ry,Iy=R0(by);Ey--;)hy[Ey]=arguments[Ey];return(ry-=(Ey=3>ry&&hy[0]!==Iy&&hy[ry-1]!==Iy?[]:Yp(hy,Iy)).length)<sy?_O(Jp,ty,r1,by.placeholder,Ap,hy,Ey,Ap,Ap,sy-ry):_o(this&&this!==Ay&&this instanceof by?cy:Jp,this,hy)}}(Ll,Vl,Lp):Vl!=32&&Vl!=33||_p.length?r1.apply(Ap,Sp):function(Jp,ty,sy,cy){var by=1&ty,ry=B0(Jp);return function hy(){for(var Ey=-1,Iy=arguments.length,By=-1,$1=cy.length,j0=Sy($1+Iy),u2=this&&this!==Ay&&this instanceof hy?ry:Jp;++By<$1;)j0[By]=cy[By];for(;Iy--;)j0[By++]=arguments[++Ey];return _o(u2,by?sy:this,j0)}}(Ll,Vl,Jl,yp):function(Jp,ty,sy){var cy=1&ty,by=B0(Jp);return function ry(){return(this&&this!==Ay&&this instanceof ry?by:Jp).apply(cy?sy:this,arguments)}}(Ll,Vl,Jl),BO((_m?CS:NS)(Mp,Sp),Ll,Vl)}function kO(Ll,Vl,Jl,yp){return Ll===Ap||Yy(Ll,$0[Jl])&&!py.call(yp,Jl)?Vl:Ll}function AO(Ll,Vl,Jl,yp,_p,Sp){return yy(Ll)&&yy(Vl)&&(Sp.set(Vl,Ll),_b(Ll,Vl,Ap,AO,Sp),Sp.delete(Vl)),Ll}function BT(Ll){return q0(Ll)?Ap:Ll}function xO(Ll,Vl,Jl,yp,_p,Sp){var Rp=1&Jl,Lp=Ll.length,Mp=Vl.length;if(Lp!=Mp&&!(Rp&&Mp>Lp))return!1;Mp=Sp.get(Ll);var Gp=Sp.get(Vl);if(Mp&&Gp)return Mp==Vl&&Gp==Ll;Mp=-1,Gp=!0;var Wp=2&Jl?new v0:Ap;for(Sp.set(Ll,Vl),Sp.set(Vl,Ll);++Mp<Lp;){var Zp=Ll[Mp],_m=Vl[Mp];if(yp)var Jp=Rp?yp(_m,Zp,Mp,Vl,Ll,Sp):yp(Zp,_m,Mp,Ll,Vl,Sp);if(Jp!==Ap){if(Jp)continue;Gp=!1;break}if(Wp){if(!_f(Vl,function(ty,sy){if(!Wp.has(sy)&&(Zp===ty||_p(Zp,ty,Jl,yp,Sp)))return Wp.push(sy)})){Gp=!1;break}}else if(Zp!==_m&&!_p(Zp,_m,Jl,yp,Sp)){Gp=!1;break}}return Sp.delete(Ll),Sp.delete(Vl),Gp}function o0(Ll){return I_(FO(Ll,Ap,JO),Ll+"")}function t_(Ll){return Q_(Ll,ky,T_)}function n_(Ll){return Q_(Ll,Dy,PS)}function a1(Ll){for(var Vl=Ll.name+"",Jl=N0[Vl],yp=py.call(N0,Vl)?Jl.length:0;yp--;){var _p=Jl[yp],Sp=_p.func;if(Sp==null||Sp==Ll)return _p.name}return Vl}function R0(Ll){return(py.call(wp,"placeholder")?wp:Ll).placeholder}function iy(){var Ll=wp.iteratee||d_;return Ll=Ll===d_?J_:Ll,arguments.length?Ll(arguments[0],arguments[1]):Ll}function u1(Ll,Vl){Ll=Ll.__data__;var Jl=Ia(Vl);return(Jl=="string"||Jl=="number"||Jl=="symbol"||Jl=="boolean"?Vl!=="__proto__":Vl===null)?Ll[typeof Vl=="string"?"string":"hash"]:Ll.map}function r_(Ll){for(var Vl=ky(Ll),Jl=Vl.length;Jl--;){var yp=Vl[Jl],_p=Ll[yp];Vl[Jl]=[yp,_p,_p==_p&&!yy(_p)]}return Vl}function b0(Ll,Vl){return Y_(Ll=Ll==null?Ap:Ll[Vl])?Ll:Ap}function CO(Ll,Vl,Jl){for(var yp=-1,_p=(Vl=f0(Vl,Ll)).length,Sp=!1;++yp<_p;){var Rp=e0(Vl[yp]);if(!(Sp=Ll!=null&&Jl(Ll,Rp)))break;Ll=Ll[Rp]}return Sp||++yp!=_p?Sp:!!(_p=Ll==null?0:Ll.length)&&p1(_p)&&s0(Rp,_p)&&(ay(Ll)||_0(Ll))}function DO(Ll){return typeof Ll.constructor!="function"||V0(Ll)?{}:L0(O1(Ll))}function VT(Ll){return ay(Ll)||_0(Ll)||!!(TS&&Ll&&Ll[TS])}function s0(Ll,Vl){var Jl=Ia(Ll);return!!(Vl=Vl??9007199254740991)&&(Jl=="number"||Jl!="symbol"&&pT.test(Ll))&&-1<Ll&&Ll%1==0&&Ll<Vl}function Py(Ll,Vl,Jl){if(!yy(Jl))return!1;var yp=Ia(Vl);return!!(yp=="number"?Ly(Jl)&&s0(Vl,Jl.length):yp=="string"&&Vl in Jl)&&Yy(Jl[Vl],Ll)}function i_(Ll,Vl){if(ay(Ll))return!1;var Jl=Ia(Ll);return!(Jl!="number"&&Jl!="symbol"&&Jl!="boolean"&&Ll!=null&&!Fy(Ll))||ZS.test(Ll)||!JS.test(Ll)||Vl!=null&&Ll in vy(Vl)}function o_(Ll){var Vl=a1(Ll),Jl=wp[Vl];return typeof Jl=="function"&&Vl in ey.prototype&&(Ll===Jl||!!(Vl=S_(Jl))&&Ll===Vl[0])}function V0(Ll){var Vl=Ll&&Ll.constructor;return Ll===(typeof Vl=="function"&&Vl.prototype||$0)}function jO(Ll,Vl){return function(Jl){return Jl!=null&&Jl[Ll]===Vl&&(Vl!==Ap||Ll in vy(Jl))}}function FO(Ll,Vl,Jl){return Vl=Ty(Vl===Ap?Ll.length-1:Vl,0),function(){for(var yp=arguments,_p=-1,Sp=Ty(yp.length-Vl,0),Rp=Sy(Sp);++_p<Sp;)Rp[_p]=yp[Vl+_p];for(_p=-1,Sp=Sy(Vl+1);++_p<Vl;)Sp[_p]=yp[_p];return Sp[Vl]=Jl(Rp),_o(Ll,this,Sp)}}function s_(Ll,Vl){if((Vl!=="constructor"||typeof Ll[Vl]!="function")&&Vl!="__proto__")return Ll[Vl]}function BO(Ll,Vl,Jl){var yp=Vl+"";Vl=I_;var _p=qT,Sp=(Sp=yp.match(iT))?Sp[1].split(oT):[];return Jl=_p(Sp,Jl),(_p=Jl.length)&&(Jl[Sp=_p-1]=(1<_p?"& ":"")+Jl[Sp],Jl=Jl.join(2<_p?", ":" "),yp=yp.replace(rT,`{
/* [wrapped with `+Jl+`] */
`)),Vl(Ll,yp)}function qO(Ll){var Vl=0,Jl=0;return function(){var yp=_k(),_p=16-(yp-Jl);if(Jl=yp,0<_p){if(800<=++Vl)return arguments[0]}else Vl=0;return Ll.apply(Ap,arguments)}}function c1(Ll,Vl){var Jl=-1,yp=Ll.length,_p=yp-1;for(Vl=Vl===Ap?yp:Vl;++Jl<Vl;){var Sp=Ll[yp=W1(Jl,_p)];Ll[yp]=Ll[Jl],Ll[Jl]=Sp}return Ll.length=Vl,Ll}function e0(Ll){if(typeof Ll=="string"||Fy(Ll))return Ll;var Vl=Ll+"";return Vl=="0"&&1/Ll==-Ky?"-0":Vl}function E0(Ll){if(Ll!=null){try{return b1.call(Ll)}catch{}return Ll+""}return""}function qT(Ll,Vl){return El(O0,function(Jl){var yp="_."+Jl[0];Vl&Jl[1]&&!Al(Ll,yp)&&Ll.push(yp)}),Ll.sort()}function GO(Ll){if(Ll instanceof ey)return Ll.clone();var Vl=new oy(Ll.__wrapped__,Ll.__chain__);return Vl.__actions__=Ny(Ll.__actions__),Vl.__index__=Ll.__index__,Vl.__values__=Ll.__values__,Vl}function zO(Ll,Vl,Jl){var yp=Ll==null?0:Ll.length;return yp?(0>(Jl=Jl==null?0:uy(Jl))&&(Jl=Ty(yp+Jl,0)),vp(Ll,iy(Vl,3),Jl)):-1}function HO(Ll,Vl,Jl){var yp=Ll==null?0:Ll.length;if(!yp)return-1;var _p=yp-1;return Jl!==Ap&&(_p=uy(Jl),_p=0>Jl?Ty(yp+_p,0):xy(_p,yp-1)),vp(Ll,iy(Vl,3),_p,!0)}function JO(Ll){return Ll!=null&&Ll.length?Ry(Ll,1):[]}function eS(Ll){return Ll&&Ll.length?Ll[0]:Ap}function zy(Ll){var Vl=Ll==null?0:Ll.length;return Vl?Ll[Vl-1]:Ap}function tS(Ll,Vl){return Ll&&Ll.length&&Vl&&Vl.length?H1(Ll,Vl):Ll}function a_(Ll){return Ll==null?Ll:eR.call(Ll)}function u_(Ll){if(!Ll||!Ll.length)return[];var Vl=0;return Ll=Il(Ll,function(Jl){if(_y(Jl))return Vl=Ty(Jl.length,Vl),!0}),Kp(Vl,function(Jl){return Fl(Ll,Ip(Jl))})}function nS(Ll,Vl){return Ll&&Ll.length?(Ll=u_(Ll),Vl==null?Ll:Fl(Ll,function(Jl){return _o(Vl,Ap,Jl)})):[]}function rS(Ll){return(Ll=wp(Ll)).__chain__=!0,Ll}function l1(Ll,Vl){return Vl(Ll)}function iS(Ll,Vl){return(ay(Ll)?El:p0)(Ll,iy(Vl,3))}function oS(Ll,Vl){return(ay(Ll)?_l:RS)(Ll,iy(Vl,3))}function f1(Ll,Vl){return(ay(Ll)?Fl:Z_)(Ll,iy(Vl,3))}function sS(Ll,Vl,Jl){return Vl=Jl?Ap:Vl,Vl=Ll&&Vl==null?Ll.length:Vl,i0(Ll,128,Ap,Ap,Ap,Ap,Vl)}function aS(Ll,Vl){var Jl;if(typeof Vl!="function")throw new Wy("Expected a function");return Ll=uy(Ll),function(){return 0<--Ll&&(Jl=Vl.apply(this,arguments)),1>=Ll&&(Vl=Ap),Jl}}function uS(Ll,Vl,Jl){function yp(ry){var hy=Mp,Ey=Gp;return Mp=Gp=Ap,Jp=ry,Wp=Ll.apply(Ey,hy)}function _p(ry){var hy=ry-_m;return ry-=Jp,_m===Ap||hy>=Vl||0>hy||sy&&ry>=by}function Sp(){var ry=x1();if(_p(ry))return Rp(ry);var hy=Q0,Ey=ry-Jp;ry=Vl-(ry-_m),Ey=sy?xy(ry,by-Ey):ry,Zp=hy(Sp,Ey)}function Rp(ry){return Zp=Ap,cy&&Mp?yp(ry):(Mp=Gp=Ap,Wp)}function Lp(){var ry=x1(),hy=_p(ry);if(Mp=arguments,Gp=this,_m=ry,hy){if(Zp===Ap)return Jp=ry=_m,Zp=Q0(Sp,Vl),ty?yp(ry):Wp;if(sy)return $S(Zp),Zp=Q0(Sp,Vl),yp(_m)}return Zp===Ap&&(Zp=Q0(Sp,Vl)),Wp}var Mp,Gp,Wp,Zp,_m,Jp=0,ty=!1,sy=!1,cy=!0;if(typeof Ll!="function")throw new Wy("Expected a function");if(Vl=Hy(Vl)||0,yy(Jl)){ty=!!Jl.leading;var by=(sy="maxWait"in Jl)?Ty(Hy(Jl.maxWait)||0,Vl):by;cy="trailing"in Jl?!!Jl.trailing:cy}return Lp.cancel=function(){Zp!==Ap&&$S(Zp),Jp=0,Mp=_m=Gp=Zp=Ap},Lp.flush=function(){return Zp===Ap?Wp:Rp(x1())},Lp}function h1(Ll,Vl){if(typeof Ll!="function"||Vl!=null&&typeof Vl!="function")throw new Wy("Expected a function");var Jl=function yp(){var _p=arguments,Sp=Vl?Vl.apply(this,_p):_p[0],Rp=yp.cache;return Rp.has(Sp)?Rp.get(Sp):(_p=Ll.apply(this,_p),yp.cache=Rp.set(Sp,_p)||Rp,_p)};return Jl.cache=new(h1.Cache||t0),Jl}function d1(Ll){if(typeof Ll!="function")throw new Wy("Expected a function");return function(){var Vl=arguments;switch(Vl.length){case 0:return!Ll.call(this);case 1:return!Ll.call(this,Vl[0]);case 2:return!Ll.call(this,Vl[0],Vl[1]);case 3:return!Ll.call(this,Vl[0],Vl[1],Vl[2])}return!Ll.apply(this,Vl)}}function Yy(Ll,Vl){return Ll===Vl||Ll!=Ll&&Vl!=Vl}function Ly(Ll){return Ll!=null&&p1(Ll.length)&&!a0(Ll)}function _y(Ll){return wy(Ll)&&Ly(Ll)}function c_(Ll){if(!wy(Ll))return!1;var Vl=$y(Ll);return Vl=="[object Error]"||Vl=="[object DOMException]"||typeof Ll.message=="string"&&typeof Ll.name=="string"&&!q0(Ll)}function a0(Ll){return!!yy(Ll)&&((Ll=$y(Ll))=="[object Function]"||Ll=="[object GeneratorFunction]"||Ll=="[object AsyncFunction]"||Ll=="[object Proxy]")}function cS(Ll){return typeof Ll=="number"&&Ll==uy(Ll)}function p1(Ll){return typeof Ll=="number"&&-1<Ll&&Ll%1==0&&9007199254740991>=Ll}function yy(Ll){var Vl=Ia(Ll);return Ll!=null&&(Vl=="object"||Vl=="function")}function wy(Ll){return Ll!=null&&Ia(Ll)=="object"}function lS(Ll){return typeof Ll=="number"||wy(Ll)&&$y(Ll)=="[object Number]"}function q0(Ll){return!(!wy(Ll)||$y(Ll)!="[object Object]")&&((Ll=O1(Ll))===null||typeof(Ll=py.call(Ll,"constructor")&&Ll.constructor)=="function"&&Ll instanceof Ll&&b1.call(Ll)==HT)}function g1(Ll){return typeof Ll=="string"||!ay(Ll)&&wy(Ll)&&$y(Ll)=="[object String]"}function Fy(Ll){return Ia(Ll)=="symbol"||wy(Ll)&&$y(Ll)=="[object Symbol]"}function fS(Ll){if(!Ll)return[];if(Ly(Ll))return g1(Ll)?_g(Ll):Ny(Ll);if(G0&&Ll[G0]){Ll=Ll[G0]();for(var Vl,Jl=[];!(Vl=Ll.next()).done;)Jl.push(Vl.value);return Jl}return((Vl=Cy(Ll))=="[object Map]"?Hp:Vl=="[object Set]"?zp:x0)(Ll)}function u0(Ll){return Ll?(Ll=Hy(Ll))===Ky||Ll===-Ky?17976931348623157e292*(0>Ll?-1:1):Ll==Ll?Ll:0:Ll===0?Ll:0}function uy(Ll){var Vl=(Ll=u0(Ll))%1;return Ll==Ll?Vl?Ll-Vl:Ll:0}function hS(Ll){return Ll?y0(uy(Ll),0,4294967295):0}function Hy(Ll){if(typeof Ll=="number")return Ll;if(Fy(Ll))return Vy;if(yy(Ll)&&(Ll=yy(Ll=typeof Ll.valueOf=="function"?Ll.valueOf():Ll)?Ll+"":Ll),typeof Ll!="string")return Ll===0?Ll:+Ll;Ll=Tp(Ll);var Vl=fT.test(Ll);return Vl||dT.test(Ll)?TT(Ll.slice(2),Vl?2:8):lT.test(Ll)?Vy:+Ll}function dS(Ll){return Zy(Ll,Dy(Ll))}function fy(Ll){return Ll==null?"":Uy(Ll)}function l_(Ll,Vl,Jl){return(Ll=Ll==null?Ap:r0(Ll,Vl))===Ap?Jl:Ll}function f_(Ll,Vl){return Ll!=null&&CO(Ll,Vl,DT)}function ky(Ll){return Ly(Ll)?q_(Ll):G1(Ll)}function Dy(Ll){if(Ly(Ll))Ll=q_(Ll,!0);else if(yy(Ll)){var Vl=V0(Ll),Jl=[];for(yp in Ll)(yp!="constructor"||!Vl&&py.call(Ll,yp))&&Jl.push(yp);Ll=Jl}else{var yp=[];if(Ll!=null)for(Vl in vy(Ll))yp.push(Vl);Ll=yp}return Ll}function pS(Ll,Vl){if(Ll==null)return{};var Jl=Fl(n_(Ll),function(yp){return[yp]});return Vl=iy(Vl),iO(Ll,Jl,function(yp,_p){return Vl(yp,_p[0])})}function x0(Ll){return Ll==null?[]:Bp(Ll,ky(Ll))}function gS(Ll){return x_(fy(Ll).toLowerCase())}function mS(Ll){return(Ll=fy(Ll))&&Ll.replace(gT,AT).replace(yT,"")}function vS(Ll,Vl,Jl){return Ll=fy(Ll),(Vl=Jl?Ap:Vl)===Ap?ET.test(Ll)?Ll.match(bT)||[]:Ll.match(sT)||[]:Ll.match(Vl)||[]}function h_(Ll){return function(){return Ll}}function jy(Ll){return Ll}function d_(Ll){return J_(typeof Ll=="function"?Ll:Gy(Ll,1))}function p_(Ll,Vl,Jl){var yp=ky(Vl),_p=Z0(Vl,yp);Jl!=null||yy(Vl)&&(_p.length||!yp.length)||(Jl=Vl,Vl=Ll,Ll=this,_p=Z0(Vl,ky(Vl)));var Sp=!(yy(Jl)&&"chain"in Jl&&!Jl.chain),Rp=a0(Ll);return El(_p,function(Lp){var Mp=Vl[Lp];Ll[Lp]=Mp,Rp&&(Ll.prototype[Lp]=function(){var Gp=this.__chain__;if(Sp||Gp){var Wp=Ll(this.__wrapped__);return(Wp.__actions__=Ny(this.__actions__)).push({func:Mp,args:arguments,thisArg:Ll}),Wp.__chain__=Gp,Wp}return Mp.apply(Ll,Bl([this.value()],arguments))})}),Ll}function g_(){}function yS(Ll){return i_(Ll)?Ip(e0(Ll)):function(Vl){return function(Jl){return r0(Jl,Vl)}}(Ll)}function m_(){return[]}function v_(){return!1}var bS,Sy=(Xp=Xp==null?Ay:T0.defaults(Ay.Object(),Xp,T0.pick(Ay,wT))).Array,m1=Xp.Date,y_=Xp.Error,ES=Xp.Function,C0=Xp.Math,vy=Xp.Object,b_=Xp.RegExp,GT=Xp.String,Wy=Xp.TypeError,v1=Sy.prototype,$0=vy.prototype,y1=Xp["__core-js_shared__"],b1=ES.prototype.toString,py=$0.hasOwnProperty,zT=0,wS=(bS=/[^.]+$/.exec(y1&&y1.keys&&y1.keys.IE_PROTO||""))?"Symbol(src)_1."+bS:"",E1=$0.toString,HT=b1.call(vy),WT=Ay._,KT=b_("^"+b1.call(py).replace(P1,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),w1=D_?Xp.Buffer:Ap,d0=Xp.Symbol,_1=Xp.Uint8Array,_S=w1?w1.allocUnsafe:Ap,O1=Up(vy.getPrototypeOf,vy),OS=vy.create,SS=$0.propertyIsEnumerable,S1=v1.splice,TS=d0?d0.isConcatSpreadable:Ap,G0=d0?d0.iterator:Ap,w0=d0?d0.toStringTag:Ap,T1=function(){try{var Ll=b0(vy,"defineProperty");return Ll({},"",{}),Ll}catch{}}(),QT=Xp.clearTimeout!==Ay.clearTimeout&&Xp.clearTimeout,XT=m1&&m1.now!==Ay.Date.now&&m1.now,YT=Xp.setTimeout!==Ay.setTimeout&&Xp.setTimeout,I1=C0.ceil,k1=C0.floor,E_=vy.getOwnPropertySymbols,JT=w1?w1.isBuffer:Ap,IS=Xp.isFinite,ZT=v1.join,_I=Up(vy.keys,vy),Ty=C0.max,xy=C0.min,_k=m1.now,_A=Xp.parseInt,kS=C0.random,eR=v1.reverse,w_=b0(Xp,"DataView"),z0=b0(Xp,"Map"),__=b0(Xp,"Promise"),P0=b0(Xp,"Set"),H0=b0(Xp,"WeakMap"),W0=b0(vy,"create"),A1=H0&&new H0,N0={},tR=E0(w_),nR=E0(z0),rR=E0(__),iR=E0(P0),oR=E0(H0),R1=d0?d0.prototype:Ap,K0=R1?R1.valueOf:Ap,AS=R1?R1.toString:Ap,L0=function(){function Ll(){}return function(Vl){return yy(Vl)?OS?OS(Vl):(Ll.prototype=Vl,Vl=new Ll,Ll.prototype=Ap,Vl):{}}}();wp.templateSettings={escape:XS,evaluate:YS,interpolate:P_,variable:"",imports:{_:wp}},wp.prototype=ny.prototype,wp.prototype.constructor=wp,oy.prototype=L0(ny.prototype),oy.prototype.constructor=oy,ey.prototype=L0(ny.prototype),ey.prototype.constructor=ey,Oy.prototype.clear=function(){this.__data__=W0?W0(null):{},this.size=0},Oy.prototype.delete=function(Ll){return Ll=this.has(Ll)&&delete this.__data__[Ll],this.size-=Ll?1:0,Ll},Oy.prototype.get=function(Ll){var Vl=this.__data__;return W0?(Ll=Vl[Ll])==="__lodash_hash_undefined__"?Ap:Ll:py.call(Vl,Ll)?Vl[Ll]:Ap},Oy.prototype.has=function(Ll){var Vl=this.__data__;return W0?Vl[Ll]!==Ap:py.call(Vl,Ll)},Oy.prototype.set=function(Ll,Vl){var Jl=this.__data__;return this.size+=this.has(Ll)?0:1,Jl[Ll]=W0&&Vl===Ap?"__lodash_hash_undefined__":Vl,this},Qy.prototype.clear=function(){this.__data__=[],this.size=0},Qy.prototype.delete=function(Ll){var Vl=this.__data__;return!(0>(Ll=Y0(Vl,Ll)))&&(Ll==Vl.length-1?Vl.pop():S1.call(Vl,Ll,1),--this.size,!0)},Qy.prototype.get=function(Ll){var Vl=this.__data__;return 0>(Ll=Y0(Vl,Ll))?Ap:Vl[Ll][1]},Qy.prototype.has=function(Ll){return-1<Y0(this.__data__,Ll)},Qy.prototype.set=function(Ll,Vl){var Jl=this.__data__,yp=Y0(Jl,Ll);return 0>yp?(++this.size,Jl.push([Ll,Vl])):Jl[yp][1]=Vl,this},t0.prototype.clear=function(){this.size=0,this.__data__={hash:new Oy,map:new(z0||Qy),string:new Oy}},t0.prototype.delete=function(Ll){return Ll=u1(this,Ll).delete(Ll),this.size-=Ll?1:0,Ll},t0.prototype.get=function(Ll){return u1(this,Ll).get(Ll)},t0.prototype.has=function(Ll){return u1(this,Ll).has(Ll)},t0.prototype.set=function(Ll,Vl){var Jl=u1(this,Ll),yp=Jl.size;return Jl.set(Ll,Vl),this.size+=Jl.size==yp?0:1,this},v0.prototype.add=v0.prototype.push=function(Ll){return this.__data__.set(Ll,"__lodash_hash_undefined__"),this},v0.prototype.has=function(Ll){return this.__data__.has(Ll)},Xy.prototype.clear=function(){this.__data__=new Qy,this.size=0},Xy.prototype.delete=function(Ll){var Vl=this.__data__;return Ll=Vl.delete(Ll),this.size=Vl.size,Ll},Xy.prototype.get=function(Ll){return this.__data__.get(Ll)},Xy.prototype.has=function(Ll){return this.__data__.has(Ll)},Xy.prototype.set=function(Ll,Vl){var Jl=this.__data__;if(Jl instanceof Qy){var yp=Jl.__data__;if(!z0||199>yp.length)return yp.push([Ll,Vl]),this.size=++Jl.size,this;Jl=this.__data__=new t0(yp)}return Jl.set(Ll,Vl),this.size=Jl.size,this};var p0=gO(Jy),RS=gO(F1,!0),O_=mO(),xS=mO(!0),CS=A1?function(Ll,Vl){return A1.set(Ll,Vl),Ll}:jy,sR=T1?function(Ll,Vl){return T1(Ll,"toString",{configurable:!0,enumerable:!1,value:h_(Vl),writable:!0})}:jy,$S=QT||function(Ll){return Ay.clearTimeout(Ll)},aR=P0&&1/zp(new P0([,-0]))[1]==Ky?function(Ll){return new P0(Ll)}:g_,S_=A1?function(Ll){return A1.get(Ll)}:g_,T_=E_?function(Ll){return Ll==null?[]:(Ll=vy(Ll),Il(E_(Ll),function(Vl){return SS.call(Ll,Vl)}))}:m_,PS=E_?function(Ll){for(var Vl=[];Ll;)Bl(Vl,T_(Ll)),Ll=O1(Ll);return Vl}:m_,Cy=$y;(w_&&Cy(new w_(new ArrayBuffer(1)))!="[object DataView]"||z0&&Cy(new z0)!="[object Map]"||__&&Cy(__.resolve())!="[object Promise]"||P0&&Cy(new P0)!="[object Set]"||H0&&Cy(new H0)!="[object WeakMap]")&&(Cy=function(Ll){var Vl=$y(Ll);if(Ll=(Ll=Vl=="[object Object]"?Ll.constructor:Ap)?E0(Ll):"")switch(Ll){case tR:return"[object DataView]";case nR:return"[object Map]";case rR:return"[object Promise]";case iR:return"[object Set]";case oR:return"[object WeakMap]"}return Vl});var uR=y1?a0:v_,NS=qO(CS),Q0=YT||function(Ll,Vl){return Ay.setTimeout(Ll,Vl)},I_=qO(sR),LS=function(Ll){var Vl=(Ll=h1(Ll,function(Jl){return Vl.size===500&&Vl.clear(),Jl})).cache;return Ll}(function(Ll){var Vl=[];return Ll.charCodeAt(0)===46&&Vl.push(""),Ll.replace(eT,function(Jl,yp,_p,Sp){Vl.push(_p?Sp.replace(uT,"$1"):yp||Jl)}),Vl}),cR=ly(function(Ll,Vl){return _y(Ll)?U0(Ll,Ry(Vl,1,_y,!0)):[]}),lR=ly(function(Ll,Vl){var Jl=zy(Vl);return _y(Jl)&&(Jl=Ap),_y(Ll)?U0(Ll,Ry(Vl,1,_y,!0),iy(Jl,2)):[]}),fR=ly(function(Ll,Vl){var Jl=zy(Vl);return _y(Jl)&&(Jl=Ap),_y(Ll)?U0(Ll,Ry(Vl,1,_y,!0),Ap,Jl):[]}),hR=ly(function(Ll){var Vl=Fl(Ll,J1);return Vl.length&&Vl[0]===Ll[0]?V1(Vl):[]}),dR=ly(function(Ll){var Vl=zy(Ll),Jl=Fl(Ll,J1);return Vl===zy(Jl)?Vl=Ap:Jl.pop(),Jl.length&&Jl[0]===Ll[0]?V1(Jl,iy(Vl,2)):[]}),pR=ly(function(Ll){var Vl=zy(Ll),Jl=Fl(Ll,J1);return(Vl=typeof Vl=="function"?Vl:Ap)&&Jl.pop(),Jl.length&&Jl[0]===Ll[0]?V1(Jl,Ap,Vl):[]}),gR=ly(tS),mR=o0(function(Ll,Vl){var Jl=Ll==null?0:Ll.length,yp=U1(Ll,Vl);return oO(Ll,Fl(Vl,function(_p){return s0(_p,Jl)?+_p:_p}).sort(hO)),yp}),vR=ly(function(Ll){return l0(Ry(Ll,1,_y,!0))}),yR=ly(function(Ll){var Vl=zy(Ll);return _y(Vl)&&(Vl=Ap),l0(Ry(Ll,1,_y,!0),iy(Vl,2))}),bR=ly(function(Ll){var Vl=zy(Ll);return Vl=typeof Vl=="function"?Vl:Ap,l0(Ry(Ll,1,_y,!0),Ap,Vl)}),ER=ly(function(Ll,Vl){return _y(Ll)?U0(Ll,Vl):[]}),wR=ly(function(Ll){return Y1(Il(Ll,_y))}),_R=ly(function(Ll){var Vl=zy(Ll);return _y(Vl)&&(Vl=Ap),Y1(Il(Ll,_y),iy(Vl,2))}),OR=ly(function(Ll){var Vl=zy(Ll);return Vl=typeof Vl=="function"?Vl:Ap,Y1(Il(Ll,_y),Ap,Vl)}),SR=ly(u_),TR=ly(function(Ll){var Vl=Ll.length;return Vl=typeof(Vl=1<Vl?Ll[Vl-1]:Ap)=="function"?(Ll.pop(),Vl):Ap,nS(Ll,Vl)}),IR=o0(function(Ll){var Vl=Ll.length,Jl=Vl?Ll[0]:0,yp=this.__wrapped__,_p=function(Sp){return U1(Sp,Ll)};return!(1<Vl||this.__actions__.length)&&yp instanceof ey&&s0(Jl)?((yp=yp.slice(Jl,+Jl+(Vl?1:0))).__actions__.push({func:l1,args:[_p],thisArg:Ap}),new oy(yp,this.__chain__).thru(function(Sp){return Vl&&!Sp.length&&Sp.push(Ap),Sp})):this.thru(_p)}),kR=n1(function(Ll,Vl,Jl){py.call(Ll,Jl)?++Ll[Jl]:n0(Ll,Jl,1)}),AR=yO(zO),RR=yO(HO),xR=n1(function(Ll,Vl,Jl){py.call(Ll,Jl)?Ll[Jl].push(Vl):n0(Ll,Jl,[Vl])}),CR=ly(function(Ll,Vl,Jl){var yp=-1,_p=typeof Vl=="function",Sp=Ly(Ll)?Sy(Ll.length):[];return p0(Ll,function(Rp){Sp[++yp]=_p?_o(Vl,Rp,Jl):F0(Rp,Vl,Jl)}),Sp}),$R=n1(function(Ll,Vl,Jl){n0(Ll,Jl,Vl)}),PR=n1(function(Ll,Vl,Jl){Ll[Jl?0:1].push(Vl)},function(){return[[],[]]}),NR=ly(function(Ll,Vl){if(Ll==null)return[];var Jl=Vl.length;return 1<Jl&&Py(Ll,Vl[0],Vl[1])?Vl=[]:2<Jl&&Py(Vl[0],Vl[1],Vl[2])&&(Vl=[Vl[0]]),rO(Ll,Ry(Vl,1),[])}),x1=XT||function(){return Ay.Date.now()},k_=ly(function(Ll,Vl,Jl){var yp=1;if(Jl.length){var _p=Yp(Jl,R0(k_));yp|=32}return i0(Ll,yp,Vl,Jl,_p)}),DS=ly(function(Ll,Vl,Jl){var yp=3;if(Jl.length){var _p=Yp(Jl,R0(DS));yp|=32}return i0(Vl,yp,Ll,Jl,_p)}),LR=ly(function(Ll,Vl){return W_(Ll,1,Vl)}),DR=ly(function(Ll,Vl,Jl){return W_(Ll,Hy(Vl)||0,Jl)});h1.Cache=t0;var jR=ly(function(Ll,Vl){var Jl=(Vl=Vl.length==1&&ay(Vl[0])?Fl(Vl[0],Dp(iy())):Fl(Ry(Vl,1),Dp(iy()))).length;return ly(function(yp){for(var _p=-1,Sp=xy(yp.length,Jl);++_p<Sp;)yp[_p]=Vl[_p].call(this,yp[_p]);return _o(Ll,this,yp)})}),A_=ly(function(Ll,Vl){var Jl=Yp(Vl,R0(A_));return i0(Ll,32,Ap,Vl,Jl)}),jS=ly(function(Ll,Vl){var Jl=Yp(Vl,R0(jS));return i0(Ll,64,Ap,Vl,Jl)}),MR=o0(function(Ll,Vl){return i0(Ll,256,Ap,Ap,Ap,Vl)}),UR=s1(B1),FR=s1(function(Ll,Vl){return Ll>=Vl}),_0=X_(function(){return arguments}())?X_:function(Ll){return wy(Ll)&&py.call(Ll,"callee")&&!SS.call(Ll,"callee")},ay=Sy.isArray,BR=j_?Dp(j_):function(Ll){return wy(Ll)&&$y(Ll)=="[object ArrayBuffer]"},g0=JT||v_,VR=M_?Dp(M_):function(Ll){return wy(Ll)&&$y(Ll)=="[object Date]"},MS=U_?Dp(U_):function(Ll){return wy(Ll)&&Cy(Ll)=="[object Map]"},R_=F_?Dp(F_):function(Ll){return wy(Ll)&&$y(Ll)=="[object RegExp]"},US=B_?Dp(B_):function(Ll){return wy(Ll)&&Cy(Ll)=="[object Set]"},D0=V_?Dp(V_):function(Ll){return wy(Ll)&&p1(Ll.length)&&!!my[$y(Ll)]},qR=s1(z1),GR=s1(function(Ll,Vl){return Ll<=Vl}),zR=k0(function(Ll,Vl){if(V0(Vl)||Ly(Vl))Zy(Vl,ky(Vl),Ll);else for(var Jl in Vl)py.call(Vl,Jl)&&M0(Ll,Jl,Vl[Jl])}),FS=k0(function(Ll,Vl){Zy(Vl,Dy(Vl),Ll)}),C1=k0(function(Ll,Vl,Jl,yp){Zy(Vl,Dy(Vl),Ll,yp)}),HR=k0(function(Ll,Vl,Jl,yp){Zy(Vl,ky(Vl),Ll,yp)}),WR=o0(U1),KR=ly(function(Ll,Vl){Ll=vy(Ll);var Jl=-1,yp=Vl.length,_p=2<yp?Vl[2]:Ap;for(_p&&Py(Vl[0],Vl[1],_p)&&(yp=1);++Jl<yp;)for(var Sp=Dy(_p=Vl[Jl]),Rp=-1,Lp=Sp.length;++Rp<Lp;){var Mp=Sp[Rp],Gp=Ll[Mp];(Gp===Ap||Yy(Gp,$0[Mp])&&!py.call(Ll,Mp))&&(Ll[Mp]=_p[Mp])}return Ll}),QR=ly(function(Ll){return Ll.push(Ap,AO),_o(BS,Ap,Ll)}),XR=EO(function(Ll,Vl,Jl){Vl!=null&&typeof Vl.toString!="function"&&(Vl=E1.call(Vl)),Ll[Vl]=Jl},h_(jy)),YR=EO(function(Ll,Vl,Jl){Vl!=null&&typeof Vl.toString!="function"&&(Vl=E1.call(Vl)),py.call(Ll,Vl)?Ll[Vl].push(Jl):Ll[Vl]=[Jl]},iy),JR=ly(F0),ZR=k0(function(Ll,Vl,Jl){_b(Ll,Vl,Jl)}),BS=k0(function(Ll,Vl,Jl,yp){_b(Ll,Vl,Jl,yp)}),_x=o0(function(Ll,Vl){var Jl={};if(Ll==null)return Jl;var yp=!1;Vl=Fl(Vl,function(Sp){return Sp=f0(Sp,Ll),yp||(yp=1<Sp.length),Sp}),Zy(Ll,n_(Ll),Jl),yp&&(Jl=Gy(Jl,7,BT));for(var _p=Vl.length;_p--;)X1(Jl,Vl[_p]);return Jl}),Ox=o0(function(Ll,Vl){return Ll==null?{}:function(Jl,yp){return iO(Jl,yp,function(_p,Sp){return f_(Jl,Sp)})}(Ll,Vl)}),VS=IO(ky),qS=IO(Dy),Sx=A0(function(Ll,Vl,Jl){return Vl=Vl.toLowerCase(),Ll+(Jl?gS(Vl):Vl)}),Tx=A0(function(Ll,Vl,Jl){return Ll+(Jl?"-":"")+Vl.toLowerCase()}),Rx=A0(function(Ll,Vl,Jl){return Ll+(Jl?" ":"")+Vl.toLowerCase()}),$x=vO("toLowerCase"),Px=A0(function(Ll,Vl,Jl){return Ll+(Jl?"_":"")+Vl.toLowerCase()}),Nx=A0(function(Ll,Vl,Jl){return Ll+(Jl?" ":"")+x_(Vl)}),Lx=A0(function(Ll,Vl,Jl){return Ll+(Jl?" ":"")+Vl.toUpperCase()}),x_=vO("toUpperCase"),GS=ly(function(Ll,Vl){try{return _o(Ll,Ap,Vl)}catch(Jl){return c_(Jl)?Jl:new y_(Jl)}}),Mx=o0(function(Ll,Vl){return El(Vl,function(Jl){Jl=e0(Jl),n0(Ll,Jl,k_(Ll[Jl],Ll))}),Ll}),Ux=bO(),Vx=bO(!0),Wx=ly(function(Ll,Vl){return function(Jl){return F0(Jl,Ll,Vl)}}),Qx=ly(function(Ll,Vl){return function(Jl){return F0(Ll,Jl,Vl)}}),Xx=_w(Fl),Yx=_w(Tl),Zx=_w(_f),_C=wO(),e2=wO(!0),t2=i1(function(Ll,Vl){return Ll+Vl},0),n2=e_("ceil"),r2=i1(function(Ll,Vl){return Ll/Vl},1),i2=e_("floor"),o2=i1(function(Ll,Vl){return Ll*Vl},1),s2=e_("round"),a2=i1(function(Ll,Vl){return Ll-Vl},0);return wp.after=function(Ll,Vl){if(typeof Vl!="function")throw new Wy("Expected a function");return Ll=uy(Ll),function(){if(1>--Ll)return Vl.apply(this,arguments)}},wp.ary=sS,wp.assign=zR,wp.assignIn=FS,wp.assignInWith=C1,wp.assignWith=HR,wp.at=WR,wp.before=aS,wp.bind=k_,wp.bindAll=Mx,wp.bindKey=DS,wp.castArray=function(){if(!arguments.length)return[];var Ll=arguments[0];return ay(Ll)?Ll:[Ll]},wp.chain=rS,wp.chunk=function(Ll,Vl,Jl){if(Vl=(Jl?Py(Ll,Vl,Jl):Vl===Ap)?1:Ty(uy(Vl),0),!(Jl=Ll==null?0:Ll.length)||1>Vl)return[];for(var yp=0,_p=0,Sp=Sy(I1(Jl/Vl));yp<Jl;)Sp[_p++]=My(Ll,yp,yp+=Vl);return Sp},wp.compact=function(Ll){for(var Vl=-1,Jl=Ll==null?0:Ll.length,yp=0,_p=[];++Vl<Jl;){var Sp=Ll[Vl];Sp&&(_p[yp++]=Sp)}return _p},wp.concat=function(){var Ll=arguments.length;if(!Ll)return[];for(var Vl=Sy(Ll-1),Jl=arguments[0];Ll--;)Vl[Ll-1]=arguments[Ll];return Bl(ay(Jl)?Ny(Jl):[Jl],Ry(Vl,1))},wp.cond=function(Ll){var Vl=Ll==null?0:Ll.length,Jl=iy();return Ll=Vl?Fl(Ll,function(yp){if(typeof yp[1]!="function")throw new Wy("Expected a function");return[Jl(yp[0]),yp[1]]}):[],ly(function(yp){for(var _p=-1;++_p<Vl;){var Sp=Ll[_p];if(_o(Sp[0],this,yp))return _o(Sp[1],this,yp)}})},wp.conforms=function(Ll){return function(Vl){var Jl=ky(Vl);return function(yp){return H_(yp,Vl,Jl)}}(Gy(Ll,1))},wp.constant=h_,wp.countBy=kR,wp.create=function(Ll,Vl){return Ll=L0(Ll),Vl==null?Ll:z_(Ll,Vl)},wp.curry=function Ll(Vl,Jl,yp){return(Vl=i0(Vl,8,Ap,Ap,Ap,Ap,Ap,Jl=yp?Ap:Jl)).placeholder=Ll.placeholder,Vl},wp.curryRight=function Ll(Vl,Jl,yp){return(Vl=i0(Vl,16,Ap,Ap,Ap,Ap,Ap,Jl=yp?Ap:Jl)).placeholder=Ll.placeholder,Vl},wp.debounce=uS,wp.defaults=KR,wp.defaultsDeep=QR,wp.defer=LR,wp.delay=DR,wp.difference=cR,wp.differenceBy=lR,wp.differenceWith=fR,wp.drop=function(Ll,Vl,Jl){var yp=Ll==null?0:Ll.length;return yp?My(Ll,0>(Vl=Jl||Vl===Ap?1:uy(Vl))?0:Vl,yp):[]},wp.dropRight=function(Ll,Vl,Jl){var yp=Ll==null?0:Ll.length;return yp?My(Ll,0,0>(Vl=yp-(Vl=Jl||Vl===Ap?1:uy(Vl)))?0:Vl):[]},wp.dropRightWhile=function(Ll,Vl){return Ll&&Ll.length?t1(Ll,iy(Vl,3),!0,!0):[]},wp.dropWhile=function(Ll,Vl){return Ll&&Ll.length?t1(Ll,iy(Vl,3),!0):[]},wp.fill=function(Ll,Vl,Jl,yp){var _p=Ll==null?0:Ll.length;if(!_p)return[];for(Jl&&typeof Jl!="number"&&Py(Ll,Vl,Jl)&&(Jl=0,yp=_p),_p=Ll.length,0>(Jl=uy(Jl))&&(Jl=-Jl>_p?0:_p+Jl),0>(yp=yp===Ap||yp>_p?_p:uy(yp))&&(yp+=_p),yp=Jl>yp?0:hS(yp);Jl<yp;)Ll[Jl++]=Vl;return Ll},wp.filter=function(Ll,Vl){return(ay(Ll)?Il:K_)(Ll,iy(Vl,3))},wp.flatMap=function(Ll,Vl){return Ry(f1(Ll,Vl),1)},wp.flatMapDeep=function(Ll,Vl){return Ry(f1(Ll,Vl),Ky)},wp.flatMapDepth=function(Ll,Vl,Jl){return Jl=Jl===Ap?1:uy(Jl),Ry(f1(Ll,Vl),Jl)},wp.flatten=JO,wp.flattenDeep=function(Ll){return Ll!=null&&Ll.length?Ry(Ll,Ky):[]},wp.flattenDepth=function(Ll,Vl){return Ll!=null&&Ll.length?Ry(Ll,Vl=Vl===Ap?1:uy(Vl)):[]},wp.flip=function(Ll){return i0(Ll,512)},wp.flow=Ux,wp.flowRight=Vx,wp.fromPairs=function(Ll){for(var Vl=-1,Jl=Ll==null?0:Ll.length,yp={};++Vl<Jl;){var _p=Ll[Vl];yp[_p[0]]=_p[1]}return yp},wp.functions=function(Ll){return Ll==null?[]:Z0(Ll,ky(Ll))},wp.functionsIn=function(Ll){return Ll==null?[]:Z0(Ll,Dy(Ll))},wp.groupBy=xR,wp.initial=function(Ll){return Ll!=null&&Ll.length?My(Ll,0,-1):[]},wp.intersection=hR,wp.intersectionBy=dR,wp.intersectionWith=pR,wp.invert=XR,wp.invertBy=YR,wp.invokeMap=CR,wp.iteratee=d_,wp.keyBy=$R,wp.keys=ky,wp.keysIn=Dy,wp.map=f1,wp.mapKeys=function(Ll,Vl){var Jl={};return Vl=iy(Vl,3),Jy(Ll,function(yp,_p,Sp){n0(Jl,Vl(yp,_p,Sp),yp)}),Jl},wp.mapValues=function(Ll,Vl){var Jl={};return Vl=iy(Vl,3),Jy(Ll,function(yp,_p,Sp){n0(Jl,_p,Vl(yp,_p,Sp))}),Jl},wp.matches=function(Ll){return eO(Gy(Ll,1))},wp.matchesProperty=function(Ll,Vl){return tO(Ll,Gy(Vl,1))},wp.memoize=h1,wp.merge=ZR,wp.mergeWith=BS,wp.method=Wx,wp.methodOf=Qx,wp.mixin=p_,wp.negate=d1,wp.nthArg=function(Ll){return Ll=uy(Ll),ly(function(Vl){return nO(Vl,Ll)})},wp.omit=_x,wp.omitBy=function(Ll,Vl){return pS(Ll,d1(iy(Vl)))},wp.once=function(Ll){return aS(2,Ll)},wp.orderBy=function(Ll,Vl,Jl,yp){return Ll==null?[]:(ay(Vl)||(Vl=Vl==null?[]:[Vl]),ay(Jl=yp?Ap:Jl)||(Jl=Jl==null?[]:[Jl]),rO(Ll,Vl,Jl))},wp.over=Xx,wp.overArgs=jR,wp.overEvery=Yx,wp.overSome=Zx,wp.partial=A_,wp.partialRight=jS,wp.partition=PR,wp.pick=Ox,wp.pickBy=pS,wp.property=yS,wp.propertyOf=function(Ll){return function(Vl){return Ll==null?Ap:r0(Ll,Vl)}},wp.pull=gR,wp.pullAll=tS,wp.pullAllBy=function(Ll,Vl,Jl){return Ll&&Ll.length&&Vl&&Vl.length?H1(Ll,Vl,iy(Jl,2)):Ll},wp.pullAllWith=function(Ll,Vl,Jl){return Ll&&Ll.length&&Vl&&Vl.length?H1(Ll,Vl,Ap,Jl):Ll},wp.pullAt=mR,wp.range=_C,wp.rangeRight=e2,wp.rearg=MR,wp.reject=function(Ll,Vl){return(ay(Ll)?Il:K_)(Ll,d1(iy(Vl,3)))},wp.remove=function(Ll,Vl){var Jl=[];if(!Ll||!Ll.length)return Jl;var yp=-1,_p=[],Sp=Ll.length;for(Vl=iy(Vl,3);++yp<Sp;){var Rp=Ll[yp];Vl(Rp,yp,Ll)&&(Jl.push(Rp),_p.push(yp))}return oO(Ll,_p),Jl},wp.rest=function(Ll,Vl){if(typeof Ll!="function")throw new Wy("Expected a function");return ly(Ll,Vl=Vl===Ap?Vl:uy(Vl))},wp.reverse=a_,wp.sampleSize=function(Ll,Vl,Jl){return Vl=(Jl?Py(Ll,Vl,Jl):Vl===Ap)?1:uy(Vl),(ay(Ll)?CT:MT)(Ll,Vl)},wp.set=function(Ll,Vl,Jl){return Ll==null?Ll:I0(Ll,Vl,Jl)},wp.setWith=function(Ll,Vl,Jl,yp){return yp=typeof yp=="function"?yp:Ap,Ll==null?Ll:I0(Ll,Vl,Jl,yp)},wp.shuffle=function(Ll){return(ay(Ll)?$T:UT)(Ll)},wp.slice=function(Ll,Vl,Jl){var yp=Ll==null?0:Ll.length;return yp?(Jl&&typeof Jl!="number"&&Py(Ll,Vl,Jl)?(Vl=0,Jl=yp):(Vl=Vl==null?0:uy(Vl),Jl=Jl===Ap?yp:uy(Jl)),My(Ll,Vl,Jl)):[]},wp.sortBy=NR,wp.sortedUniq=function(Ll){return Ll&&Ll.length?sO(Ll):[]},wp.sortedUniqBy=function(Ll,Vl){return Ll&&Ll.length?sO(Ll,iy(Vl,2)):[]},wp.split=function(Ll,Vl,Jl){return Jl&&typeof Jl!="number"&&Py(Ll,Vl,Jl)&&(Vl=Jl=Ap),(Jl=Jl===Ap?4294967295:Jl>>>0)?(Ll=fy(Ll))&&(typeof Vl=="string"||Vl!=null&&!R_(Vl))&&!(Vl=Uy(Vl))&&S0.test(Ll)?h0(_g(Ll),0,Jl):Ll.split(Vl,Jl):[]},wp.spread=function(Ll,Vl){if(typeof Ll!="function")throw new Wy("Expected a function");return Vl=Vl==null?0:Ty(uy(Vl),0),ly(function(Jl){var yp=Jl[Vl];return Jl=h0(Jl,0,Vl),yp&&Bl(Jl,yp),_o(Ll,this,Jl)})},wp.tail=function(Ll){var Vl=Ll==null?0:Ll.length;return Vl?My(Ll,1,Vl):[]},wp.take=function(Ll,Vl,Jl){return Ll&&Ll.length?My(Ll,0,0>(Vl=Jl||Vl===Ap?1:uy(Vl))?0:Vl):[]},wp.takeRight=function(Ll,Vl,Jl){var yp=Ll==null?0:Ll.length;return yp?My(Ll,0>(Vl=yp-(Vl=Jl||Vl===Ap?1:uy(Vl)))?0:Vl,yp):[]},wp.takeRightWhile=function(Ll,Vl){return Ll&&Ll.length?t1(Ll,iy(Vl,3),!1,!0):[]},wp.takeWhile=function(Ll,Vl){return Ll&&Ll.length?t1(Ll,iy(Vl,3)):[]},wp.tap=function(Ll,Vl){return Vl(Ll),Ll},wp.throttle=function(Ll,Vl,Jl){var yp=!0,_p=!0;if(typeof Ll!="function")throw new Wy("Expected a function");return yy(Jl)&&(yp="leading"in Jl?!!Jl.leading:yp,_p="trailing"in Jl?!!Jl.trailing:_p),uS(Ll,Vl,{leading:yp,maxWait:Vl,trailing:_p})},wp.thru=l1,wp.toArray=fS,wp.toPairs=VS,wp.toPairsIn=qS,wp.toPath=function(Ll){return ay(Ll)?Fl(Ll,e0):Fy(Ll)?[Ll]:Ny(LS(fy(Ll)))},wp.toPlainObject=dS,wp.transform=function(Ll,Vl,Jl){var yp=ay(Ll),_p=yp||g0(Ll)||D0(Ll);if(Vl=iy(Vl,4),Jl==null){var Sp=Ll&&Ll.constructor;Jl=_p?yp?new Sp:[]:yy(Ll)&&a0(Sp)?L0(O1(Ll)):{}}return(_p?El:Jy)(Ll,function(Rp,Lp,Mp){return Vl(Jl,Rp,Lp,Mp)}),Jl},wp.unary=function(Ll){return sS(Ll,1)},wp.union=vR,wp.unionBy=yR,wp.unionWith=bR,wp.uniq=function(Ll){return Ll&&Ll.length?l0(Ll):[]},wp.uniqBy=function(Ll,Vl){return Ll&&Ll.length?l0(Ll,iy(Vl,2)):[]},wp.uniqWith=function(Ll,Vl){return Vl=typeof Vl=="function"?Vl:Ap,Ll&&Ll.length?l0(Ll,Ap,Vl):[]},wp.unset=function(Ll,Vl){return Ll==null||X1(Ll,Vl)},wp.unzip=u_,wp.unzipWith=nS,wp.update=function(Ll,Vl,Jl){return Ll!=null&&(Ll=I0(Ll,Vl,(Jl=Z1(Jl))(r0(Ll,Vl)),void 0)),Ll},wp.updateWith=function(Ll,Vl,Jl,yp){return yp=typeof yp=="function"?yp:Ap,Ll!=null&&(Ll=I0(Ll,Vl,(Jl=Z1(Jl))(r0(Ll,Vl)),yp)),Ll},wp.values=x0,wp.valuesIn=function(Ll){return Ll==null?[]:Bp(Ll,Dy(Ll))},wp.without=ER,wp.words=vS,wp.wrap=function(Ll,Vl){return A_(Z1(Vl),Ll)},wp.xor=wR,wp.xorBy=_R,wp.xorWith=OR,wp.zip=SR,wp.zipObject=function(Ll,Vl){return cO(Ll||[],Vl||[],M0)},wp.zipObjectDeep=function(Ll,Vl){return cO(Ll||[],Vl||[],I0)},wp.zipWith=TR,wp.entries=VS,wp.entriesIn=qS,wp.extend=FS,wp.extendWith=C1,p_(wp,wp),wp.add=t2,wp.attempt=GS,wp.camelCase=Sx,wp.capitalize=gS,wp.ceil=n2,wp.clamp=function(Ll,Vl,Jl){return Jl===Ap&&(Jl=Vl,Vl=Ap),Jl!==Ap&&(Jl=(Jl=Hy(Jl))==Jl?Jl:0),Vl!==Ap&&(Vl=(Vl=Hy(Vl))==Vl?Vl:0),y0(Hy(Ll),Vl,Jl)},wp.clone=function(Ll){return Gy(Ll,4)},wp.cloneDeep=function(Ll){return Gy(Ll,5)},wp.cloneDeepWith=function(Ll,Vl){return Gy(Ll,5,Vl=typeof Vl=="function"?Vl:Ap)},wp.cloneWith=function(Ll,Vl){return Gy(Ll,4,Vl=typeof Vl=="function"?Vl:Ap)},wp.conformsTo=function(Ll,Vl){return Vl==null||H_(Ll,Vl,ky(Vl))},wp.deburr=mS,wp.defaultTo=function(Ll,Vl){return Ll==null||Ll!=Ll?Vl:Ll},wp.divide=r2,wp.endsWith=function(Ll,Vl,Jl){Ll=fy(Ll),Vl=Uy(Vl);var yp=Ll.length;return yp=Jl=Jl===Ap?yp:y0(uy(Jl),0,yp),0<=(Jl-=Vl.length)&&Ll.slice(Jl,yp)==Vl},wp.eq=Yy,wp.escape=function(Ll){return(Ll=fy(Ll))&&QS.test(Ll)?Ll.replace($_,RT):Ll},wp.escapeRegExp=function(Ll){return(Ll=fy(Ll))&&tT.test(Ll)?Ll.replace(P1,"\\$&"):Ll},wp.every=function(Ll,Vl,Jl){var yp=ay(Ll)?Tl:NT;return Jl&&Py(Ll,Vl,Jl)&&(Vl=Ap),yp(Ll,iy(Vl,3))},wp.find=AR,wp.findIndex=zO,wp.findKey=function(Ll,Vl){return _h(Ll,iy(Vl,3),Jy)},wp.findLast=RR,wp.findLastIndex=HO,wp.findLastKey=function(Ll,Vl){return _h(Ll,iy(Vl,3),F1)},wp.floor=i2,wp.forEach=iS,wp.forEachRight=oS,wp.forIn=function(Ll,Vl){return Ll==null?Ll:O_(Ll,iy(Vl,3),Dy)},wp.forInRight=function(Ll,Vl){return Ll==null?Ll:xS(Ll,iy(Vl,3),Dy)},wp.forOwn=function(Ll,Vl){return Ll&&Jy(Ll,iy(Vl,3))},wp.forOwnRight=function(Ll,Vl){return Ll&&F1(Ll,iy(Vl,3))},wp.get=l_,wp.gt=UR,wp.gte=FR,wp.has=function(Ll,Vl){return Ll!=null&&CO(Ll,Vl,LT)},wp.hasIn=f_,wp.head=eS,wp.identity=jy,wp.includes=function(Ll,Vl,Jl,yp){return Ll=Ly(Ll)?Ll:x0(Ll),Jl=Jl&&!yp?uy(Jl):0,yp=Ll.length,0>Jl&&(Jl=Ty(yp+Jl,0)),g1(Ll)?Jl<=yp&&-1<Ll.indexOf(Vl,Jl):!!yp&&-1<up(Ll,Vl,Jl)},wp.indexOf=function(Ll,Vl,Jl){var yp=Ll==null?0:Ll.length;return yp?(0>(Jl=Jl==null?0:uy(Jl))&&(Jl=Ty(yp+Jl,0)),up(Ll,Vl,Jl)):-1},wp.inRange=function(Ll,Vl,Jl){return Vl=u0(Vl),Jl===Ap?(Jl=Vl,Vl=0):Jl=u0(Jl),(Ll=Hy(Ll))>=xy(Vl,Jl)&&Ll<Ty(Vl,Jl)},wp.invoke=JR,wp.isArguments=_0,wp.isArray=ay,wp.isArrayBuffer=BR,wp.isArrayLike=Ly,wp.isArrayLikeObject=_y,wp.isBoolean=function(Ll){return Ll===!0||Ll===!1||wy(Ll)&&$y(Ll)=="[object Boolean]"},wp.isBuffer=g0,wp.isDate=VR,wp.isElement=function(Ll){return wy(Ll)&&Ll.nodeType===1&&!q0(Ll)},wp.isEmpty=function(Ll){if(Ll==null)return!0;if(Ly(Ll)&&(ay(Ll)||typeof Ll=="string"||typeof Ll.splice=="function"||g0(Ll)||D0(Ll)||_0(Ll)))return!Ll.length;var Vl=Cy(Ll);if(Vl=="[object Map]"||Vl=="[object Set]")return!Ll.size;if(V0(Ll))return!G1(Ll).length;for(var Jl in Ll)if(py.call(Ll,Jl))return!1;return!0},wp.isEqual=function(Ll,Vl){return c0(Ll,Vl)},wp.isEqualWith=function(Ll,Vl,Jl){var yp=(Jl=typeof Jl=="function"?Jl:Ap)?Jl(Ll,Vl):Ap;return yp===Ap?c0(Ll,Vl,Ap,Jl):!!yp},wp.isError=c_,wp.isFinite=function(Ll){return typeof Ll=="number"&&IS(Ll)},wp.isFunction=a0,wp.isInteger=cS,wp.isLength=p1,wp.isMap=MS,wp.isMatch=function(Ll,Vl){return Ll===Vl||q1(Ll,Vl,r_(Vl))},wp.isMatchWith=function(Ll,Vl,Jl){return Jl=typeof Jl=="function"?Jl:Ap,q1(Ll,Vl,r_(Vl),Jl)},wp.isNaN=function(Ll){return lS(Ll)&&Ll!=+Ll},wp.isNative=function(Ll){if(uR(Ll))throw new y_("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Y_(Ll)},wp.isNil=function(Ll){return Ll==null},wp.isNull=function(Ll){return Ll===null},wp.isNumber=lS,wp.isObject=yy,wp.isObjectLike=wy,wp.isPlainObject=q0,wp.isRegExp=R_,wp.isSafeInteger=function(Ll){return cS(Ll)&&-9007199254740991<=Ll&&9007199254740991>=Ll},wp.isSet=US,wp.isString=g1,wp.isSymbol=Fy,wp.isTypedArray=D0,wp.isUndefined=function(Ll){return Ll===Ap},wp.isWeakMap=function(Ll){return wy(Ll)&&Cy(Ll)=="[object WeakMap]"},wp.isWeakSet=function(Ll){return wy(Ll)&&$y(Ll)=="[object WeakSet]"},wp.join=function(Ll,Vl){return Ll==null?"":ZT.call(Ll,Vl)},wp.kebabCase=Tx,wp.last=zy,wp.lastIndexOf=function(Ll,Vl,Jl){var yp=Ll==null?0:Ll.length;if(!yp)return-1;var _p=yp;if(Jl!==Ap&&(_p=0>(_p=uy(Jl))?Ty(yp+_p,0):xy(_p,yp-1)),Vl==Vl)e:{for(Jl=_p+1;Jl--;)if(Ll[Jl]===Vl){Ll=Jl;break e}Ll=Jl}else Ll=vp(Ll,Ep,_p,!0);return Ll},wp.lowerCase=Rx,wp.lowerFirst=$x,wp.lt=qR,wp.lte=GR,wp.max=function(Ll){return Ll&&Ll.length?J0(Ll,jy,B1):Ap},wp.maxBy=function(Ll,Vl){return Ll&&Ll.length?J0(Ll,iy(Vl,2),B1):Ap},wp.mean=function(Ll){return Op(Ll,jy)},wp.meanBy=function(Ll,Vl){return Op(Ll,iy(Vl,2))},wp.min=function(Ll){return Ll&&Ll.length?J0(Ll,jy,z1):Ap},wp.minBy=function(Ll,Vl){return Ll&&Ll.length?J0(Ll,iy(Vl,2),z1):Ap},wp.stubArray=m_,wp.stubFalse=v_,wp.stubObject=function(){return{}},wp.stubString=function(){return""},wp.stubTrue=function(){return!0},wp.multiply=o2,wp.nth=function(Ll,Vl){return Ll&&Ll.length?nO(Ll,uy(Vl)):Ap},wp.noConflict=function(){return Ay._===this&&(Ay._=WT),this},wp.noop=g_,wp.now=x1,wp.pad=function(Ll,Vl,Jl){Ll=fy(Ll);var yp=(Vl=uy(Vl))?_v(Ll):0;return!Vl||yp>=Vl?Ll:o1(k1(Vl=(Vl-yp)/2),Jl)+Ll+o1(I1(Vl),Jl)},wp.padEnd=function(Ll,Vl,Jl){Ll=fy(Ll);var yp=(Vl=uy(Vl))?_v(Ll):0;return Vl&&yp<Vl?Ll+o1(Vl-yp,Jl):Ll},wp.padStart=function(Ll,Vl,Jl){Ll=fy(Ll);var yp=(Vl=uy(Vl))?_v(Ll):0;return Vl&&yp<Vl?o1(Vl-yp,Jl)+Ll:Ll},wp.parseInt=function(Ll,Vl,Jl){return Jl||Vl==null?Vl=0:Vl&&(Vl=+Vl),_A(fy(Ll).replace(N1,""),Vl||0)},wp.random=function(Ll,Vl,Jl){if(Jl&&typeof Jl!="boolean"&&Py(Ll,Vl,Jl)&&(Vl=Jl=Ap),Jl===Ap&&(typeof Vl=="boolean"?(Jl=Vl,Vl=Ap):typeof Ll=="boolean"&&(Jl=Ll,Ll=Ap)),Ll===Ap&&Vl===Ap?(Ll=0,Vl=1):(Ll=u0(Ll),Vl===Ap?(Vl=Ll,Ll=0):Vl=u0(Vl)),Ll>Vl){var yp=Ll;Ll=Vl,Vl=yp}return Jl||Ll%1||Vl%1?(Jl=kS(),xy(Ll+Jl*(Vl-Ll+ST("1e-"+((Jl+"").length-1))),Vl)):W1(Ll,Vl)},wp.reduce=function(Ll,Vl,Jl){var yp=ay(Ll)?Gl:xp,_p=3>arguments.length;return yp(Ll,iy(Vl,4),Jl,_p,p0)},wp.reduceRight=function(Ll,Vl,Jl){var yp=ay(Ll)?Ql:xp,_p=3>arguments.length;return yp(Ll,iy(Vl,4),Jl,_p,RS)},wp.repeat=function(Ll,Vl,Jl){return Vl=(Jl?Py(Ll,Vl,Jl):Vl===Ap)?1:uy(Vl),K1(fy(Ll),Vl)},wp.replace=function(){var Ll=arguments,Vl=fy(Ll[0]);return 3>Ll.length?Vl:Vl.replace(Ll[1],Ll[2])},wp.result=function(Ll,Vl,Jl){var yp=-1,_p=(Vl=f0(Vl,Ll)).length;for(_p||(_p=1,Ll=Ap);++yp<_p;){var Sp=Ll==null?Ap:Ll[e0(Vl[yp])];Sp===Ap&&(yp=_p,Sp=Jl),Ll=a0(Sp)?Sp.call(Ll):Sp}return Ll},wp.round=s2,wp.runInContext=Fp,wp.sample=function(Ll){return(ay(Ll)?G_:jT)(Ll)},wp.size=function(Ll){if(Ll==null)return 0;if(Ly(Ll))return g1(Ll)?_v(Ll):Ll.length;var Vl=Cy(Ll);return Vl=="[object Map]"||Vl=="[object Set]"?Ll.size:G1(Ll).length},wp.snakeCase=Px,wp.some=function(Ll,Vl,Jl){var yp=ay(Ll)?_f:FT;return Jl&&Py(Ll,Vl,Jl)&&(Vl=Ap),yp(Ll,iy(Vl,3))},wp.sortedIndex=function(Ll,Vl){return e1(Ll,Vl)},wp.sortedIndexBy=function(Ll,Vl,Jl){return Q1(Ll,Vl,iy(Jl,2))},wp.sortedIndexOf=function(Ll,Vl){var Jl=Ll==null?0:Ll.length;if(Jl){var yp=e1(Ll,Vl);if(yp<Jl&&Yy(Ll[yp],Vl))return yp}return-1},wp.sortedLastIndex=function(Ll,Vl){return e1(Ll,Vl,!0)},wp.sortedLastIndexBy=function(Ll,Vl,Jl){return Q1(Ll,Vl,iy(Jl,2),!0)},wp.sortedLastIndexOf=function(Ll,Vl){if(Ll!=null&&Ll.length){var Jl=e1(Ll,Vl,!0)-1;if(Yy(Ll[Jl],Vl))return Jl}return-1},wp.startCase=Nx,wp.startsWith=function(Ll,Vl,Jl){return Ll=fy(Ll),Jl=Jl==null?0:y0(uy(Jl),0,Ll.length),Vl=Uy(Vl),Ll.slice(Jl,Jl+Vl.length)==Vl},wp.subtract=a2,wp.sum=function(Ll){return Ll&&Ll.length?Np(Ll,jy):0},wp.sumBy=function(Ll,Vl){return Ll&&Ll.length?Np(Ll,iy(Vl,2)):0},wp.template=function(Ll,Vl,Jl){var yp=wp.templateSettings;Jl&&Py(Ll,Vl,Jl)&&(Vl=Ap),Ll=fy(Ll),Vl=C1({},Vl,yp,kO);var _p,Sp,Rp=ky(Jl=C1({},Vl.imports,yp.imports,kO)),Lp=Bp(Jl,Rp),Mp=0;Jl=Vl.interpolate||X0;var Gp="__p += '";Jl=b_((Vl.escape||X0).source+"|"+Jl.source+"|"+(Jl===P_?cT:X0).source+"|"+(Vl.evaluate||X0).source+"|$","g");var Wp="//# sourceURL="+(py.call(Vl,"sourceURL")?(Vl.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++_T+"]")+`
`;if(Ll.replace(Jl,function(Zp,_m,Jp,ty,sy,cy){return Jp||(Jp=ty),Gp+=Ll.slice(Mp,cy).replace(mT,Vp),_m&&(_p=!0,Gp+=`' +
__e(`+_m+`) +
'`),sy&&(Sp=!0,Gp+=`';
`+sy+`;
__p += '`),Jp&&(Gp+=`' +
((__t = (`+Jp+`)) == null ? '' : __t) +
'`),Mp=cy+Zp.length,Zp}),Gp+=`';
`,Vl=py.call(Vl,"variable")&&Vl.variable){if(aT.test(Vl))throw new y_("Invalid `variable` option passed into `_.template`")}else Gp=`with (obj) {
`+Gp+`
}
`;if(Gp=(Sp?Gp.replace(zS,""):Gp).replace(HS,"$1").replace(WS,"$1;"),Gp="function("+(Vl||"obj")+`) {
`+(Vl?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(_p?", __e = _.escape":"")+(Sp?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Gp+`return __p
}`,(Vl=GS(function(){return ES(Rp,Wp+"return "+Gp).apply(Ap,Lp)})).source=Gp,c_(Vl))throw Vl;return Vl},wp.times=function(Ll,Vl){if(1>(Ll=uy(Ll))||9007199254740991<Ll)return[];var Jl=4294967295,yp=xy(Ll,4294967295);for(Ll-=4294967295,yp=Kp(yp,Vl=iy(Vl));++Jl<Ll;)Vl(Jl);return yp},wp.toFinite=u0,wp.toInteger=uy,wp.toLength=hS,wp.toLower=function(Ll){return fy(Ll).toLowerCase()},wp.toNumber=Hy,wp.toSafeInteger=function(Ll){return Ll?y0(uy(Ll),-9007199254740991,9007199254740991):Ll===0?Ll:0},wp.toString=fy,wp.toUpper=function(Ll){return fy(Ll).toUpperCase()},wp.trim=function(Ll,Vl,Jl){return(Ll=fy(Ll))&&(Jl||Vl===Ap)?Tp(Ll):Ll&&(Vl=Uy(Vl))?h0(Ll=_g(Ll),Vl=Cp(Ll,Jl=_g(Vl)),Jl=$p(Ll,Jl)+1).join(""):Ll},wp.trimEnd=function(Ll,Vl,Jl){return(Ll=fy(Ll))&&(Jl||Vl===Ap)?Ll.slice(0,dy(Ll)+1):Ll&&(Vl=Uy(Vl))?h0(Ll=_g(Ll),0,Vl=$p(Ll,_g(Vl))+1).join(""):Ll},wp.trimStart=function(Ll,Vl,Jl){return(Ll=fy(Ll))&&(Jl||Vl===Ap)?Ll.replace(N1,""):Ll&&(Vl=Uy(Vl))?h0(Ll=_g(Ll),Vl=Cp(Ll,_g(Vl))).join(""):Ll},wp.truncate=function(Ll,Vl){var Jl=30,yp="...";if(yy(Vl)){var _p="separator"in Vl?Vl.separator:_p;Jl="length"in Vl?uy(Vl.length):Jl,yp="omission"in Vl?Uy(Vl.omission):yp}if(Vl=(Ll=fy(Ll)).length,S0.test(Ll)){var Sp=_g(Ll);Vl=Sp.length}if(Jl>=Vl)return Ll;if(1>(Vl=Jl-_v(yp)))return yp;if(Jl=Sp?h0(Sp,0,Vl).join(""):Ll.slice(0,Vl),_p===Ap)return Jl+yp;if(Sp&&(Vl+=Jl.length-Vl),R_(_p)){if(Ll.slice(Vl).search(_p)){for(Sp=Jl,_p.global||(_p=b_(_p.source,fy(N_.exec(_p))+"g")),_p.lastIndex=0;Ll=_p.exec(Sp);)var Rp=Ll.index;Jl=Jl.slice(0,Rp===Ap?Vl:Rp)}}else Ll.indexOf(Uy(_p),Vl)!=Vl&&-1<(_p=Jl.lastIndexOf(_p))&&(Jl=Jl.slice(0,_p));return Jl+yp},wp.unescape=function(Ll){return(Ll=fy(Ll))&&KS.test(Ll)?Ll.replace(C_,xT):Ll},wp.uniqueId=function(Ll){var Vl=++zT;return fy(Ll)+Vl},wp.upperCase=Lx,wp.upperFirst=x_,wp.each=iS,wp.eachRight=oS,wp.first=eS,p_(wp,function(){var Ll={};return Jy(wp,function(Vl,Jl){py.call(wp.prototype,Jl)||(Ll[Jl]=Vl)}),Ll}(),{chain:!1}),wp.VERSION="4.17.21",El("bind bindKey curry curryRight partial partialRight".split(" "),function(Ll){wp[Ll].placeholder=wp}),El(["drop","take"],function(Ll,Vl){ey.prototype[Ll]=function(Jl){Jl=Jl===Ap?1:Ty(uy(Jl),0);var yp=this.__filtered__&&!Vl?new ey(this):this.clone();return yp.__filtered__?yp.__takeCount__=xy(Jl,yp.__takeCount__):yp.__views__.push({size:xy(Jl,4294967295),type:Ll+(0>yp.__dir__?"Right":"")}),yp},ey.prototype[Ll+"Right"]=function(Jl){return this.reverse()[Ll](Jl).reverse()}}),El(["filter","map","takeWhile"],function(Ll,Vl){var Jl=Vl+1,yp=Jl==1||Jl==3;ey.prototype[Ll]=function(_p){var Sp=this.clone();return Sp.__iteratees__.push({iteratee:iy(_p,3),type:Jl}),Sp.__filtered__=Sp.__filtered__||yp,Sp}}),El(["head","last"],function(Ll,Vl){var Jl="take"+(Vl?"Right":"");ey.prototype[Ll]=function(){return this[Jl](1).value()[0]}}),El(["initial","tail"],function(Ll,Vl){var Jl="drop"+(Vl?"":"Right");ey.prototype[Ll]=function(){return this.__filtered__?new ey(this):this[Jl](1)}}),ey.prototype.compact=function(){return this.filter(jy)},ey.prototype.find=function(Ll){return this.filter(Ll).head()},ey.prototype.findLast=function(Ll){return this.reverse().find(Ll)},ey.prototype.invokeMap=ly(function(Ll,Vl){return typeof Ll=="function"?new ey(this):this.map(function(Jl){return F0(Jl,Ll,Vl)})}),ey.prototype.reject=function(Ll){return this.filter(d1(iy(Ll)))},ey.prototype.slice=function(Ll,Vl){Ll=uy(Ll);var Jl=this;return Jl.__filtered__&&(0<Ll||0>Vl)?new ey(Jl):(0>Ll?Jl=Jl.takeRight(-Ll):Ll&&(Jl=Jl.drop(Ll)),Vl!==Ap&&(Jl=0>(Vl=uy(Vl))?Jl.dropRight(-Vl):Jl.take(Vl-Ll)),Jl)},ey.prototype.takeRightWhile=function(Ll){return this.reverse().takeWhile(Ll).reverse()},ey.prototype.toArray=function(){return this.take(4294967295)},Jy(ey.prototype,function(Ll,Vl){var Jl=/^(?:filter|find|map|reject)|While$/.test(Vl),yp=/^(?:head|last)$/.test(Vl),_p=wp[yp?"take"+(Vl=="last"?"Right":""):Vl],Sp=yp||/^find/.test(Vl);_p&&(wp.prototype[Vl]=function(){var Rp=this.__wrapped__,Lp=yp?[1]:arguments,Mp=Rp instanceof ey,Gp=Lp[0],Wp=Mp||ay(Rp),Zp=function(ty){return ty=_p.apply(wp,Bl([ty],Lp)),yp&&_m?ty[0]:ty};Wp&&Jl&&typeof Gp=="function"&&Gp.length!=1&&(Mp=Wp=!1);var _m=this.__chain__,Jp=!!this.__actions__.length;return Gp=Sp&&!_m,Mp=Mp&&!Jp,!Sp&&Wp?(Rp=Mp?Rp:new ey(this),(Rp=Ll.apply(Rp,Lp)).__actions__.push({func:l1,args:[Zp],thisArg:Ap}),new oy(Rp,_m)):Gp&&Mp?Ll.apply(this,Lp):(Rp=this.thru(Zp),Gp?yp?Rp.value()[0]:Rp.value():Rp)})}),El("pop push shift sort splice unshift".split(" "),function(Ll){var Vl=v1[Ll],Jl=/^(?:push|sort|unshift)$/.test(Ll)?"tap":"thru",yp=/^(?:pop|shift)$/.test(Ll);wp.prototype[Ll]=function(){var _p=arguments;if(yp&&!this.__chain__){var Sp=this.value();return Vl.apply(ay(Sp)?Sp:[],_p)}return this[Jl](function(Rp){return Vl.apply(ay(Rp)?Rp:[],_p)})}}),Jy(ey.prototype,function(Ll,Vl){if(Ll=wp[Vl]){var Jl=Ll.name+"";py.call(N0,Jl)||(N0[Jl]=[]),N0[Jl].push({name:Vl,func:Ll})}}),N0[r1(Ap,2).name]=[{name:"wrapper",func:Ap}],ey.prototype.clone=function(){var Ll=new ey(this.__wrapped__);return Ll.__actions__=Ny(this.__actions__),Ll.__dir__=this.__dir__,Ll.__filtered__=this.__filtered__,Ll.__iteratees__=Ny(this.__iteratees__),Ll.__takeCount__=this.__takeCount__,Ll.__views__=Ny(this.__views__),Ll},ey.prototype.reverse=function(){if(this.__filtered__){var Ll=new ey(this);Ll.__dir__=-1,Ll.__filtered__=!0}else(Ll=this.clone()).__dir__*=-1;return Ll},ey.prototype.value=function(){for(var Ll=this.__wrapped__.value(),Vl=this.__dir__,Jl=ay(Ll),yp=0>Vl,_p=Jl?Ll.length:0,Sp=0,Rp=_p,Lp=this.__views__,Mp=-1,Gp=Lp.length;++Mp<Gp;){var Wp=Lp[Mp],Zp=Wp.size;switch(Wp.type){case"drop":Sp+=Zp;break;case"dropRight":Rp-=Zp;break;case"take":Rp=xy(Rp,Sp+Zp);break;case"takeRight":Sp=Ty(Sp,Rp-Zp)}}if(Rp=(Lp=Rp)-Sp,Sp=yp?Lp:Sp-1,Mp=(Lp=this.__iteratees__).length,Gp=0,Wp=xy(Rp,this.__takeCount__),!Jl||!yp&&_p==Rp&&Wp==Rp)return uO(Ll,this.__actions__);Jl=[];e:for(;Rp--&&Gp<Wp;){for(yp=-1,_p=Ll[Sp+=Vl];++yp<Mp;){var _m=Lp[yp];if(Zp=_m.iteratee,_m=_m.type,Zp=Zp(_p),_m==2)_p=Zp;else if(!Zp){if(_m==1)continue e;break e}}Jl[Gp++]=_p}return Jl},wp.prototype.at=IR,wp.prototype.chain=function(){return rS(this)},wp.prototype.commit=function(){return new oy(this.value(),this.__chain__)},wp.prototype.next=function(){this.__values__===Ap&&(this.__values__=fS(this.value()));var Ll=this.__index__>=this.__values__.length;return{done:Ll,value:Ll?Ap:this.__values__[this.__index__++]}},wp.prototype.plant=function(Ll){for(var Vl,Jl=this;Jl instanceof ny;){var yp=GO(Jl);yp.__index__=0,yp.__values__=Ap,Vl?_p.__wrapped__=yp:Vl=yp;var _p=yp;Jl=Jl.__wrapped__}return _p.__wrapped__=Ll,Vl},wp.prototype.reverse=function(){var Ll=this.__wrapped__;return Ll instanceof ey?(this.__actions__.length&&(Ll=new ey(this)),(Ll=Ll.reverse()).__actions__.push({func:l1,args:[a_],thisArg:Ap}),new oy(Ll,this.__chain__)):this.thru(a_)},wp.prototype.toJSON=wp.prototype.valueOf=wp.prototype.value=function(){return uO(this.__wrapped__,this.__actions__)},wp.prototype.first=wp.prototype.head,G0&&(wp.prototype[G0]=function(){return this}),wp}();m0?((m0.exports=T0)._=T0,D1._=T0):Ay._=T0}).call(qb)}),Nz=1/0,wq=function(_r){return _r?(_r=hl(_r))===Nz||_r===-Nz?17976931348623157e292*(0>_r?-1:1):_r==_r?_r:0:_r===0?_r:0},KO=Math.max,AC=function(_r,_t,_o){var yl=Object(_r);if(!$f(_r)){var El=Ch(_t);_r=Wf(_r),_t=function(_l){return El(yl[_l],_l,yl)}}return-1<(_t=function(_l,Tl,Il){var Al=_l==null?0:_l.length;if(!Al)return-1;if(Il==null)Il=0;else{var Rl=(Il=wq(Il))%1;Il=Il==Il?Rl?Il-Rl:Il:0}return 0>Il&&(Il=KO(Al+Il,0)),Cv(_l,Ch(Tl),Il)}(_r,_t,_o))?yl[El?_r[_t]:_t]:void 0},zC=function(_r,_t){return _r&&_r.length?Do(_r,void 0,typeof _t=="function"?_t:void 0):[]},Oz=function(){function _r(){ab(this,_r),E(this,"size",0),E(this,"fields",new Map)}return Qb(_r,[{key:"define",value:function(_t,_o,yl){if(this.size+=yl,64<this.size)throw new RangeError("the struct over 64 bits is not supported");ak(_o={val:0,isNumber:_o==="number",isBoolean:_o==="boolean",oneof:_o==="number"||_o==="boolean"?void 0:_o,len:yl}),this.fields.set(_t,_o)}},{key:"set",value:function(_t,_o){if(!(_t=this.fields.get(_t)))throw Error("field not found");var yl=_t.oneof;if(!D.isLong(_o)&&typeof _o!="number")if(typeof _o=="boolean")_o=_o?1:0;else{if(yl===void 0)throw Error("invalid field type");if((_o=yl[_o])===void 0)throw Error("field type not found")}ak(_t,_o),_t.val=_o}},{key:"toNumber",value:function(){for(var _t=0,_o=0,yl=0,El=Array.from(this.fields);yl<El.length;yl++){var _l=Lb(El[yl],2)[1],Tl=_l.len;(_l=_l.val)!==void 0&&(_t+=D.fromValue(_l).shiftLeft(_o).toNumber(),_o+=Tl)}return _t}},{key:"toLong",value:function(){for(var _t=D.fromNumber(0,!0),_o=0,yl=0,El=Array.from(this.fields);yl<El.length;yl++){var _l=Lb(El[yl],2)[1],Tl=_l.len;(_l=_l.val)!==void 0&&(_t=D.fromValue(_l).shiftLeft(_o).add(_t),_o+=Tl)}return _t}},{key:"assert",value:function(_t,_o){function yl(Tl){if(!D.isLong(Tl)&&typeof Tl!="number")if(typeof Tl=="boolean")Tl=Tl?1:0;else{if(_l===void 0)throw Error("invalid field type");if((Tl=_l[Tl])===void 0)throw Error("field type not found")}return ak(El,Tl),Zj(Tl,El.val)}var El=this.fields.get(_t);if(!El)throw Error("field not found");var _l=El.oneof;if(!Array.isArray(_o))return yl(_o);if(_o.length===1)return yl(_o[0]);if(_o.every(function(Tl){return typeof Tl=="string"})&&_l!==void 0)return _o.some(function(Tl){return yl(Tl)});throw Error("invalid valueTypes")}},{key:"from",value:function(_t){_t=D.fromValue(_t);for(var _o=0,yl=0,El=Array.from(this.fields);yl<El.length;yl++){var _l=Lb(El[yl],2)[1],Tl=_l.len,Il=D.fromNumber(Math.pow(2,Tl)-1,!0).shiftLeft(_o);ak(_l,Il=_t.and(Il).shiftRightUnsigned(_o)),_l.val=Il,_o+=Tl}}},{key:"typeOf",value:function(_t){if((_t=this.fields.get(_t))!==void 0){var _o=_t.oneof;if(_t=_t.val,_o!==void 0){var yl=0;for(_o=Object.entries(_o);yl<_o.length;yl++){var El=Lb(_o[yl],2),_l=El[0];if(Zj(_t,El[1]))return _l}}}throw new TypeError("can only get type of oneof type")}}]),_r}(),Pz=function(_r){function _t(yl){ab(this,_t);var El=_o.call(this);return El.define("Rejoin","boolean",1),El.define("Unused","number",31),El.define("Platform","number",8),El.define("Version","number",12),El.define("Subversion","number",12),El.set("Platform",7),El.set("Version",7),El.set("Subversion",228),El.set("Rejoin",yl),El}nb(_t,_r);var _o=ob(_t);return _t}(Oz),LO=tb(tb({},{PeerTextMessage:0,ChannelTextMessage:1,VendorTextMessage:2}),{PeerRawMessage:3,ChannelRawMessage:4,VendorRawMessage:5}),Qz={CallInvite:101,CallAccept:102,CallReject:103,CallCancel:104},MO=tb(tb({},LO),Qz),NO={Uncompressed:0,Zlib:1},Yh=function(_r){function _t(yl){ab(this,_t);var El=_o.call(this);if(El.define("MessageType",MO,8),El.define("BroadcastJumps","number",2),El.define("ToCache","boolean",1),El.define("FromCache","boolean",1),El.define("CompressionMethod",NO,2),El.define("IterationNumber","number",4),El.define("BufferedMessage","boolean",1),El.define("ToArchive","boolean",1),El.define("FromArchive","boolean",1),typeof yl=="number"||D.isLong(yl))El.from(yl);else if(yl!==void 0){var _l=0;for(yl=Vj(yl);_l<yl.length;_l++){var Tl=Lb(yl[_l],2);El.set(Tl[0],Tl[1])}}return El}nb(_t,_r);var _o=ob(_t);return Qb(_t,[{key:"isTextMessage",value:function(){return this.assert("MessageType",["PeerTextMessage","ChannelTextMessage","VendorTextMessage"])}},{key:"isRawMessage",value:function(){return this.assert("MessageType",["ChannelRawMessage","PeerRawMessage","VendorRawMessage"])}},{key:"isRawPeerMessage",value:function(){return this.assert("MessageType","PeerRawMessage")}},{key:"isRawChannelMessage",value:function(){return this.assert("MessageType","ChannelRawMessage")}},{key:"isPeerTextMessage",value:function(){return this.assert("MessageType","PeerTextMessage")}},{key:"isChannelTextMessage",value:function(){return this.assert("MessageType","ChannelTextMessage")}},{key:"isInvitation",value:function(yl){var El=this;return yl!==void 0?this.assert("MessageType",yl):vi(Qz).some(function(_l){return El.assert("MessageType",_l)})}},{key:"isPeerMessage",value:function(){return this.assert("MessageType",["PeerTextMessage","PeerRawMessage"])}},{key:"isZlibCompressed",value:function(){return this.assert("CompressionMethod","Zlib")}},{key:"isFromCache",value:function(){return this.assert("FromCache",!0)}},{key:"isBufferedMessage",value:function(){return this.assert("BufferedMessage",!0)}},{key:"getInvitationType",value:function(){if(!this.isInvitation())throw new TypeError("cannot get InvitationType of a normal message type");return this.typeOf("MessageType")}}]),_t}(Oz),Fs=function(){function _r(_t){var _o,yl,El,_l,Tl;ab(this,_r),E(this,"key",void 0),E(this,"value",void 0),E(this,"revision",void 0),E(this,"updateTs",void 0),E(this,"authorUserId",void 0),this.key=(_o=_t==null?void 0:_t.key)!==null&&_o!==void 0?_o:"",this.value=(yl=_t==null?void 0:_t.value)!==null&&yl!==void 0?yl:"",this.revision=(El=_t==null?void 0:_t.revision)!==null&&El!==void 0?El:-1,this.updateTs=(_l=_t==null?void 0:_t.updateTs)!==null&&_l!==void 0?_l:0,this.authorUserId=(Tl=_t==null?void 0:_t.authorUserId)!==null&&Tl!==void 0?Tl:""}return Qb(_r,[{key:"setKey",value:function(_t){if(typeof _t!="string")throw new Ib("Cannot set MetaDataItem key as ".concat(_t));this.key=_t,this.key=_t}},{key:"getKey",value:function(){if(typeof this.key=="string")return this.key;throw new Ib("Cannot get MetaDataItem key")}},{key:"setValue",value:function(_t){if(typeof _t!="string"&&!Pd.isNull(null))throw new Ib("Cannot set MetaDataItem value as ".concat(_t));this.value=_t}},{key:"getValue",value:function(){if(typeof this.value=="string"||Pd.isNull(null))return this.value;throw new Ib("Cannot get MetaDataItem value")}},{key:"setRevision",value:function(_t){if(typeof _t!="number"||_t%1!=0)throw new Ib("Cannot set MetaDataItem revision as ".concat(_t));this.revision=_t}},{key:"getRevision",value:function(){if(typeof this.revision=="number")return this.revision;throw new Ib("Cannot get MetaDataItem revision")}},{key:"getUpdateTs",value:function(){return this.updateTs}},{key:"getAuthorUserId",value:function(){return this.authorUserId}}]),_r}(),Ge,bg;(function(_r){_r.STATE_REVISION_KEY_PREFIX="_rev_",_r.STATE_TIMESTAMP_PREFIX="_t_",_r.STATE_AUTHOR_PREFIX="_m_",_r.STATE_REVISION="_rev",_r.STATE_INTERNAL_PREFIX="_"})(Ge||(Ge={})),function(_r){_r[_r.StateOk=0]="StateOk",_r[_r.DuplicatedOperation=1]="DuplicatedOperation",_r[_r.SyncServerError=2]="SyncServerError",_r[_r.ArgumentError=3]="ArgumentError",_r[_r.AuthicationError=4]="AuthicationError",_r[_r.ExceedLimitationError=5]="ExceedLimitationError",_r[_r.OutdateRevision=6]="OutdateRevision",_r[_r.LockAcquireFailed=7]="LockAcquireFailed",_r[_r.LockExpired=8]="LockExpired",_r[_r.LockWatching=9]="LockWatching",_r[_r.InvalidLock=10]="InvalidLock",_r[_r.TimeOutError=100]="TimeOutError",_r[_r.UnknownError=255]="UnknownError"}(bg||(bg={}));var OO=Math.max,PO=Math.min,Rz=function(_r,_t,_o){return _t=wq(_t),_o===void 0?(_o=_t,_t=0):_o=wq(_o),(_r=hl(_r))>=PO(_t,_o)&&_r<OO(_t,_o)},Wl=function(_r){function _t(yl,El,_l){return ab(this,_t),E(L(El=_o.call(this,El,"MessageReport")),"messagecount",El.getInitMessageCount()),E(L(El),"context",void 0),E(L(El),"rtmMessageCategory",void 0),E(L(El),"seq",D.fromNumber(1,!0)),El.context=yl,El.rtmMessageCategory=_l,El}nb(_t,_r);var _o=ob(_t);return Qb(_t,[{key:"incGetSeq",value:function(){return this.seq=this.seq.add(1)}},{key:"getInitMessageCount",value:function(){return{peerack10mscount:D.fromNumber(0),peerack25mscount:D.fromNumber(0),peerack50mscount:D.fromNumber(0),peerack75mscount:D.fromNumber(0),peerack100mscount:D.fromNumber(0),peerack150mscount:D.fromNumber(0),peerack200mscount:D.fromNumber(0),peerack250mscount:D.fromNumber(0),peerack300mscount:D.fromNumber(0),peerack400mscount:D.fromNumber(0),peerack500mscount:D.fromNumber(0),peerack600mscount:D.fromNumber(0),peerack800mscount:D.fromNumber(0),peerack1000mscount:D.fromNumber(0),peerack2000mscount:D.fromNumber(0),peerack3000mscount:D.fromNumber(0),peerack5000mscount:D.fromNumber(0),peerack7000mscount:D.fromNumber(0),peerackslowcount:D.fromNumber(0),norecipientack10mscount:D.fromNumber(0),norecipientack25mscount:D.fromNumber(0),norecipientack50mscount:D.fromNumber(0),norecipientack75mscount:D.fromNumber(0),norecipientack100mscount:D.fromNumber(0),norecipientack150mscount:D.fromNumber(0),norecipientack200mscount:D.fromNumber(0),norecipientack250mscount:D.fromNumber(0),norecipientack300mscount:D.fromNumber(0),norecipientack400mscount:D.fromNumber(0),norecipientack500mscount:D.fromNumber(0),norecipientack600mscount:D.fromNumber(0),norecipientack800mscount:D.fromNumber(0),norecipientack1000mscount:D.fromNumber(0),norecipientack2000mscount:D.fromNumber(0),norecipientack3000mscount:D.fromNumber(0),norecipientack5000mscount:D.fromNumber(0),norecipientack7000mscount:D.fromNumber(0),norecipientackslowcount:D.fromNumber(0),sentcount:D.fromNumber(0),receivedcount:D.fromNumber(0),acktimeoutcount:D.fromNumber(0),toooftencount:0,receiverofflinecount:0,invalidmessagecount:0,unknowerrorcount:0,servercachedcount:0,timeoutcount:0,successcount:0}}},{key:"updatePeerAckCount",value:function(yl){yl/=2;for(var El=[[0,10],[10,25],[25,50],[50,75],[75,100],[100,150],[150,200],[200,250],[250,300],[300,400],[400,500],[500,600],[600,800],[800,1e3],[1e3,2e3],[2e3,3e3],[3e3,5e3],[5e3,7e3]],_l=0;_l<El.length;_l++){var Tl,Il=El[_l];if(Rz(yl,Il[0],Il[1]))Il="peerack".concat(Il[1],"mscount"),this.messagecount[Il]=(Tl=this.messagecount[Il])===null||Tl===void 0?void 0:Tl.add(1);else if(7e3<yl){var Al;this.messagecount.peerackslowcount=(Al=this.messagecount.peerackslowcount)===null||Al===void 0?void 0:Al.add(1)}}}},{key:"updateNorecipientackCount",value:function(yl){yl/=2;for(var El=[[0,10],[10,25],[25,50],[50,75],[75,100],[100,150],[150,200],[200,250],[250,300],[300,400],[400,500],[500,600],[600,800],[800,1e3],[1e3,2e3],[2e3,3e3],[3e3,5e3],[5e3,7e3]],_l=0;_l<El.length;_l++){var Tl,Il=El[_l];if(Rz(yl,Il[0],Il[1]))Il="norecipientack".concat(Il[1],"mscount"),this.messagecount[Il]=(Tl=this.messagecount[Il])===null||Tl===void 0?void 0:Tl.add(1);else if(7e3<yl){var Al;this.messagecount.norecipientackslowcount=(Al=this.messagecount.norecipientackslowcount)===null||Al===void 0?void 0:Al.add(1)}}}},{key:"updateCommonCount",value:function(yl){var El=this.messagecount[yl];D.isLong(El)?this.messagecount[yl]=El.add(1):this.messagecount[yl]=El+1}},{key:"report",value:function(){var yl,El;$a("RtmSdkMessageCount",new Bx(tb(tb({},this.messagecount),{},{vid:D.fromString((yl=this.context.vid)!==null&&yl!==void 0?yl:"0"),os:7,lts:D.fromNumber(Date.now()),sid:this.context.sid,reportsequence:this.incGetSeq(),apimajorversion:7,apiminorversion:228,userid:this.context.uid,messagecategory:this.rtmMessageCategory})),(El=this.context.config.enableCloudProxy)!==null&&El!==void 0&&El),this.messagecount=tb(tb({},this.messagecount),{},{toooftencount:0,receiverofflinecount:0,invalidmessagecount:0,unknowerrorcount:0,servercachedcount:0,timeoutcount:0,successcount:0})}}]),_t}(Dd()),QO=function(_r){function _t(yl){return ab(this,_t),E(L(yl=_o.call(this,yl,"ChatManager")),"dialogueLru",new kG(void 0,{maxlen:1e4,ttl:1e4})),yl}nb(_t,_r);var _o=ob(_t);return Qb(_t,[{key:"getChatInfo",value:function(yl){var El=this.dialogueLru.get(yl);if(this.dialogueLru.prune(),El){var _l=El.dialogue,Tl={dialogue:_l,sequence:El=El.sequence.add(1)};return this.dialogueLru.set(yl,{dialogue:_l,sequence:El}),Tl}return _l={dialogue:Rj(),sequence:D.fromNumber(1,!0)},this.dialogueLru.set(yl,_l),_l}}]),_t}(Dd()),X={};Ia(module)=="object"&&(module.exports=X),X.parse=function(_r,_t){var _o,yl=X.bin.readUshort,El=X.bin.readUint,_l={};for(_o=(_r=new Uint8Array(_r)).length-4;El(_r,_o)!=101010256;)_o--;var Tl=yl(_r,_o=_o+4+4);yl(_r,_o+=2),El(_r,_o+=2),_o=El(_r,_o+=4);for(var Il=0;Il<Tl;Il++){El(_r,_o),_o+=4,_o+=4,_o+=4,El(_r,_o+=4);var Al=El(_r,_o+=4),Rl=El(_r,_o+=4),Fl=yl(_r,_o+=4),Bl=yl(_r,_o+2),Gl=yl(_r,_o+4);_o+=6;var Ql=El(_r,_o+=8);_o+=4,_o+=Fl+Bl+Gl,X._readLocal(_r,Ql,_l,Al,Rl,_t)}return _l},X._readLocal=function(_r,_t,_o,yl,El,_l){var Tl=X.bin.readUshort,Il=X.bin.readUint;Il(_r,_t),Tl(_r,_t+=4),Tl(_r,_t+=2);var Al=Tl(_r,_t+=2);Il(_r,_t+=2),Il(_r,_t+=4),Il=Tl(_r,_t=_t+4+8);var Rl=Tl(_r,_t+=2);if(_t+=2,Tl=X.bin.readUTF8(_r,_t,Il),_t=_t+Il+Rl,_l)_o[Tl]={size:El,csize:yl};else if(_r=new Uint8Array(_r.buffer,_t),Al==0)_o[Tl]=new Uint8Array(_r.buffer.slice(_t,_t+yl));else{if(Al!=8)throw"unknown compression method: "+Al;_t=new Uint8Array(El),X.inflateRaw(_r,_t),_o[Tl]=_t}},X.inflateRaw=function(_r,_t){return X.F.inflate(_r,_t)},X.inflate=function(_r,_t){return _r[0],_r[1],X.inflateRaw(new Uint8Array(_r.buffer,_r.byteOffset+2,_r.length-2),_t)},X.deflate=function(_r,_t){_t==null&&(_t={level:6});var _o=0,yl=new Uint8Array(50+Math.floor(1.1*_r.length));return yl[_o]=120,yl[_o+1]=156,_o=X.F.deflateRaw(_r,yl,_o+2,_t.level),_r=X.adler(_r,0,_r.length),yl[_o+0]=_r>>>24&255,yl[_o+1]=_r>>>16&255,yl[_o+2]=_r>>>8&255,yl[_o+3]=_r>>>0&255,new Uint8Array(yl.buffer,0,_o+4)},X.deflateRaw=function(_r,_t){_t==null&&(_t={level:6});var _o=new Uint8Array(50+Math.floor(1.1*_r.length)),yl=X.F.deflateRaw(_r,_o,yl,_t.level);return new Uint8Array(_o.buffer,0,yl)},X.encode=function(_r,_t){_t==null&&(_t=!1);var _o,yl=0,El=X.bin.writeUint,_l=X.bin.writeUshort,Tl={};for(_o in _r){var Il=!X._noNeed(_o)&&!_t,Al=_r[_o],Rl=X.crc.crc(Al,0,Al.length);Tl[_o]={cpr:Il,usize:Al.length,crc:Rl,file:Il?X.deflateRaw(Al):Al}}for(_o in Tl)yl+=Tl[_o].file.length+30+46+2*X.bin.sizeUTF8(_o);for(_o in _r=new Uint8Array(yl+22),_t=0,Al=[],Tl)Rl=Tl[_o],Al.push(_t),_t=X._writeHeader(_r,_t,_o,Rl,0);for(_o in yl=0,Il=_t,Tl)Rl=Tl[_o],Al.push(_t),_t=X._writeHeader(_r,_t,_o,Rl,1,Al[yl++]);return Tl=_t-Il,El(_r,_t,101010256),_l(_r,_t=_t+4+4,yl),_l(_r,_t+=2,yl),El(_r,_t+=2,Tl),El(_r,_t+4,Il),_r.buffer},X._noNeed=function(_r){return _r=_r.split(".").pop().toLowerCase(),"png,jpg,jpeg,zip".indexOf(_r)!=-1},X._writeHeader=function(_r,_t,_o,yl,El,_l){var Tl=X.bin.writeUint,Il=X.bin.writeUshort,Al=yl.file;return Tl(_r,_t,El==0?67324752:33639248),_t+=4,El==1&&(_t+=2),Il(_r,_t,20),Il(_r,_t+=2,0),Il(_r,_t+=2,yl.cpr?8:0),Tl(_r,_t+=2,0),Tl(_r,_t+=4,yl.crc),Tl(_r,_t+=4,Al.length),Tl(_r,_t+=4,yl.usize),Il(_r,_t+=4,X.bin.sizeUTF8(_o)),Il(_r,_t+=2,0),_t+=2,El==1&&(Tl(_r,_t=_t+2+2+6,_l),_t+=4),_t+=_o=X.bin.writeUTF8(_r,_t,_o),El==0&&(_r.set(Al,_t),_t+=Al.length),_t},X.crc={table:function(){for(var _r=new Uint32Array(256),_t=0;256>_t;_t++){for(var _o=_t,yl=0;8>yl;yl++)_o=1&_o?3988292384^_o>>>1:_o>>>1;_r[_t]=_o}return _r}(),update:function(_r,_t,_o,yl){for(var El=0;El<yl;El++)_r=X.crc.table[255&(_r^_t[_o+El])]^_r>>>8;return _r},crc:function(_r,_t,_o){return 4294967295^X.crc.update(4294967295,_r,_t,_o)}},X.adler=function(_r,_t,_o){var yl=1,El=0,_l=_t;for(_t+=_o;_l<_t;){for(_o=Math.min(_l+5552,_t);_l<_o;)El+=yl+=_r[_l++];yl%=65521,El%=65521}return El<<16|yl},X.bin={readUshort:function(_r,_t){return _r[_t]|_r[_t+1]<<8},writeUshort:function(_r,_t,_o){_r[_t]=255&_o,_r[_t+1]=_o>>8&255},readUint:function(_r,_t){return 16777216*_r[_t+3]+(_r[_t+2]<<16|_r[_t+1]<<8|_r[_t])},writeUint:function(_r,_t,_o){_r[_t]=255&_o,_r[_t+1]=_o>>8&255,_r[_t+2]=_o>>16&255,_r[_t+3]=_o>>24&255},readASCII:function(_r,_t,_o){for(var yl="",El=0;El<_o;El++)yl+=String.fromCharCode(_r[_t+El]);return yl},writeASCII:function(_r,_t,_o){for(var yl=0;yl<_o.length;yl++)_r[_t+yl]=_o.charCodeAt(yl)},pad:function(_r){return 2>_r.length?"0"+_r:_r},readUTF8:function(_r,_t,_o){for(var yl,El="",_l=0;_l<_o;_l++)El+="%"+X.bin.pad(_r[_t+_l].toString(16));try{yl=decodeURIComponent(El)}catch{return X.bin.readASCII(_r,_t,_o)}return yl},writeUTF8:function(_r,_t,_o){for(var yl=_o.length,El=0,_l=0;_l<yl;_l++){var Tl=_o.charCodeAt(_l);if(!(4294967168&Tl))_r[_t+El]=Tl,El++;else if(!(4294965248&Tl))_r[_t+El]=192|Tl>>6,_r[_t+El+1]=128|Tl>>0&63,El+=2;else if(!(4294901760&Tl))_r[_t+El]=224|Tl>>12,_r[_t+El+1]=128|Tl>>6&63,_r[_t+El+2]=128|Tl>>0&63,El+=3;else{if(4292870144&Tl)throw"e";_r[_t+El]=240|Tl>>18,_r[_t+El+1]=128|Tl>>12&63,_r[_t+El+2]=128|Tl>>6&63,_r[_t+El+3]=128|Tl>>0&63,El+=4}}return El},sizeUTF8:function(_r){for(var _t=_r.length,_o=0,yl=0;yl<_t;yl++){var El=_r.charCodeAt(yl);if(!(4294967168&El))_o++;else if(!(4294965248&El))_o+=2;else if(!(4294901760&El))_o+=3;else{if(4292870144&El)throw"e";_o+=4}}return _o}},X.F={},X.F.deflateRaw=function(_r,_t,_o,yl){var El=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][yl],_l=X.F.U,Tl=X.F._goodIndex;X.F._hash;var Il=X.F._putsE,Al=0;_o<<=3;var Rl=0,Fl=_r.length;if(yl==0){for(;Al<Fl;){var Bl=Math.min(65535,Fl-Al);Il(_t,_o,Al+Bl==Fl?1:0),_o=X.F._copyExact(_r,Al,Bl,_t,_o+8),Al+=Bl}return _o>>>3}Il=_l.lits,yl=_l.strt;var Gl=_l.prev,Ql=0,_f=0,_h=0,vp=0,up=0;for(2<Fl&&(yl[up=X.F._hash(_r,0)]=0),Al=0;Al<Fl;Al++){if(Bl=up,Al+1<Fl-2){up=X.F._hash(_r,Al+1);var _d=Al+1&32767;Gl[_d]=yl[up],yl[up]=_d}if(Rl<=Al){if((14e3<Ql||26697<_f)&&100<Fl-Al&&(Rl<Al&&(Il[Ql]=Al-Rl,Ql+=2,Rl=Al),_o=X.F._writeBlock(Al==Fl-1||Rl==Fl?1:0,Il,Ql,vp,_r,_h,Al-_h,_t,_o),Ql=_f=vp=0,_h=Al),_d=0,Al<Fl-2&&(_d=X.F._bestMatch(_r,Al,Gl,Bl,Math.min(El[2],Fl-Al),El[3])),_d!=0){Bl=_d>>>16,_d&=65535;var Ep=Tl(Bl,_l.of0);_l.lhst[257+Ep]++;var Op=Tl(_d,_l.df0);_l.dhst[Op]++,vp+=_l.exb[Ep]+_l.dxb[Op],Il[Ql]=Bl<<23|Al-Rl,Il[Ql+1]=_d<<16|Ep<<8|Op,Ql+=2,Rl=Al+Bl}else _l.lhst[_r[Al]]++;_f++}}for(_h==Al&&_r.length!=0||(Rl<Al&&(Il[Ql]=Al-Rl,Ql+=2),_o=X.F._writeBlock(1,Il,Ql,vp,_r,_h,Al-_h,_t,_o));7&_o;)_o++;return _o>>>3},X.F._bestMatch=function(_r,_t,_o,yl,El,_l){var Tl=32767&_t,Il=_o[Tl],Al=Tl-Il+32768&32767;if(Il==Tl||yl!=X.F._hash(_r,_t-Al))return 0;for(var Rl=yl=0,Fl=Math.min(32767,_t);Al<=Fl&&--_l!=0&&Il!=Tl;){if((yl==0||_r[_t+yl]==_r[_t+yl-Al])&&(Tl=X.F._howLong(_r,_t,Al))>yl){if(Rl=Al,(yl=Tl)>=El)break;Al+2<Tl&&(Tl=Al+2);for(var Bl=0,Gl=0;Gl<Tl-2;Gl++){var Ql=_t-Al+Gl+32768&32767,_f=Ql-_o[Ql]+32768&32767;_f>Bl&&(Bl=_f,Il=Ql)}}Al+=(Tl=Il)-(Il=_o[Tl])+32768&32767}return yl<<16|Rl},X.F._howLong=function(_r,_t,_o){if(_r[_t]!=_r[_t-_o]||_r[_t+1]!=_r[_t+1-_o]||_r[_t+2]!=_r[_t+2-_o])return 0;var yl=_t,El=Math.min(_r.length,_t+258);for(_t+=3;_t<El&&_r[_t]==_r[_t-_o];)_t++;return _t-yl},X.F._hash=function(_r,_t){return(_r[_t]<<8|_r[_t+1])+(_r[_t+2]<<4)&65535},X.saved=0,X.F._writeBlock=function(_r,_t,_o,yl,El,_l,Tl,Il,Al){var Rl=X.F.U,Fl=X.F._putsF,Bl=X.F._putsE;Rl.lhst[256]++;var Gl=X.F.getTrees(),Ql=Gl[0],_f=Gl[1],_h=Gl[2],vp=Gl[3],up=Gl[4],_d=Gl[5],Ep=Gl[6];Gl=Gl[7];var Op=32+(Al+3&7?8-(Al+3&7):0)+(Tl<<3),Ip=yl+X.F.contSize(Rl.fltree,Rl.lhst)+X.F.contSize(Rl.fdtree,Rl.dhst);yl=yl+X.F.contSize(Rl.ltree,Rl.lhst)+X.F.contSize(Rl.dtree,Rl.dhst),yl+=14+3*_d+X.F.contSize(Rl.itree,Rl.ihst)+(2*Rl.ihst[16]+3*Rl.ihst[17]+7*Rl.ihst[18]);for(var Pp=0;286>Pp;Pp++)Rl.lhst[Pp]=0;for(Pp=0;30>Pp;Pp++)Rl.dhst[Pp]=0;for(Pp=0;19>Pp;Pp++)Rl.ihst[Pp]=0;if(Op=Op<Ip&&Op<yl?0:Ip<yl?1:2,Fl(Il,Al,_r),Fl(Il,Al+1,Op),Al+=3,Op==0){for(;7&Al;)Al++;Al=X.F._copyExact(El,_l,Tl,Il,Al)}else{if(Op==1)var xp=Rl.fltree,Np=Rl.fdtree;if(Op==2){for(X.F.makeCodes(Rl.ltree,Ql),X.F.revCodes(Rl.ltree,Ql),X.F.makeCodes(Rl.dtree,_f),X.F.revCodes(Rl.dtree,_f),X.F.makeCodes(Rl.itree,_h),X.F.revCodes(Rl.itree,_h),xp=Rl.ltree,Np=Rl.dtree,Bl(Il,Al,vp-257),Bl(Il,Al+=5,up-1),Bl(Il,Al+=5,_d-4),Al+=4,_r=0;_r<_d;_r++)Bl(Il,Al+3*_r,Rl.itree[1+(Rl.ordr[_r]<<1)]);Al=X.F._codeTiny(Ep,Rl.itree,Il,Al+3*_d),Al=X.F._codeTiny(Gl,Rl.itree,Il,Al)}for(_d=0;_d<_o;_d+=2){for(Ep=(_r=_t[_d])>>>23,_r=_l+(8388607&_r);_l<_r;)Al=X.F._writeLit(El[_l++],xp,Il,Al);Ep!=0&&(_r=(Ql=_t[_d+1])>>16,Tl=Ql>>8&255,Ql&=255,Bl(Il,Al=X.F._writeLit(257+Tl,xp,Il,Al),Ep-Rl.of0[Tl]),Al+=Rl.exb[Tl],Fl(Il,Al=X.F._writeLit(Ql,Np,Il,Al),_r-Rl.df0[Ql]),Al+=Rl.dxb[Ql],_l+=Ep)}Al=X.F._writeLit(256,xp,Il,Al)}return Al},X.F._copyExact=function(_r,_t,_o,yl,El){var _l=El>>>3;return yl[_l]=_o,yl[_l+1]=_o>>>8,yl[_l+2]=255-yl[_l],yl[_l+3]=255-yl[_l+1],_l+=4,yl.set(new Uint8Array(_r.buffer,_t,_o),_l),El+(_o+4<<3)},X.F.getTrees=function(){for(var _r=X.F.U,_t=X.F._hufTree(_r.lhst,_r.ltree,15),_o=X.F._hufTree(_r.dhst,_r.dtree,15),yl=[],El=X.F._lenCodes(_r.ltree,yl),_l=[],Tl=X.F._lenCodes(_r.dtree,_l),Il=0;Il<yl.length;Il+=2)_r.ihst[yl[Il]]++;for(Il=0;Il<_l.length;Il+=2)_r.ihst[_l[Il]]++;Il=X.F._hufTree(_r.ihst,_r.itree,7);for(var Al=19;4<Al&&_r.itree[1+(_r.ordr[Al-1]<<1)]==0;)Al--;return[_t,_o,Il,El,Tl,Al,yl,_l]},X.F.getSecond=function(_r){for(var _t=[],_o=0;_o<_r.length;_o+=2)_t.push(_r[_o+1]);return _t},X.F.nonZero=function(_r){for(var _t="",_o=0;_o<_r.length;_o+=2)_r[_o+1]!=0&&(_t+=(_o>>1)+",");return _t},X.F.contSize=function(_r,_t){for(var _o=0,yl=0;yl<_t.length;yl++)_o+=_t[yl]*_r[1+(yl<<1)];return _o},X.F._codeTiny=function(_r,_t,_o,yl){for(var El=0;El<_r.length;El+=2){var _l=_r[El],Tl=_r[El+1];yl=X.F._writeLit(_l,_t,_o,yl);var Il=_l==16?2:_l==17?3:7;15<_l&&(X.F._putsE(_o,yl,Tl,Il),yl+=Il)}return yl},X.F._lenCodes=function(_r,_t){for(var _o=_r.length;_o!=2&&_r[_o-1]==0;)_o-=2;for(var yl=0;yl<_o;yl+=2){var El=_r[yl+1],_l=yl+3<_o?_r[yl+3]:-1,Tl=yl+5<_o?_r[yl+5]:-1,Il=yl==0?-1:_r[yl-1];if(El==0&&_l==El&&Tl==El){for(_l=yl+5;_l+2<_o&&_r[_l+2]==El;)_l+=2;11>(El=Math.min(_l+1-yl>>>1,138))?_t.push(17,El-3):_t.push(18,El-11),yl+=2*El-2}else if(El==Il&&_l==El&&Tl==El){for(_l=yl+5;_l+2<_o&&_r[_l+2]==El;)_l+=2;El=Math.min(_l+1-yl>>>1,6),_t.push(16,El-3),yl+=2*El-2}else _t.push(El,0)}return _o>>>1},X.F._hufTree=function(_r,_t,_o){var yl=[],El=_r.length,_l=_t.length,Tl=0;for(Tl=0;Tl<_l;Tl+=2)_t[Tl]=0,_t[Tl+1]=0;for(Tl=0;Tl<El;Tl++)_r[Tl]!=0&&yl.push({lit:Tl,f:_r[Tl]});if(_r=yl.length,El=yl.slice(0),_r==0)return 0;if(_r==1)return _t[1+((_o=yl[0].lit)<<1)]=1,_t[1+((_o==0?1:0)<<1)]=1;yl.sort(function(Fl,Bl){return Fl.f-Bl.f}),Tl=yl[0],_l=yl[1];var Il=0,Al=1,Rl=2;for(yl[0]={lit:-1,f:Tl.f+_l.f,l:Tl,r:_l,d:0};Al!=_r-1;)Tl=Il!=Al&&(Rl==_r||yl[Il].f<yl[Rl].f)?yl[Il++]:yl[Rl++],_l=Il!=Al&&(Rl==_r||yl[Il].f<yl[Rl].f)?yl[Il++]:yl[Rl++],yl[Al++]={lit:-1,f:Tl.f+_l.f,l:Tl,r:_l};for((yl=X.F.setDepth(yl[Al-1],0))>_o&&(X.F.restrictDepth(El,_o,yl),yl=_o),Tl=0;Tl<_r;Tl++)_t[1+(El[Tl].lit<<1)]=El[Tl].d;return yl},X.F.setDepth=function(_r,_t){return _r.lit!=-1?_r.d=_t:Math.max(X.F.setDepth(_r.l,_t+1),X.F.setDepth(_r.r,_t+1))},X.F.restrictDepth=function(_r,_t,_o){var yl=0,El=1<<_o-_t,_l=0;for(_r.sort(function(Il,Al){return Al.d==Il.d?Il.f-Al.f:Al.d-Il.d}),yl=0;yl<_r.length&&_r[yl].d>_t;yl++){var Tl=_r[yl].d;_r[yl].d=_t,_l+=El-(1<<_o-Tl)}for(_l>>>=_o-_t;0<_l;)(Tl=_r[yl].d)<_t?(_r[yl].d++,_l-=1<<_t-Tl-1):yl++;for(;0<=yl;yl--)_r[yl].d==_t&&0>_l&&(_r[yl].d--,_l++);_l!=0&&console.log("debt left")},X.F._goodIndex=function(_r,_t){var _o=0;return _t[16|_o]<=_r&&(_o|=16),_t[8|_o]<=_r&&(_o|=8),_t[4|_o]<=_r&&(_o|=4),_t[2|_o]<=_r&&(_o|=2),_t[1|_o]<=_r&&(_o|=1),_o},X.F._writeLit=function(_r,_t,_o,yl){return X.F._putsF(_o,yl,_t[_r<<1]),yl+_t[1+(_r<<1)]},X.F.inflate=function(_r,_t){var _o=Uint8Array;if(_r[0]==3&&_r[1]==0)return _t||new _o(0);var yl=X.F,El=yl._bitsF,_l=yl._bitsE,Tl=yl._decodeTiny,Il=yl.makeCodes,Al=yl.codes2map,Rl=yl._get17,Fl=yl.U,Bl=_t==null;Bl&&(_t=new _o(_r.length>>>2<<3));for(var Gl,Ql,_f,_h,vp=0,up=0,_d=Ql=0,Ep=0;vp==0;)if(vp=El(_r,Ep,1),Gl=El(_r,Ep+1,2),Ep+=3,Gl==0)7&Ep&&(Ep+=8-(7&Ep)),Gl=_r[(Ep=4+(Ep>>>3))-4]|_r[Ep-3]<<8,Bl&&(_t=X.F._check(_t,_d+Gl)),_t.set(new _o(_r.buffer,_r.byteOffset+Ep,Gl),_d),Ep=Ep+Gl<<3,_d+=Gl;else{if(Bl&&(_t=X.F._check(_t,_d+131072)),Gl==1&&(_f=Fl.flmap,_h=Fl.fdmap,up=511,Ql=31),Gl==2){for(Ql=_l(_r,Ep,5)+257,Gl=_l(_r,Ep+5,5)+1,_f=_l(_r,Ep+10,4)+4,Ep+=14,_h=0;38>_h;_h+=2)Fl.itree[_h]=0,Fl.itree[_h+1]=0;for(up=1,_h=0;_h<_f;_h++){var Op=_l(_r,Ep+3*_h,3);Fl.itree[1+(Fl.ordr[_h]<<1)]=Op,Op>up&&(up=Op)}Ep+=3*_f,Il(Fl.itree,up),Al(Fl.itree,up,Fl.imap),_f=Fl.lmap,_h=Fl.dmap,Ep=Tl(Fl.imap,(1<<up)-1,Ql+Gl,_r,Ep,Fl.ttree),up=(1<<(Op=yl._copyOut(Fl.ttree,0,Ql,Fl.ltree)))-1,Ql=(1<<(Gl=yl._copyOut(Fl.ttree,Ql,Gl,Fl.dtree)))-1,Il(Fl.ltree,Op),Al(Fl.ltree,Op,_f),Il(Fl.dtree,Gl),Al(Fl.dtree,Gl,_h)}for(;;)if(Ep+=15&(Gl=_f[Rl(_r,Ep)&up]),(Op=Gl>>>4)>>>8==0)_t[_d++]=Op;else{if(Op==256)break;Gl=_d+Op-254,264<Op&&(Gl=_d+((Op=Fl.ldef[Op-257])>>>3)+_l(_r,Ep,7&Op),Ep+=7&Op),Ep+=15&(Op=_h[Rl(_r,Ep)&Ql]);var Ip=((Op=Fl.ddef[Op>>>4])>>>4)+El(_r,Ep,15&Op);for(Ep+=15&Op,Bl&&(_t=X.F._check(_t,_d+131072));_d<Gl;)_t[_d]=_t[_d++-Ip],_t[_d]=_t[_d++-Ip],_t[_d]=_t[_d++-Ip],_t[_d]=_t[_d++-Ip];_d=Gl}}return _t.length==_d?_t:_t.slice(0,_d)},X.F._check=function(_r,_t){var _o=_r.length;return _t<=_o?_r:((_t=new Uint8Array(Math.max(_o<<1,_t))).set(_r,0),_t)},X.F._decodeTiny=function(_r,_t,_o,yl,El,_l){for(var Tl=X.F._bitsE,Il=X.F._get17,Al=0;Al<_o;){var Rl=_r[Il(yl,El)&_t];El+=15&Rl;var Fl=Rl>>>4;if(15>=Fl)_l[Al]=Fl,Al++;else{var Bl=Rl=0;for(Fl==16?(Bl=3+Tl(yl,El,2),El+=2,Rl=_l[Al-1]):Fl==17?(Bl=3+Tl(yl,El,3),El+=3):Fl==18&&(Bl=11+Tl(yl,El,7),El+=7),Fl=Al+Bl;Al<Fl;)_l[Al]=Rl,Al++}}return El},X.F._copyOut=function(_r,_t,_o,yl){for(var El=0,_l=0,Tl=yl.length>>>1;_l<_o;){var Il=_r[_l+_t];yl[_l<<1]=0,yl[1+(_l<<1)]=Il,Il>El&&(El=Il),_l++}for(;_l<Tl;)yl[_l<<1]=0,yl[1+(_l<<1)]=0,_l++;return El},X.F.makeCodes=function(_r,_t){var _o,yl,El=X.F.U,_l=_r.length,Tl=El.bl_count;for(_o=0;_o<=_t;_o++)Tl[_o]=0;for(_o=1;_o<_l;_o+=2)Tl[_r[_o]]++;for(El=El.next_code,_o=0,Tl[0]=0,yl=1;yl<=_t;yl++)_o=_o+Tl[yl-1]<<1,El[yl]=_o;for(_t=0;_t<_l;_t+=2)(Tl=_r[_t+1])!=0&&(_r[_t]=El[Tl],El[Tl]++)},X.F.codes2map=function(_r,_t,_o){for(var yl=_r.length,El=X.F.U.rev15,_l=0;_l<yl;_l+=2)if(_r[_l+1]!=0){var Tl=_r[_l+1],Il=_l>>1<<4|Tl,Al=_t-Tl;for(Al=(Tl=_r[_l]<<Al)+(1<<Al);Tl!=Al;)_o[El[Tl]>>>15-_t]=Il,Tl++}},X.F.revCodes=function(_r,_t){for(var _o=X.F.U.rev15,yl=15-_t,El=0;El<_r.length;El+=2)_r[El]=_o[_r[El]<<_t-_r[El+1]]>>>yl},X.F._putsE=function(_r,_t,_o){_o<<=7&_t,_r[_t>>>=3]|=_o,_r[_t+1]|=_o>>>8},X.F._putsF=function(_r,_t,_o){_o<<=7&_t,_r[_t>>>=3]|=_o,_r[_t+1]|=_o>>>8,_r[_t+2]|=_o>>>16},X.F._bitsE=function(_r,_t,_o){return(_r[_t>>>3]|_r[1+(_t>>>3)]<<8)>>>(7&_t)&(1<<_o)-1},X.F._bitsF=function(_r,_t,_o){return(_r[_t>>>3]|_r[1+(_t>>>3)]<<8|_r[2+(_t>>>3)]<<16)>>>(7&_t)&(1<<_o)-1},X.F._get17=function(_r,_t){return(_r[_t>>>3]|_r[1+(_t>>>3)]<<8|_r[2+(_t>>>3)]<<16)>>>(7&_t)},X.F._get25=function(_r,_t){return(_r[_t>>>3]|_r[1+(_t>>>3)]<<8|_r[2+(_t>>>3)]<<16|_r[3+(_t>>>3)]<<24)>>>(7&_t)},X.F.U=function(){var _r=Uint16Array,_t=Uint32Array;return{next_code:new _r(16),bl_count:new _r(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new _r(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new _t(32),flmap:new _r(512),fltree:[],fdmap:new _r(32),fdtree:[],lmap:new _r(32768),ltree:[],ttree:[],dmap:new _r(32768),dtree:[],imap:new _r(512),itree:[],rev15:new _r(32768),lhst:new _t(286),dhst:new _t(30),ihst:new _t(19),lits:new _t(15e3),strt:new _r(65536),prev:new _r(32768)}}(),function(){function _r(El,_l,Tl){for(;_l--!=0;)El.push(0,Tl)}for(var _t=X.F.U,_o=0;32768>_o;_o++){var yl=_o;yl=(4278255360&(yl=(4042322160&(yl=(3435973836&(yl=(2863311530&yl)>>>1|(1431655765&yl)<<1))>>>2|(858993459&yl)<<2))>>>4|(252645135&yl)<<4))>>>8|(16711935&yl)<<8,_t.rev15[_o]=(yl>>>16|yl<<16)>>>17}for(_o=0;32>_o;_o++)_t.ldef[_o]=_t.of0[_o]<<3|_t.exb[_o],_t.ddef[_o]=_t.df0[_o]<<4|_t.dxb[_o];_r(_t.fltree,144,8),_r(_t.fltree,112,9),_r(_t.fltree,24,7),_r(_t.fltree,8,8),X.F.makeCodes(_t.fltree,9),X.F.codes2map(_t.fltree,9,_t.flmap),X.F.revCodes(_t.fltree,9),_r(_t.fdtree,32,5),X.F.makeCodes(_t.fdtree,5),X.F.codes2map(_t.fdtree,5,_t.fdmap),X.F.revCodes(_t.fdtree,5),_r(_t.itree,19,0),_r(_t.ltree,286,0),_r(_t.dtree,30,0),_r(_t.ttree,320,0)}();var RO=Array.isArray||function(_r){return _r&&typeof _r.length=="number"},SO=Object.defineProperty({isArray:RO},"__esModule",{value:!0}),TO=Object.defineProperty({isObject:function(_r){return _r!==null&&Ia(_r)==="object"}},"__esModule",{value:!0}),UO=Object.defineProperty({isFunction:function(_r){return typeof _r=="function"}},"__esModule",{value:!0}),VO=function(){function _r(_t){return Error.call(this),this.message=_t?_t.length+` errors occurred during unsubscription:
`+_t.map(function(_o,yl){return yl+1+") "+_o.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=_t,this}return _r.prototype=Object.create(Error.prototype),_r}(),bk=Object.defineProperty({UnsubscriptionError:VO},"__esModule",{value:!0}),WO=function(){function _r(_o){this.closed=!1,this._subscriptions=this._parentOrParents=null,_o&&(this._ctorUnsubscribe=!0,this._unsubscribe=_o)}var _t;return _r.prototype.unsubscribe=function(){if(!this.closed){var _o=this._parentOrParents,yl=this._ctorUnsubscribe,El=this._unsubscribe,_l=this._subscriptions;if(this.closed=!0,this._subscriptions=this._parentOrParents=null,_o instanceof _r)_o.remove(this);else if(_o!==null)for(var Tl=0;Tl<_o.length;++Tl)_o[Tl].remove(this);if(UO.isFunction(El)){yl&&(this._unsubscribe=void 0);try{El.call(this)}catch(Al){var Il=Al instanceof bk.UnsubscriptionError?Gs(Al.errors):[Al]}}if(SO.isArray(_l)){for(Tl=-1,_o=_l.length;++Tl<_o;)if(yl=_l[Tl],TO.isObject(yl))try{yl.unsubscribe()}catch(Al){Il=Il||[],Al instanceof bk.UnsubscriptionError?Il=Il.concat(Gs(Al.errors)):Il.push(Al)}}if(Il)throw new bk.UnsubscriptionError(Il)}},_r.prototype.add=function(_o){var yl=_o;if(!_o)return _r.EMPTY;switch(Ia(_o)){case"function":yl=new _r(_o);case"object":if(yl===this||yl.closed||typeof yl.unsubscribe!="function")return yl;if(this.closed)return yl.unsubscribe(),yl;yl instanceof _r||(_o=yl,(yl=new _r)._subscriptions=[_o]);break;default:throw Error("unrecognized teardown "+_o+" added to Subscription.")}if((_o=yl._parentOrParents)===null)yl._parentOrParents=this;else if(_o instanceof _r){if(_o===this)return yl;yl._parentOrParents=[_o,this]}else{if(_o.indexOf(this)!==-1)return yl;_o.push(this)}return(_o=this._subscriptions)===null?this._subscriptions=[yl]:_o.push(yl),yl},_r.prototype.remove=function(_o){var yl=this._subscriptions;yl&&(_o=yl.indexOf(_o))!==-1&&yl.splice(_o,1)},_r.EMPTY=((_t=new _r).closed=!0,_t),_r}(),XO=Object.defineProperty({Subscription:WO},"__esModule",{value:!0}),YO=qb&&qb.__extends||function(){var _r=function(_t,_o){return(_r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(yl,El){yl.__proto__=El}||function(yl,El){for(var _l in El)El.hasOwnProperty(_l)&&(yl[_l]=El[_l])})(_t,_o)};return function(_t,_o){function yl(){this.constructor=_t}_r(_t,_o),_t.prototype=_o===null?Object.create(_o):(yl.prototype=_o.prototype,new yl)}}(),ZO=function(_r){function _t(_o,yl){return _r.call(this)||this}return YO(_t,_r),_t.prototype.schedule=function(_o,yl){return this},_t}(XO.Subscription),$O=Object.defineProperty({Action:ZO},"__esModule",{value:!0}),aP=qb&&qb.__extends||function(){var _r=function(_t,_o){return(_r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(yl,El){yl.__proto__=El}||function(yl,El){for(var _l in El)El.hasOwnProperty(_l)&&(yl[_l]=El[_l])})(_t,_o)};return function(_t,_o){function yl(){this.constructor=_t}_r(_t,_o),_t.prototype=_o===null?Object.create(_o):(yl.prototype=_o.prototype,new yl)}}(),Sz=function(_r){function _t(_o,yl){var El=_r.call(this,_o,yl)||this;return El.scheduler=_o,El.work=yl,El.pending=!1,El}return aP(_t,_r),_t.prototype.schedule=function(_o,yl){if(yl===void 0&&(yl=0),this.closed)return this;this.state=_o,_o=this.id;var El=this.scheduler;return _o!=null&&(this.id=this.recycleAsyncId(El,_o,yl)),this.pending=!0,this.delay=yl,this.id=this.id||this.requestAsyncId(El,this.id,yl),this},_t.prototype.requestAsyncId=function(_o,yl,El){return El===void 0&&(El=0),setInterval(_o.flush.bind(_o,this),El)},_t.prototype.recycleAsyncId=function(_o,yl,El){if(El===void 0&&(El=0),El!==null&&this.delay===El&&this.pending===!1)return yl;clearInterval(yl)},_t.prototype.execute=function(_o,yl){return this.closed?Error("executing a cancelled action"):(this.pending=!1,(_o=this._execute(_o,yl))?_o:void(this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))))},_t.prototype._execute=function(_o,yl){yl=!1;var El=void 0;try{this.work(_o)}catch(_l){yl=!0,El=!!_l&&_l||Error(_l)}if(yl)return this.unsubscribe(),El},_t.prototype._unsubscribe=function(){var _o=this.id,yl=this.scheduler,El=yl.actions,_l=El.indexOf(this);this.state=this.work=null,this.pending=!1,this.scheduler=null,_l!==-1&&El.splice(_l,1),_o!=null&&(this.id=this.recycleAsyncId(yl,_o,null)),this.delay=null},_t}($O.Action),bP=function(){function _r(_t,_o){_o===void 0&&(_o=_r.now),this.SchedulerAction=_t,this.now=_o}return _r.prototype.schedule=function(_t,_o,yl){return _o===void 0&&(_o=0),new this.SchedulerAction(this,_t).schedule(yl,_o)},_r.now=function(){return Date.now()},_r}(),Tz=Object.defineProperty({Scheduler:bP},"__esModule",{value:!0}),cP=qb&&qb.__extends||function(){var _r=function(_t,_o){return(_r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(yl,El){yl.__proto__=El}||function(yl,El){for(var _l in El)El.hasOwnProperty(_l)&&(yl[_l]=El[_l])})(_t,_o)};return function(_t,_o){function yl(){this.constructor=_t}_r(_t,_o),_t.prototype=_o===null?Object.create(_o):(yl.prototype=_o.prototype,new yl)}}(),Uz=function(_r){function _t(_o,yl){yl===void 0&&(yl=Tz.Scheduler.now);var El=_r.call(this,_o,function(){return _t.delegate&&_t.delegate!==El?_t.delegate.now():yl()})||this;return El.actions=[],El.active=!1,El.scheduled=void 0,El}return cP(_t,_r),_t.prototype.schedule=function(_o,yl,El){return yl===void 0&&(yl=0),_t.delegate&&_t.delegate!==this?_t.delegate.schedule(_o,yl,El):_r.prototype.schedule.call(this,_o,yl,El)},_t.prototype.flush=function(_o){var yl=this.actions;if(this.active)yl.push(_o);else{var El;this.active=!0;do if(El=_o.execute(_o.state,_o.delay))break;while(_o=yl.shift());if(this.active=!1,El){for(;_o=yl.shift();)_o.unsubscribe();throw El}}},_t}(Tz.Scheduler),dP=mb("iterator"),xq=!Ga(function(){var _r=new URL("b?a=1&b=2&c=3","http://a"),_t=_r.searchParams,_o="";return _r.pathname="c%20d",_t.forEach(function(yl,El){_t.delete("b"),_o+=El+yl}),!_t.sort||_r.href!=="http://a/c%20d?a=1&c=3"||_t.get("c")!=="3"||String(new URLSearchParams("?a=1"))!=="a=1"||!_t[dP]||new URL("https://a@b").username!=="a"||new URLSearchParams(new URLSearchParams("a=b")).get("a")!=="b"||new URL("http://тест").host!=="xn--e1aybc"||new URL("http://a#б").hash!=="#%D0%B1"||_o!=="a1c3"||new URL("http://x",void 0).host!=="x"}),eP=/[^\0-\u007E]/,fP=/[.\u3002\uFF0E\uFF61]/g,Zh=Math.floor,yq=String.fromCharCode,Vz=function(_r){var _t=Gi(_r);if(typeof _t!="function")throw TypeError(String(_r)+" is not iterable");return ub(_t.call(_r))},Wz=me("fetch"),zq=me("Headers"),gP=mb("iterator"),Xz=Sb.set,od=Sb.getterFor("URLSearchParams"),hP=Sb.getterFor("URLSearchParamsIterator"),iP=/\+/g,Yz=Array(4),jP=function(_r){try{return decodeURIComponent(_r)}catch{return _r}},Zz=function(_r){var _t=_r.replace(iP," ");_r=4;try{return decodeURIComponent(_t)}catch{for(;_r;){var _o=_t.replace,yl=_r--;yl=Yz[yl-1]||(Yz[yl-1]=RegExp("((?:%[\\da-f]{2}){"+yl+"})","gi")),_t=_o.call(_t,yl,jP)}return _t}},$z=/[!'()~]|%20/g,kP={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},aA=function(_r){return kP[_r]},bA=function(_r,_t){if(_t){_t=_t.split("&");for(var _o,yl=0;yl<_t.length;)(_o=_t[yl++]).length&&(_o=_o.split("="),_r.push({key:Zz(_o.shift()),value:Zz(_o.join("="))}))}},lP=function(_r){this.entries.length=0,bA(this.entries,_r)},$h=function(_r,_t){if(_r<_t)throw TypeError("Not enough arguments")},Aq=yt(function(_r,_t){Xz(this,{type:"URLSearchParamsIterator",iterator:Vz(od(_r).entries),kind:_t})},"Iterator",function(){var _r=hP(this),_t=_r.kind,_o=(_r=_r.iterator.next()).value;return _r.done||(_r.value=_t==="keys"?_o.key:_t==="values"?_o.value:[_o.key,_o.value]),_r}),xj=function(){Ud(this,xj,"URLSearchParams");var _r,_t,_o,yl=0<arguments.length?arguments[0]:void 0,El=[];if(Xz(this,{type:"URLSearchParams",entries:El,updateURL:function(){},updateSearchParams:lP}),yl!==void 0)if(fb(yl)){var _l=Gi(yl);if(typeof _l=="function")for(yl=_l.call(yl),_l=yl.next;!(_r=_l.call(yl)).done;){var Tl=(_r=Vz(ub(_r.value))).next;if((_t=Tl.call(_r)).done||(_o=Tl.call(_r)).done||!Tl.call(_r).done)throw TypeError("Expected sequence with length 2");El.push({key:_t.value+"",value:_o.value+""})}else for(_r in yl)Fa(yl,_r)&&El.push({key:_r,value:yl[_r]+""})}else bA(El,typeof yl=="string"?yl.charAt(0)==="?"?yl.slice(1):yl:yl+"")},Xl=xj.prototype;qh(Xl,{append:function(_r,_t){$h(arguments.length,2);var _o=od(this);_o.entries.push({key:_r+"",value:_t+""}),_o.updateURL()},delete:function(_r){$h(arguments.length,1);for(var _t=od(this),_o=_t.entries,yl=_r+"",El=0;El<_o.length;)_o[El].key===yl?_o.splice(El,1):El++;_t.updateURL()},get:function(_r){$h(arguments.length,1);for(var _t=od(this).entries,_o=_r+"",yl=0;yl<_t.length;yl++)if(_t[yl].key===_o)return _t[yl].value;return null},getAll:function(_r){$h(arguments.length,1);for(var _t=od(this).entries,_o=_r+"",yl=[],El=0;El<_t.length;El++)_t[El].key===_o&&yl.push(_t[El].value);return yl},has:function(_r){$h(arguments.length,1);for(var _t=od(this).entries,_o=_r+"",yl=0;yl<_t.length;)if(_t[yl++].key===_o)return!0;return!1},set:function(_r,_t){$h(arguments.length,1);for(var _o,yl=od(this),El=yl.entries,_l=!1,Tl=_r+"",Il=_t+"",Al=0;Al<El.length;Al++)(_o=El[Al]).key===Tl&&(_l?El.splice(Al--,1):(_l=!0,_o.value=Il));_l||El.push({key:Tl,value:Il}),yl.updateURL()},sort:function(){var _r,_t,_o=od(this),yl=_o.entries,El=yl.slice();for(_t=yl.length=0;_t<El.length;_t++){var _l=El[_t];for(_r=0;_r<_t;_r++)if(yl[_r].key>_l.key){yl.splice(_r,0,_l);break}_r===_t&&yl.push(_l)}_o.updateURL()},forEach:function(_r){for(var _t,_o=od(this).entries,yl=tf(_r,1<arguments.length?arguments[1]:void 0,3),El=0;El<_o.length;)yl((_t=_o[El++]).value,_t.key,this)},keys:function(){return new Aq(this,"keys")},values:function(){return new Aq(this,"values")},entries:function(){return new Aq(this,"entries")}},{enumerable:!0}),Ob(Xl,gP,Xl.entries),Ob(Xl,"toString",function(){for(var _r,_t=od(this).entries,_o=[],yl=0;yl<_t.length;)_r=_t[yl++],_o.push(encodeURIComponent(_r.key).replace($z,aA)+"="+encodeURIComponent(_r.value).replace($z,aA));return _o.join("&")},{enumerable:!0}),Td(xj,"URLSearchParams"),wa({global:!0,forced:!xq},{URLSearchParams:xj}),xq||typeof Wz!="function"||typeof zq!="function"||wa({global:!0,enumerable:!0,forced:!0},{fetch:function(_r){var _t=[_r];if(1<arguments.length){var _o=arguments[1];if(fb(_o)){var yl=_o.body;if(ph(yl)==="URLSearchParams"){var El=_o.headers?new zq(_o.headers):new zq;El.has("content-type")||El.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),_o=vd(_o,{body:ke(0,String(yl)),headers:ke(0,El)})}}_t.push(_o)}return Wz.apply(this,_t)}});var yj=na.URL,mP=xj,nP=Sb.set,Tb=Sb.getterFor("URL"),oP=Math.floor,cA=Math.pow,dA=/[A-Za-z]/,pP=/[\d+-.A-Za-z]/,Bq=/\d/,qP=/^(0x|0X)/,rP=/^[0-7]+$/,sP=/^\d+$/,eA=/^[\dA-Fa-f]+$/,tP=/[\0\t\n\r #%/:?@[\\]]/,uP=/[\0\t\n\r #/:?@[\\]]/,vP=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,wP=/[\t\n\r]/g,Cq=function(_r,_t){var _o;if(_t.charAt(0)=="["){if(_t.charAt(_t.length-1)!="]")return"Invalid host";var yl=xP(_t.slice(1,-1));if(!yl)return"Invalid host"}else if(rc(_r)){for(yl=[],_t=_t.toLowerCase().replace(fP,".").split("."),_o=0;_o<_t.length;_o++){var El=_t[_o],_l=yl,Tl=_l.push;if(eP.test(El)){var Il=El;El=[];var Al=Il;Il=[];for(var Rl=0,Fl=Al.length;Rl<Fl;){var Bl=Al.charCodeAt(Rl++);if(55296<=Bl&&56319>=Bl&&Rl<Fl){var Gl=Al.charCodeAt(Rl++);(64512&Gl)==56320?Il.push(((1023&Bl)<<10)+(1023&Gl)+65536):(Il.push(Bl),Rl--)}else Il.push(Bl)}Rl=Il.length,Fl=128;var Ql=0,_f=72;for(Al=0;Al<Il.length;Al++){var _h=Il[Al];128>_h&&El.push(yq(_h))}for((Gl=Bl=El.length)&&El.push("-");Gl<Rl;){var vp=2147483647;for(Al=0;Al<Il.length;Al++)(_h=Il[Al])>=Fl&&_h<vp&&(vp=_h);var up=Gl+1;if(vp-Fl>Zh((2147483647-Ql)/up))throw RangeError("Overflow: input needs wider integers to process");for(Ql+=(vp-Fl)*up,Fl=vp,Al=0;Al<Il.length;Al++){if((_h=Il[Al])<Fl&&2147483647<++Ql)throw RangeError("Overflow: input needs wider integers to process");if(_h==Fl){var _d=Ql;for(_h=36;!(_d<(vp=_h<=_f?1:_h>=_f+26?26:_h-_f));_h+=36){var Ep=36-vp,Op=El;vp+=(_d-=vp)%Ep,Op.push.call(Op,yq(vp+22+75*(26>vp))),_d=Zh(_d/Ep)}for(El.push(yq(_d+22+75*(26>_d))),_f=up,_h=0,Ql=Gl==Bl?Zh(Ql/700):Ql>>1,Ql+=Zh(Ql/_f);455<Ql;_h+=36)Ql=Zh(Ql/35);_f=Zh(_h+36*Ql/(Ql+38)),Ql=0,++Gl}}++Ql,++Fl}El="xn--"+El.join("")}Tl.call(_l,El)}if(_t=yl.join("."),tP.test(_t)||(yl=yP(_t))===null)return"Invalid host"}else{if(uP.test(_t))return"Invalid host";for(yl="",_t=hg(_t),_o=0;_o<_t.length;_o++)yl+=Qf(_t[_o],Yl)}_r.host=yl},yP=function(_r){var _t,_o=_r.split(".");_o.length&&_o[_o.length-1]==""&&_o.pop();var yl=_o.length;if(4<yl)return _r;var El=[];for(_t=0;_t<yl;_t++){var _l=_o[_t];if(_l=="")return _r;var Tl=10;if(1<_l.length&&_l.charAt(0)=="0"&&(Tl=qP.test(_l)?16:8,_l=_l.slice(Tl==8?1:2)),_l==="")_l=0;else{if(!(Tl==10?sP:Tl==8?rP:eA).test(_l))return _r;_l=parseInt(_l,Tl)}El.push(_l)}for(_t=0;_t<yl;_t++)if(_l=El[_t],_t==yl-1){if(_l>=cA(256,5-yl))return null}else if(255<_l)return null;for(_r=El.pop(),_t=0;_t<El.length;_t++)_r+=El[_t]*cA(256,3-_t);return _r},xP=function(_r){var _t,_o,yl=[0,0,0,0,0,0,0,0],El=0,_l=null,Tl=0,Il=function(){return _r.charAt(Tl)};if(Il()==":"){if(_r.charAt(1)!=":")return;Tl+=2,_l=++El}for(;Il();){if(El==8)return;if(Il()==":"){if(_l!==null)return;Tl++,_l=++El}else{for(_t=_o=0;4>_o&&eA.test(Il());)_t=16*_t+parseInt(Il(),16),Tl++,_o++;if(Il()=="."){if(_o==0||(Tl-=_o,6<El))return;for(_t=0;Il();){if(_o=null,0<_t){if(!(Il()=="."&&4>_t))return;Tl++}if(!Bq.test(Il()))return;for(;Bq.test(Il());){var Al=parseInt(Il(),10);if(_o===null)_o=Al;else{if(_o==0)return;_o=10*_o+Al}if(255<_o)return;Tl++}yl[El]=256*yl[El]+_o,++_t!=2&&_t!=4||El++}if(_t!=4)return;break}if(Il()==":"){if(Tl++,!Il())return}else if(Il())return;yl[El++]=_t}}if(_l!==null)for(Il=El-_l,El=7;El!=0&&0<Il;)_t=yl[El],yl[El--]=yl[_l+Il-1],yl[_l+--Il]=_t;else if(El!=8)return;return yl},zj=function(_r){var _t,_o;if(typeof _r=="number"){var yl=[];for(_t=0;4>_t;_t++)yl.unshift(_r%256),_r=oP(_r/256);return yl.join(".")}if(typeof _r=="object"){yl="",_t=null;for(var El=1,_l=null,Tl=0,Il=0;8>Il;Il++)_r[Il]!==0?(Tl>El&&(_t=_l,El=Tl),_l=null,Tl=0):(_l===null&&(_l=Il),++Tl);for(Tl>El&&(_t=_l),El=_t,_t=0;8>_t;_t++)_o&&_r[_t]===0||(_o&&(_o=!1),El===_t?(yl+=_t?":":"::",_o=!0):(yl+=_r[_t].toString(16),7>_t&&(yl+=":")));return"["+yl+"]"}return _r},Yl={},fA=Vi({},Yl,{" ":1,'"':1,"<":1,">":1,"`":1}),gA=Vi({},fA,{"#":1,"?":1,"{":1,"}":1}),Dq=Vi({},gA,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),Qf=function(_r,_t){var _o=fD(_r,0);return 32<_o&&127>_o&&!Fa(_t,_r)?_r:encodeURIComponent(_r)},Zl={ftp:21,file:null,http:80,https:443,ws:80,wss:443},rc=function(_r){return Fa(Zl,_r.scheme)},Eq=function(_r){return!_r.host||_r.cannotBeABaseURL||_r.scheme=="file"},Aj=function(_r,_t){var _o;return _r.length==2&&dA.test(_r.charAt(0))&&((_o=_r.charAt(1))==":"||!_t&&_o=="|")},hA=function(_r){var _t;return 1<_r.length&&Aj(_r.slice(0,2))&&(_r.length==2||(_t=_r.charAt(2))==="/"||_t==="\\"||_t==="?"||_t==="#")},iA=function(_r){var _t=_r.path,_o=_t.length;!_o||_r.scheme=="file"&&_o==1&&Aj(_t[0],!0)||_t.pop()},Fq={},jA={},Gq={},kA={},lA={},Hq={},mA={},nA={},$l={},am={},Iq={},Jq={},Kq={},Lq={},oA={},Mq={},Bj={},ze={},pA={},Gg={},hf={},Ae=function(_r,_t,_o,yl){var El=_o||Fq,_l=0,Tl="",Il=!1,Al=!1,Rl=!1;for(_o||(_r.scheme="",_r.username="",_r.password="",_r.host=null,_r.port=null,_r.path=[],_r.query=null,_r.fragment=null,_r.cannotBeABaseURL=!1,_t=_t.replace(vP,"")),_t=_t.replace(wP,""),_t=hg(_t);_l<=_t.length;){var Fl=_t[_l];switch(El){case Fq:if(!Fl||!dA.test(Fl)){if(_o)return"Invalid scheme";El=Gq;continue}Tl+=Fl.toLowerCase(),El=jA;break;case jA:if(Fl&&(pP.test(Fl)||Fl=="+"||Fl=="-"||Fl=="."))Tl+=Fl.toLowerCase();else{if(Fl!=":"){if(_o)return"Invalid scheme";Tl="",El=Gq,_l=0;continue}if(_o&&(rc(_r)!=Fa(Zl,Tl)||Tl=="file"&&(_r.username!=""||_r.password!=""||_r.port!==null)||_r.scheme=="file"&&!_r.host))return;if(_r.scheme=Tl,_o)return void(rc(_r)&&Zl[_r.scheme]==_r.port&&(_r.port=null));Tl="",_r.scheme=="file"?El=Lq:rc(_r)&&yl&&yl.scheme==_r.scheme?El=kA:rc(_r)?El=nA:_t[_l+1]=="/"?(El=lA,_l++):(_r.cannotBeABaseURL=!0,_r.path.push(""),El=pA)}break;case Gq:if(!yl||yl.cannotBeABaseURL&&Fl!="#")return"Invalid scheme";if(yl.cannotBeABaseURL&&Fl=="#"){_r.scheme=yl.scheme,_r.path=yl.path.slice(),_r.query=yl.query,_r.fragment="",_r.cannotBeABaseURL=!0,El=hf;break}El=yl.scheme=="file"?Lq:Hq;continue;case kA:if(Fl!="/"||_t[_l+1]!="/"){El=Hq;continue}El=$l,_l++;break;case lA:if(Fl=="/"){El=am;break}El=ze;continue;case Hq:if(_r.scheme=yl.scheme,Fl==null)_r.username=yl.username,_r.password=yl.password,_r.host=yl.host,_r.port=yl.port,_r.path=yl.path.slice(),_r.query=yl.query;else if(Fl=="/"||Fl=="\\"&&rc(_r))El=mA;else if(Fl=="?")_r.username=yl.username,_r.password=yl.password,_r.host=yl.host,_r.port=yl.port,_r.path=yl.path.slice(),_r.query="",El=Gg;else{if(Fl!="#"){_r.username=yl.username,_r.password=yl.password,_r.host=yl.host,_r.port=yl.port,_r.path=yl.path.slice(),_r.path.pop(),El=ze;continue}_r.username=yl.username,_r.password=yl.password,_r.host=yl.host,_r.port=yl.port,_r.path=yl.path.slice(),_r.query=yl.query,_r.fragment="",El=hf}break;case mA:if(!rc(_r)||Fl!="/"&&Fl!="\\"){if(Fl!="/"){_r.username=yl.username,_r.password=yl.password,_r.host=yl.host,_r.port=yl.port,El=ze;continue}El=am}else El=$l;break;case nA:if(El=$l,Fl!="/"||Tl.charAt(_l+1)!="/")continue;_l++;break;case $l:if(Fl!="/"&&Fl!="\\"){El=am;continue}break;case am:if(Fl=="@"){for(Il&&(Tl="%40"+Tl),Il=!0,Tl=hg(Tl),Fl=0;Fl<Tl.length;Fl++){var Bl=Tl[Fl];Bl!=":"||Rl?(Bl=Qf(Bl,Dq),Rl?_r.password+=Bl:_r.username+=Bl):Rl=!0}Tl=""}else if(Fl==null||Fl=="/"||Fl=="?"||Fl=="#"||Fl=="\\"&&rc(_r)){if(Il&&Tl=="")return"Invalid authority";_l-=hg(Tl).length+1,Tl="",El=Iq}else Tl+=Fl;break;case Iq:case Jq:if(_o&&_r.scheme=="file"){El=Mq;continue}if(Fl!=":"||Al){if(Fl==null||Fl=="/"||Fl=="?"||Fl=="#"||Fl=="\\"&&rc(_r)){if(rc(_r)&&Tl=="")return"Invalid host";if(_o&&Tl==""&&(_r.username!=""||_r.password!=""||_r.port!==null))return;if(El=Cq(_r,Tl))return El;if(Tl="",El=Bj,_o)return;continue}Fl=="["?Al=!0:Fl=="]"&&(Al=!1),Tl+=Fl}else{if(Tl=="")return"Invalid host";if(El=Cq(_r,Tl))return El;if(Tl="",El=Kq,_o==Jq)return}break;case Kq:if(!Bq.test(Fl)){if(Fl==null||Fl=="/"||Fl=="?"||Fl=="#"||Fl=="\\"&&rc(_r)||_o){if(Tl!=""){if(65535<(El=parseInt(Tl,10)))return"Invalid port";_r.port=rc(_r)&&El===Zl[_r.scheme]?null:El,Tl=""}if(_o)return;El=Bj;continue}return"Invalid port"}Tl+=Fl;break;case Lq:if(_r.scheme="file",Fl=="/"||Fl=="\\")El=oA;else{if(!yl||yl.scheme!="file"){El=ze;continue}if(Fl==null)_r.host=yl.host,_r.path=yl.path.slice(),_r.query=yl.query;else if(Fl=="?")_r.host=yl.host,_r.path=yl.path.slice(),_r.query="",El=Gg;else{if(Fl!="#"){hA(_t.slice(_l).join(""))||(_r.host=yl.host,_r.path=yl.path.slice(),iA(_r)),El=ze;continue}_r.host=yl.host,_r.path=yl.path.slice(),_r.query=yl.query,_r.fragment="",El=hf}}break;case oA:if(Fl=="/"||Fl=="\\"){El=Mq;break}yl&&yl.scheme=="file"&&!hA(_t.slice(_l).join(""))&&(Aj(yl.path[0],!0)?_r.path.push(yl.path[0]):_r.host=yl.host),El=ze;continue;case Mq:if(Fl==null||Fl=="/"||Fl=="\\"||Fl=="?"||Fl=="#"){if(!_o&&Aj(Tl))El=ze;else{if(Tl==""){if(_r.host="",_o)return}else{if(El=Cq(_r,Tl))return El;if(_r.host=="localhost"&&(_r.host=""),_o)return;Tl=""}El=Bj}continue}Tl+=Fl;break;case Bj:if(rc(_r)){if(El=ze,Fl!="/"&&Fl!="\\")continue}else if(_o||Fl!="?")if(_o||Fl!="#"){if(Fl!=null&&(El=ze,Fl!="/"))continue}else _r.fragment="",El=hf;else _r.query="",El=Gg;break;case ze:if(Fl==null||Fl=="/"||Fl=="\\"&&rc(_r)||!_o&&(Fl=="?"||Fl=="#")){if((Bl=(Bl=Tl).toLowerCase())===".."||Bl==="%2e."||Bl===".%2e"||Bl==="%2e%2e"?(iA(_r),Fl=="/"||Fl=="\\"&&rc(_r)||_r.path.push("")):Tl==="."||Tl.toLowerCase()==="%2e"?Fl=="/"||Fl=="\\"&&rc(_r)||_r.path.push(""):(_r.scheme=="file"&&!_r.path.length&&Aj(Tl)&&(_r.host&&(_r.host=""),Tl=Tl.charAt(0)+":"),_r.path.push(Tl)),Tl="",_r.scheme=="file"&&(Fl==null||Fl=="?"||Fl=="#"))for(;1<_r.path.length&&_r.path[0]==="";)_r.path.shift();Fl=="?"?(_r.query="",El=Gg):Fl=="#"&&(_r.fragment="",El=hf)}else Tl+=Qf(Fl,gA);break;case pA:Fl=="?"?(_r.query="",El=Gg):Fl=="#"?(_r.fragment="",El=hf):Fl!=null&&(_r.path[0]+=Qf(Fl,Yl));break;case Gg:_o||Fl!="#"?Fl!=null&&(Fl=="'"&&rc(_r)?_r.query+="%27":_r.query=Fl=="#"?_r.query+"%23":_r.query+Qf(Fl,Yl)):(_r.fragment="",El=hf);break;case hf:Fl!=null&&(_r.fragment+=Qf(Fl,fA))}_l++}},Rf=function(_r){var _t=Ud(this,Rf,"URL"),_o=1<arguments.length?arguments[1]:void 0,yl=String(_r),El=nP(_t,{type:"URL"});if(_o!==void 0){if(_o instanceof Rf)var _l=Tb(_o);else if(_o=Ae(_l={},String(_o)))throw TypeError(_o)}if(_o=Ae(El,yl,null,_l))throw TypeError(_o);var Tl=El.searchParams=new mP;(yl=od(Tl)).updateSearchParams(El.query),yl.updateURL=function(){El.query=String(Tl)||null},cb||(_t.href=bm.call(_t),_t.origin=qA.call(_t),_t.protocol=rA.call(_t),_t.username=sA.call(_t),_t.password=tA.call(_t),_t.host=uA.call(_t),_t.hostname=vA.call(_t),_t.port=wA.call(_t),_t.pathname=xA.call(_t),_t.search=yA.call(_t),_t.searchParams=zA.call(_t),_t.hash=AA.call(_t))},Nq=Rf.prototype,bm=function(){var _r=Tb(this),_t=_r.scheme,_o=_r.username,yl=_r.password,El=_r.host,_l=_r.port,Tl=_r.path,Il=_r.query,Al=_r.fragment,Rl=_t+":";return El!==null?(Rl+="//",_r.username==""&&_r.password==""||(Rl+=_o+(yl?":"+yl:"")+"@"),Rl+=zj(El),_l!==null&&(Rl+=":"+_l)):_t=="file"&&(Rl+="//"),Rl+=_r.cannotBeABaseURL?Tl[0]:Tl.length?"/"+Tl.join("/"):"",Il!==null&&(Rl+="?"+Il),Al!==null&&(Rl+="#"+Al),Rl},qA=function(){var _r=Tb(this),_t=_r.scheme,_o=_r.port;if(_t=="blob")try{return new Rf(_t.path[0]).origin}catch{return"null"}return _t!="file"&&rc(_r)?_t+"://"+zj(_r.host)+(_o!==null?":"+_o:""):"null"},rA=function(){return Tb(this).scheme+":"},sA=function(){return Tb(this).username},tA=function(){return Tb(this).password},uA=function(){var _r=Tb(this),_t=_r.host;return _r=_r.port,_t===null?"":_r===null?zj(_t):zj(_t)+":"+_r},vA=function(){var _r=Tb(this).host;return _r===null?"":zj(_r)},wA=function(){var _r=Tb(this).port;return _r===null?"":String(_r)},xA=function(){var _r=Tb(this),_t=_r.path;return _r.cannotBeABaseURL?_t[0]:_t.length?"/"+_t.join("/"):""},yA=function(){var _r=Tb(this).query;return _r?"?"+_r:""},zA=function(){return Tb(this).searchParams},AA=function(){var _r=Tb(this).fragment;return _r?"#"+_r:""},Kd=function(_r,_t){return{get:_r,set:_t,configurable:!0,enumerable:!0}};if(cb&&vt(Nq,{href:Kd(bm,function(_r){var _t=Tb(this);if(_r=Ae(_t,String(_r)))throw TypeError(_r);od(_t.searchParams).updateSearchParams(_t.query)}),origin:Kd(qA),protocol:Kd(rA,function(_r){var _t=Tb(this);Ae(_t,String(_r)+":",Fq)}),username:Kd(sA,function(_r){var _t=Tb(this);if(_r=hg(String(_r)),!Eq(_t)){_t.username="";for(var _o=0;_o<_r.length;_o++)_t.username+=Qf(_r[_o],Dq)}}),password:Kd(tA,function(_r){var _t=Tb(this);if(_r=hg(String(_r)),!Eq(_t)){_t.password="";for(var _o=0;_o<_r.length;_o++)_t.password+=Qf(_r[_o],Dq)}}),host:Kd(uA,function(_r){var _t=Tb(this);_t.cannotBeABaseURL||Ae(_t,String(_r),Iq)}),hostname:Kd(vA,function(_r){var _t=Tb(this);_t.cannotBeABaseURL||Ae(_t,String(_r),Jq)}),port:Kd(wA,function(_r){var _t=Tb(this);Eq(_t)||((_r=String(_r))==""?_t.port=null:Ae(_t,_r,Kq))}),pathname:Kd(xA,function(_r){var _t=Tb(this);_t.cannotBeABaseURL||(_t.path=[],Ae(_t,_r+"",Bj))}),search:Kd(yA,function(_r){var _t=Tb(this);(_r=String(_r))==""?_t.query=null:(_r.charAt(0)=="?"&&(_r=_r.slice(1)),_t.query="",Ae(_t,_r,Gg)),od(_t.searchParams).updateSearchParams(_t.query)}),searchParams:Kd(zA),hash:Kd(AA,function(_r){var _t=Tb(this);(_r=String(_r))==""?_t.fragment=null:(_r.charAt(0)=="#"&&(_r=_r.slice(1)),_t.fragment="",Ae(_t,_r,hf))})}),Ob(Nq,"toJSON",function(){return bm.call(this)},{enumerable:!0}),Ob(Nq,"toString",function(){return bm.call(this)},{enumerable:!0}),yj){var BA=yj.createObjectURL,CA=yj.revokeObjectURL;BA&&Ob(Rf,"createObjectURL",function(_r){return BA.apply(yj,arguments)}),CA&&Ob(Rf,"revokeObjectURL",function(_r){return CA.apply(yj,arguments)})}Td(Rf,"URL"),wa({global:!0,forced:!xq,sham:!cb},{URL:Rf});var zP=new Blob(["var fakeIdToId = {};onmessage = function (event) {	var data = event.data,		name = data.name,		fakeId = data.fakeId,		time;	if(data.hasOwnProperty('time')) {		time = data.time;	}	switch (name) {		case 'setInterval':			fakeIdToId[fakeId] = setInterval(function () {				postMessage({fakeId: fakeId});			}, time);			break;		case 'clearInterval':			if (fakeIdToId.hasOwnProperty (fakeId)) {				clearInterval(fakeIdToId[fakeId]);				delete fakeIdToId[fakeId];			}			break;	}}"]),AP=window.URL.createObjectURL(zP),gh={},xi=0,Xm=new Worker(AP);Xm.onmessage=function(_r){if(_r=_r.data.fakeId,gh.hasOwnProperty(_r)){var _t=gh[_r];_r=_t.callback,_t=_t.parameters,_r.apply(window,_t)}};var BP=function(_r){function _t(){return ab(this,_t),_o.apply(this,arguments)}nb(_t,_r);var _o=ob(_t);return Qb(_t,[{key:"requestAsyncId",value:function(yl,El){var _l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:0;return BC(yl.flush.bind(yl,this),_l)}},{key:"recycleAsyncId",value:function(yl,El){var _l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:0;if(_l!==null&&this.delay===_l&&this.pending===!1)return El;gh.hasOwnProperty(El)&&(delete gh[El],Xm.postMessage({name:"clearInterval",fakeId:El}))}}]),_t}(Sz),CP=new Uz(BP),DP=["group"],Oq=X.inflate,DA=X.deflate,Pq=function(_r){function _t(El,_l,Tl,Il){ab(this,_t);var Al=yl.call(this,Il,"Session");return E(L(Al),"lastNoticeTicket",""),E(L(Al),"chatManager",void 0),E(L(Al),"usedChannelIds",[]),E(L(Al),"lastUserMeteUpdateRecord",{}),E(L(Al),"lastChannelMetaUpdateRecord",{}),E(L(Al),"msgDedupLru",new ue(void 0,{maxlen:200})),E(L(Al),"startTime",Date.now()),E(L(Al),"seq",D.fromNumber(1,!0)),E(L(Al),"userJoinOptions",new Pz(!1)),E(L(Al),"seqSentStatuses",[!1,!1]),E(L(Al),"dialogueSequenceLru",new ue(void 0,{maxlen:1e4})),E(L(Al),"loggedOut",!1),E(L(Al),"messageSentTimes",[]),E(L(Al),"curLoginSockets",[void 0,void 0]),E(L(Al),"loginSocketSubs",[{channels:new Map,receivers:[]},{channels:new Map,receivers:[]}]),E(L(Al),"lastLoginSockets",[new ah(1),new ah(1)]),E(L(Al),"dialPendingMsgSubjectMap",new Map),E(L(Al),"context",void 0),E(L(Al),"connection",void 0),E(L(Al),"instanceId",void 0),E(L(Al),"lastPingTime",void 0),E(L(Al),"chanelStringMessageReport",void 0),E(L(Al),"chanelRawMessageReport",void 0),E(L(Al),"p2pSMsgNoOfflineReport",void 0),E(L(Al),"p2pRMsgNoOfflineReport",void 0),E(L(Al),"registerSocketsFailureListener",function(){Al.connection.once("socketsFailure",function(){Al.log("socketsFailure, creating a new connection"),lf(function(){return Al.connection.removeAllListeners(),Al.connection=new Gx(Al.context,Al.logger,!0),Al.loginHandler(15e3,!0)}).pipe(Zg(function(Rl){return Rl.pipe(mf(wg.getParameter("RECONNECTING_AP_INTERVAL")))}),he(Al.connection.apClient.apFinish$)).subscribe(function(){Al.log("new connection connected")})}),Al.connection.listenerCount("tokenExpired")===0&&Al.connection.on("tokenExpired",function(){Al.emit("tokenExpired")})}),Al.context=El,Al.context.startTime=Al.startTime,Al.connection=_l,Al.instanceId=Tl,Al.chatManager=new QO(Il),Al.lastPingTime=[0,0],Al.setMaxListeners(512),Al.log("The instanceId is %s",Al.instanceId.toString()),Al.chanelStringMessageReport=new Wl(El,Il,vb.ChannelSMsg),Al.chanelRawMessageReport=new Wl(El,Il,vb.ChannelRMsg),Al.p2pSMsgNoOfflineReport=new Wl(El,Il,vb.P2pSMsgNoOfflineFlag),Al.p2pRMsgNoOfflineReport=new Wl(El,Il,vb.P2pRMsgNoOfflineFlag),Al}nb(_t,_r);var _o,yl=ob(_t);return Qb(_t,[{key:"loginHandler",value:function(){var El=this,_l=0<arguments.length&&arguments[0]!==void 0?arguments[0]:12e3,Tl=1<arguments.length&&arguments[1]!==void 0&&arguments[1];if(this.loggedOut&&Tl)throw new ia("Already logged out, request ignored");Tl&&this.registerSocketsFailureListener(),this.connection.initConnection();var Il=this.getSocketLoginObservables(this.connection.lastOpenSockets,this.seq),Al=Date.now();return Il.forEach(function(Rl,Fl){var Bl=El.loginSocketSubs[Fl].login;Bl!==void 0&&Bl.unsubscribe(),El.loginSocketSubs[Fl].login=Rl.pipe(Ka(function(Gl){var Ql;El.curLoginSockets[Fl]=Gl;var _f=Date.now();$a("Link",{ackedServerIp:Gl.address,destServerIp:Gl.ip,ec:0,sc:0,elapse:Nb(El.startTime),lts:D.fromNumber(_f),responseTime:_f-Al,sid:fc(El.instanceId),userId:El.context.uid},(Ql=El.context.config.enableCloudProxy)!==null&&Ql!==void 0&&Ql),El.emit("userJoined",Gl.env),Tl&&El.connection.apClient.apFinish$.next(void 0)})).subscribe(El.lastLoginSockets[Fl])}),this.initKeepAliveSender(),this.initKeepAliveReconnector(),this.initLoginReceiver(),Nc.apply(void 0,ra(Il).concat([Bc(this.connection,"connectionInitFailure").pipe(Ka(function(Rl){throw Sa(Rl)||uc(Rl)?Rl:new Pa("Login failure",{code:Ew,originalError:Rl})}))])).pipe(Xb(1),Oc(_l),Rb(function(Rl){return Rl instanceof ad&&El.warn("Client login timeout"),Rl&&Rl.code===bl&&(El.connection.emit("tokenExpired"),El.connection.apClient.apFinish$.next(void 0)),El.clearSockets(0,Tl),Va(Rl)}),Ka(function(){Tl||El.registerSocketsFailureListener()}),Mj(function(){Tl||El.connection.apClient.apFinish$.next(void 0)}))}},{key:"logoutHandler",value:(_o=za(W.mark(function El(){var _l,Tl,Il,Al,Rl=this;return W.wrap(function(Fl){for(;;)switch(Fl.prev=Fl.next){case 0:return this.loggedOut=!0,this.connection.apClient.apFinish$.next(void 0),_l=this.incGetSeq(),Tl=this.getLoginSockets(),Il=Tl.map(function(Bl){var Gl,Ql;return Bl.sendPacket("StateUnsubscribe",{sequence:_l,target:Rl.context.uid,subTarget:"",flags:D.fromNumber(0)}),delete Rl.lastUserMeteUpdateRecord[Rl.context.sid],$a("SyncSubscribeEvent",{lts:D.fromNumber(Date.now()),userid:Rl.context.uid,vid:(Gl=Rl.context)!==null&&Gl!==void 0&&Gl.vid?D.fromString(Rl.context.vid):D.fromNumber(0),sid:"",usersid:Rl.context.sid,target:Rl.context.uid,requestts:D.fromNumber(Date.now()),replyts:D.fromNumber(Date.now()),eventtype:"UnSubscribe",sdktype:3,flags:D.fromNumber(0),code:0,seq:_l,index:{index1:Rl.context.uid,index2:Rl.context.appId,index3:"enableLogUpload=".concat(Rl.context.config.enableLogUpload)},subtarget:Rl.context.uid},(Ql=Rl.context.config.enableCloudProxy)!==null&&Ql!==void 0&&Ql),Bl.sendPacket("UserQuit",{}),Rl.connection.waitClosing(Bl)}),this.clearSockets(5e3),Al=Tl.map(function(Bl){return Bl.env}),[0,1].filter(function(Bl){return!Al.includes(Bl)}).forEach(function(Bl){Rl.connection.closeSocket(Bl,0)}),Fl.abrupt("return",Nc.apply(void 0,ra(Il)).toPromise());case 10:case"end":return Fl.stop()}},El,this)})),function(){return _o.apply(this,arguments)})},{key:"requestChannelJoin",value:function(){var El=za(W.mark(function _l(Tl){var Il,Al,Rl,Fl=this;return W.wrap(function(Bl){for(;;)switch(Bl.prev=Bl.next){case 0:if(this.getLoginSockets().length!==0){Bl.next=2;break}throw new ia("Client is not logged in. Cannot join the channel",Aw);case 2:return Il=Bc(this,"channelLeft").pipe(sc(function(Gl){return Tl===Gl}),Xb(1)),Al=this.incGetSeq(),(Rl=this.lastLoginSockets.map(function(Gl){return Gl.pipe(Cc(function(Ql,_f){_f!==0&&Fl.incSeqIfNeeded(Ql.env);var _h=_f===0?Al:Fl.seq;return Ql.sendPacket("GroupEnter",{account:Tl,seq:_h}),Ql.fromReceived("GroupReply").pipe(La(function(vp){return _h.eq(vp.seq)}),Ka(function(vp){if((vp=vp.code)!==0)throw new Pa(["Channel join failure. The response code is %d",vp],ww)}))}),he(Il),$g())})).forEach(function(Gl,Ql){var _f=function(){return Fl.loginSocketSubs[Ql].channels.delete(Tl)};Fl.loginSocketSubs[Ql].channels.set(Tl,Gl.subscribe({error:_f,complete:_f}))}),Bl.next=8,Nc.apply(void 0,ra(Rl)).pipe(Xb(1),Oc(1e4),Rb(function(Gl){return Gl instanceof ad&&Fl.warn("Channel join timeout"),Va(Gl)})).toPromise();case 8:case"end":return Bl.stop()}},_l,this)}));return function(_l){return El.apply(this,arguments)}}()},{key:"requestChannelLeave",value:function(El){this.getLoginSockets().forEach(function(_l){_l.sendPacket("GroupLeave",{account:El})})}},{key:"requestUpdateEdgeTicket",value:function(El){var _l=this,Tl=this.getLoginSockets();if(Tl.length===0)throw new ia("Client is not logged in. Cannot renew token",Mw);var Il=this.incGetSeq();return Tl.forEach(function(Al){Al.sendPacket("UserRenewTokenReq",{instance:_l.instanceId,seq:Il,account:_l.context.uid,ticket:El})}),bb.apply(void 0,[_t.genTimeoutError(jp)].concat(ra(Tl.map(function(Al){return Al.fromReceived("UserRenewTokenResp").pipe(La(function(Rl){var Fl=Rl.code;return Il.eq(Rl.seq)&&Fl===0}))}))))}},{key:"requestChannelMemberList",value:function(El){var _l=this.getLoginSockets();if(_l.length===0)throw new ia("Client is not logged in. Cannot get the channel members",wI);var Tl=this.incGetSeq();return _l.forEach(function(Il){Il.sendPacket("GroupAllUsersList",{group:El,pageNumber:0,pageSize:200,seq:Tl})}),bb.apply(void 0,[_t.genTimeoutError(uw)].concat(ra(_l.map(function(Il){return Il.fromReceived("GroupAllUsersResult").pipe(La(function(Al){var Rl=Al.seq;return Al.group===El&&Tl.eq(Rl)}))}))))}},{key:"requestPeersOnlineStatus",value:function(El){var _l=this.getLoginSockets();if(_l.length===0)throw new ia("Client is not logged in");var Tl=this.incGetSeq();return _l.forEach(function(Il){Il.sendPacket("UserStatusList",{users:El,seq:Tl})}),bb.apply(void 0,[_t.genTimeoutError(II)].concat(ra(_l.map(function(Il){return Il.fromReceived("UserStatusResult").pipe(La(function(Al){return Tl.eq(Al.seq)}))}))))}},{key:"requestSetLocalUserAttributes",value:function(El,_l){var Tl=this,Il=this.getLoginSockets();if(Il.length===0)throw new ia("Client is not logged in");var Al=this.incGetSeq();return Il.forEach(function(Rl,Fl){_l!==void 0&&Fl!==_l||Rl.sendPacket("UserAttributeSet",{account:Tl.context.uid,attributeInfos:Object.entries(El).map(function(Bl){return{key:(Bl=Lb(Bl,2))[0],value:Bl[1]}}),seq:Al})}),bb.apply(void 0,ra(Il.map(function(Rl){return Rl.fromReceived("UserAttributeErr").pipe(La(function(Fl){return Al.eq(Fl.seq)}),Wa(function(Fl){throw new Pa(["The user attributes set failure, code %d",Fl.code],Ad)}))})).concat([_t.genTimeoutError(Bd)],ra(Il.map(function(Rl){return Rl.fromReceived("UserAttributeRsp").pipe(La(function(Fl){return Al.eq(Fl.seq)}))}))))}},{key:"requestSetChannelAttributes",value:function(El,_l,Tl){var Il=this.getLoginSockets();if(Il.length===0)throw new ia("Client is not logged in");var Al=this.incGetSeq();return Il.forEach(function(Rl){Rl.sendPacket("GroupAttributeSet",{broadcast:Tl,group:El,attributeInfos:Object.entries(_l).map(function(Fl){return{key:(Fl=Lb(Fl,2))[0],value:Fl[1]}}),seq:Al})}),bb.apply(void 0,ra(Il.map(function(Rl){return Rl.fromReceived("GroupAttributeErr").pipe(La(function(Fl){return Al.eq(Fl.seq)}),Wa(function(Fl){throw new Pa(["The group attributes set failure, code %d",Fl.code],Ad)}))})).concat([_t.genTimeoutError(Bd)],ra(Il.map(function(Rl){return Rl.fromReceived("GroupAttributeRsp").pipe(La(function(Fl){return Al.eq(Fl.seq)}))}))))}},{key:"requestAddOrUpdateLocalUserAttributes",value:function(El){var _l=this,Tl=this.getLoginSockets();if(Tl.length===0)throw new ia("Client is not logged in");var Il=this.incGetSeq();return Tl.forEach(function(Al){Al.sendPacket("UserAttributeMod",{account:_l.context.uid,attributeInfos:Object.entries(El).map(function(Rl){return{key:(Rl=Lb(Rl,2))[0],value:Rl[1]}}),seq:Il})}),bb.apply(void 0,ra(Tl.map(function(Al){return Al.fromReceived("UserAttributeErr").pipe(La(function(Rl){return Il.eq(Rl.seq)}),Wa(function(Rl){throw new Pa(["The user attributes add or update failure, code %d",Rl.code],Ad)}))})).concat([_t.genTimeoutError(Bd)],ra(Tl.map(function(Al){return Al.fromReceived("UserAttributeRsp").pipe(La(function(Rl){return Il.eq(Rl.seq)}))}))))}},{key:"requestAddOrUpdateChannelAttributes",value:function(El,_l,Tl){var Il=this.getLoginSockets();if(Il.length===0)throw new ia("Client is not logged in");var Al=this.incGetSeq();return Il.forEach(function(Rl){Rl.sendPacket("GroupAttributeMod",{broadcast:Tl,group:El,attributeInfos:Object.entries(_l).map(function(Fl){return{key:(Fl=Lb(Fl,2))[0],value:Fl[1]}}),seq:Al})}),bb.apply(void 0,ra(Il.map(function(Rl){return Rl.fromReceived("GroupAttributeErr").pipe(La(function(Fl){return Al.eq(Fl.seq)}),Wa(function(Fl){throw new Pa(["The group attributes add or update failure, code %d",Fl.code],Ad)}))})).concat([_t.genTimeoutError(Bd)],ra(Il.map(function(Rl){return Rl.fromReceived("GroupAttributeRsp").pipe(La(function(Fl){return Al.eq(Fl.seq)}))}))))}},{key:"requestDeleteLocalUserAttributesByKeys",value:function(El){var _l=this,Tl=this.getLoginSockets();if(Tl.length===0)throw new ia("Client is not logged in");var Il=this.incGetSeq();return Tl.forEach(function(Al){Al.sendPacket("UserAttributeDel",{account:_l.context.uid,attributes:El,seq:Il})}),bb.apply(void 0,ra(Tl.map(function(Al){return Al.fromReceived("UserAttributeErr").pipe(La(function(Rl){return Il.eq(Rl.seq)}),Wa(function(Rl){throw new Pa(["The user attributes delete failure, code %d",Rl.code],Ad)}))})).concat([_t.genTimeoutError(Bd)],ra(Tl.map(function(Al){return Al.fromReceived("UserAttributeRsp").pipe(La(function(Rl){return Il.eq(Rl.seq)}))}))))}},{key:"requestGetChannelMetaData",value:function(El){var _l=this.getLoginSockets();if(_l.length===0)throw new ia("Client is not logged in. Cannot get the channel metadata",oc);if(this.context.lastGetMetaDataTime!==void 0&&250>Date.now()-this.context.lastGetMetaDataTime)throw new Fc(["The frequency of metedata operation exceeded the limit of %d queries per %d second",20,5e3],Vc);this.context.lastGetMetaDataTime=Date.now();var Tl=this.incGetSeq();return _l.forEach(function(Il){Il.sendPacket("StateGet",{target:El,subTarget:"",lock:"",sequence:Tl,flags:new D(1,0,!0),lockRev:D.fromNumber(0)})}),bb.apply(void 0,[_t.genTimeoutError(cd)].concat(ra(_l.map(function(Il){return Il.fromReceived("StateGetResult").pipe(La(function(Al){return Tl.eq(Al.sequence)}),Wa(function(Al){var Rl=Al.code;if(Al=Al.allStates,ud(Rl)!==bd)throw new Pa(["Get metaData failure. The response code from the RTM service is %d",Rl],He);return Al}))}))))}},{key:"requestGetLocalMetaData",value:function(El){var _l=this.getLoginSockets();if(_l.length===0)throw new ia("Client is not logged in. Cannot get the local metaData",oc);if(this.context.lastGetMetaDataTime!==void 0&&250>Date.now()-this.context.lastGetMetaDataTime)throw new Fc(["The frequency of metedata operation exceeded the limit of %d queries per %d second",20,5e3],Vc);this.context.lastGetMetaDataTime=Date.now();var Tl=this.incGetSeq();return _l.forEach(function(Il){Il.sendPacket("StateGet",{target:El,subTarget:"",lock:"",sequence:Tl,flags:D.fromNumber(0),lockRev:D.fromNumber(0)})}),bb.apply(void 0,[_t.genTimeoutError(cd)].concat(ra(_l.map(function(Il){return Il.fromReceived("StateGetResult").pipe(La(function(Al){return Tl.eq(Al.sequence)}),Wa(function(Al){var Rl=Al.code;if(Al=Al.allStates,ud(Rl)!==bd)throw new Pa(["Get metaData failure. The response code from the RTM service is %d",Rl],He);return Al}))}))))}},{key:"requestDeleteChannelAttributesByKeys",value:function(El,_l,Tl){var Il=this.getLoginSockets();if(Il.length===0)throw new ia("Client is not logged in");var Al=this.incGetSeq();return Il.forEach(function(Rl){Rl.sendPacket("GroupAttributeDel",{group:El,broadcast:Tl,attributes:_l,seq:Al})}),bb.apply(void 0,ra(Il.map(function(Rl){return Rl.fromReceived("GroupAttributeErr").pipe(La(function(Fl){return Al.eq(Fl.seq)}),Wa(function(Fl){throw new Pa(["The channel attributes delete failure, code %d",Fl.code],Ad)}))})).concat([_t.genTimeoutError(Bd)],ra(Il.map(function(Rl){return Rl.fromReceived("GroupAttributeRsp").pipe(La(function(Fl){return Al.eq(Fl.seq)}))}))))}},{key:"requestClearLocalUserAttributes",value:function(){var El=this,_l=this.getLoginSockets();if(_l.length===0)throw new ia("Client is not logged in");var Tl=this.incGetSeq();return _l.forEach(function(Il){Il.sendPacket("UserAttributeSet",{account:El.context.uid,seq:Tl,attributeInfos:[]})}),bb.apply(void 0,ra(_l.map(function(Il){return Il.fromReceived("UserAttributeErr").pipe(La(function(Al){return Tl.eq(Al.seq)}),Wa(function(Al){throw new Pa(["The user attributes clear failure, code %d",Al.code],Ad)}))})).concat([_t.genTimeoutError(Bd)],ra(_l.map(function(Il){return Il.fromReceived("UserAttributeRsp").pipe(La(function(Al){return Tl.eq(Al.seq)}))}))))}},{key:"requestClearChannelAttributes",value:function(El,_l){var Tl=this.getLoginSockets();if(Tl.length===0)throw new ia("Client is not logged in");var Il=this.incGetSeq();return Tl.forEach(function(Al){Al.sendPacket("GroupAttributeSet",{group:El,seq:Il,attributeInfos:[],broadcast:_l})}),bb.apply(void 0,ra(Tl.map(function(Al){return Al.fromReceived("GroupAttributeErr").pipe(La(function(Rl){return Il.eq(Rl.seq)}),Wa(function(Rl){throw new Pa(["The channel attributes clear failure, code %d",Rl.code],Ad)}))})).concat([_t.genTimeoutError(Bd)],ra(Tl.map(function(Al){return Al.fromReceived("GroupAttributeRsp").pipe(La(function(Rl){return Il.eq(Rl.seq)}))}))))}},{key:"requestAddChannelMetadata",value:function(El){var _l=this,Tl=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{majorRevision:-1,enableRecordTs:!1,enableRecordUserId:!1},Il=2<arguments.length?arguments[2]:void 0,Al=this.getLoginSockets();if(Al.length===0)throw new ia("Client is not logged in");if(Tl.majorRevision&&(-1>Tl.majorRevision||Tl.majorRevision%1!=0))throw new ja("MajorRevision should be set to a value greater than  -1",Mb);if(nf({items:El,maxMetaDataCount:32,maxMetaValueSize:16384,type:"Add"}),this.context.lastModifyMeteDataTime!==void 0&&250>Date.now()-this.context.lastModifyMeteDataTime)throw new Fc(["The frequency of metedata operation exceeded the limit of %d queries per %d second",20,5e3],Vc);this.context.lastModifyMeteDataTime=Date.now();var Rl=this.incGetSeq(),Fl=JSON.stringify(pf(Pd.cloneDeep(El).map(function(Gl){return Gl.setRevision(0),Gl}),Tl.majorRevision)),Bl=Date.now();return Al.forEach(function(Gl){Gl.sendPacket("StateModify",{sequence:Rl,target:Il,requestUuid:"".concat(Rl,"_").concat(_l.instanceId),lock:"",lockRev:D.fromNumber(0),value:Fl,baseRevision:D.fromNumber(0),author:Tl.enableRecordUserId?_l.context.uid:"",flags:Tl.enableRecordTs?new D(524289,0,!0):new D(1,0,!0)})}),bb.apply(void 0,[_t.genTimeoutError(cd)].concat(ra(Al.map(function(Gl){return Gl.fromReceived("StateRequestResult").pipe(La(function(Ql){return Rl.eq(Ql.sequence)}),Wa(function(Ql){var _f,_h,vp=ud(Ql=Ql.code);if($a("SyncOperateEvent",{lts:D.fromNumber(Date.now()),userid:_l.context.uid,vid:D.fromString((_f=_l.context.vid)!==null&&_f!==void 0?_f:"0"),sid:"",usersid:_l.context.sid,requestts:D.fromNumber(Bl),replyts:D.fromNumber(Date.now()),target:Il,eventtype:"Add",revision:D.fromNumber(0),uuid:"".concat(Rl,"_").concat(_l.instanceId),sdktype:3,flags:Tl.enableRecordTs?new D(524289,0,!0):new D(1,0,!0),code:vp,seq:Rl,index:{index1:Il,index2:_l.context.appId,index3:"enableLogUpload=".concat(_l.context.config.enableLogUpload)},lock:"",lockrev:D.fromNumber(0),subtarget:_l.context.uid},(_h=_l.context.config.enableCloudProxy)!==null&&_h!==void 0&&_h),vp!==bd)throw new Pa(["MetaData modify failure. The response code from the RTM service is %d",Ql],vp)}))}))))}},{key:"requestUpdateChannelMetadata",value:function(El){var _l=this,Tl=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{majorRevision:-1,enableRecordTs:!1,enableRecordUserId:!1},Il=2<arguments.length?arguments[2]:void 0,Al=this.getLoginSockets();if(Al.length===0)throw new ia("Client is not logged in");if(Tl.majorRevision&&(-1>Tl.majorRevision||Tl.majorRevision%1!=0))throw new ja("MajorRevision should be set to a value greater than  -1",Mb);if(Tl.majorRevision===0)throw new ja("MajorRevision can not be set to 0",of);if(nf({items:El,maxMetaDataCount:32,maxMetaValueSize:16384,type:"Update"}),this.context.lastModifyMeteDataTime!==void 0&&250>Date.now()-this.context.lastModifyMeteDataTime)throw new Fc(["The frequency of metedata operation exceeded the limit of %d queries per %d second",20,5e3],Vc);this.context.lastModifyMeteDataTime=Date.now();var Rl=this.incGetSeq(),Fl=JSON.stringify(pf(Pd.cloneDeep(El).map(function(Gl){return Gl.getRevision()===-1&&Gl.setRevision(-2),Gl}),Tl.majorRevision)),Bl=Date.now();return Al.forEach(function(Gl){Gl.sendPacket("StateModify",{sequence:Rl,target:Il,requestUuid:"".concat(Rl,"_").concat(_l.instanceId),lock:"",lockRev:D.fromNumber(0),value:Fl,baseRevision:D.fromNumber(0),author:Tl.enableRecordUserId?_l.context.uid:"",flags:Tl.enableRecordTs?new D(524289,0,!0):new D(1,0,!0)})}),bb.apply(void 0,[_t.genTimeoutError(cd)].concat(ra(Al.map(function(Gl){return Gl.fromReceived("StateRequestResult").pipe(La(function(Ql){return Rl.eq(Ql.sequence)}),Wa(function(Ql){var _f,_h,vp=ud(Ql=Ql.code);if($a("SyncOperateEvent",{lts:D.fromNumber(Date.now()),userid:_l.context.uid,vid:D.fromString((_f=_l.context.vid)!==null&&_f!==void 0?_f:"0"),sid:"",usersid:_l.context.sid,requestts:D.fromNumber(Bl),replyts:D.fromNumber(Date.now()),target:Il,eventtype:"Update",revision:D.fromNumber(0),uuid:"".concat(Rl,"_").concat(_l.instanceId),sdktype:3,flags:Tl.enableRecordTs?new D(524289,0,!0):new D(1,0,!0),code:vp,seq:Rl,index:{index1:_l.context.uid,index2:_l.context.appId,index3:"enableLogUpload=".concat(_l.context.config.enableLogUpload)},lock:"",lockrev:D.fromNumber(0),subtarget:_l.context.uid},(_h=_l.context.config.enableCloudProxy)!==null&&_h!==void 0&&_h),vp!==bd)throw new Pa(["MetaData modify failure. The response code from the RTM service is %d",Ql],vp)}))}))))}},{key:"requestDeleteChannelMetadata",value:function(El){var _l=this,Tl=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{majorRevision:-1,enableRecordTs:!1,enableRecordUserId:!1},Il=2<arguments.length?arguments[2]:void 0,Al=this.getLoginSockets();if(Al.length===0)throw new ia("Client is not logged in");if(Tl.majorRevision&&(-1>Tl.majorRevision||Tl.majorRevision%1!=0))throw new ja("MajorRevision should be set to a value greater than  -1",Mb);if(Tl.majorRevision===0)throw new ja("MajorRevision can not be set to 0",of);if(nf({items:El,maxMetaDataCount:32,maxMetaValueSize:16384,type:"Delete"}),this.context.lastModifyMeteDataTime!==void 0&&250>Date.now()-this.context.lastModifyMeteDataTime)throw new Fc(["The frequency of metedata operation exceeded the limit of %d queries per %d second",20,5e3],Vc);this.context.lastModifyMeteDataTime=Date.now();var Rl=this.incGetSeq(),Fl=JSON.stringify(pf(Pd.cloneDeep(El).map(function(Gl){return Gl.setValue(null),Gl}),Tl.majorRevision)),Bl=Date.now();return Al.forEach(function(Gl){Gl.sendPacket("StateModify",{sequence:Rl,target:Il,requestUuid:"".concat(Rl,"_").concat(_l.instanceId),lock:"",lockRev:D.fromNumber(0),value:Fl,baseRevision:D.fromNumber(0),author:Tl.enableRecordUserId?_l.context.uid:"",flags:Tl.enableRecordTs?new D(524289,0,!0):new D(1,0,!0)})}),bb.apply(void 0,[_t.genTimeoutError(cd)].concat(ra(Al.map(function(Gl){return Gl.fromReceived("StateRequestResult").pipe(La(function(Ql){return Rl.eq(Ql.sequence)}),Wa(function(Ql){var _f,_h,vp=ud(Ql=Ql.code);if($a("SyncOperateEvent",{lts:D.fromNumber(Date.now()),userid:_l.context.uid,vid:D.fromString((_f=_l.context.vid)!==null&&_f!==void 0?_f:"0"),sid:"",usersid:_l.context.sid,requestts:D.fromNumber(Bl),replyts:D.fromNumber(Date.now()),target:Il,eventtype:"Delete",revision:D.fromNumber(0),uuid:"".concat(Rl,"_").concat(_l.instanceId),sdktype:3,flags:Tl.enableRecordTs?new D(524289,0,!0):new D(1,0,!0),code:vp,seq:Rl,index:{index1:_l.context.uid,index2:_l.context.appId,index3:"enableLogUpload=".concat(_l.context.config.enableLogUpload)},lock:"",lockrev:D.fromNumber(0),subtarget:_l.context.uid},(_h=_l.context.config.enableCloudProxy)!==null&&_h!==void 0&&_h),vp!==bd)throw new Pa(["MetaData modify failure. The response code from the RTM service is %d",Ql],He)}))}))))}},{key:"requestSetChannelMetadata",value:function(El){var _l=this,Tl=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{majorRevision:-1,enableRecordTs:!1,enableRecordUserId:!1},Il=2<arguments.length?arguments[2]:void 0,Al=this.getLoginSockets();if(Al.length===0)throw new ia("Client is not logged in");if(Tl.majorRevision&&(-1>Tl.majorRevision||Tl.majorRevision%1!=0))throw new ja("MajorRevision should be set to a value greater than  -1",Mb);if(nf({items:El,maxMetaDataCount:32,maxMetaValueSize:16384,type:"Set"}),this.context.lastModifyMeteDataTime!==void 0&&250>Date.now()-this.context.lastModifyMeteDataTime)throw new Fc(["The frequency of metedata operation exceeded the limit of %d queries per %d second",20,5e3],Vc);this.context.lastModifyMeteDataTime=Date.now();var Rl=this.incGetSeq(),Fl=Date.now();return Al.forEach(function(Bl){Bl.sendPacket("StateSet",{sequence:Rl,target:Il,requestUuid:"".concat(Rl,"_").concat(_l.instanceId),value:JSON.stringify(pf(El,Tl.majorRevision)),lock:"",lockRev:D.fromNumber(0),baseRevision:D.fromNumber(0),author:Tl.enableRecordUserId?_l.context.uid:"",flags:Tl.enableRecordTs?new D(524289,0,!0):new D(1,0,!0)})}),bb.apply(void 0,[_t.genTimeoutError(cd)].concat(ra(Al.map(function(Bl){return Bl.fromReceived("StateRequestResult").pipe(La(function(Gl){return Rl.eq(Gl.sequence)}),Wa(function(Gl){var Ql,_f,_h=ud(Gl=Gl.code);if($a("SyncOperateEvent",{lts:D.fromNumber(Date.now()),userid:_l.context.uid,vid:D.fromString((Ql=_l.context.vid)!==null&&Ql!==void 0?Ql:"0"),sid:"",usersid:_l.context.sid,requestts:D.fromNumber(Fl),replyts:D.fromNumber(Date.now()),target:Il,eventtype:"Set",revision:D.fromNumber(0),uuid:"".concat(Rl,"_").concat(_l.instanceId),sdktype:3,flags:Tl.enableRecordTs?new D(524289,0,!0):new D(1,0,!0),code:_h,seq:Rl,index:{index1:_l.context.uid,index2:_l.context.appId,index3:"enableLogUpload=".concat(_l.context.config.enableLogUpload)},lock:"",lockrev:D.fromNumber(0),subtarget:_l.context.uid},(_f=_l.context.config.enableCloudProxy)!==null&&_f!==void 0&&_f),_h!==bd)throw new Pa(["MetaData modify failure. The response code from the RTM service is %d",Gl],_h)}))}))))}},{key:"requestClearChannelMetadata",value:function(){var El=this,_l=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{majorRevision:-1,enableRecordTs:!1,enableRecordUserId:!1},Tl=1<arguments.length?arguments[1]:void 0,Il=this.getLoginSockets();if(Il.length===0)throw new ia("Client is not logged in");if(_l.majorRevision&&-1>_l.majorRevision&&_l.majorRevision%1==0)throw new ja("MajorRevision should be set to a value greater than  -1",Mb);if(_l.majorRevision===0)throw new ja("MajorRevision can not be set to 0",of);if(this.context.lastModifyMeteDataTime!==void 0&&250>Date.now()-this.context.lastModifyMeteDataTime)throw new Fc(["The frequency of metedata operation exceeded the limit of %d queries per %d second",20,5e3],Vc);this.context.lastModifyMeteDataTime=Date.now();var Al=this.incGetSeq(),Rl=Date.now();return Il.forEach(function(Fl){Fl.sendPacket("StateSet",{sequence:Al,target:Tl,requestUuid:"".concat(Al,"_").concat(El.instanceId),lock:"",lockRev:D.fromNumber(0),value:JSON.stringify({}),baseRevision:D.fromNumber(0),author:_l.enableRecordUserId?El.context.uid:"",flags:_l.enableRecordTs?new D(589825,0,!0):new D(65537,0,!0)})}),bb.apply(void 0,[_t.genTimeoutError(cd)].concat(ra(Il.map(function(Fl){return Fl.fromReceived("StateRequestResult").pipe(La(function(Bl){return Al.eq(Bl.sequence)}),Wa(function(Bl){var Gl,Ql,_f=ud(Bl=Bl.code);if($a("SyncOperateEvent",{lts:D.fromNumber(Date.now()),userid:El.context.uid,vid:D.fromString((Gl=El.context.vid)!==null&&Gl!==void 0?Gl:"0"),sid:"",usersid:El.context.sid,requestts:D.fromNumber(Rl),replyts:D.fromNumber(Date.now()),target:Tl,eventtype:"Clear",revision:D.fromNumber(0),uuid:"".concat(Al,"_").concat(El.instanceId),sdktype:3,flags:_l.enableRecordTs?new D(589825,0,!0):new D(65537,0,!0),code:_f,seq:Al,index:{index1:El.context.uid,index2:El.context.appId,index3:"enableLogUpload=".concat(El.context.config.enableLogUpload)},lock:"",lockrev:D.fromNumber(0),subtarget:El.context.uid},(Ql=El.context.config.enableCloudProxy)!==null&&Ql!==void 0&&Ql),_f!==bd)throw new Pa(["MetaData modify failure. The response code from the RTM service is %d",Bl],_f)}))}))))}},{key:"requestAddLocalMetadata",value:function(El){var _l=this,Tl=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{majorRevision:-1,enableRecordTs:!1,enableRecordUserId:!1},Il=this.getLoginSockets();if(Il.length===0)throw new ia("Client is not logged in");if(Tl.majorRevision&&(-1>Tl.majorRevision||Tl.majorRevision%1!=0))throw new ja("MajorRevision should be set to a value greater than  -1",Mb);if(nf({items:El,maxMetaDataCount:32,maxMetaValueSize:16384,type:"Add"}),this.context.lastModifyMeteDataTime!==void 0&&250>Date.now()-this.context.lastModifyMeteDataTime)throw new Fc(["The frequency of metedata operation exceeded the limit of %d queries per %d second",20,5e3],Vc);this.context.lastModifyMeteDataTime=Date.now();var Al=this.incGetSeq(),Rl=JSON.stringify(pf(Pd.cloneDeep(El).map(function(Bl){return Bl.setRevision(0),Bl}),Tl.majorRevision)),Fl=Date.now();return Il.forEach(function(Bl){Bl.sendPacket("StateModify",{sequence:Al,target:_l.context.uid,requestUuid:"".concat(Al,"_").concat(_l.instanceId),lock:"",lockRev:D.fromNumber(0),value:Rl,baseRevision:D.fromNumber(0),author:Tl.enableRecordUserId?_l.context.uid:"",flags:Tl.enableRecordTs?new D(524288,0,!0):D.fromNumber(0)})}),bb.apply(void 0,[_t.genTimeoutError(cd)].concat(ra(Il.map(function(Bl){return Bl.fromReceived("StateRequestResult").pipe(La(function(Gl){return Al.eq(Gl.sequence)}),Ka(function(Gl){var Ql,_f,_h=ud(Gl=Gl.code);if($a("SyncOperateEvent",{lts:D.fromNumber(Date.now()),userid:_l.context.uid,vid:D.fromString((Ql=_l.context.vid)!==null&&Ql!==void 0?Ql:"0"),sid:"",usersid:_l.context.sid,requestts:D.fromNumber(Fl),replyts:D.fromNumber(Date.now()),target:_l.context.uid,eventtype:"Add",revision:D.fromNumber(0),uuid:"".concat(Al,"_").concat(_l.instanceId),sdktype:3,flags:Tl.enableRecordTs?new D(524288,0,!0):D.fromNumber(0),code:_h,seq:Al,index:{index1:_l.context.uid,index2:_l.context.appId,index3:"enableLogUpload=".concat(_l.context.config.enableLogUpload)},lock:"",lockrev:D.fromNumber(0),subtarget:_l.context.uid},(_f=_l.context.config.enableCloudProxy)!==null&&_f!==void 0&&_f),_h!==bd)throw new Pa(["MetaData modify failure. The response code from the RTM service is %d",Gl],_h)}))}))))}},{key:"requestUpdateLocalMetadata",value:function(El){var _l=this,Tl=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{majorRevision:-1,enableRecordTs:!1,enableRecordUserId:!1},Il=this.getLoginSockets();if(Il.length===0)throw new ia("Client is not logged in");if(Tl.majorRevision&&(-1>Tl.majorRevision||Tl.majorRevision%1!=0))throw new ja("MajorRevision should be set to a value greater than  -1",Mb);if(Tl.majorRevision===0)throw new ja("MajorRevision can not be set to 0",of);if(nf({items:El,maxMetaDataCount:32,maxMetaValueSize:16384,type:"Update"}),this.context.lastModifyMeteDataTime!==void 0&&250>Date.now()-this.context.lastModifyMeteDataTime)throw new Fc(["The frequency of metedata operation exceeded the limit of %d queries per %d second",20,5e3],Vc);this.context.lastModifyMeteDataTime=Date.now();var Al=this.incGetSeq(),Rl=JSON.stringify(pf(Pd.cloneDeep(El).map(function(Bl){return Bl.getRevision()===-1&&Bl.setRevision(-2),Bl}),Tl.majorRevision)),Fl=Date.now();return Il.forEach(function(Bl){Bl.sendPacket("StateModify",{sequence:Al,target:_l.context.uid,requestUuid:"".concat(Al,"_").concat(_l.instanceId),lock:"",lockRev:D.fromNumber(0),value:Rl,baseRevision:D.fromNumber(0),author:Tl.enableRecordUserId?_l.context.uid:"",flags:Tl.enableRecordTs?new D(524288,0,!0):D.fromNumber(0)})}),bb.apply(void 0,[_t.genTimeoutError(cd)].concat(ra(Il.map(function(Bl){return Bl.fromReceived("StateRequestResult").pipe(La(function(Gl){return Al.eq(Gl.sequence)}),Ka(function(Gl){var Ql,_f,_h=ud(Gl=Gl.code);if($a("SyncOperateEvent",{lts:D.fromNumber(Date.now()),userid:_l.context.uid,vid:D.fromString((Ql=_l.context.vid)!==null&&Ql!==void 0?Ql:"0"),sid:"",usersid:_l.context.sid,requestts:D.fromNumber(Fl),replyts:D.fromNumber(Date.now()),target:_l.context.uid,eventtype:"Update",revision:D.fromNumber(0),uuid:"".concat(Al,"_").concat(_l.instanceId),sdktype:3,flags:Tl.enableRecordTs?new D(524288,0,!0):D.fromNumber(0),code:_h,seq:Al,index:{index1:_l.context.uid,index2:_l.context.appId,index3:"enableLogUpload=".concat(_l.context.config.enableLogUpload)},lock:"",lockrev:D.fromNumber(0),subtarget:_l.context.uid},(_f=_l.context.config.enableCloudProxy)!==null&&_f!==void 0&&_f),_h!==bd)throw new Pa(["MetaData modify failure. The response code from the RTM service is %d",Gl],_h)}))}))))}},{key:"requestDeleteLocalMetadata",value:function(El){var _l=this,Tl=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{majorRevision:-1,enableRecordTs:!1,enableRecordUserId:!1},Il=this.getLoginSockets();if(Il.length===0)throw new ia("Client is not logged in");if(Tl.majorRevision&&(-1>Tl.majorRevision||Tl.majorRevision%1!=0))throw new ja("MajorRevision should be set to a value greater than  -1",Mb);if(Tl.majorRevision===0)throw new ja("MajorRevision can not be set to 0",of);if(nf({items:El,maxMetaDataCount:32,maxMetaValueSize:16384,type:"Delete"}),this.context.lastModifyMeteDataTime!==void 0&&250>Date.now()-this.context.lastModifyMeteDataTime)throw new Fc(["The frequency of metedata operation exceeded the limit of %d queries per %d second",20,5e3],Vc);this.context.lastModifyMeteDataTime=Date.now();var Al=this.incGetSeq(),Rl=JSON.stringify(pf(Pd.cloneDeep(El).map(function(Bl){return Bl.setValue(null),Bl}),Tl.majorRevision)),Fl=Date.now();return Il.forEach(function(Bl){Bl.sendPacket("StateModify",{sequence:Al,target:_l.context.uid,requestUuid:"".concat(Al,"_").concat(_l.instanceId),lock:"",lockRev:D.fromNumber(0),value:Rl,baseRevision:D.fromNumber(0),author:Tl.enableRecordUserId?_l.context.uid:"",flags:Tl.enableRecordTs?new D(524288,0,!0):D.fromNumber(0)})}),bb.apply(void 0,[_t.genTimeoutError(cd)].concat(ra(Il.map(function(Bl){return Bl.fromReceived("StateRequestResult").pipe(La(function(Gl){return Al.eq(Gl.sequence)}),Ka(function(Gl){var Ql,_f,_h=ud(Gl=Gl.code);if($a("SyncOperateEvent",{lts:D.fromNumber(Date.now()),userid:_l.context.uid,vid:D.fromString((Ql=_l.context.vid)!==null&&Ql!==void 0?Ql:"0"),sid:"",usersid:_l.context.sid,requestts:D.fromNumber(Fl),replyts:D.fromNumber(Date.now()),target:_l.context.uid,eventtype:"Delete",revision:D.fromNumber(0),uuid:"".concat(Al,"_").concat(_l.instanceId),sdktype:3,flags:Tl.enableRecordTs?new D(524288,0,!0):D.fromNumber(0),code:_h,seq:Al,index:{index1:_l.context.uid,index2:_l.context.appId,index3:"enableLogUpload=".concat(_l.context.config.enableLogUpload)},lock:"",lockrev:D.fromNumber(0),subtarget:_l.context.uid},(_f=_l.context.config.enableCloudProxy)!==null&&_f!==void 0&&_f),_h!==bd)throw new Pa(["MetaData modify failure. The response code from the RTM service is %d",Gl],_h)}))}))))}},{key:"requestSetLocalMetadata",value:function(El){var _l=this,Tl=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{majorRevision:-1,enableRecordTs:!1,enableRecordUserId:!1},Il=this.getLoginSockets();if(Il.length===0)throw new ia("Client is not logged in");if(Tl.majorRevision&&(-1>Tl.majorRevision||Tl.majorRevision%1!=0))throw new ja("MajorRevision should be set to a value greater than  -1",Mb);if(nf({items:El,maxMetaDataCount:32,maxMetaValueSize:16384,type:"Set"}),this.context.lastModifyMeteDataTime!==void 0&&250>Date.now()-this.context.lastModifyMeteDataTime)throw new Fc(["The frequency of metedata operation exceeded the limit of %d queries per %d second",20,5e3],Vc);this.context.lastModifyMeteDataTime=Date.now();var Al=this.incGetSeq(),Rl=Date.now();return Il.forEach(function(Fl){Fl.sendPacket("StateSet",{sequence:Al,target:_l.context.uid,requestUuid:"".concat(Al,"_").concat(_l.instanceId),value:JSON.stringify(pf(El,Tl.majorRevision)),lock:"",lockRev:D.fromNumber(0),baseRevision:D.fromNumber(0),author:Tl.enableRecordUserId?_l.context.uid:"",flags:Tl.enableRecordTs?new D(524288,0,!0):new D(0,0,!0)})}),bb.apply(void 0,[_t.genTimeoutError(cd)].concat(ra(Il.map(function(Fl){return Fl.fromReceived("StateRequestResult").pipe(La(function(Bl){return Al.eq(Bl.sequence)}),Ka(function(Bl){var Gl,Ql,_f=ud(Bl=Bl.code);if($a("SyncOperateEvent",{lts:D.fromNumber(Date.now()),userid:_l.context.uid,vid:D.fromString((Gl=_l.context.vid)!==null&&Gl!==void 0?Gl:"0"),sid:"",usersid:_l.context.sid,requestts:D.fromNumber(Rl),replyts:D.fromNumber(Date.now()),target:_l.context.uid,eventtype:"Set",revision:D.fromNumber(0),uuid:"".concat(Al,"_").concat(_l.instanceId),sdktype:3,flags:Tl.enableRecordTs?new D(524288,0,!0):D.fromNumber(0),code:_f,seq:Al,index:{index1:_l.context.uid,index2:_l.context.appId,index3:"enableLogUpload=".concat(_l.context.config.enableLogUpload)},lock:"",lockrev:D.fromNumber(0),subtarget:_l.context.uid},(Ql=_l.context.config.enableCloudProxy)!==null&&Ql!==void 0&&Ql),_f!==bd)throw new Pa(["MetaData modify failure. The response code from the RTM service is %d",Bl],_f)}))}))))}},{key:"requestClearLocalMetadata",value:function(){var El=this,_l=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{majorRevision:-1,enableRecordTs:!1,enableRecordUserId:!1},Tl=this.getLoginSockets();if(Tl.length===0)throw new ia("Client is not logged in");if(_l.majorRevision&&(-1>_l.majorRevision||_l.majorRevision%1!=0))throw new ja("MajorRevision should be set to a value greater than  -1",Mb);if(_l.majorRevision===0)throw new ja("MajorRevision can not be set to 0",of);if(this.context.lastModifyMeteDataTime!==void 0&&250>Date.now()-this.context.lastModifyMeteDataTime)throw new Fc(["The frequency of metedata operation exceeded the limit of %d queries per %d second",20,5e3],Vc);this.context.lastModifyMeteDataTime=Date.now();var Il=this.incGetSeq(),Al=Date.now();return Tl.forEach(function(Rl){Rl.sendPacket("StateSet",{sequence:Il,target:El.context.uid,requestUuid:"".concat(Il,"_").concat(El.instanceId),lock:"",lockRev:D.fromNumber(0),value:JSON.stringify({}),baseRevision:D.fromNumber(0),author:_l.enableRecordUserId?El.context.uid:"",flags:_l.enableRecordTs?new D(589824,0,!0):new D(65536,0,!0)})}),bb.apply(void 0,[_t.genTimeoutError(cd)].concat(ra(Tl.map(function(Rl){return Rl.fromReceived("StateRequestResult").pipe(La(function(Fl){return Il.eq(Fl.sequence)}),Ka(function(Fl){var Bl,Gl,Ql=ud(Fl=Fl.code);if($a("SyncOperateEvent",{lts:D.fromNumber(Date.now()),userid:El.context.uid,vid:D.fromString((Bl=El.context.vid)!==null&&Bl!==void 0?Bl:"0"),sid:"",usersid:El.context.sid,requestts:D.fromNumber(Al),replyts:D.fromNumber(Date.now()),target:El.context.uid,eventtype:"Clear",revision:D.fromNumber(0),uuid:"".concat(Il,"_").concat(El.instanceId),sdktype:3,flags:_l.enableRecordTs?new D(524288,0,!0):D.fromNumber(0),code:Ql,seq:Il,index:{index1:El.context.uid,index2:El.context.appId,index3:"enableLogUpload=".concat(El.context.config.enableLogUpload)},lock:"",lockrev:D.fromNumber(0),subtarget:El.context.uid},(Gl=El.context.config.enableCloudProxy)!==null&&Gl!==void 0&&Gl),Ql!==bd)throw new Pa(["MetaData modify failure. The response code from the RTM service is %d",Fl],Ql)}))}))))}},{key:"requestSubscribeUserMetadata",value:function(El,_l){var Tl=this,Il=this.getLoginSockets();if(Il.length===0)throw new ia("Client is not logged in");if(this.context.lastSubscribeMetaDataTime!==void 0&&500>Date.now()-this.context.lastSubscribeMetaDataTime)throw new Fc(["The frequency of subscription metedata exceeded the limit of %d queries per %d second",10,5e3],Vc);this.context.lastSubscribeMetaDataTime=Date.now();var Al=this.incGetSeq(),Rl=Date.now();return Il.forEach(function(Fl){Fl.sendPacket("StateSubscribe",{sequence:Al,target:El,subTarget:"",flags:D.fromNumber(0)})}),bb.apply(void 0,[_t.genTimeoutErrorWithoutNotice(cl,void 0,_l)].concat(ra(Il.map(function(Fl){return Fl.fromReceived("StateSubscribeResult").pipe(La(function(Bl){return Al.eq(Bl.sequence)}),Ka(function(Bl){var Gl,Ql;Bl=Bl.code;var _f=Pw;if(Bl!==0&&Bl!==1&&(_f=Bl===100?cl:lp),_f!==Pw)throw new Pa(["User metaData Subscribe failure. The response code from the RTM service is %d",Bl],_f);_l!=="RECONNECTED"&&Tl.lastUserMeteUpdateRecord[El]===void 0&&(Tl.lastUserMeteUpdateRecord[El]=-1),$a("SyncSubscribeEvent",{lts:D.fromNumber(Date.now()),userid:Tl.context.uid,vid:D.fromString((Gl=Tl.context.vid)!==null&&Gl!==void 0?Gl:"0"),sid:"",usersid:Tl.context.sid,target:El,requestts:D.fromNumber(Rl),replyts:D.fromNumber(Date.now()),eventtype:"Subscribe",sdktype:3,flags:D.fromNumber(0),code:0,seq:Al,index:{index1:Tl.context.uid,index2:Tl.context.appId,index3:"enableLogUpload=".concat(Tl.context.config.enableLogUpload)},subtarget:Tl.context.uid},(Ql=Tl.context.config.enableCloudProxy)!==null&&Ql!==void 0&&Ql)}))}))))}},{key:"requestUnsubscribeUserMetadata",value:function(El){var _l,Tl,Il=this.getLoginSockets();if(Il.length===0)throw new ia("Client is not logged in");var Al=this.incGetSeq(),Rl=Date.now();Il.forEach(function(Fl){Fl.sendPacket("StateUnsubscribe",{sequence:Al,target:El,subTarget:"",flags:D.fromNumber(0)})}),delete this.lastUserMeteUpdateRecord[El],$a("SyncSubscribeEvent",{lts:D.fromNumber(Date.now()),userid:this.context.uid,vid:D.fromString((_l=this.context.vid)!==null&&_l!==void 0?_l:"0"),sid:"",usersid:this.context.sid,target:El,requestts:D.fromNumber(Rl),replyts:D.fromNumber(Date.now()),eventtype:"UnSubscribe",sdktype:3,flags:D.fromNumber(0),code:0,seq:Al,index:{index1:this.context.uid,index2:this.context.appId,index3:"enableLogUpload=".concat(this.context.config.enableLogUpload)},subtarget:this.context.uid},(Tl=this.context.config.enableCloudProxy)!==null&&Tl!==void 0&&Tl)}},{key:"requestUnsubscribeChannelMetadata",value:function(El){var _l,Tl,Il=this.getLoginSockets();if(Il.length===0)throw new ia("Client is not logged in");var Al=this.incGetSeq();Il.forEach(function(Rl){Rl.sendPacket("StateUnsubscribe",{sequence:Al,target:El,subTarget:"",flags:new D(1,0,!0)})}),delete this.lastChannelMetaUpdateRecord[El],$a("SyncSubscribeEvent",{lts:D.fromNumber(Date.now()),userid:this.context.uid,vid:D.fromString((_l=this.context.vid)!==null&&_l!==void 0?_l:"0"),sid:"",usersid:this.context.sid,target:El,requestts:D.fromNumber(Date.now()),replyts:D.fromNumber(Date.now()),eventtype:"UnSubscribe",sdktype:3,flags:new D(1,0,!0),code:0,seq:Al,index:{index1:this.context.uid,index2:this.context.appId,index3:"enableLogUpload=".concat(this.context.config.enableLogUpload)},subtarget:this.context.uid},(Tl=this.context.config.enableCloudProxy)!==null&&Tl!==void 0&&Tl)}},{key:"requestSubscribeChannelMetadata",value:function(El,_l){var Tl=this,Il=this.getLoginSockets();if(Il.length===0)throw new ia("Client is not logged in");if(this.context.lastSubscribeMetaDataTime!==void 0&&500>Date.now()-this.context.lastSubscribeMetaDataTime)throw new Fc(["The frequency of subscription metedata exceeded the limit of %d queries per %d second",10,5e3],Vc);var Al=this.incGetSeq(),Rl=Date.now();return Il.forEach(function(Fl){Fl.sendPacket("StateSubscribe",{sequence:Al,target:El,subTarget:"",flags:new D(1,0,!0)})}),bb.apply(void 0,[_t.genTimeoutError(cl)].concat(ra(Il.map(function(Fl){return Fl.fromReceived("StateSubscribeResult").pipe(La(function(Bl){return Al.eq(Bl.sequence)}),Ka(function(Bl){var Gl,Ql;if((Bl=Bl.code)!==0&&Bl!==1)throw Bl===100?new Pa(["MetaData Subscribe failure. The response code from the RTM service is %d",Bl],cl):new Pa(["MetaData Subscribe failure. The response code from the RTM service is %d",Bl],lp);_l==="JOIN"&&(Tl.lastChannelMetaUpdateRecord[El]=-1),$a("SyncSubscribeEvent",{lts:D.fromNumber(Date.now()),userid:Tl.context.uid,vid:D.fromString((Gl=Tl.context.vid)!==null&&Gl!==void 0?Gl:"0"),sid:"",usersid:Tl.context.sid,target:El,requestts:D.fromNumber(Rl),replyts:D.fromNumber(Date.now()),eventtype:"Subscribe",sdktype:3,flags:D.fromNumber(0),code:Bl,seq:Al,index:{index1:Tl.context.uid,index2:Tl.context.appId,index3:"enableLogUpload=".concat(Tl.context.config.enableLogUpload)},subtarget:Tl.context.uid},(Ql=Tl.context.config.enableCloudProxy)!==null&&Ql!==void 0&&Ql)}))}))))}},{key:"requestGetUserAttributesByKeys",value:function(El,_l){var Tl=this.getLoginSockets();if(Tl.length===0)throw new ia("Client is not logged in");var Il=this.incGetSeq();return Tl.forEach(function(Al){Al.sendPacket("UserAttributeGet",{account:El,seq:Il,attributes:_l})}),bb.apply(void 0,[_t.genTimeoutError(Bd)].concat(ra(Tl.map(function(Al){return Al.fromReceived("UserAttributeErr").pipe(La(function(Rl){return Il.eq(Rl.seq)}),Wa(function(Rl){throw(Rl=Rl.code)===10008?new Pa("The user requested is not online",qw):new id(["User attribute operation unknown error code: %d",Rl],Ad)}))})),ra(Tl.map(function(Al){return Al.fromReceived("UserAttributeRet").pipe(La(function(Rl){return Il.eq(Rl.seq)}))}))))}},{key:"requestGetChannelAttributesByKeys",value:function(El,_l){var Tl=this.getLoginSockets();if(Tl.length===0)throw new ia("Client is not logged in");var Il=this.incGetSeq();return Tl.forEach(function(Al){Al.sendPacket("GroupAttributeGet",{group:El,seq:Il,attributes:_l})}),bb.apply(void 0,[_t.genTimeoutError(Bd)].concat(ra(Tl.map(function(Al){return Al.fromReceived("GroupAttributeErr").pipe(La(function(Rl){return Il.eq(Rl.seq)}),Wa(function(Rl){throw new Pa(["The channel attributes get failure, code %d",Rl.code],Ad)}))})),ra(Tl.map(function(Al){return Al.fromReceived("GroupAttributeRet").pipe(La(function(Rl){return Il.eq(Rl.seq)}))}))))}},{key:"requestGetUserAttributeKeys",value:function(El){var _l=this.getLoginSockets();if(_l.length===0)throw new ia("Client is not logged in");var Tl=this.incGetSeq();return _l.forEach(function(Il){Il.sendPacket("UserAttributeKeysGet",{account:El,seq:Tl})}),bb.apply(void 0,[_t.genTimeoutError(Bd)].concat(ra(_l.map(function(Il){return Il.fromReceived("UserAttributeErr").pipe(La(function(Al){return Tl.eq(Al.seq)}),Wa(function(Al){throw(Al=Al.code)===10008?new Pa("The user requested is not online",qw):new id(["User attribute operation unknown error code: %d",Al],Ad)}))})),ra(_l.map(function(Il){return Il.fromReceived("UserAttributeKeysRet").pipe(La(function(Al){return Tl.eq(Al.seq)}))}))))}},{key:"requestGetChannelAttributesKeys",value:function(El){var _l=this.getLoginSockets();if(_l.length===0)throw new ia("Client is not logged in");var Tl=this.incGetSeq();return _l.forEach(function(Il){Il.sendPacket("GroupAttributeKeysGet",{group:El,seq:Tl})}),bb.apply(void 0,[_t.genTimeoutError(Bd)].concat(ra(_l.map(function(Il){return Il.fromReceived("GroupAttributeErr").pipe(La(function(Al){return Tl.eq(Al.seq)}),Wa(function(Al){throw new id(["Channel attribute operation unknown error code: %d",Al.code],Ad)}))})),ra(_l.map(function(Il){return Il.fromReceived("GroupAttributeKeysRet").pipe(La(function(Al){return Tl.eq(Al.seq)}))}))))}},{key:"requestGetChannelMemberCount",value:function(El){var _l=this.getLoginSockets();if(_l.length===0)throw new ia("Client is not logged in");var Tl=this.incGetSeq();return _l.forEach(function(Il){Il.sendPacket("GroupStatusList",{groups:El,seq:Tl})}),bb.apply(void 0,[_t.genTimeoutError(uw)].concat(ra(_l.map(function(Il){return Il.fromReceived("GroupStatusResult").pipe(La(function(Al){return Tl.eq(Al.seq)}))}))))}},{key:"requestSubscribePeersOnlineStatus",value:function(El){var _l=this.getLoginSockets();if(_l.length===0)throw new ia("Client is not logged in");var Tl=this.incGetSeq();return _l.forEach(function(Il){Il.sendPacket("SubscribeUserStatus",{seq:Tl,users:El})}),bb.apply(void 0,[_t.genTimeoutError(NI)].concat(ra(_l.map(function(Il){return Il.fromReceived("SubscribeResponse").pipe(La(function(Al){return Tl.eq(Al.seq)}))}))))}},{key:"requestUnsubscribePeersOnlineStatus",value:function(El){var _l=this.getLoginSockets();if(_l.length===0)throw new ia("Client is not logged in");var Tl=this.incGetSeq();_l.forEach(function(Il){Il.sendPacket("UnsubscribeUserStatus",{seq:Tl,users:El})})}},{key:"sendInvitationMessage",value:function(){var El=za(W.mark(function _l(Tl){var Il,Al,Rl,Fl,Bl,Gl,Ql,_f,_h,vp,up,_d,Ep=this;return W.wrap(function(Op){for(;;)switch(Op.prev=Op.next){case 0:if(Il=Tl.peerId,Al=Tl.callId,Rl=Tl.extra,Fl=Tl.isAcceptAck,Bl=Tl.channelId,Gl=Tl.type,Ql={callId:Al},Fl===void 0){Op.next=6;break}if(Gl==="CallAccept"){Op.next=5;break}throw Error("invalid invitation type");case 5:Ql.type=Fl?"ack":"request";case 6:return Ql.channel=Bl,(Gl==="CallInvite"||Gl==="CallCancel"||Gl==="CallReject"||Gl==="CallAccept"&&Fl===!1)&&Rl!==void 0&&(Ql.extra=Rl),_f=Rj(),this.log("The sent invitation body is %o",Ql),_h=function(Ip){return{MiscMap:{},sequence:D.fromNumber(1),dialogue:_f,instance:Ep.instanceId,dst:Il,ms:D.fromNumber(Date.now(),!0),options:new Yh({IterationNumber:Ip,MessageType:Gl}).toLong(),payload:new TextEncoder().encode(JSON.stringify(Ql)),src:Ep.context.uid}},Op.next=14,ge(this.sendMessageToRetry(_h,!0)).pipe(Oc(1e4),Rb(function(Ip){return Ip instanceof ad&&Ep.warn("Send invitation timeout"),Va(Ip)})).toPromise();case 14:return vp=Op.sent,up=vp.code,_d=vp.retryTimes,Op.abrupt("return",{hasPeerReceived:up===0,hasReSent:_d!==0});case 18:case"end":return Op.stop()}},_l,this)}));return function(_l){return El.apply(this,arguments)}}()},{key:"sendRawMessage",value:function(){var El=za(W.mark(function _l(Tl,Il,Al,Rl,Fl){var Bl,Gl,Ql,_f,_h,vp,up,_d,Ep,Op,Ip,Pp=this;return W.wrap(function(xp){for(;;)switch(xp.prev=xp.next){case 0:if(Bl=Date.now(),Gl=Rl?vb.P2pRMsgNoOfflineFlag:vb.ChannelRMsg,yb(Al)&&Tl instanceof Uint8Array&&typeof Il=="string"){xp.next=4;break}throw new ja("The send message arguments are not valid",Rl?Kw:Zk);case 4:if(!(32768<Tl.byteLength+new Blob([Il]).size)){xp.next=8;break}throw this.emit("messageCount",{messageCategory:Gl,type:"common",key:"sentcount"}),this.emit("messageCount",{messageCategory:Gl,type:"common",key:"invalidmessagecount"}),new Dc("The message size is over the 32KB limit",Rl?si:fp);case 8:return Ql=!wg.getParameter("DISABLE_MESSAGE_COMPRESSION")&&128<=Tl.byteLength,_f=this.chatManager.getChatInfo(Al),_h=_f.dialogue,vp=_f.sequence,up=this.instanceId,this.log('A%s %s raw message is sending to %s: "'.concat(up,"-").concat(_h,"#").concat(vp,'"'),Ql?" compressed":"",Rl?"peer":"channel",wb(Al)),_d=function(Np){return{MiscMap:{description:new TextEncoder().encode(Il)},sequence:vp,dialogue:_h,instance:up,dst:Al,ms:D.fromNumber(Date.now(),!0),options:new Yh({IterationNumber:Np,CompressionMethod:Ql?"Zlib":"Uncompressed",MessageType:Rl?"PeerRawMessage":"ChannelRawMessage",ToCache:!1,ToArchive:!1}).toLong(),payload:Ql?DA(Tl):Tl,src:Pp.context.uid}},xp.next=15,ge(this.sendMessageToRetry(_d,!0)).pipe(Oc(Fl===void 0?1e4:Fl),Rb(function(Np){return Np instanceof ad&&Pp.warn("Send message timeout"),Va(Np)})).toPromise();case 15:return Ep=xp.sent,Op=Ep.code,Ip=Op===0,this.emit("messageCount",{messageCategory:Gl,type:"common",key:"sentcount"}),Ip&&(this.emit("messageCount",{messageCategory:Gl,type:"common",key:"successcount"}),this.emit("messageCount",{messageCategory:Gl,type:Rl?"peer":"recipient",delay:Nb(Bl).toNumber()})),xp.abrupt("return",{hasPeerReceived:Ip});case 21:case"end":return xp.stop()}},_l,this)}));return function(_l,Tl,Il,Al,Rl){return El.apply(this,arguments)}}()},{key:"sendTextMessage",value:function(){var El=za(W.mark(function _l(Tl,Il,Al,Rl){var Fl,Bl,Gl,Ql,_f,_h,vp,up,_d,Ep,Op,Ip,Pp=this;return W.wrap(function(xp){for(;;)switch(xp.prev=xp.next){case 0:if(Fl=Date.now(),Bl=Al?vb.P2pSMsgNoOfflineFlag:vb.ChannelSMsg,yb(Il)){xp.next=4;break}throw new ja("The send message arguments are not valid",Al?Kw:Zk);case 4:if(!(32768<new Blob([Tl]).size)){xp.next=8;break}throw this.emit("messageCount",{messageCategory:Bl,type:"common",key:"sentcount"}),this.emit("messageCount",{messageCategory:Bl,type:"common",key:"invalidmessagecount"}),new Dc("The message size is over the 32KB limit",Al?si:fp);case 8:return Gl=!wg.getParameter("DISABLE_MESSAGE_COMPRESSION")&&128<=new Blob([Tl]).size,Ql=this.chatManager.getChatInfo(Il),_f=Ql.dialogue,_h=Ql.sequence,vp=this.instanceId,this.log('A%s %s message is sending to %s: "'.concat(vp,"-").concat(_f,"#").concat(_h,'"'),Gl?" compressed":"",Al?"peer":"channel",wb(Il)),up=new TextEncoder().encode(Tl),_d=function(Np){return{MiscMap:{},sequence:_h,dialogue:_f,instance:vp,dst:Il,ms:D.fromNumber(Date.now(),!0),options:new Yh({IterationNumber:Np,CompressionMethod:Gl?"Zlib":"Uncompressed",MessageType:Al?"PeerTextMessage":"ChannelTextMessage",ToCache:!1,ToArchive:!1}).toLong(),payload:Gl?DA(up):up,src:Pp.context.uid}},xp.next=16,ge(this.sendMessageToRetry(_d,!0)).pipe(Oc(Rl===void 0?1e4:Rl),Rb(function(Np){return Np instanceof ad&&(Pp.emit("messageCount",{messageCategory:Bl,type:"common",key:"sentcount"}),Pp.emit("messageCount",{messageCategory:Bl,type:"common",key:"timeoutcount"}),Pp.warn("Send message timeout")),Va(Np)})).toPromise();case 16:return Ep=xp.sent,Op=Ep.code,Ip=Op===0,this.emit("messageCount",{messageCategory:Bl,type:"common",key:"sentcount"}),Ip&&(this.emit("messageCount",{messageCategory:Bl,type:"common",key:"successcount"}),this.emit("messageCount",{messageCategory:Bl,type:Al?"peer":"recipient",delay:Nb(Fl).toNumber()})),xp.abrupt("return",{hasPeerReceived:Ip});case 22:case"end":return xp.stop()}},_l,this)}));return function(_l,Tl,Il,Al){return El.apply(this,arguments)}}()},{key:"cleanLoginSubs",value:function(El,_l){Object.entries(this.loginSocketSubs[El]).forEach(function(Tl){var Il=(Tl=Lb(Tl,2))[1];Tl[0]==="channels"&&_l||(Array.isArray(Il)||Il instanceof Map?Il.forEach(function(Al){return Al.unsubscribe()}):Il&&Il.unsubscribe())}),this.loginSocketSubs[El]={channels:_l?this.loginSocketSubs[El].channels:new Map,receivers:[]}}},{key:"sendMessageToRetry",value:function(){var El=za(W.mark(function _l(Tl,Il){var Al,Rl,Fl,Bl,Gl,Ql,_f,_h,vp,up=this,_d=arguments;return W.wrap(function(Ep){for(;;)switch(Ep.prev=Ep.next){case 0:if(Al=2<_d.length&&_d[2]!==void 0?_d[2]:0,this.log("Attempt to send the message ".concat(Il?" with retrying, %o":"without retrying"),{retryTimes:Al}),(Rl=this.getLoginSockets()).length!==0){Ep.next=5;break}throw Error("no logged-in sockets");case 5:return Fl=Tl(Al),Rl.forEach(function(Op){Op.sendPacket("Message",Fl)}),Bl=Fl.dialogue,Gl=Fl.sequence,Ql=Fl.instance,_f=Rl.map(function(Op){return Op.fromReceived("Ack").pipe(sc(function(Ip){return Bl.eq(Ip.dialogue)&&Gl.eq(Ip.sequence)&&Ql.eq(Ip.instance)}))}),Ep.prev=9,Ep.next=12,Nc.apply(void 0,ra(_f)).pipe(Oc(6e3),Rb(function(Op){return uc(Op)&&up.warn("Message send timeout, retry times %d",Al),Va(Op)}),Xb(1)).toPromise();case 12:return _h=Ep.sent,vp=_h.code,this.log("The message has been acked, %o",{code:vp}),Ep.abrupt("return",{code:vp,retryTimes:Al});case 18:if(Ep.prev=18,Ep.t0=Ep.catch(9),!(Ep.t0 instanceof ad&&Il)){Ep.next=22;break}return Ep.abrupt("return",this.sendMessageToRetry(Tl,!1,Al+1));case 22:throw Ep.t0;case 23:case"end":return Ep.stop()}},_l,this,[[9,18]])}));return function(_l,Tl){return El.apply(this,arguments)}}()},{key:"initKeepAliveSender",value:function(){var El=this;this.lastLoginSockets.map(function(_l){return _l.pipe(Cc(function(Tl){return Fe(0,2500,Kg()?void 0:CP).pipe(Ka(function(){El.sendPing(Tl)}))}))}).forEach(function(_l,Tl){var Il=El.loginSocketSubs[Tl].keepAlive;Il!==void 0&&Il.unsubscribe(),El.loginSocketSubs[Tl].keepAlive=_l.subscribe({error:function(){}})})}},{key:"initKeepAliveReconnector",value:function(){var El=this;this.lastLoginSockets.map(function(_l){return _l.pipe(Cc(function(Tl){var Il,Al=!1,Rl=Tl.userJoin$.pipe(Ka(function(){Al=!0})),Fl=Tl.input$.pipe(Ka(function(Bl){Tm[Bl.uri].slice(0,-3)!=="Ping"&&(Al=!1)}));return Nc(Fe(6e3,1e4).pipe(iC(Tl.receivedPacket),Ka(function(Bl){Bl=Lb(Bl,2),Bl=Lb(Bl[1],2)[1],Il!==Bl||Al||Tl.forceReconnect(),Il=Bl})),Rl,Fl)}))}).forEach(function(_l,Tl){var Il=El.loginSocketSubs[Tl].keepAliveReconnector;Il!==void 0&&Il.unsubscribe(),El.loginSocketSubs[Tl].keepAliveReconnector=_l.subscribe({error:function(){}})})}},{key:"initLoginReceiver",value:function(){var El=this;bb.apply(void 0,ra(this.lastLoginSockets.map(function(Il){return Il.pipe(Cc(function(Al){return Al.fromReceived("UserTicketNearlyExpire").pipe(cC(5e3),Ka(El.onUserTicketNearlyExpire(Al)))}))}))).subscribe(),bb.apply(void 0,ra(this.lastLoginSockets.map(function(Il){return Il.pipe(Cc(function(Al){return Al.fromReceived("StateUpdate").pipe(Ka(El.onStateUpdate()))}))}))).subscribe();var _l=Bc(this,"messageCount"),Tl=_l.pipe(sc(function(Il){return Il.messageCategory===vb.ChannelSMsg}));Tl.subscribe(function(Il){return El.updateMessageCount(Il)}),Tl.pipe(Kj(6e3)).subscribe(function(Il){Il.length&&El.chanelStringMessageReport.report()}),Nc(Wb(void 0),Tl).pipe(Cc(function(){return Yg(36e5)})).subscribe(function(){El.chanelStringMessageReport.report()}),(Tl=_l.pipe(sc(function(Il){return Il.messageCategory===vb.ChannelRMsg}))).subscribe(function(Il){return El.updateMessageCount(Il)}),Tl.pipe(Kj(6e3)).subscribe(function(Il){Il.length&&El.chanelRawMessageReport.report()}),Nc(Wb(void 0),Tl).pipe(Cc(function(){return Yg(36e5)})).subscribe(function(){El.chanelRawMessageReport.report()}),(Tl=_l.pipe(sc(function(Il){return Il.messageCategory===vb.P2pSMsgNoOfflineFlag}))).subscribe(function(Il){return El.updateMessageCount(Il)}),Tl.pipe(Kj(6e3)).subscribe(function(Il){Il.length&&El.p2pSMsgNoOfflineReport.report()}),Nc(Wb(void 0),Tl).pipe(Cc(function(){return Yg(36e5)})).subscribe(function(){El.p2pSMsgNoOfflineReport.report()}),(_l=_l.pipe(sc(function(Il){return Il.messageCategory===vb.P2pRMsgNoOfflineFlag}))).subscribe(function(Il){return El.updateMessageCount(Il)}),_l.pipe(Kj(6e3)).subscribe(function(Il){Il.length&&El.p2pRMsgNoOfflineReport.report()}),Nc(Wb(void 0),_l).pipe(Cc(function(){return Yg(36e5)})).subscribe(function(){El.p2pSMsgNoOfflineReport.report()}),this.lastLoginSockets.map(function(Il){return Il.pipe(Cc(function(Al){return Nc(Bc(Al,"reconnect").pipe(Ka(El.onSocketReconnect(Al))),Al.fromReceived("Message").pipe(Ka(El.onMessage(Al))),Al.fromReceived("GroupEnterNotice").pipe(Ka(El.onGroupEnterNotice())),Al.fromReceived("GroupLeaveNotice").pipe(Ka(El.onGroupLeaveNotice())),Al.fromReceived("GroupCountNotice").pipe(Ka(El.onGroupCountNotice())),Al.fromReceived("GroupAttributeAlt").pipe(Ka(El.onGroupAttributeAlt())),Al.fromReceived("UserJoinNotice").pipe(Ka(El.onUserNotice(Oa.PeerOnlineState.ONLINE))),Al.fromReceived("UserQuitNotice").pipe(Ka(El.onUserNotice(Oa.PeerOnlineState.OFFLINE))),Al.fromReceived("UserWaitNotice").pipe(Ka(El.onUserNotice(Oa.PeerOnlineState.UNREACHABLE))),Al.fromReceived("Pong").pipe(Ka(El.onPong())),Al.fromReceived("UserDrop").pipe(Ka(El.onUserDrop(Al))),Al.fromReceived("GroupDrop").pipe(Ka(El.onGroupDrop()))).pipe(ni(void 0))}))}).forEach(function(Il,Al){El.loginSocketSubs[Al].receivers.push(Il.subscribe({error:function(){}}))})}},{key:"requestSocketLogin",value:function(El,_l,Tl){var Il=this;return Pr(lf(function(){Il.userJoinOptions=new Pz(_l),El.sendPacket("UserJoin",{account:Il.context.uid,instance:Il.instanceId,opt:Il.userJoinOptions.toLong(),seq:Tl,ticket:El.ticket})}),El.fromReceived("UserResp").pipe(La(function(Al){return Tl.eq(Al.seq)}),Ka(function(Al){if((Al=Al.code)!==0)throw Il.clearSockets(),Il.logError("Connected to gateway success but the Rtm server rejected login"),new Pa(["Login failure. The response code from the RTM service is %d",Al],ij);El.attemptsSinceLastError=0,El.loggedIn=!0,Il.log("ENV_%d logged in",El.env)}),ni(El),Oc(6e3))).pipe(sc(function(Al){return Al!==void 0}),Rb(function(Al){Al instanceof ad&&Il.warn("Login response timeout, rejoin: %s",_l);var Rl=Il.getLoginSockets();if(0<Rl.length){var Fl=Rl.map(function(Bl){return Bl.env});[0,1].filter(function(Bl){return!Fl.includes(Bl)}).forEach(function(Bl){Il.cleanLoginSubs(Bl,!1),Il.connection.closeSocket(Bl,0)})}return Al.name="loginRespTimeout",Il.emit("banEdgeIP",El.ip),Va(Al)}))}},{key:"getSocketLoginObservables",value:function(El,_l){var Tl=this;return El.map(function(Il){return Il.pipe(Cc(function(Al,Rl){return Tl.incSeqIfNeeded(Al.env),Tl.requestSocketLogin(Al,Rl!==0,Rl===0?_l:Tl.seq)}),$g())})}},{key:"incSeqIfNeeded",value:function(El){if(![0,1].includes(El))throw new rb({INVALID_ENV:"The env argument is not 0 or 1"});this.seqSentStatuses[El]&&(this.seq=this.seq.add(1),this.seqSentStatuses=[!1,!1]),this.seqSentStatuses[El]=!0}},{key:"incGetSeq",value:function(){return this.seq=this.seq.add(1),this.seqSentStatuses=[!0,!0],this.seq}},{key:"getLoginSockets",value:function(){for(var El=this.curLoginSockets,_l=-1,Tl=El==null?0:El.length,Il=0,Al=[];++_l<Tl;){var Rl=El[_l];Rl&&(Al[Il++]=Rl)}return Al}},{key:"emitMessage",value:function(El,_l){var Tl,Il=El.options,Al=El.payload,Rl=El.src,Fl=El.dst,Bl=El.instance,Gl=El.dialogue,Ql=El.sequence,_f=El.ms,_h=El.MiscMap;this.dialogueSequenceLru.set(Gl.toString(),Ql),Bl="".concat(Bl,"-").concat(Gl,"#").concat(Ql),this.msgDedupLru.has(Bl)?this.warn("Env_%d: Messages out-of-order or not start with 1: %s",_l,Bl):(this.msgDedupLru.set(Bl,void 0),Il=new Yh(Il),this.lastLoginSockets.forEach((Tl=za(W.mark(function vp(up){var _d;return W.wrap(function(Ep){for(;;)switch(Ep.prev=Ep.next){case 0:return Ep.next=2,up.pipe(Xb(1)).toPromise();case 2:_d=Ep.sent,_t.sendMessageAck(El,_d);case 4:case"end":return Ep.stop()}},vp)})),function(vp){return Tl.apply(this,arguments)})),_l=Il.isZlibCompressed(),Il.isInvitation()?(Fl=ti(_l?Oq(zs(Al,Uint8Array.of(0,0,0,0))):Al),Fl=JSON.parse(Fl),this.log("The received invitation body is %o",Fl),this.emit("invitationMessage",{body:Fl,type:Il.getInvitationType(),peerId:Rl,serverReceivedTs:_f.toNumber()})):Il.isTextMessage()?(_h=Il.isPeerTextMessage(),Al=ti(_l?Oq(zs(Al,Uint8Array.of(0,0,0,0))):Al),this.info("Received a %s %s text message from %s to %s, %s",_l?" compressed":"",_h?"peer":"channel",wb(Rl),wb(Fl),Bl),_h?(Rl={text:Al,peerId:Rl,properties:{serverReceivedTs:_f.toNumber()}},this.emit("peerTextMessage",Rl),this.emit("messageCount",{messageCategory:vb.P2pSMsgNoOfflineFlag,type:"common",key:"receivedcount"})):(this.emit("channelTextMessage",{channelId:Fl,memberId:Rl,text:Al,properties:{serverReceivedTs:_f.toNumber()}}),this.emit("messageCount",{messageCategory:vb.ChannelSMsg,type:"common",key:"receivedcount"}))):Il.isRawMessage()&&(Il=Il.isRawPeerMessage(),_h=(_h=_h.description)===void 0?"":ti(_h),Al=_l?Oq(Al):Al,this.info("Received a %s %s raw message from %s to %s, %s",_l?" compressed":"",Il?"peer":"channel",wb(Rl),wb(Fl),Bl),Il?(Rl={desc:_h,raw:Al,peerId:Rl,properties:{serverReceivedTs:_f.toNumber()}},this.emit("peerRawMessage",Rl),this.emit("messageCount",{messageCategory:vb.P2pRMsgNoOfflineFlag,type:"common",key:"receivedcount"})):(this.emit("channelRawMessage",{desc:_h,raw:Al,channelId:Fl,memberId:Rl,properties:{serverReceivedTs:_f.toNumber()}}),this.emit("messageCount",{messageCategory:vb.ChannelRMsg,type:"common",key:"receivedcount"}))))}},{key:"onSocketReconnect",value:function(El){var _l=this;return function(){var Tl=[0,1].filter(function(Il){return Il!==El.env})[0];(Tl=_l.connection.curOpenSockets[Tl])&&!Tl.loggedIn&&_l.emit("connectionLost")}}},{key:"onUserTicketNearlyExpire",value:function(El){var _l=this;return function(Tl){(Tl=Tl.ticket)!==_l.lastNoticeTicket&&Tl===El.ticket?(_l.lastNoticeTicket=Tl,_l.emit("tokenPrivilegeWillExpire")):_l.requestUpdateEdgeTicket(El.ticket).toPromise()}}},{key:"onGroupDrop",value:function(){var El=this;return function(_l){var Tl,Il=_l.account;$a("ChnLeave",{cname:Il,lts:D.fromNumber(Date.now()),elapse:Nb(El.startTime),errCode:EI,sid:fc(El.instanceId),userId:El.context.uid},(Tl=El.context.config.enableCloudProxy)!==null&&Tl!==void 0&&Tl),[0,1].forEach(function(Al){return El.loginSocketSubs[Al].channels.delete(Il)}),El.logError("the user is kicked out of the current channel")}}},{key:"onStateUpdate",value:function(){var El=this;return function(_l){var Tl=_l.flags,Il=_l.target;_l=Wm(_l.allStates),Tl.and(new D(1,0,!0)).isZero()?El.lastUserMeteUpdateRecord[Il]!==void 0&&_l.majorRevision>El.lastUserMeteUpdateRecord[Il]&&(El.emit("userMetaDataUpdated",{uid:Il,data:Tl.and(new D(0,2,!0)).isZero()?_l:tb(tb({},_l),{},{majorRevision:0})}),El.lastUserMeteUpdateRecord[Il]=_l.majorRevision):El.lastChannelMetaUpdateRecord[Il]!==void 0&&_l.majorRevision>El.lastChannelMetaUpdateRecord[Il]&&(El.emit("channelMetaDataUpdated",{channelId:Il,data:Tl.and(new D(0,2,!0)).isZero()?_l:tb(tb({},_l),{},{majorRevision:0})}),El.lastChannelMetaUpdateRecord[Il]=_l.majorRevision)}}},{key:"onUserDrop",value:function(El){var _l=this;return function(Tl){var Il;Tl=Tl.code,$a("KickedOff",{code:0,elapse:Nb(_l.startTime),linkId:parseInt(El.name.split("-")[1],10),lts:D.fromNumber(Date.now()),server:El.address,serverCode:Tl,sid:fc(_l.instanceId),userId:_l.context.uid},(Il=_l.context.config.enableCloudProxy)!==null&&Il!==void 0&&Il),Tl===10006||Tl===10001?_l.warn("Login too often and kicked off, reconnect and login"):Tl===10009?(_l.warn("The instance ID conflicts, reconnecting"),_l.instanceId=Rj(),_l.context.sid=fc(_l.instanceId),_l.emit("instanceChanged",_l.instanceId)):[2,11,14,15,16,10019].includes(Tl)&&(_l.emit("userDrop",Tl),_l.clearSockets())}}},{key:"clearSockets",value:function(){var El=this,_l=0<arguments.length&&arguments[0]!==void 0?arguments[0]:0,Tl=1<arguments.length&&arguments[1]!==void 0&&arguments[1];[0,1].forEach(function(Il){El.cleanLoginSubs(Il,Tl),El.connection.closeSocket(Il,_l)})}},{key:"onMessage",value:function(El){var _l=this;return function(Tl){var Il=Tl.dialogue,Al=Tl.instance,Rl=Tl.sequence,Fl=Tl.options;if(Tl.src===_l.context.uid)_l.log("The message is from the local account, ignored");else{var Bl=Il.toString(),Gl=_l.dialPendingMsgSubjectMap.get(Bl);if(Il="".concat(Al,"-").concat(Il,"#").concat(Rl),Gl)Gl.next(Tl),_l.log("Env_%d: The dialogue has pending messages, next: %s",El.env,Il);else{var Ql=_l.dialogueSequenceLru.get(Bl);if(Gl=!Ql&&Rl.eq(1),Al=Ql!==void 0&&Rl.sub(Ql).eq(1),Gl||Al)_l.emitMessage(Tl,El.env);else{if(Ql){if(Rl.lte(Ql))return;_l.log("Env_%d: The message pended, the sequence is not continuous with the last: %s",El.env,Il)}else _l.log("Env_%d: The message pended, the first sequence is not equal to 1: %s",El.env,Il);Rl=new ec,_l.dialPendingMsgSubjectMap.set(Bl,Rl);var _f=Rl.pipe(kB(Xo),Nj(function(_h,vp){return[].concat(ra(_h),[vp])},[]),Wa(function(_h){return ra(_h).sort(function(vp,up){return vp=vp.sequence,up=up.sequence,vp.eq(up)?0:vp.gt(up)?1:-1})}),Yr(1));Fl=!(Fl=new Yh(Fl)).isFromCache()&&!Fl.isBufferedMessage(),_f.pipe(he(Fe(Fl?750:1500)),La(function(_h){if(2>_h.length)return!1;for(var vp=Ql===void 0?D.fromNumber(1,!0):Ql.add(1),up=0;up<_h.length;vp=vp.add(1),up++)if(!_h[up].sequence.eq(vp))return!1;return!0}),Mj(function(){_l.dialPendingMsgSubjectMap.delete(Bl)})).subscribe(function(_h){_h.forEach(function(vp){_l.emitMessage(vp,El.env),_l.log("Env_%d: The message queue has fully ordered, emitting: %s",El.env,"".concat(vp.instance,"-").concat(vp.dialogue,"#").concat(vp.sequence))})},function(_h){_h instanceof Lj&&_f.pipe(Xb(1)).subscribe(function(vp){return vp.forEach(function(up){_l.log("Env_%d: The message pending queue expired, emitting: %s",El.env,"".concat(up.instance,"-").concat(up.dialogue,"#").concat(up.sequence)),_l.emitMessage(up,El.env)})})}),Rl.next(Tl)}}}}}},{key:"onPong",value:function(){var El=this;return function(){document.hidden&&El.getLoginSockets().forEach(function(_l){El.sendPing(_l)})}}},{key:"onGroupEnterNotice",value:function(){var El=this;return function(_l){El.emit("memberNotice",{channelId:_l.group,seq:_l.seq,instance:_l.instance,memberId:_l.user,type:"MemberJoined",size:_l.size})}}},{key:"onGroupLeaveNotice",value:function(){var El=this;return function(_l){El.emit("memberNotice",{channelId:_l.group,seq:_l.seq,instance:_l.instance,memberId:_l.user,type:"MemberLeft",size:_l.size})}}},{key:"onGroupCountNotice",value:function(){var El=this;return function(_l){El.emit("memberNotice",{channelId:_l.group,seq:_l.seq,instance:_l.instance,type:"MemberCountUpdated",size:_l.size})}}},{key:"onGroupAttributeAlt",value:function(){var El=this;return function(_l){var Tl=_l.group;_l=em(_l,DP),El.emit("channelAttributesUpdated",tb({channelId:Tl},_l))}}},{key:"onUserNotice",value:function(El){var _l=this;return function(Tl){_l.emit("peerOnlineStatusChanged",{peerId:Tl.user,instance:Tl.instance,seq:Tl.seq,state:El})}}},{key:"sendPing",value:function(El){2500>=Date.now()-this.lastPingTime[El.env]||(this.incSeqIfNeeded(El.env),El.sendPacket("Ping",{ms:D.fromNumber(Date.now(),!0),seq:this.seq}),this.lastPingTime[El.env]=Date.now())}},{key:"updateMessageCount",value:function(El){var _l,Tl=(_l={},E(_l,vb.ChannelRMsg,this.chanelRawMessageReport),E(_l,vb.ChannelSMsg,this.chanelStringMessageReport),E(_l,vb.P2pRMsgNoOfflineFlag,this.p2pRMsgNoOfflineReport),E(_l,vb.P2pSMsgNoOfflineFlag,this.p2pSMsgNoOfflineReport),E(_l,3,void 0),E(_l,4,void 0),E(_l,7,void 0),E(_l,8,void 0),E(_l,9,void 0),E(_l,10,void 0),_l)[El.messageCategory];El.type==="common"?Tl==null||Tl.updateCommonCount(El.key):El.type==="peer"?Tl==null||Tl.updatePeerAckCount(El.delay):Tl==null||Tl.updateNorecipientackCount(El.delay)}}],[{key:"sendMessageAck",value:function(El,_l){var Tl=new Yh(El.options);(Tl.isInvitation()||Tl.isPeerMessage())&&_l.sendPacket("Ack",{code:0,dialogue:El.dialogue,instance:El.instance,sequence:El.sequence})}}]),_t}(Dd());E(Pq,"genTimeoutErrorWithoutNotice",function(_r,_t,_o){return Wb(void 0).pipe(mf(_t===void 0?1e4:_t),Wa(function(){if(_o!=="JOIN")throw new Pc(["Request timed out after %ds",(_t===void 0?1e4:_t)/1e3],_r)}))}),E(Pq,"genTimeoutError",function(_r,_t){return Wb(void 0).pipe(mf(_t===void 0?1e4:_t),Wa(function(){throw new Pc(["Request timed out after %ds",(_t===void 0?1e4:_t)/1e3],_r)}))});var EA,Qq,Rq=0,Sq=0;gj.v1=function(_r,_t,_o){_o=_t&&_o||0;var yl=_t||[],El=(_r=_r||{}).node||EA,_l=_r.clockseq!==void 0?_r.clockseq:Qq;if(El==null||_l==null){var Tl=ow();El==null&&(El=EA=[1|Tl[0],Tl[1],Tl[2],Tl[3],Tl[4],Tl[5]]),_l==null&&(_l=Qq=16383&(Tl[6]<<8|Tl[7]))}Tl=_r.msecs!==void 0?_r.msecs:new Date().getTime();var Il=_r.nsecs!==void 0?_r.nsecs:Sq+1,Al=Tl-Rq+(Il-Sq)/1e4;if(0>Al&&_r.clockseq===void 0&&(_l=_l+1&16383),(0>Al||Tl>Rq)&&_r.nsecs===void 0&&(Il=0),1e4<=Il)throw Error("uuid.v1(): Can't create more than 10M uuids/sec");for(Rq=Tl,Sq=Il,Qq=_l,_r=(1e4*(268435455&(Tl+=122192928e5))+Il)%4294967296,yl[_o++]=_r>>>24&255,yl[_o++]=_r>>>16&255,yl[_o++]=_r>>>8&255,yl[_o++]=255&_r,_r=Tl/4294967296*1e4&268435455,yl[_o++]=_r>>>8&255,yl[_o++]=255&_r,yl[_o++]=_r>>>24&15|16,yl[_o++]=_r>>>16&255,yl[_o++]=_l>>>8|128,yl[_o++]=255&_l,_l=0;6>_l;++_l)yl[_o+_l]=El[_l];return _t||pw(yl)},gj.v4=gj;var Tq=il(),Sf,ai=Oa.LocalInvitationFailureReason,Fb=Oa.LocalInvitationState,EP=(Sf=function(_r){function _t(yl,El,_l){ab(this,_t);var Tl=_o.call(this,_l,"RtmLocalInvitation",!0);return E(L(Tl),"state",Fb.IDLE),E(L(Tl),"localInvitationEnd$",bb(Bc(L(Tl),"LocalInvitationAccepted"),Bc(L(Tl),"LocalInvitationRefused"),Bc(L(Tl),"LocalInvitationFailure"),Bc(L(Tl),"LocalInvitationCanceled")).pipe(Xb(1))),E(L(Tl),"callId",gj.v4()),E(L(Tl),"_content",""),E(L(Tl),"_channelId",""),E(L(Tl),"_response",""),E(L(Tl),"calleeId",void 0),E(L(Tl),"logger",void 0),E(L(Tl),"getSession",void 0),Tl.calleeId=yl,Tl.getSession=El,Tl.logger=_l,Tl}nb(_t,_r);var _o=ob(_t);return Qb(_t,[{key:"channelId",get:function(){return this._channelId},set:function(yl){this.state!==Fb.IDLE?this.info("set channelId only allow before invitation sent to remote"):(this.log("set channelId for %s",this.callId),this._channelId=yl)}},{key:"content",get:function(){return this._content},set:function(yl){this.log("set content for %s",this.callId),this._content=yl}},{key:"response",get:function(){return this._response},set:function(yl){throw new ja('Cannot set the "response" of the LocalInvitation instance.',ve)}},{key:"send",value:function(){var yl,El=this;if(this.state===Fb.SENT_TO_REMOTE||this.state===Fb.RECEIVED_BY_REMOTE)throw new ia("The local invitation send failure. The call invitation has already been sent.",AI);if(this.isLocalInvitationEnd())throw new ia("The local invitation send failure. The call invitation has ended.",$k);if(0<this._channelId.length&&!yb(this._channelId))throw new ja("Illegal invitation channel ID",ve);if(!yb(this.calleeId))throw new ja("Illegal invitation callee user ID",ve);if(8192<Wj(this._content))throw new ja('The length of the "content" overflows. The number of bytes representing content must not exceed 8 × 1024 if encoded in UTF-8.',ve);this.state=Fb.SENT_TO_REMOTE,lf(za(W.mark(function _l(){var Tl,Il,Al;return W.wrap(function(Rl){for(;;)switch(Rl.prev=Rl.next){case 0:return Rl.next=2,El.getSession().sendInvitationMessage({peerId:El.calleeId,callId:El.callId,extra:El._content,type:"CallInvite",channelId:El._channelId});case 2:if(Tl=Rl.sent,Il=Tl.hasPeerReceived,Al=Tl.hasReSent,!El.isLocalInvitationEnd()){Rl.next=7;break}throw new Pc("send invitation timeout");case 7:if(El.log("The local invitation has sent to the callee"),Il||Al){Rl.next=11;break}throw yl=new Tq({PEER_NOT_ONLINE:"The peer of the invitation is not online"});case 11:if(Il){Rl.next=14;break}throw yl=new Tq({RESENT_AND_OFFLINE:"Resent and the peer of the invitation is not online"});case 14:case"end":return Rl.stop()}},_l)}))).pipe(Zg(function(_l){return _l.pipe(Ka(function(Tl){if(!(Tl instanceof Tq))throw Tl}),mf(2e3))}),Oc(3e4),Rb(function(_l){return uc(_l)&&El.warn("local invitation ack timed out"),Va(_l)}),he(this.localInvitationEnd$)).subscribe({next:function(){El.state===Fb.RECEIVED_BY_REMOTE?El.log('The local invitation state is already "RECEIVED_BY_REMOTE", skipped emitting "LocalInvitationReceivedByPeer"'):El.state!==Fb.SENT_TO_REMOTE?El.log("The invitation has ended, skipped emitting the %s event","LocalInvitationReceivedByPeer"):(El.info("The peer received the local invitation %s.",El.callId),El.state=Fb.RECEIVED_BY_REMOTE,El.emit("LocalInvitationReceivedByPeer"),El.localInvitationEnd$.pipe(Oc(6e4),Rb(function(_l){return uc(_l)&&El.warn("local invitation expired"),Va(_l)})).subscribe({error:function(){El.state=Fb.FAILURE,El.emit("LocalInvitationFailure",ai.INVITATION_EXPIRE)}}))},error:function(_l){El.isLocalInvitationEnd()?El.log("The invitation has ended, skipped emitting the %s event","LocalInvitationFailure"):(El.state=Fb.FAILURE,uc(_l)&&yl?yl.code==="PEER_NOT_ONLINE"?El.emit("LocalInvitationFailure",ai.PEER_OFFLINE):yl.code==="RESENT_AND_OFFLINE"&&El.emit("LocalInvitationFailure",ai.PEER_NO_RESPONSE):uc(_l)?El.emit("LocalInvitationFailure",ai.PEER_NO_RESPONSE):_l.name==="RtmInvalidStatusError"?El.emit("LocalInvitationFailure",ai.NOT_LOGGEDIN):El.emit("LocalInvitationFailure",ai.UNKNOWN))}})}},{key:"cancel",value:function(){if(this.isLocalInvitationEnd())throw new ia("The local invitation cancel failure",$k);if(this.state===Fb.IDLE)throw new ia("The local invitation has not been sent",zI);if(8192<Wj(this._content))throw new ja('The length of the "content" overflows. The number of bytes representing content must not exceed 8 × 1024 if encoded in UTF-8.',ve);this.getSession().sendInvitationMessage({callId:this.callId,peerId:this.calleeId,type:"CallCancel",channelId:this._channelId,extra:this._content}),this.state=Fb.CANCELED,this.emit("LocalInvitationCanceled")}},{key:"onAcceptReceived",value:function(yl){if(this.isLocalInvitationEnd()&&this.state!==Fb.ACCEPTED_BY_REMOTE)this.log("The invitation has ended, skipped emitting the %s event","LocalInvitationAccepted");else{if(this.state===Fb.IDLE)throw new ia("the local have not sent the invitation, how can remote accept it?");this.getSession().sendInvitationMessage({callId:this.callId,isAcceptAck:!0,type:"CallAccept",peerId:this.calleeId,channelId:this.channelId}),this.state===Fb.ACCEPTED_BY_REMOTE?this.log("already in ACCEPTED_BY_REMOTE state, ignore emit ACCEPTED_BY_REMOTE"):(this.state===Fb.SENT_TO_REMOTE&&(this.log("receive LocalInvitationAccepted before remote response to the invitation"),this.state=Fb.RECEIVED_BY_REMOTE,this.emit("LocalInvitationReceivedByPeer")),this.state=Fb.ACCEPTED_BY_REMOTE,this._response=yl,this.emit("LocalInvitationAccepted",yl))}}},{key:"onRefuseReceived",value:function(yl){if(this.isLocalInvitationEnd())this.log("The invitation has ended, skipped emitting the %s event","LocalInvitationRefused");else{if(this.state===Fb.IDLE)throw new ia("the local have not sent the invitation, how can remote refuse it?");this.state===Fb.SENT_TO_REMOTE&&(this.log("receive LocalInvitationRefused before remote response to the invitation"),this.state=Fb.RECEIVED_BY_REMOTE,this.emit("LocalInvitationReceivedByPeer")),this._response=yl,this.state=Fb.REFUSED_BY_REMOTE,this.emit("LocalInvitationRefused",yl)}}},{key:"isLocalInvitationEnd",value:function(){return[Fb.CANCELED,Fb.FAILURE,Fb.ACCEPTED_BY_REMOTE,Fb.REFUSED_BY_REMOTE].includes(this.state)}}]),_t}(Dd()),Na(Sf.prototype,"send",[je],Object.getOwnPropertyDescriptor(Sf.prototype,"send"),Sf.prototype),Na(Sf.prototype,"cancel",[je],Object.getOwnPropertyDescriptor(Sf.prototype,"cancel"),Sf.prototype),Sf),cm=Oa.RemoteInvitationFailureReason,Ic=Oa.RemoteInvitationState,FP=function(_r){function _t(yl){var El=yl.invitationChannel,_l=yl.extraContent,Tl=yl.callId,Il=yl.callerId,Al=yl.logger;yl=yl.getSession,ab(this,_t);var Rl=_o.call(this,Al,"RtmRemoteInvitation",!0);return E(L(Rl),"state",Ic.INVITATION_RECEIVED),E(L(Rl),"remoteInvitationEnd$",bb(Bc(L(Rl),"RemoteInvitationCanceled"),Bc(L(Rl),"RemoteInvitationRefused"),Bc(L(Rl),"RemoteInvitationAccepted"),Bc(L(Rl),"RemoteInvitationFailure")).pipe(Xb(1))),E(L(Rl),"callerId",void 0),E(L(Rl),"callId",void 0),E(L(Rl),"_getSession",void 0),E(L(Rl),"logger",void 0),E(L(Rl),"_content",void 0),E(L(Rl),"_channelId",void 0),E(L(Rl),"_response",""),Rl._channelId=El,Rl._content=_l,Rl.callId=Tl,Rl.callerId=Il,Rl._getSession=yl,Rl.logger=Al,Rl.remoteInvitationEnd$.pipe(Oc(6e4),Rb(function(Fl){return uc(Fl)&&Rl.warn("Remote invitation expired"),Va(Fl)})).subscribe({error:function(){Rl.state=Ic.FAILURE,Rl.emit("RemoteInvitationFailure",cm.INVITATION_EXPIRE)}}),Rl}nb(_t,_r);var _o=ob(_t);return Qb(_t,[{key:"channelId",get:function(){return this._channelId},set:function(yl){throw new ja('Cannot set the "response" of the RemoteInvitation instance.',ve)}},{key:"content",get:function(){return this._content},set:function(yl){throw new ja('Cannot set the "content" of the RemoteInvitation instance.',ve)}},{key:"response",get:function(){return this._response},set:function(yl){this._response=yl}},{key:"accept",value:function(){var yl,El=this;if(this.isRemoteInvitationEnd())throw new ia("The local invitation has ended. Cannot accept.",$k);if(this.state===Ic.ACCEPT_SENT_TO_LOCAL)throw new ia("The remote invitation is accepting. Cannot do the operation.",vw);if(8192<Wj(this._response))throw new ja('The length of the "response" overflows. The number of bytes representing content must not exceed 8 × 1024 if encoded in UTF-8.',ve);this.state=Ic.ACCEPT_SENT_TO_LOCAL,Nc(Yg(1e3).pipe(Ac(function(){return lf(za(W.mark(function _l(){return W.wrap(function(Tl){for(;;)switch(Tl.prev=Tl.next){case 0:return Tl.abrupt("return",El._getSession().sendInvitationMessage({peerId:El.callerId,callId:El.callId,extra:El.response,type:"CallAccept",isAcceptAck:!1,channelId:El.channelId}));case 1:case"end":return Tl.stop()}},_l)})))}),sc(function(_l){return yl=_l.hasPeerReceived}),Xb(1)),Bc(this,"RemoteInvitationAccepted")).pipe(Oc(5e3),he(this.remoteInvitationEnd$)).subscribe({error:function(_l){if(El.logError(_l),El.state=Ic.FAILURE,uc(_l))switch(yl){case void 0:case!0:return void El.emit("RemoteInvitationFailure",cm.ACCEPT_FAILURE);case!1:return void El.emit("RemoteInvitationFailure",cm.PEER_OFFLINE)}El.emit("RemoteInvitationFailure",cm.UNKNOWN)}})}},{key:"refuse",value:function(){if(this.state===Ic.ACCEPT_SENT_TO_LOCAL)throw new ia("The remote invitation is accepting. Cannot do the operation.",vw);if(this.isRemoteInvitationEnd())throw new ia("The invitation is end. Cannot refuse",$k);if(8192<Wj(this._response))throw new ja('The length of the "response" overflows. The number of bytes representing content must not exceed 8 × 1024 if encoded in UTF-8.',ve);this._getSession().sendInvitationMessage({peerId:this.callerId,callId:this.callId,extra:this.response,type:"CallReject",channelId:this.channelId}),this.state=Ic.REFUSED,this.emit("RemoteInvitationRefused")}},{key:"onCancelReceived",value:function(yl){this.isRemoteInvitationEnd()?this.log("The invitation has ended, skipped emitting the %s event","RemoteInvitationCanceled"):(this.state===Ic.ACCEPT_SENT_TO_LOCAL&&this.log("caller canceled before receive accept"),this._content=yl,this.state=Ic.CANCELED,this.emit("RemoteInvitationCanceled",yl))}},{key:"onAcceptAckReceived",value:function(){this.state!==Ic.ACCEPT_SENT_TO_LOCAL?this.log("The invitation has ended, skipped emitting the %s event","ori:".concat(this.state,", to: RemoteInvitationAccepted")):(this.state=Ic.ACCEPTED,this.emit("RemoteInvitationAccepted"))}},{key:"isRemoteInvitationEnd",value:function(){return[Ic.ACCEPTED,Ic.REFUSED,Ic.CANCELED,Ic.FAILURE].includes(this.state)}}]),_t}(Dd()),GP=function(_r){function _t(yl,El){ab(this,_t);var _l=_o.call(this,El,"InvitationManager");return E(L(_l),"getSession",void 0),E(L(_l),"invitationDispatcher",new kb.EventEmitter),E(L(_l),"outgoingLocalInvitations",new Map),E(L(_l),"receivedRemoteInvitations",new ue(void 0,{maxlen:1e4})),E(L(_l),"logger",void 0),_l.getSession=Hs(yl),_l.logger=El,_l.invitationDispatcher.on("remoteInvitationToManager",function(Tl){var Il=Tl.callId,Al=Tl.extra,Rl=Tl.callerId;Tl=Tl.channelId,_l.receivedRemoteInvitations.has(Il)||((Al=new FP({callerId:Rl,callId:Il,getSession:_l.getSession,logger:El,extraContent:Al,invitationChannel:Tl})).remoteInvitationEnd$.subscribe(function(){_l.receivedRemoteInvitations.delete(Il)}),_l.receivedRemoteInvitations.set(Il,Al),_l.emit("remoteInvitationInstance",Al))}),_l.invitationDispatcher.on("acceptAckToRemoteInvitation",function(Tl){(Tl=_l.receivedRemoteInvitations.get(Tl.callId))&&Tl.onAcceptAckReceived()}),_l.invitationDispatcher.on("cancelToRemoteInvitation",function(Tl){var Il=Tl.extra;(Tl=_l.receivedRemoteInvitations.get(Tl.callId))&&Tl.onCancelReceived(Il)}),_l.invitationDispatcher.on("acceptToLocalInvitation",function(Tl){var Il=Tl.extra;(Tl=_l.outgoingLocalInvitations.get(Tl.callId))&&Tl.onAcceptReceived(Il)}),_l.invitationDispatcher.on("refuseToLocalInvitation",function(Tl){var Il=Tl.extra;(Tl=_l.outgoingLocalInvitations.get(Tl.callId))&&Tl.onRefuseReceived(Il)}),_l}nb(_t,_r);var _o=ob(_t);return Qb(_t,[{key:"invitationMessageHandler",value:function(yl){var El=yl.body,_l=El.callId,Tl=El.extra;Tl=Tl===void 0?"":Tl;var Il=El.type,Al=(El=El.channel)===void 0?"":El,Rl=yl.type;switch(El=yl.peerId,yl=yl.serverReceivedTs,Rl){case"CallAccept":Il==="ack"?this.invitationDispatcher.emit("acceptAckToRemoteInvitation",{callId:_l}):Il==="request"&&this.invitationDispatcher.emit("acceptToLocalInvitation",{callId:_l,extra:Tl});break;case"CallInvite":this.invitationDispatcher.emit("remoteInvitationToManager",{callId:_l,callerId:El,extra:Tl,channelId:Al});break;case"CallCancel":if(_l==="0"){_l="".concat("AgoraRTMLegacyEndcallCompatibleMessagePrefix","_").concat(Al,"_").concat(Tl),this.getSession().emit("peerTextMessage",{peerId:El,properties:{serverReceivedTs:yl},text:_l});break}this.invitationDispatcher.emit("cancelToRemoteInvitation",{callId:_l,extra:Tl});break;case"CallReject":this.invitationDispatcher.emit("refuseToLocalInvitation",{callId:_l,extra:Tl});break;default:throw ps("invitationType",Rl)}}},{key:"genLocalInvitation",value:function(yl){var El=this,_l=new EP(yl,this.getSession,this.logger);return _l.localInvitationEnd$.subscribe(function(){El.outgoingLocalInvitations.delete(_l.callId)}),this.outgoingLocalInvitations.set(_l.callId,_l),_l}}]),_t}(Dd()),HP=function(_r,_t,_o){var yl=!0,El=!0;if(typeof _r!="function")throw new TypeError("Expected a function");return Kc(_o)&&(yl="leading"in _o?!!_o.leading:yl,El="trailing"in _o?!!_o.trailing:El),LK(_r,_t,{leading:yl,maxWait:_t,trailing:El})},lb,bi;(function(_r){_r[_r.JOINED=0]="JOINED",_r[_r.LEFT=1]="LEFT"})(bi||(bi={}));var Ld=Oa.ConnectionState,IP=(lb=function(_r){function _t(El,_l,Tl,Il){ab(this,_t);var Al=yl.call(this,Il,"RtmChannel",!0);return E(L(Al),"onMemberCountUpdated",HP(function(Rl){Rl!==Al.memberCount&&(Al.memberCount=Rl,Al.emit("MemberCountUpdated",Rl))},1e3)),E(L(Al),"onMetadataUpdated",function(Rl){Al.emit("MetaDataUpdated",Rl)}),E(L(Al),"getSession",void 0),E(L(Al),"memberCount",0),E(L(Al),"joinState","LEFT"),E(L(Al),"joinPromise",void 0),E(L(Al),"memberJoinedLru",new ue(void 0,{maxlen:1e4})),E(L(Al),"memberLeftLru",new ue(void 0,{maxlen:1e4})),E(L(Al),"memberJoinStateLru",new ue(void 0,{maxlen:1e4})),E(L(Al),"attributesSeqLru",new ue(void 0,{maxlen:1e4})),E(L(Al),"channelId",void 0),E(L(Al),"client",void 0),E(L(Al),"onChannelMetaDataUpdated",function(Rl){var Fl=Rl.data;Al.channelId===Rl.channelId&&Al.onMetadataUpdated(Fl)}),E(L(Al),"onChannelMemberCountUpdated",function(Rl,Fl){Al.channelId===Rl&&Al.onMemberCountUpdated(Fl)}),E(L(Al),"onLogout",function(){try{Al.clearChannel(Al.getSession())}catch{}}),E(L(Al),"onAttributesUpdated",function(Rl){var Fl=Rl.channelId,Bl=Rl.attributeMaps,Gl=Rl.seq;Rl=Rl.instance.toString();var Ql=Al.attributesSeqLru.get(Rl);if((!Ql||Gl.greaterThan(Ql))&&(Al.attributesSeqLru.set(Rl,Gl),Fl===Al.channelId)){for(Fl={},Gl=0;Gl<Bl.length;Gl++){var _f=Bl[Gl];Rl=_f.key,Ql=_f.ms;var _h=_f.value;if(_f=_f.origin,typeof Rl!="string"||!D.isLong(Ql)||typeof _h!="string"||!yb(_f))break;Fl[Rl]={value:_h,lastUpdateUserId:_f,lastUpdateTs:Ql.toNumber()}}Al.emit("AttributesUpdated",Fl)}}),E(L(Al),"onChannelTextMessage",function(Rl){var Fl=Rl.memberId,Bl=Rl.text,Gl=Rl.properties;Rl.channelId===Al.channelId&&Al.emit("ChannelMessage",{text:Bl,messageType:Oa.MessageType.TEXT},Fl,Gl)}),E(L(Al),"onChannelRawMessage",function(Rl){var Fl=Rl.desc,Bl=Rl.raw,Gl=Rl.memberId,Ql=Rl.properties;Rl.channelId===Al.channelId&&Al.emit("ChannelMessage",{messageType:Oa.MessageType.RAW,rawMessage:Bl,description:Fl},Gl,Ql)}),E(L(Al),"onMemberNotice",function(Rl){var Fl=Rl.memberId,Bl=Rl.type,Gl=Rl.size;if(Rl.channelId===Al.channelId){var Ql=Rl.instance.toString();Rl=Rl.seq.toString();var _f={MemberLeft:Al.memberLeftLru,MemberJoined:Al.memberJoinedLru,MemberCountUpdated:void 0}[Bl];if(_f){if(_f.has(Ql+Rl))return void Al.log("received duplicated %s notice (seq: %s), channel '%s', member '%s'",Bl,Rl,wb(Al.channelId),wb(Fl||""));if(_f.set(Ql+Rl,void 0),typeof Fl!="string")return;if(Fl!==Al.getSession().context.uid&&((Ql=Al.memberJoinStateLru.get(Fl))===bi.JOINED&&Bl==="MemberJoined"||Ql===bi.LEFT&&Bl==="MemberLeft"))return void Al.log("received duplicated %s state (seq: %s), channel '%s', member '%s'",Bl,Rl,wb(Al.channelId),wb(Fl||""));Al.memberJoinStateLru.set(Fl,Bl==="MemberJoined"?bi.JOINED:bi.LEFT)}Al.info("Channel %s - %s, memberId: %s",Bl,wb(Al.channelId),Bl==="MemberCountUpdated"?"[unknown]":wb(Fl||"")),Ql=Fl===Al.getSession().context.uid,Bl==="MemberLeft"&&yb(Fl)||Bl==="MemberJoined"&&yb(Fl)?(Ql||Al.emit(Bl,Fl),Al.onMemberCountUpdated(Gl)):Bl==="MemberCountUpdated"&&typeof Gl=="number"&&Al.onMemberCountUpdated(Gl)}}),Al.getSession=Hs(_l),Al.channelId=El,Al.client=Tl,Al.info("A channel created, id %s",wb(El)),Al}nb(_t,_r);var _o,yl=ob(_t);return Qb(_t,[{key:"join",value:(_o=za(W.mark(function El(){var _l,Tl,Il,Al,Rl,Fl,Bl,Gl=this;return W.wrap(function(Ql){for(;;)switch(Ql.prev=Ql.next){case 0:if(this.client.connectionState===Ld.CONNECTED){Ql.next=2;break}throw new ia("The client is not logged in. Cannot do the operation",oc);case 2:Ql.prev=2,_l=this.getSession(),Ql.next=9;break;case 6:throw Ql.prev=6,Ql.t0=Ql.catch(2),new ia("The client is not logged in. Cannot do the operation",Aw);case 9:if(Ql.prev=9,yb(this.channelId)){Ql.next=12;break}throw new ja(["The %s in the arguments is invalid","channelId"],BI);case 12:if(this.joinState==="LEFT"){Ql.next=15;break}throw $a("ChnJoin",{cname:this.channelId,lts:D.fromNumber(Date.now()),userId:_l.context.uid,elapse:Nb(_l.startTime),errCode:zw,sid:fc(_l.instanceId)},(Al=this.client.context.config.enableCloudProxy)!==null&&Al!==void 0&&Al),new ia("The channel has joined. Cannot rejoin",zw);case 15:if(!_l.usedChannelIds.includes(this.channelId)){Ql.next=18;break}throw $a("ChnJoin",{cname:this.channelId,lts:D.fromNumber(Date.now()),userId:_l.context.uid,elapse:Nb(_l.startTime),errCode:Bw,sid:fc(_l.instanceId)},(Rl=this.client.context.config.enableCloudProxy)!==null&&Rl!==void 0&&Rl),new ia("A channel of the same channel ID has already joined. Cannot rejoin",Bw);case 18:if(!(20<=_l.usedChannelIds.length)){Ql.next=21;break}throw $a("ChnJoin",{cname:this.channelId,lts:D.fromNumber(Date.now()),userId:_l.context.uid,elapse:Nb(_l.startTime),errCode:yw,sid:fc(_l.instanceId)},(Fl=this.client.context.config.enableCloudProxy)!==null&&Fl!==void 0&&Fl),new Dc("The joined channels has exceeded the limit of 20",yw);case 21:return $a("ChnJoin",{cname:this.channelId,lts:D.fromNumber(Date.now()),userId:_l.context.uid,elapse:Nb(_l.startTime),errCode:0,sid:fc(_l.instanceId)},(Tl=this.client.context.config.enableCloudProxy)!==null&&Tl!==void 0&&Tl),this.log("Joining the channel %s",wb(this.channelId)),this.joinState="JOINING",_l.usedChannelIds.push(this.channelId),this.joinPromise=_l.requestChannelJoin(this.channelId).then(function(){Gl.joinState="JOINED",_l.requestSubscribeChannelMetadata(Gl.channelId,"JOIN").toPromise()}),Ql.next=28,this.joinPromise;case 28:$a("ChnJoinRes",{cname:this.channelId,lts:D.fromNumber(Date.now()),elapse:Nb(_l.startTime),errCode:0,sid:fc(_l.instanceId),serverErrCode:0,userId:_l.context.uid},(Il=this.client.context.config.enableCloudProxy)!==null&&Il!==void 0&&Il),this.info("The channel %s joined successfully",wb(this.channelId)),_l.on("channelTextMessage",this.onChannelTextMessage),_l.on("channelRawMessage",this.onChannelRawMessage),_l.on("memberNotice",this.onMemberNotice),_l.on("channelAttributesUpdated",this.onAttributesUpdated),_l.on("channelMetaDataUpdated",this.onChannelMetaDataUpdated),this.client.internalEmitter.on("channelMemberCountUpdated",this.onChannelMemberCountUpdated),this.client.internalEmitter.once("LOGOUT",this.onLogout),Ql.next=49;break;case 39:if(Ql.prev=39,Ql.t1=Ql.catch(9),this.joinState==="JOINING"&&(this.joinState="LEFT"),this.logError(Ql.t1),!Sa(Ql.t1)){Ql.next=45;break}throw Ql.t1;case 45:if(!uc(Ql.t1)){Ql.next=48;break}throw $a("ChnJoinRes",{cname:this.channelId,lts:D.fromNumber(Date.now()),elapse:Nb(_l.startTime),errCode:xw,sid:fc(_l.instanceId),serverErrCode:0,userId:_l.context.uid},(Bl=this.client.context.config.enableCloudProxy)!==null&&Bl!==void 0&&Bl),new Pc(["Join channel %s timed out",wb(this.channelId)],xw);case 48:throw new id(["The channel %s join failure",wb(this.channelId)],{code:ww,originalError:Ql.t1});case 49:case"end":return Ql.stop()}},El,this,[[2,6],[9,39]])})),function(){return _o.apply(this,arguments)})},{key:"leave",value:function(){var El=za(W.mark(function _l(){var Tl,Il,Al,Rl;return W.wrap(function(Fl){for(;;)switch(Fl.prev=Fl.next){case 0:if(this.client.connectionState===Ld.CONNECTED){Fl.next=2;break}throw new ia("The client is not logged in. Cannot do the operation",oc);case 2:Fl.prev=2,Il=this.getSession(),Fl.next=9;break;case 6:throw Fl.prev=6,Fl.t0=Fl.catch(2),new ia("The client is not logged in. Cannot do the operation",DI);case 9:if(this.joinState!=="LEFT"){Fl.next=11;break}throw new ia("The channel does not join. Cannot do the operation",CI);case 11:return Fl.prev=11,Il.requestChannelLeave(this.channelId),Fl.next=15,Il.requestUnsubscribeChannelMetadata(this.channelId);case 15:return Fl.next=17,this.clearChannel(Il);case 17:Fl.next=28;break;case 19:if(Fl.prev=19,Fl.t1=Fl.catch(11),this.logError(Fl.t1),!Sa(Fl.t1)){Fl.next=26;break}throw Fl.t1.code===void 0&&(Fl.t1.code=Dw),$a("ChnLeave",{cname:this.channelId,lts:D.fromNumber(Date.now()),elapse:Nb(Il.startTime),errCode:Dw,sid:fc(Il.instanceId),userId:Il.context.uid},(Rl=this.client.context.config.enableCloudProxy)!==null&&Rl!==void 0&&Rl),Fl.t1;case 26:throw $a("ChnLeave",{cname:this.channelId,lts:D.fromNumber(Date.now()),elapse:Nb(Il.startTime),errCode:Cw,sid:fc(Il.instanceId),userId:Il.context.uid},(Al=this.client.context.config.enableCloudProxy)!==null&&Al!==void 0&&Al),new id("The channel leave failure",{code:Cw,originalError:Fl.t1});case 28:$a("ChnLeave",{cname:this.channelId,lts:D.fromNumber(Date.now()),elapse:Nb(Il.startTime),errCode:0,sid:fc(Il.instanceId),userId:Il.context.uid},(Tl=this.client.context.config.enableCloudProxy)!==null&&Tl!==void 0&&Tl);case 29:case"end":return Fl.stop()}},_l,this,[[2,6],[11,19]])}));return function(){return El.apply(this,arguments)}}()},{key:"sendMessage",value:function(){var El=za(W.mark(function _l(Tl){var Il,Al=this;return W.wrap(function(Rl){for(;;)switch(Rl.prev=Rl.next){case 0:if(vs(Tl,fp),this.client.connectionState!==Ld.CONNECTED||this.joinState==="JOINED"){Rl.next=3;break}throw new ia("The channel does not join. Cannot do the operation",rI);case 3:if(this.client.connectionState!==Ld.RECONNECTING){Rl.next=8;break}return Il=Date.now(),Rl.next=7,new Promise(function(Fl,Bl){var Gl,Ql=(Gl=za(W.mark(function _h(){var vp;return W.wrap(function(up){for(;;)switch(up.prev=up.next){case 0:return vp=Date.now()-Il,up.prev=1,up.next=4,Uj({message:Tl,peerId:Al.channelId,toPeer:!1,session:Al.getSession(),errorCodes:{NOT_LOGGED_IN:gp,TOO_OFTEN:rw},diff:vp,logger:Al.logger});case 4:Fl(),up.next=12;break;case 7:up.prev=7,up.t0=up.catch(1),uc(up.t0)&&Bl(new Pc(vg(Al.name,"sendMessageToPeer",1e4),ep)),Sa(up.t0)&&Bl(up.t0),Bl(new Pa("Channel message send failure",{code:Zk,originalError:up.t0}));case 12:return up.prev=12,clearTimeout(_f),up.finish(12);case 15:case"end":return up.stop()}},_h,null,[[1,7,12,15]])})),function(){return Gl.apply(this,arguments)});Al.client.internalEmitter.once("RECONNECTED",Ql);var _f=setTimeout(function(){Al.client.internalEmitter.off("RECONNECTED",Ql),Bl(new Pc(vg(Al.name,"sendMessageToPeer",1e4),ep))},9e3)});case 7:return Rl.abrupt("return");case 8:if(this.client.connectionState===Ld.CONNECTED){Rl.next=10;break}throw new ia("The client is not logged in. Cannot do the operation",gp);case 10:return Rl.prev=10,Rl.next=13,Uj({message:Tl,peerId:this.channelId,toPeer:!1,session:this.getSession(),errorCodes:{NOT_LOGGED_IN:gp,TOO_OFTEN:rw},diff:0,logger:this.logger});case 13:Rl.next=23;break;case 15:if(Rl.prev=15,Rl.t0=Rl.catch(10),!uc(Rl.t0)){Rl.next=19;break}throw new Pc(vg(this.name,"sendMessage",1e4),ep);case 19:if(!Sa(Rl.t0)){Rl.next=22;break}throw this.logError(Rl.t0),Rl.t0;case 22:throw new id("The channel message send failure",Zk);case 23:case"end":return Rl.stop()}},_l,this,[[10,15]])}));return function(_l){return El.apply(this,arguments)}}()},{key:"getChannelMetadata",value:function(){var El=za(W.mark(function _l(){var Tl,Il;return W.wrap(function(Al){for(;;)switch(Al.prev=Al.next){case 0:if(this.client.connectionState===Ld.CONNECTED){Al.next=2;break}throw new ia("The client is not logged in. Cannot do the operation",oc);case 2:return Al.prev=2,Tl=this.getSession().requestGetChannelMetaData(this.channelId),Al.next=6,Tl.pipe(Wa(function(Rl){return Wm(Rl)})).toPromise();case 6:return Il=Al.sent,Al.abrupt("return",Il);case 10:if(Al.prev=10,Al.t0=Al.catch(2),!Sa(Al.t0)){Al.next=15;break}throw this.logError(Al.t0),Al.t0;case 15:throw new id("The channel metadata get failure",lp);case 16:case"end":return Al.stop()}},_l,this,[[2,10]])}));return function(){return El.apply(this,arguments)}}()},{key:"setChannelMetadata",value:function(){var El=za(W.mark(function _l(Tl,Il){var Al;return W.wrap(function(Rl){for(;;)switch(Rl.prev=Rl.next){case 0:if(this.client.connectionState===Ld.CONNECTED){Rl.next=2;break}throw new ia("The client is not logged in. Cannot do the operation",oc);case 2:if(this.joinState==="JOINED"){Rl.next=4;break}throw new ia("The channel does not join. Cannot do the operation",kj);case 4:return Rl.prev=4,Al=this.getSession().requestSetChannelMetadata(Tl,Il,this.channelId).toPromise(),Rl.next=8,Al;case 8:Rl.next=16;break;case 10:if(Rl.prev=10,Rl.t0=Rl.catch(4),!Sa(Rl.t0)){Rl.next=15;break}throw this.logError(Rl.t0),Rl.t0;case 15:throw new id("The channel metadata set failure",He);case 16:case"end":return Rl.stop()}},_l,this,[[4,10]])}));return function(_l,Tl){return El.apply(this,arguments)}}()},{key:"clearChannelMetadata",value:function(){var El=za(W.mark(function _l(Tl){var Il;return W.wrap(function(Al){for(;;)switch(Al.prev=Al.next){case 0:if(this.client.connectionState===Ld.CONNECTED){Al.next=2;break}throw new ia("The client is not logged in. Cannot do the operation",oc);case 2:if(this.joinState==="JOINED"){Al.next=4;break}throw new ia("The channel does not join. Cannot do the operation",kj);case 4:return Al.prev=4,Il=this.getSession().requestClearChannelMetadata(Tl,this.channelId).toPromise(),Al.next=8,Il;case 8:Al.next=16;break;case 10:if(Al.prev=10,Al.t0=Al.catch(4),!Sa(Al.t0)){Al.next=15;break}throw this.logError(Al.t0),Al.t0;case 15:throw new id("The channel metadata clear failure",He);case 16:case"end":return Al.stop()}},_l,this,[[4,10]])}));return function(_l){return El.apply(this,arguments)}}()},{key:"addChannelMetadata",value:function(){var El=za(W.mark(function _l(Tl,Il){var Al;return W.wrap(function(Rl){for(;;)switch(Rl.prev=Rl.next){case 0:if(this.client.connectionState===Ld.CONNECTED){Rl.next=2;break}throw new ia("The client is not logged in. Cannot do the operation",oc);case 2:if(this.joinState==="JOINED"){Rl.next=4;break}throw new ia("The channel does not join. Cannot do the operation",kj);case 4:return Rl.prev=4,Al=this.getSession().requestAddChannelMetadata(Tl,Il,this.channelId).toPromise(),Rl.next=8,Al;case 8:Rl.next=16;break;case 10:if(Rl.prev=10,Rl.t0=Rl.catch(4),!Sa(Rl.t0)){Rl.next=15;break}throw this.logError(Rl.t0),Rl.t0;case 15:throw new id("The channel metadata clear failure",He);case 16:case"end":return Rl.stop()}},_l,this,[[4,10]])}));return function(_l,Tl){return El.apply(this,arguments)}}()},{key:"updateChannelMetadata",value:function(){var El=za(W.mark(function _l(Tl,Il){var Al;return W.wrap(function(Rl){for(;;)switch(Rl.prev=Rl.next){case 0:if(this.client.connectionState===Ld.CONNECTED){Rl.next=2;break}throw new ia("The client is not logged in. Cannot do the operation",oc);case 2:if(this.joinState==="JOINED"){Rl.next=4;break}throw new ia("The channel does not join. Cannot do the operation",kj);case 4:return Rl.prev=4,Al=this.getSession().requestUpdateChannelMetadata(Tl,Il,this.channelId).toPromise(),Rl.next=8,Al;case 8:Rl.next=16;break;case 10:if(Rl.prev=10,Rl.t0=Rl.catch(4),!Sa(Rl.t0)){Rl.next=15;break}throw this.logError(Rl.t0),Rl.t0;case 15:throw new id("The channel metadata clear failure",He);case 16:case"end":return Rl.stop()}},_l,this,[[4,10]])}));return function(_l,Tl){return El.apply(this,arguments)}}()},{key:"deleteChannelMetadata",value:function(){var El=za(W.mark(function _l(Tl,Il){var Al;return W.wrap(function(Rl){for(;;)switch(Rl.prev=Rl.next){case 0:if(this.client.connectionState===Ld.CONNECTED){Rl.next=2;break}throw new ia("The client is not logged in. Cannot do the operation",oc);case 2:if(this.joinState==="JOINED"){Rl.next=4;break}throw new ia("The channel does not join. Cannot do the operation",kj);case 4:return Rl.prev=4,Al=this.getSession().requestDeleteChannelMetadata(Tl,Il,this.channelId).toPromise(),Rl.next=8,Al;case 8:Rl.next=16;break;case 10:if(Rl.prev=10,Rl.t0=Rl.catch(4),!Sa(Rl.t0)){Rl.next=15;break}throw this.logError(Rl.t0),Rl.t0;case 15:throw new id("The channel metadata clear failure",He);case 16:case"end":return Rl.stop()}},_l,this,[[4,10]])}));return function(_l,Tl){return El.apply(this,arguments)}}()},{key:"getMembers",value:function(){var El=za(W.mark(function _l(){var Tl,Il;return W.wrap(function(Al){for(;;)switch(Al.prev=Al.next){case 0:if(Al.prev=0,this.client.connectionState===Ld.CONNECTED){Al.next=3;break}throw new ia("The client is not logged in. Cannot do the operation",yI);case 3:if(this.joinState==="JOINED"){Al.next=5;break}throw new ia("The channel does not join. Cannot do the operation",xI);case 5:return Tl=this.getSession().requestChannelMemberList(this.channelId),Al.next=8,Tl.pipe(Wa(function(Rl){return Rl.memberInfos.map(function(Fl){return Fl.account})})).toPromise();case 8:return Il=Al.sent,this.info("Channel %s - get members success, %o",wb(this.channelId),Il.map(wb)),Al.abrupt("return",Il);case 13:if(Al.prev=13,Al.t0=Al.catch(0),!Sa(Al.t0)){Al.next=18;break}throw this.logError(Al.t0),Al.t0;case 18:throw new id("The channel members get failure",vI);case 19:case"end":return Al.stop()}},_l,this,[[0,13]])}));return function(){return El.apply(this,arguments)}}()},{key:"clearChannel",value:function(){var El=za(W.mark(function _l(Tl){var Il=this;return W.wrap(function(Al){for(;;)switch(Al.prev=Al.next){case 0:if(Tl.emit("channelLeft",this.channelId),this.joinState!=="JOINING"){Al.next=4;break}return Al.next=4,this.joinPromise;case 4:this.joinState="LEFT",this.memberLeftLru.empty(),this.memberJoinedLru.empty(),this.attributesSeqLru.empty(),this.memberJoinStateLru.empty(),this.memberCount=0,Tl.removeListener("channelTextMessage",this.onChannelTextMessage),Tl.removeListener("channelRawMessage",this.onChannelRawMessage),Tl.removeListener("memberNotice",this.onMemberNotice),Tl.removeListener("channelAttributesUpdated",this.onAttributesUpdated),Tl.removeListener("channelMetaDataUpdated",this.onChannelMetaDataUpdated),this.client.internalEmitter.removeListener("channelMemberCountUpdated",this.onChannelMemberCountUpdated),this.client.internalEmitter.removeListener("LOGOUT",this.onLogout),Tl.usedChannelIds=Tl.usedChannelIds.filter(function(Rl){return Rl!==Il.channelId});case 18:case"end":return Al.stop()}},_l,this)}));return function(_l){return El.apply(this,arguments)}}()}]),_t}(Dd()),Na(lb.prototype,"join",[je],Object.getOwnPropertyDescriptor(lb.prototype,"join"),lb.prototype),Na(lb.prototype,"leave",[je],Object.getOwnPropertyDescriptor(lb.prototype,"leave"),lb.prototype),Na(lb.prototype,"sendMessage",[je],Object.getOwnPropertyDescriptor(lb.prototype,"sendMessage"),lb.prototype),Na(lb.prototype,"getChannelMetadata",[gb],Object.getOwnPropertyDescriptor(lb.prototype,"getChannelMetadata"),lb.prototype),Na(lb.prototype,"setChannelMetadata",[gb],Object.getOwnPropertyDescriptor(lb.prototype,"setChannelMetadata"),lb.prototype),Na(lb.prototype,"clearChannelMetadata",[gb],Object.getOwnPropertyDescriptor(lb.prototype,"clearChannelMetadata"),lb.prototype),Na(lb.prototype,"addChannelMetadata",[gb],Object.getOwnPropertyDescriptor(lb.prototype,"addChannelMetadata"),lb.prototype),Na(lb.prototype,"updateChannelMetadata",[gb],Object.getOwnPropertyDescriptor(lb.prototype,"updateChannelMetadata"),lb.prototype),Na(lb.prototype,"deleteChannelMetadata",[gb],Object.getOwnPropertyDescriptor(lb.prototype,"deleteChannelMetadata"),lb.prototype),Na(lb.prototype,"getMembers",[gb],Object.getOwnPropertyDescriptor(lb.prototype,"getMembers"),lb.prototype),lb),ka,Jc=Oa.ConnectionChangeReason,Ea=Oa.ConnectionState,FA={DISCONNECTED:1,CONNECTING:2,CONNECTED:3,RECONNECTING:4,ABORTED:5},JP={LOGIN:1,LOGIN_SUCCESS:2,LOGIN_FAILURE:3,LOGIN_TIMEOUT:4,INTERRUPTED:5,LOGOUT:6,BANNED_BY_SERVER:7,REMOTE_LOGIN:8,TOKEN_EXPIRED:9},KP=(ka=function(_r){function _t(El,_l,Tl,Il){ab(this,_t);var Al=yl.call(this,_l,"RtmClient",!0);return E(L(Al),"connectionState",Ea.DISCONNECTED),E(L(Al),"internalEmitter",new kb),E(L(Al),"context",void 0),E(L(Al),"attributes",{}),E(L(Al),"loginPromise",void 0),E(L(Al),"attributeDrafts",new Set),E(L(Al),"session",void 0),E(L(Al),"lastLoginTime",void 0),E(L(Al),"reconnId",0),E(L(Al),"channelAttributesCacheLru",new ue(void 0,{maxlen:1e4})),E(L(Al),"invitationManager",void 0),E(L(Al),"subscribedPeerStatusCache",{}),E(L(Al),"subscribedUserMetaCache",{}),E(L(Al),"pendingPeerStatusSubCount",0),E(L(Al),"peerStatusSeqLru",new ue(void 0,{maxlen:1e4})),E(L(Al),"peerUnreachableTimers",{}),E(L(Al),"setParameters",void 0),E(L(Al),"updateConfig",void 0),E(L(Al),"blacklistedIP",{}),E(L(Al),"TokenPrivilegeWillExpireHandler",function(){Al.emit("TokenPrivilegeWillExpire")}),E(L(Al),"userMetaDataUpdatedHandler",function(Rl){var Fl=Rl.uid;Rl=Rl.data,Al.subscribedUserMetaCache[Fl]&&Al.emit("UserMetaDataUpdated",Fl,Rl)}),E(L(Al),"userDropHandler",function(Rl){if(Al.connectionState!==Ea.ABORTED)switch(Rl){case 2:Al.logError("Server banned because of token is expired"),Al.onConnectionStateChanged(Ea.ABORTED,Jc.TOKEN_EXPIRED),Al.emit("TokenExpired");break;case 11:Al.logError("Kicked off by remote session"),Al.onConnectionStateChanged(Ea.ABORTED,Jc.REMOTE_LOGIN);break;case 14:case 15:case 16:Al.logError("Server banned because of illegal ".concat({14:"User ID",15:"IP",16:"Channel Name"}[Rl])),Al.onConnectionStateChanged(Ea.ABORTED,Jc.BANNED_BY_SERVER);break;case 10019:Al.logError("Kicked off by authorization"),Al.onConnectionStateChanged(Ea.ABORTED,Jc.BANNED_BY_SERVER);break;default:Al.logError("User kicked off for unknown code: ".concat(Rl)),Al.onConnectionStateChanged(Ea.ABORTED,Jc.INTERRUPTED)}}),Al.context=new yL(El,Tl,_l),Al.context.config=Tl,Al.setParameters=Il.bind(L(Al)),Al.updateConfig=Il.bind(L(Al)),Al.invitationManager=new GP(function(){return Al.session},_l),Al.invitationManager.on("remoteInvitationInstance",function(Rl){Al.emit("RemoteInvitationReceived",Rl)}),Al.setMaxListeners(512),Al.internalEmitter.setMaxListeners(512),Al}nb(_t,_r);var _o,yl=ob(_t);return Qb(_t,[{key:"renewToken",value:(_o=za(W.mark(function El(_l){var Tl,Il,Al,Rl,Fl=this;return W.wrap(function(Bl){for(;;)switch(Bl.prev=Bl.next){case 0:if(typeof _l=="string"&&_l.length!==0){Bl.next=2;break}throw new ja("Invalid argument",KI);case 2:if(this.connectionState!==Ea.ABORTED){Bl.next=5;break}return Bl.next=5,new Promise(function(){});case 5:if(this.connectionState===Ea.CONNECTED||this.connectionState===Ea.RECONNECTING){Bl.next=7;break}throw new ia("The client is not logged in",Mw);case 7:if(this.session!==void 0){Bl.next=9;break}throw new rb({SESSION_NOT_FOUND:"Failed to get session of the client"});case 9:return Bl.prev=9,Tl=this.context.token,this.context.token=_l,Bl.next=14,this.session.connection.apClient.getApEdgeInfo$(!1).pipe(Zf(function(){return Error("No available edge address to connect")}),Zg(function(Gl){return Gl.pipe(Ka(function(Ql){if(Sa(Ql))throw Ql}),mf(2500),Xb(4))}),Xb(1),Oc(2e4),Rb(function(Gl){return uc(Gl)&&Fl.warn("renewToken timed out"),Va(Gl)})).toPromise();case 14:Il=Bl.sent,Al=Il.ticket,Bl.next=27;break;case 18:if(Bl.prev=18,Bl.t0=Bl.catch(9),this.context.token=Tl,Bl.t0.code!==Fw&&Bl.t0.code!==Gw){Bl.next=23;break}throw new Gh("Invalid token",MI);case 23:if(Bl.t0.code!==bl){Bl.next=25;break}throw new Gh("The token expired",LI);case 25:if(!uc(Bl.t0)){Bl.next=27;break}throw new Pc("Renew token timed out",jp);case 27:Rl=this.session,this.session.requestUpdateEdgeTicket(Al).toPromise().then(function(Gl){if(Gl.code!==0)throw new Pa(["RenewToken failure. The response code is %d",Gl.code],jp);Rl.curLoginSockets.filter(function(Ql){return Ql!==void 0}).forEach(function(Ql){return Ql.ticket=Al})});case 29:case"end":return Bl.stop()}},El,this,[[9,18]])})),function(El){return _o.apply(this,arguments)})},{key:"queryPeersOnlineStatus",value:function(){var El=za(W.mark(function _l(Tl){var Il,Al,Rl=this;return W.wrap(function(Fl){for(;;)switch(Fl.prev=Fl.next){case 0:if(this.connectionState===Ea.CONNECTED){Fl.next=2;break}throw new ia("The client is not logged in",JI);case 2:if(this.session!==void 0){Fl.next=4;break}throw new rb({SESSION_NOT_FOUND:"Failed to get session of the client"});case 4:if(!(!Array.isArray(Tl)||Tl.length===0||Tl.some(function(Bl){return!yb(Bl)})||256<Tl.length)){Fl.next=6;break}throw new ja("invalid arguments",Lw);case 6:return Fl.next=8,this.session.requestPeersOnlineStatus(Tl).toPromise();case 8:return Il=Fl.sent,Al=Pe(Ro(Il.userInfos,"account"),function(Bl){return!!Bl.ts}),Object.keys(Al).forEach(function(Bl){if(Bl in Rl.subscribedPeerStatusCache&&Rl.subscribedPeerStatusCache[Bl]!==Oa.PeerOnlineState.UNREACHABLE){var Gl=Al[Bl]?Oa.PeerOnlineState.ONLINE:Oa.PeerOnlineState.OFFLINE;Rl.emit("PeersOnlineStatusChanged",E({},Bl,Gl)),Rl.subscribedPeerStatusCache[Bl]=Gl}}),Fl.abrupt("return",Al);case 12:case"end":return Fl.stop()}},_l,this)}));return function(_l){return El.apply(this,arguments)}}()},{key:"getChannelMemberCount",value:function(){var El=za(W.mark(function _l(Tl){var Il,Al,Rl,Fl,Bl,Gl,Ql,_f,_h;return W.wrap(function(vp){for(;;)switch(vp.prev=vp.next){case 0:if(this.connectionState===Ea.CONNECTED){vp.next=2;break}throw new ia("The client is not logged in",uI);case 2:if(this.session!==void 0){vp.next=4;break}throw new rb({SESSION_NOT_FOUND:"Failed to get session of the client"});case 4:if(Array.isArray(Tl)&&Tl.every(function(up){return typeof up=="string"})&&Tl.length!==0){vp.next=6;break}throw new ja("Invalid arguments: channelIds",tw);case 6:if(!(32<Tl.length)){vp.next=8;break}throw new ja("getChannelMemberCount exceed limit of 32 channelIds",tI);case 8:Il=0;case 9:if(!(Il<Tl.length)){vp.next=16;break}if(yb(Al=Tl[Il])){vp.next=13;break}throw new ja(["getChannelMemberCount channel id %s is invalid",Al],tw);case 13:Il++,vp.next=9;break;case 16:return vp.next=18,this.session.requestGetChannelMemberCount(Tl).toPromise();case 18:for(Rl=vp.sent,Fl=Rl.groupInfos,Bl={},Gl=0;Gl<Fl.length;Gl++)Ql=Fl[Gl],_f=Ql.group,_h=Ql.memberCount,yb(_f)&&typeof _h=="number"&&(this.internalEmitter.emit("channelMemberCountUpdated",_f,_h),Bl[_f]=_h);return vp.abrupt("return",Bl);case 23:case"end":return vp.stop()}},_l,this)}));return function(_l){return El.apply(this,arguments)}}()},{key:"setLocalUserAttributes",value:function(){var El=za(W.mark(function _l(Tl){var Il,Al;return W.wrap(function(Rl){for(;;)switch(Rl.prev=Rl.next){case 0:if(ri({attributes:Tl,maxAttrValueSize:8192,maxAttrsCount:32,maxTotalSize:16384}),this.connectionState===Ea.CONNECTED){Rl.next=3;break}throw new ia("The client is not logged in",Cd);case 3:if(this.session!==void 0){Rl.next=5;break}throw new rb({SESSION_NOT_FOUND:"Failed to get session of the client"});case 5:return Il=this.session.requestSetLocalUserAttributes(Tl).toPromise(),Al={attribute:Tl,promise:Il},this.attributeDrafts.add(Al),Rl.prev=8,Rl.next=11,Il;case 11:this.attributes=Tl,Rl.next=19;break;case 14:if(Rl.prev=14,Rl.t0=Rl.catch(8),!Sa(Rl.t0)){Rl.next=18;break}throw Rl.t0;case 18:throw new ja("arguments is not valid",Ub);case 19:return Rl.prev=19,this.attributeDrafts.delete(Al),Rl.finish(19);case 22:case"end":return Rl.stop()}},_l,this,[[8,14,19,22]])}));return function(_l){return El.apply(this,arguments)}}()},{key:"setChannelAttributes",value:function(){var El=za(W.mark(function _l(Tl,Il){var Al,Rl,Fl,Bl,Gl,Ql=arguments;return W.wrap(function(_f){for(;;)switch(_f.prev=_f.next){case 0:if(Al=2<Ql.length&&Ql[2]!==void 0?Ql[2]:{},Rl=Al.enableNotificationToChannelMembers,Fl=Rl!==void 0&&Rl,ri({attributes:Il,maxAttrValueSize:8192,maxAttrsCount:32,maxTotalSize:32768}),this.connectionState===Ea.CONNECTED){_f.next=4;break}throw new ia("The client is not logged in",Cd);case 4:if(this.session!==void 0){_f.next=6;break}throw new rb({SESSION_NOT_FOUND:"Failed to get session of the client"});case 6:return Bl=this.session.requestSetChannelAttributes(Tl,Il,Fl).toPromise(),_f.prev=7,_f.next=10,Bl;case 10:Gl=Pe(Il,function(_h){return new Blob([_h]).size}),this.channelAttributesCacheLru.set(Tl,Gl),_f.next=19;break;case 14:if(_f.prev=14,_f.t0=_f.catch(7),!Sa(_f.t0)){_f.next=18;break}throw _f.t0;case 18:throw new ja("arguments is not valid",Ub);case 19:case"end":return _f.stop()}},_l,this,[[7,14]])}));return function(_l,Tl){return El.apply(this,arguments)}}()},{key:"addOrUpdateLocalUserAttributes",value:function(){var El=za(W.mark(function _l(Tl){var Il,Al,Rl;return W.wrap(function(Fl){for(;;)switch(Fl.prev=Fl.next){case 0:if(Il=tb(tb({},this.attributes),Tl),ri({attributes:Tl,maxAttrValueSize:8192,maxAttrsCount:32,maxTotalSize:16384}),ri({attributes:Il,maxAttrValueSize:8192,maxAttrsCount:32,maxTotalSize:16384}),this.connectionState===Ea.CONNECTED){Fl.next=5;break}throw new ia("The client is not logged in",Cd);case 5:if(this.session!==void 0){Fl.next=7;break}throw new rb({SESSION_NOT_FOUND:"Failed to get session of the client"});case 7:return Al=this.session.requestAddOrUpdateLocalUserAttributes(Tl).toPromise(),Rl={attribute:Il,promise:Al},this.attributeDrafts.add(Rl),Fl.prev=10,Fl.next=13,Al;case 13:this.attributes=Il,Fl.next=21;break;case 16:if(Fl.prev=16,Fl.t0=Fl.catch(10),!Sa(Fl.t0)){Fl.next=20;break}throw Fl.t0;case 20:throw new ja("arguments is not valid",Lw);case 21:return Fl.prev=21,this.attributeDrafts.delete(Rl),Fl.finish(21);case 24:case"end":return Fl.stop()}},_l,this,[[10,16,21,24]])}));return function(_l){return El.apply(this,arguments)}}()},{key:"addOrUpdateChannelAttributes",value:function(){var El=za(W.mark(function _l(Tl,Il){var Al,Rl,Fl,Bl,Gl,Ql,_f,_h=arguments;return W.wrap(function(vp){for(;;)switch(vp.prev=vp.next){case 0:if(Al=2<_h.length&&_h[2]!==void 0?_h[2]:{},Rl=Al.enableNotificationToChannelMembers,Fl=Rl!==void 0&&Rl,Bl=this.channelAttributesCacheLru.get(Tl,{}),Gl=Pe(Il,function(up){return new Blob([up]).size}),Ql=tb(tb({},Bl),Gl),ri({attributes:Il,attrSizeMap:Ql,maxAttrValueSize:8192,maxAttrsCount:32,maxTotalSize:32768}),this.connectionState===Ea.CONNECTED){vp.next=7;break}throw new ia("The client is not logged in",Cd);case 7:if(this.session!==void 0){vp.next=9;break}throw new rb({SESSION_NOT_FOUND:"Failed to get session of the client"});case 9:return _f=this.session.requestAddOrUpdateChannelAttributes(Tl,Il,Fl).toPromise(),vp.prev=10,vp.next=13,_f;case 13:this.channelAttributesCacheLru.set(Tl,Ql),vp.next=21;break;case 16:if(vp.prev=16,vp.t0=vp.catch(10),!Sa(vp.t0)){vp.next=20;break}throw vp.t0;case 20:throw new ja("arguments is not valid",Ub);case 21:case"end":return vp.stop()}},_l,this,[[10,16]])}));return function(_l,Tl){return El.apply(this,arguments)}}()},{key:"deleteLocalUserAttributesByKeys",value:function(){var El=za(W.mark(function _l(Tl){var Il,Al,Rl,Fl;return W.wrap(function(Bl){for(;;)switch(Bl.prev=Bl.next){case 0:if(Array.isArray(Tl)&&Tl.length!==0&&!Tl.some(function(Gl){return Gl.length===0})){Bl.next=2;break}throw new ia("arguments is not valid",Ub);case 2:if(this.connectionState===Ea.CONNECTED){Bl.next=4;break}throw new ia("The client is not logged in",Cd);case 4:if(this.session!==void 0){Bl.next=6;break}throw new rb({SESSION_NOT_FOUND:"Failed to get session of the client"});case 6:return Il=this.session.requestDeleteLocalUserAttributesByKeys(Tl).toPromise(),Al={attribute:Oo(this.attributes,Tl),promise:Il},this.attributeDrafts.add(Al),Bl.prev=9,Bl.next=12,Il;case 12:for(Rl=0;Rl<Tl.length;Rl++)Fl=Tl[Rl],delete this.attributes[Fl];Bl.next=20;break;case 15:if(Bl.prev=15,Bl.t0=Bl.catch(9),!Sa(Bl.t0)){Bl.next=19;break}throw Bl.t0;case 19:throw new ja("arguments is not valid",Ub);case 20:return Bl.prev=20,this.attributeDrafts.delete(Al),Bl.finish(20);case 23:case"end":return Bl.stop()}},_l,this,[[9,15,20,23]])}));return function(_l){return El.apply(this,arguments)}}()},{key:"deleteChannelAttributesByKeys",value:function(){var El=za(W.mark(function _l(Tl,Il){var Al,Rl,Fl,Bl,Gl,Ql,_f,_h=arguments;return W.wrap(function(vp){for(;;)switch(vp.prev=vp.next){case 0:if(Al=2<_h.length&&_h[2]!==void 0?_h[2]:{},Rl=Al.enableNotificationToChannelMembers,Fl=Rl!==void 0&&Rl,Array.isArray(Il)&&Il.length!==0&&yb(Tl)&&!Il.some(function(up){return up.length===0||512<up.length})){vp.next=3;break}throw new ia("arguments is not valid",Ub);case 3:if(this.connectionState===Ea.CONNECTED){vp.next=5;break}throw new ia("The client is not logged in",Cd);case 5:if(this.session!==void 0){vp.next=7;break}throw new rb({SESSION_NOT_FOUND:"Failed to get session of the client"});case 7:return Bl=this.session.requestDeleteChannelAttributesByKeys(Tl,Il,Fl).toPromise(),vp.prev=8,vp.next=11,Bl;case 11:if(Gl=this.channelAttributesCacheLru.get(Tl))for(Ql=0;Ql<Il.length;Ql++)_f=Il[Ql],delete Gl[_f];vp.next=20;break;case 15:if(vp.prev=15,vp.t0=vp.catch(8),!Sa(vp.t0)){vp.next=19;break}throw vp.t0;case 19:throw new ja("arguments is not valid",Ub);case 20:case"end":return vp.stop()}},_l,this,[[8,15]])}));return function(_l,Tl){return El.apply(this,arguments)}}()},{key:"clearLocalUserAttributes",value:function(){var El=za(W.mark(function _l(){var Tl,Il;return W.wrap(function(Al){for(;;)switch(Al.prev=Al.next){case 0:if(this.connectionState===Ea.CONNECTED){Al.next=2;break}throw new ia("The client is not logged in",Cd);case 2:if(this.session!==void 0){Al.next=4;break}throw new rb({SESSION_NOT_FOUND:"Failed to get session of the client"});case 4:return Tl=this.session.requestClearLocalUserAttributes().toPromise(),Il={attribute:{},promise:Tl},this.attributeDrafts.add(Il),Al.prev=7,Al.next=10,Tl;case 10:this.attributes={},Al.next=18;break;case 13:if(Al.prev=13,Al.t0=Al.catch(7),!Sa(Al.t0)){Al.next=17;break}throw Al.t0;case 17:throw new ja("arguments is not valid",Ub);case 18:return Al.prev=18,this.attributeDrafts.delete(Il),Al.finish(18);case 21:case"end":return Al.stop()}},_l,this,[[7,13,18,21]])}));return function(){return El.apply(this,arguments)}}()},{key:"clearChannelAttributes",value:function(){var El=za(W.mark(function _l(Tl){var Il,Al,Rl,Fl,Bl=arguments;return W.wrap(function(Gl){for(;;)switch(Gl.prev=Gl.next){case 0:if(Il=1<Bl.length&&Bl[1]!==void 0?Bl[1]:{},Al=Il.enableNotificationToChannelMembers,Rl=Al!==void 0&&Al,this.connectionState===Ea.CONNECTED){Gl.next=3;break}throw new ia("The client is not logged in",Cd);case 3:if(this.session!==void 0){Gl.next=5;break}throw new rb({SESSION_NOT_FOUND:"Failed to get session of the client"});case 5:return Fl=this.session.requestClearChannelAttributes(Tl,Rl).toPromise(),Gl.prev=6,Gl.next=9,Fl;case 9:this.channelAttributesCacheLru.delete(Tl),Gl.next=17;break;case 12:if(Gl.prev=12,Gl.t0=Gl.catch(6),!Sa(Gl.t0)){Gl.next=16;break}throw Gl.t0;case 16:throw new ja("arguments is not valid",Ub);case 17:case"end":return Gl.stop()}},_l,this,[[6,12]])}));return function(_l){return El.apply(this,arguments)}}()},{key:"getUserAttributes",value:function(){var El=za(W.mark(function _l(Tl){var Il,Al,Rl;return W.wrap(function(Fl){for(;;)switch(Fl.prev=Fl.next){case 0:if(yb(Tl)){Fl.next=2;break}throw new ja("Not a valid user ID",Ub);case 2:if(this.connectionState===Ea.CONNECTED){Fl.next=4;break}throw new ia("The client is not logged in",Cd);case 4:if(this.session!==void 0){Fl.next=6;break}throw new rb({SESSION_NOT_FOUND:"Failed to get session of the client"});case 6:return Fl.prev=6,Fl.next=9,this.session.requestGetUserAttributeKeys(Tl).toPromise();case 9:return Il=Fl.sent,Al=Il.keys,Fl.next=13,this.session.requestGetUserAttributesByKeys(Tl,Al.slice(0,512)).toPromise();case 13:Rl=Fl.sent,Fl.next=21;break;case 16:if(Fl.prev=16,Fl.t0=Fl.catch(6),!Sa(Fl.t0)){Fl.next=20;break}throw Fl.t0;case 20:throw new ja("arguments is not valid",Ub);case 21:return Fl.abrupt("return",Dv(Rl.attributeInfos.map(function(Bl){return[Bl.key,Bl.value]})));case 22:case"end":return Fl.stop()}},_l,this,[[6,16]])}));return function(_l){return El.apply(this,arguments)}}()},{key:"getChannelAttributes",value:function(){var El=za(W.mark(function _l(Tl){var Il,Al,Rl,Fl,Bl,Gl,Ql,_f,_h,vp,up;return W.wrap(function(_d){for(;;)switch(_d.prev=_d.next){case 0:if(yb(Tl)){_d.next=2;break}throw new ja("Not a valid channel ID",Ub);case 2:if(this.connectionState===Ea.CONNECTED){_d.next=4;break}throw new ia("The client is not logged in",Cd);case 4:if(this.session!==void 0){_d.next=6;break}throw new rb({SESSION_NOT_FOUND:"Failed to get session of the client"});case 6:return _d.prev=6,_d.next=9,this.session.requestGetChannelAttributesKeys(Tl).toPromise();case 9:return Il=_d.sent,Al=Il.keys,_d.next=13,this.session.requestGetChannelAttributesByKeys(Tl,Al).toPromise();case 13:Rl=_d.sent,Fl=Rl.attributeMaps,_d.next=22;break;case 17:if(_d.prev=17,_d.t0=_d.catch(6),!Sa(_d.t0)){_d.next=21;break}throw _d.t0;case 21:throw new ja("arguments is not valid",Ub);case 22:Bl={},Gl=0;case 24:if(!(Gl<Fl.length)){_d.next=32;break}if(Ql=Fl[Gl],_f=Ql.key,_h=Ql.ms,vp=Ql.value,up=Ql.origin,typeof _f=="string"&&D.isLong(_h)&&typeof vp=="string"&&yb(up)){_d.next=28;break}return _d.abrupt("break",32);case 28:Bl[_f]={value:vp,lastUpdateUserId:up,lastUpdateTs:_h.toNumber()};case 29:Gl++,_d.next=24;break;case 32:return this.channelAttributesCacheLru.set(Tl,Pe(Bl,function(Ep){return new Blob([Ep.value]).size})),_d.abrupt("return",Bl);case 34:case"end":return _d.stop()}},_l,this,[[6,17]])}));return function(_l){return El.apply(this,arguments)}}()},{key:"getChannelAttributesByKeys",value:function(){var El=za(W.mark(function _l(Tl,Il){var Al,Rl,Fl,Bl,Gl,Ql,_f,_h,vp,up;return W.wrap(function(_d){for(;;)switch(_d.prev=_d.next){case 0:if(this.connectionState===Ea.CONNECTED){_d.next=2;break}throw new ia("The client is not logged in",Cd);case 2:if(this.session!==void 0){_d.next=4;break}throw new rb({SESSION_NOT_FOUND:"Failed to get session of the client"});case 4:return os(Tl,Il),_d.prev=5,_d.next=8,this.session.requestGetChannelAttributesByKeys(Tl,Il).toPromise();case 8:Al=_d.sent,Rl=Al.attributeMaps,_d.next=17;break;case 12:if(_d.prev=12,_d.t0=_d.catch(5),!Sa(_d.t0)){_d.next=16;break}throw _d.t0;case 16:throw new ja("arguments is not valid",Ub);case 17:Fl={},Bl=this.channelAttributesCacheLru.get(Tl,{}),Gl=0;case 20:if(!(Gl<Rl.length)){_d.next=29;break}if(Ql=Rl[Gl],_f=Ql.key,_h=Ql.ms,vp=Ql.value,up=Ql.origin,typeof _f=="string"&&D.isLong(_h)&&typeof vp=="string"&&yb(up)){_d.next=24;break}return _d.abrupt("break",29);case 24:Bl[_f]=new Blob([vp]).size,Fl[_f]={value:vp,lastUpdateUserId:up,lastUpdateTs:_h.toNumber()};case 26:Gl++,_d.next=20;break;case 29:return this.channelAttributesCacheLru.set(Tl,Bl),_d.abrupt("return",Fl);case 31:case"end":return _d.stop()}},_l,this,[[5,12]])}));return function(_l,Tl){return El.apply(this,arguments)}}()},{key:"getUserAttributesByKeys",value:function(){var El=za(W.mark(function _l(Tl,Il){var Al;return W.wrap(function(Rl){for(;;)switch(Rl.prev=Rl.next){case 0:if(this.connectionState===Ea.CONNECTED){Rl.next=2;break}throw new ia("The client is not logged in",Cd);case 2:if(this.session!==void 0){Rl.next=4;break}throw new rb({SESSION_NOT_FOUND:"Failed to get session of the client"});case 4:return os(Tl,Il),Rl.prev=5,Rl.next=8,this.session.requestGetUserAttributesByKeys(Tl,Il).toPromise();case 8:Al=Rl.sent,Rl.next=16;break;case 11:if(Rl.prev=11,Rl.t0=Rl.catch(5),!Sa(Rl.t0)){Rl.next=15;break}throw Rl.t0;case 15:throw new ja("arguments is not valid",Ub);case 16:return Rl.abrupt("return",Dv(Al.attributeInfos.map(function(Fl){return[Fl.key,Fl.value]})));case 17:case"end":return Rl.stop()}},_l,this,[[5,11]])}));return function(_l,Tl){return El.apply(this,arguments)}}()},{key:"getUserMetadata",value:function(){var El=za(W.mark(function _l(Tl){var Il,Al;return W.wrap(function(Rl){for(;;)switch(Rl.prev=Rl.next){case 0:if(this.connectionState===Ea.CONNECTED){Rl.next=2;break}throw new ia("The client is not logged in",oc);case 2:if(this.session!==void 0){Rl.next=4;break}throw new rb({SESSION_NOT_FOUND:"Failed to get session of the client"});case 4:if(!Tl.split("").includes(".")){Rl.next=6;break}throw new ja("The uid cannot contain the character .",Mb);case 6:return Rl.prev=6,Rl.next=9,this.session.requestGetLocalMetaData(Tl).toPromise();case 9:return Il=Rl.sent,Al=Wm(Il),Rl.abrupt("return",Al);case 14:if(Rl.prev=14,Rl.t0=Rl.catch(6),!Sa(Rl.t0)){Rl.next=18;break}throw Rl.t0;case 18:throw new ja("arguments is not valid",Mb);case 19:case"end":return Rl.stop()}},_l,this,[[6,14]])}));return function(_l){return El.apply(this,arguments)}}()},{key:"setLocalUserMetadata",value:function(){var El=za(W.mark(function _l(Tl,Il){return W.wrap(function(Al){for(;;)switch(Al.prev=Al.next){case 0:if(this.connectionState===Ea.CONNECTED){Al.next=2;break}throw new ia("The client is not logged in",oc);case 2:if(this.session!==void 0){Al.next=4;break}throw new rb({SESSION_NOT_FOUND:"Failed to get session of the client"});case 4:return Al.prev=4,Al.next=7,this.session.requestSetLocalMetadata(Tl,Il).toPromise();case 7:Al.next=14;break;case 9:if(Al.prev=9,Al.t0=Al.catch(4),!Sa(Al.t0)){Al.next=13;break}throw Al.t0;case 13:throw new ja("arguments is not valid",Mb);case 14:case"end":return Al.stop()}},_l,this,[[4,9]])}));return function(_l,Tl){return El.apply(this,arguments)}}()},{key:"clearLocalUserMetadata",value:function(){var El=za(W.mark(function _l(Tl){return W.wrap(function(Il){for(;;)switch(Il.prev=Il.next){case 0:if(this.connectionState===Ea.CONNECTED){Il.next=2;break}throw new ia("The client is not logged in",oc);case 2:if(this.session!==void 0){Il.next=4;break}throw new rb({SESSION_NOT_FOUND:"Failed to get session of the client"});case 4:return Il.prev=4,Il.next=7,this.session.requestClearLocalMetadata(Tl).toPromise();case 7:Il.next=14;break;case 9:if(Il.prev=9,Il.t0=Il.catch(4),!Sa(Il.t0)){Il.next=13;break}throw Il.t0;case 13:throw new ja("arguments is not valid",Mb);case 14:case"end":return Il.stop()}},_l,this,[[4,9]])}));return function(_l){return El.apply(this,arguments)}}()},{key:"addLocalUserMetadata",value:function(){var El=za(W.mark(function _l(Tl,Il){return W.wrap(function(Al){for(;;)switch(Al.prev=Al.next){case 0:if(this.connectionState===Ea.CONNECTED){Al.next=2;break}throw new ia("The client is not logged in",oc);case 2:if(this.session!==void 0){Al.next=4;break}throw new rb({SESSION_NOT_FOUND:"Failed to get session of the client"});case 4:return Al.prev=4,Al.next=7,this.session.requestAddLocalMetadata(Tl,Il).toPromise();case 7:Al.next=14;break;case 9:if(Al.prev=9,Al.t0=Al.catch(4),!Sa(Al.t0)){Al.next=13;break}throw Al.t0;case 13:throw new ja("arguments is not valid",Mb);case 14:case"end":return Al.stop()}},_l,this,[[4,9]])}));return function(_l,Tl){return El.apply(this,arguments)}}()},{key:"updateLocalUserMetadata",value:function(){var El=za(W.mark(function _l(Tl,Il){return W.wrap(function(Al){for(;;)switch(Al.prev=Al.next){case 0:if(this.connectionState===Ea.CONNECTED){Al.next=2;break}throw new ia("The client is not logged in",oc);case 2:if(this.session!==void 0){Al.next=4;break}throw new rb({SESSION_NOT_FOUND:"Failed to get session of the client"});case 4:return Al.prev=4,Al.next=7,this.session.requestUpdateLocalMetadata(Tl,Il).toPromise();case 7:Al.next=14;break;case 9:if(Al.prev=9,Al.t0=Al.catch(4),!Sa(Al.t0)){Al.next=13;break}throw Al.t0;case 13:throw new ja("arguments is not valid",Mb);case 14:case"end":return Al.stop()}},_l,this,[[4,9]])}));return function(_l,Tl){return El.apply(this,arguments)}}()},{key:"deleteLocalUserMetadata",value:function(){var El=za(W.mark(function _l(Tl,Il){return W.wrap(function(Al){for(;;)switch(Al.prev=Al.next){case 0:if(this.connectionState===Ea.CONNECTED){Al.next=2;break}throw new ia("The client is not logged in",oc);case 2:if(this.session!==void 0){Al.next=4;break}throw new rb({SESSION_NOT_FOUND:"Failed to get session of the client"});case 4:return Al.prev=4,Al.next=7,this.session.requestDeleteLocalMetadata(Tl,Il).toPromise();case 7:Al.next=14;break;case 9:if(Al.prev=9,Al.t0=Al.catch(4),!Sa(Al.t0)){Al.next=13;break}throw Al.t0;case 13:throw new ja("arguments is not valid",Mb);case 14:case"end":return Al.stop()}},_l,this,[[4,9]])}));return function(_l,Tl){return El.apply(this,arguments)}}()},{key:"subscribeUserMetadata",value:function(){var El=za(W.mark(function _l(Tl){return W.wrap(function(Il){for(;;)switch(Il.prev=Il.next){case 0:if(this.connectionState===Ea.CONNECTED){Il.next=2;break}throw new ia("The client is not logged in",oc);case 2:if(this.session!==void 0){Il.next=4;break}throw new rb({SESSION_NOT_FOUND:"Failed to get session of the client"});case 4:if(yb(Tl)){Il.next=6;break}throw new ja("Not a valid user ID",dl);case 6:if(!Tl.split("").includes(".")){Il.next=8;break}throw new ja("The uid cannot contain the character .",dl);case 8:if(!(51<=Object.values(this.subscribedUserMetaCache).filter(function(Al){return Al===Oa.subscribedState.SUBSCRIBED}).length)){Il.next=10;break}throw new Dc("Subscribed user metadata overflows",OI);case 10:return Il.prev=10,Il.next=13,this.session.requestSubscribeUserMetadata(Tl,"NORMAL").toPromise();case 13:this.subscribedUserMetaCache[Tl]=Oa.subscribedState.SUBSCRIBED,Il.next=21;break;case 16:if(Il.prev=16,Il.t0=Il.catch(10),!Sa(Il.t0)){Il.next=20;break}throw Il.t0;case 20:throw new ja("arguments is not valid",Mb);case 21:case"end":return Il.stop()}},_l,this,[[10,16]])}));return function(_l){return El.apply(this,arguments)}}()},{key:"unsubscribeUserMetadata",value:function(){var El=za(W.mark(function _l(Tl){return W.wrap(function(Il){for(;;)switch(Il.prev=Il.next){case 0:if(this.connectionState===Ea.CONNECTED){Il.next=2;break}throw new ia("The client is not logged in",oc);case 2:if(this.session!==void 0){Il.next=4;break}throw new rb({SESSION_NOT_FOUND:"Failed to get session of the client"});case 4:if(yb(Tl)){Il.next=6;break}throw new ja("Not a valid user ID",dl);case 6:if(!Tl.split("").includes(".")){Il.next=8;break}throw new ja("The uid cannot contain the character .",dl);case 8:if(this.subscribedUserMetaCache[Tl]&&this.subscribedUserMetaCache[Tl]!==Oa.subscribedState.UNSUBSCRIBED){Il.next=10;break}throw new ia("The user can not be unsubscribed",PI);case 10:return Il.prev=10,Il.next=13,this.session.requestUnsubscribeUserMetadata(Tl);case 13:this.subscribedUserMetaCache[Tl]=Oa.subscribedState.UNSUBSCRIBED,Il.next=21;break;case 16:if(Il.prev=16,Il.t0=Il.catch(10),!Sa(Il.t0)){Il.next=20;break}throw Il.t0;case 20:throw new ja("arguments is not valid",Mb);case 21:case"end":return Il.stop()}},_l,this,[[10,16]])}));return function(_l){return El.apply(this,arguments)}}()},{key:"login",value:function(){var El=za(W.mark(function _l(Tl){var Il,Al,Rl,Fl,Bl,Gl;return W.wrap(function(Ql){for(;;)switch(Ql.prev=Ql.next){case 0:if(Zr(!0),Al=Rj(),Rl=Tl.token,Tl.token===this.context.appId&&(Rl=void 0),$a("Session",{appId:this.context.appId,did:navigator.userAgent,elapse:Nb(this.session&&this.session.startTime),index:{index1:Tl.uid,index2:this.context.appId,index3:"enableLogUpload=".concat(this.context.config.enableLogUpload)},installId:hj,lts:D.fromNumber(Date.now()),os:7,sid:fc(Al),token:Rl||"",userId:Tl.uid,ver:"1.6.0-205",buildno:928,subVersion:228,version:7},(Il=this.context.config.enableCloudProxy)!==null&&Il!==void 0&&Il,!0),Lg(Tl)&&yb(Tl.uid)){Ql.next=7;break}throw new ja("not a valid user id",al);case 7:if(typeof Rl!="string"||!Rl){Ql.next=11;break}this.context.token=Rl,Ql.next=13;break;case 11:if(typeof Rl=="string"||Rl==null){Ql.next=13;break}throw new ja('The "token" is not a valid string.',al);case 13:return Fl=Date.now(),this.context.sid=fc(Al),this.loginPromise=this.loginImpl({uid:Tl.uid,instanceId:Al}),this.info("RTM Client logging in as ".concat(wb(Tl.uid))),Ql.prev=17,Ql.next=20,this.loginPromise;case 20:return Ql.next=22,(Bl=this.session)===null||Bl===void 0?void 0:Bl.requestSubscribeUserMetadata(Tl.uid,"JOIN").toPromise();case 22:this.subscribedUserMetaCache[Tl.uid]=Oa.subscribedState.SUBSCRIBED,Ql.next=31;break;case 25:throw Ql.prev=25,Ql.t0=Ql.catch(17),Sa(Ql.t0)&&$a("Link",{ackedServerIp:"",destServerIp:"",ec:Ql.t0.code||1,sc:Ql.t0.serverCode,elapse:Nb(this.session&&this.session.startTime),lts:D.fromNumber(Date.now()),responseTime:Date.now()-Fl,sid:fc(Al),userId:Tl.uid},(Gl=this.context.config.enableCloudProxy)!==null&&Gl!==void 0&&Gl),this.context.token=void 0,this.context.socketUseProxy=!1,Ql.t0;case 31:return Ql.prev=31,this.loginPromise=void 0,Ql.finish(31);case 34:this.context.socketUseProxy&&this.emit("FallbackProxyConnected"),Zr(!1);case 36:case"end":return Ql.stop()}},_l,this,[[17,25,31,34]])}));return function(_l){return El.apply(this,arguments)}}()},{key:"logout",value:function(){var El=za(W.mark(function _l(){var Tl;return W.wrap(function(Il){for(;;)switch(Il.prev=Il.next){case 0:if(!this.loginPromise){Il.next=3;break}return Il.next=3,this.loginPromise;case 3:if(this.connectionState!==Ea.DISCONNECTED){Il.next=6;break}throw this.logError("Already in logout state"),new ia("Logout failure. The client has already been logged out",Hw);case 6:if(this.internalEmitter.emit("LOGOUT"),this.connectionState!==Ea.ABORTED){Il.next=11;break}return this.info('Reset connection state from "ABORTED" to "DISCONNECTED"'),this.onConnectionStateChanged(Ea.DISCONNECTED,Jc.LOGOUT),Il.abrupt("return");case 11:if(this.session!==void 0){Il.next=14;break}return this.onConnectionStateChanged(Ea.DISCONNECTED,Jc.LOGOUT),Il.abrupt("return");case 14:return $a("Logout",{elapse:Nb(this.session.startTime),lts:D.fromNumber(Date.now()),sid:fc(this.session.instanceId),userId:this.context.uid},(Tl=this.context.config.enableCloudProxy)!==null&&Tl!==void 0&&Tl),Il.next=17,this.session.logoutHandler();case 17:this.onConnectionStateChanged(Ea.DISCONNECTED,Jc.LOGOUT),this.log("Log out success");case 19:case"end":return Il.stop()}},_l,this)}));return function(){return El.apply(this,arguments)}}()},{key:"logoutSync",value:function(){var El,_l=this;if(this.connectionState===Ea.DISCONNECTED)throw this.logError("Already in logout state"),new ia("Logout failure. The client has already been logged out",Hw);this.connectionState===Ea.ABORTED?this.info('Reset connection state from "ABORTED" to "DISCONNECTED"'):this.session!==void 0&&($a("Logout",{elapse:Nb(this.session.startTime),lts:D.fromNumber(Date.now()),sid:fc(this.session.instanceId),userId:this.context.uid},(El=this.context.config.enableCloudProxy)!==null&&El!==void 0&&El),this.session.logoutHandler().then(function(){_l.log("Log out success")})),this.onConnectionStateChanged(Ea.DISCONNECTED,Jc.LOGOUT)}},{key:"sendMessageToPeer",value:function(){var El=za(W.mark(function _l(Tl,Il){var Al,Rl,Fl=this;return W.wrap(function(Bl){for(;;)switch(Bl.prev=Bl.next){case 0:if(vs(Tl,si),Al=Tl.messageType==="TEXT"?vb.P2pSMsgNoOfflineFlag:vb.P2pRMsgNoOfflineFlag,this.connectionState!==Ea.RECONNECTING){Bl.next=5;break}return Rl=Date.now(),Bl.abrupt("return",new Promise(function(Gl,Ql){var _f,_h=(_f=za(W.mark(function up(){var _d;return W.wrap(function(Ep){for(;;)switch(Ep.prev=Ep.next){case 0:if(Fl.session!==void 0){Ep.next=2;break}throw new rb({SESSION_NOT_FOUND:"Failed to get session of the client"});case 2:return _d=Date.now()-Rl,Ep.prev=3,Ep.t0=Gl,Ep.next=7,Uj({message:Tl,peerId:Il,toPeer:!0,session:Fl.session,errorCodes:{NOT_LOGGED_IN:ip,TOO_OFTEN:Jw},diff:_d,logger:Fl.logger});case 7:Ep.t1=Ep.sent,(0,Ep.t0)(Ep.t1),Ep.next=18;break;case 11:Ep.prev=11,Ep.t2=Ep.catch(3),uc(Ep.t2)&&(Fl.session.emit("messageCount",{messageCategory:Al,type:"common",key:"sentcount"}),Fl.session.emit("messageCount",{messageCategory:Al,type:"common",key:"timeoutcount"}),Ql(new Pc(vg(Fl.name,"sendMessageToPeer",1e4),hp))),Sa(Ep.t2)&&Ql(Ep.t2),Fl.session.emit("messageCount",{messageCategory:Al,type:"common",key:"sentcount"}),Fl.session.emit("messageCount",{messageCategory:Al,type:"common",key:"unknowerrorcount"}),Ql(new Pa("Peer-to-peer message send failure",{code:Iw,originalError:Ep.t2}));case 18:return Ep.prev=18,clearTimeout(vp),Ep.finish(18);case 21:case"end":return Ep.stop()}},up,null,[[3,11,18,21]])})),function(){return _f.apply(this,arguments)});Fl.internalEmitter.once("RECONNECTED",_h);var vp=setTimeout(function(){Fl.internalEmitter.off("RECONNECTED",_h),Ql(new Pc(vg(Fl.name,"sendMessageToPeer",1e4),hp))},9e3)}));case 5:if(this.connectionState===Ea.CONNECTED){Bl.next=7;break}throw new ia("Failed to send the peer-to-peer message. The client is not logged in",ip);case 7:if(this.session!==void 0){Bl.next=9;break}throw new rb({SESSION_NOT_FOUND:"Failed to get session of the client"});case 9:return Bl.prev=9,Bl.next=12,Uj({message:Tl,peerId:Il,toPeer:!0,session:this.session,errorCodes:{NOT_LOGGED_IN:ip,TOO_OFTEN:Jw},diff:0,logger:this.logger});case 12:return Bl.abrupt("return",Bl.sent);case 15:if(Bl.prev=15,Bl.t0=Bl.catch(9),!uc(Bl.t0)){Bl.next=21;break}throw this.session.emit("messageCount",{messageCategory:Al,type:"common",key:"sentcount"}),this.session.emit("messageCount",{messageCategory:Al,type:"common",key:"timeoutcount"}),new Pc(vg(this.name,"sendMessageToPeer",1e4),hp);case 21:if(!Sa(Bl.t0)){Bl.next=23;break}throw Bl.t0;case 23:throw this.session.emit("messageCount",{messageCategory:Al,type:"common",key:"sentcount"}),this.session.emit("messageCount",{messageCategory:Al,type:"common",key:"unknowerrorcount"}),new Pa("Peer-to-peer message send failure",{code:Iw,originalError:Bl.t0});case 26:case"end":return Bl.stop()}},_l,this,[[9,15]])}));return function(_l,Tl){return El.apply(this,arguments)}}()},{key:"createChannel",value:function(El){var _l=this;if(!yb(El))throw new ja(["The %s in the arguments is invalid",Object.keys({channelId:El})[0]],sI);return new IP(El,function(){return _l.session},this,this.logger)}},{key:"createMetadataItem",value:function(){return new Fs}},{key:"createLocalInvitation",value:function(El){if(!yb(El))throw new ja(["The %s in the arguments is invalid",Object.keys({calleeId:El})[0]],ve);return this.invitationManager.genLocalInvitation(El)}},{key:"subscribePeersOnlineStatus",value:function(){var El=za(W.mark(function _l(Tl){var Il,Al,Rl,Fl,Bl,Gl,Ql,_f,_h,vp,up,_d,Ep,Op=this;return W.wrap(function(Ip){for(;;)switch(Ip.prev=Ip.next){case 0:if(this.connectionState===Ea.CONNECTED){Ip.next=2;break}throw new ia("The client is not logged in",kp);case 2:if(this.session!==void 0){Ip.next=4;break}throw new rb({SESSION_NOT_FOUND:"Failed to get session of the client"});case 4:if(Array.isArray(Tl)&&Tl.length!==0){Ip.next=6;break}throw new ja("Invalid arguments: peerIds",jj);case 6:Il=0;case 7:if(!(Il<Tl.length)){Ip.next=14;break}if(yb(Al=Tl[Il])){Ip.next=11;break}throw new ja(["subscribePeersOnlineStatus peer id %s is invalid",Al],jj);case 11:Il++,Ip.next=7;break;case 14:if(!(512<(Rl=Tl&&Tl.length?Do(Tl):[]).length+Object.keys(this.subscribedPeerStatusCache).length+this.pendingPeerStatusSubCount)){Ip.next=17;break}throw new Dc("Subscribed peers overflows",Ow);case 17:return this.pendingPeerStatusSubCount+=Rl.length,Ip.next=20,this.session.requestSubscribePeersOnlineStatus(Rl).toPromise();case 20:Fl=Ip.sent,Bl=Fl.errors,this.pendingPeerStatusSubCount-=Rl.length,Gl=[],Ql=[],_f=0;case 26:if(!(_f<Bl.length)){Ip.next=34;break}if(_h=Bl[_f],vp=_h.code,typeof(up=_h.account)=="string"){Ip.next=30;break}throw new Pa("Returned account is invalid",Nw);case 30:vp!==0&&Gl.push(up);case 31:_f++,Ip.next=26;break;case 34:for(_d=0;_d<Rl.length;_d++)Ep=Rl[_d],Gl.includes(Ep)||(Ql.push(Ep),this.subscribedPeerStatusCache[Ep]=void 0);if(this.session.requestPeersOnlineStatus(Ql).pipe(Wa(function(Pp){return Pe(Ro(Pp.userInfos,"account"),function(xp){return!!xp.ts})})).subscribe(function(Pp){Pp=Pe(Pp,function(xp,Np){return xp=xp?Oa.PeerOnlineState.ONLINE:Oa.PeerOnlineState.OFFLINE,Op.subscribedPeerStatusCache[Np]=xp}),Op.emit("PeersOnlineStatusChanged",Pp)}),Gl.length===0){Ip.next=38;break}throw new Pa("Subscription failed",Nw);case 38:case"end":return Ip.stop()}},_l,this)}));return function(_l){return El.apply(this,arguments)}}()},{key:"unsubscribePeersOnlineStatus",value:function(){var El=za(W.mark(function _l(Tl){var Il,Al,Rl,Fl,Bl;return W.wrap(function(Gl){for(;;)switch(Gl.prev=Gl.next){case 0:if(this.connectionState===Ea.CONNECTED){Gl.next=2;break}throw new ia("The client is not logged in",kp);case 2:if(this.session!==void 0){Gl.next=4;break}throw new rb({SESSION_NOT_FOUND:"Failed to get session of the client"});case 4:if(Array.isArray(Tl)&&Tl.length!==0){Gl.next=6;break}throw new ja("Invalid arguments: peerIds",jj);case 6:Il=0;case 7:if(!(Il<Tl.length)){Gl.next=14;break}if(yb(Al=Tl[Il])){Gl.next=11;break}throw new ja(["subscribePeersOnlineStatus peer id %s is invalid",Al],jj);case 11:Il++,Gl.next=7;break;case 14:if(!(512<Tl.length)){Gl.next=16;break}throw new Dc("Unsubscribed peers overflows",Ow);case 16:for(Rl=Tl&&Tl.length?Do(Tl):[],this.session.requestUnsubscribePeersOnlineStatus(Rl),Fl=0;Fl<Rl.length;Fl++)Bl=Rl[Fl],delete this.subscribedPeerStatusCache[Bl];case 19:case"end":return Gl.stop()}},_l,this)}));return function(_l){return El.apply(this,arguments)}}()},{key:"queryPeersBySubscriptionOption",value:function(){var El=za(W.mark(function _l(Tl){return W.wrap(function(Il){for(;;)switch(Il.prev=Il.next){case 0:if(this.connectionState===Ea.CONNECTED){Il.next=2;break}throw new ia("The client is not logged in",kp);case 2:if(Tl!==Oa.PeerSubscriptionOption.ONLINE_STATUS){Il.next=4;break}return Il.abrupt("return",Object.keys(this.subscribedPeerStatusCache));case 4:throw new ja("Subscription option not supported",jj);case 5:case"end":return Il.stop()}},_l,this)}));return function(_l){return El.apply(this,arguments)}}()},{key:"createMessage",value:function(El){return El}},{key:"loginImpl",value:function(){var El=za(W.mark(function _l(Tl){var Il,Al,Rl,Fl,Bl,Gl,Ql,_f,_h=this;return W.wrap(function(vp){for(;;)switch(vp.prev=vp.next){case 0:if(Il=Tl.uid,Al=Tl.instanceId,Rl=Tl.forceLoginTime,Fl=Rl===void 0?0:Rl,Bl=Al,!(this.lastLoginTime!==void 0&&500>Date.now()-this.lastLoginTime)){vp.next=4;break}throw new Fc(["The frequency of login exceeded the limit of %d queries per second",2],HI);case 4:if(this.connectionState===Ea.DISCONNECTED||Fl!==0){vp.next=6;break}throw new ia("The SDK is either logging in or has logged in the Agora RTM system",FI);case 6:vp.prev=6,this.context.uid=Il,vp.next=13;break;case 10:throw vp.prev=10,vp.t0=vp.catch(6),new ja(["The %s in the arguments is invalid",Object.keys({uid:Il})[0]],al);case 13:return Fl===0&&this.onConnectionStateChanged(Ea.CONNECTING,Jc.LOGIN),(Gl=new Gx(this.context,this.logger,!1)).blacklistedIP=this.blacklistedIP,this.session=Ql=new Pq(this.context,Gl,Bl,this.logger),_f=function(){_h.connectionState===Ea.CONNECTED&&(_h.onConnectionStateChanged(Ea.RECONNECTING,Jc.INTERRUPTED),_h.session)&&_h.session.once("userJoined",function(){_h.onConnectionStateChanged(Ea.CONNECTED,Jc.LOGIN_SUCCESS)})},Ql.on("connectionLost",_f),Ql.on("tokenExpired",function(){_h.emit("TokenExpired")}),Ql.on("tokenPrivilegeWillExpire",this.TokenPrivilegeWillExpireHandler),Ql.once("userDrop",this.userDropHandler),this.session.on("peerTextMessage",function(up){_h.emit("MessageFromPeer",{text:up.text,messageType:Oa.MessageType.TEXT},up.peerId,up.properties)}),this.session.on("peerRawMessage",function(up){_h.emit("MessageFromPeer",{rawMessage:up.raw,description:up.desc,messageType:Oa.MessageType.RAW},up.peerId,up.properties)}),Ql.on("instanceChanged",function(up){return Bl=up}),Ql.on("peerOnlineStatusChanged",function(up){var _d=up.instance.toString()+up.state,Ep=_h.peerStatusSeqLru.get(_d);!Ep||up.seq.greaterThan(Ep)?(_h.peerStatusSeqLru.set(_d,up.seq),up.state!==_h.subscribedPeerStatusCache[up.peerId]&&_h.emit("PeersOnlineStatusChanged",E({},up.peerId,up.state)),_h.subscribedPeerStatusCache[up.peerId]=up.state,clearTimeout(_h.peerUnreachableTimers[_d]),up.state===Oa.PeerOnlineState.UNREACHABLE&&(_h.peerUnreachableTimers[_d]=setTimeout(function(){_h.subscribedPeerStatusCache[up.peerId]===Oa.PeerOnlineState.UNREACHABLE&&(_h.subscribedPeerStatusCache[up.peerId]=Oa.PeerOnlineState.ONLINE,_h.emit("PeersOnlineStatusChanged",E({},up.peerId,Oa.PeerOnlineState.ONLINE)))},3e4))):_h.log("peerOnlineStatusChanged dedup for %s, %d",_d,up.seq.toNumber())}),Ql.on("invitationMessage",this.invitationManager.invitationMessageHandler.bind(this.invitationManager)),Ql.on("channelAttributesUpdated",function(up){var _d=up.channelId;up=up.attributeMaps;for(var Ep={},Op=0;Op<up.length;Op++){var Ip=up[Op],Pp=Ip.key,xp=Ip.ms,Np=Ip.value;if(Ip=Ip.origin,typeof Pp!="string"||!D.isLong(xp)||typeof Np!="string"||!yb(Ip))break;Ep[Pp]=new Blob([Np]).size}_h.channelAttributesCacheLru.set(_d,Ep)}),Ql.on("userJoined",function(up){if(Object.keys(_h.attributes).length!==0){if(_h.session===void 0)return;_h.session.requestSetLocalUserAttributes(_h.attributes,up).toPromise()}if(_h.attributeDrafts.size!==0)for(var _d=function(Ip,Pp){var xp=(Ip=Pp[Ip]).attribute;Ip.promise.then(function(){_h.session!==void 0&&_h.session.requestSetLocalUserAttributes(xp,up).toPromise()})},Ep=0,Op=Array.from(_h.attributeDrafts);Ep<Op.length;Ep++)_d(Ep,Op);Object.keys(_h.subscribedPeerStatusCache).length!==0&&Ql.requestSubscribePeersOnlineStatus(Object.keys(_h.subscribedPeerStatusCache))}),Ql.on("banEdgeIP",function(up){_h.banIP(up)}),Ql.on("userMetaDataUpdated",this.userMetaDataUpdatedHandler),this.lastLoginTime=Date.now(),vp.prev=33,vp.next=36,Ql.loginHandler().toPromise();case 36:vp.next=54;break;case 38:if(vp.prev=38,vp.t1=vp.catch(33),!(vp.t1.name==="loginRespTimeout"&&2>Fl)){vp.next=47;break}return Ql.removeAllListeners(),vp.next=44,this.loginImpl({uid:Il,instanceId:Al,forceLoginTime:Fl+1});case 44:return vp.abrupt("return");case 47:if(!uc(vp.t1)){vp.next=50;break}throw this.onConnectionStateChanged(Ea.DISCONNECTED,Jc.LOGIN_TIMEOUT),new Pc(vg(this.name,"login",12e3),GI);case 50:if(this.onConnectionStateChanged(Ea.DISCONNECTED,Jc.LOGIN_FAILURE),!Sa(vp.t1)){vp.next=53;break}throw vp.t1;case 53:throw new Pa("Login failure",{code:Ew,originalError:vp.t1});case 54:this.onConnectionStateChanged(Ea.CONNECTED,Jc.LOGIN_SUCCESS);case 55:case"end":return vp.stop()}},_l,this,[[6,10],[33,38]])}));return function(_l){return El.apply(this,arguments)}}()},{key:"rennectSubscribeduserMetadata",value:function(){var El=za(W.mark(function _l(Tl){var Il,Al;return W.wrap(function(Rl){for(;;)switch(Rl.prev=Rl.next){case 0:Il=0;case 1:if(!(Il<Tl.length)){Rl.next=10;break}if(Al=Tl[Il],!this.session){Rl.next=7;break}return Rl.next=6,this.session.requestSubscribeUserMetadata(Al,"RECONNECTED").toPromise();case 6:this.subscribedUserMetaCache[Al]=Oa.subscribedState.SUBSCRIBED;case 7:Il++,Rl.next=1;break;case 10:case"end":return Rl.stop()}},_l,this)}));return function(_l){return El.apply(this,arguments)}}()},{key:"onConnectionStateChanged",value:function(El,_l){var Tl,Il,Al,Rl=this;El===Ea.RECONNECTING&&(this.reconnId+=1),$a("ConnectionStateChange",{elapse:Nb(this.session&&this.session.startTime),lts:D.fromNumber(Date.now()),newState:FA[El],oldState:FA[this.connectionState],reason:JP[_l],sid:fc(this.session&&this.session.instanceId||D.fromNumber(0)),userId:this.context.uid,reconnId:this.reconnId},(Tl=this.context.config.enableCloudProxy)!==null&&Tl!==void 0&&Tl),this.connectionState===Ea.RECONNECTING&&El===Ea.CONNECTED&&(Object.keys(this.subscribedPeerStatusCache).length!==0&&this.session!==void 0&&this.session.requestPeersOnlineStatus(Object.keys(this.subscribedPeerStatusCache)).pipe(Wa(function(Fl){return Pe(Ro(Fl.userInfos,"account"),function(Bl){return!!Bl.ts})})).subscribe(function(Fl){Fl=Pe(Fl,function(Bl,Gl){return Bl=Bl?Oa.PeerOnlineState.ONLINE:Oa.PeerOnlineState.OFFLINE,Rl.subscribedPeerStatusCache[Gl]=Bl}),Rl.emit("PeersOnlineStatusChanged",Fl)}),Object.keys(this.subscribedUserMetaCache).length!==0&&this.session!==void 0&&this.rennectSubscribeduserMetadata(Object.keys(this.subscribedUserMetaCache)),(Il=this.session)!==null&&Il!==void 0&&Il.usedChannelIds&&0<((Al=this.session)===null||Al===void 0?void 0:Al.usedChannelIds.length)&&this.session.usedChannelIds.map(function(Fl){var Bl;return(Bl=Rl.session)===null||Bl===void 0?void 0:Bl.requestSubscribeChannelMetadata(Fl,"RECONNECTED")}),this.internalEmitter.emit("RECONNECTED")),this.connectionState=El,El!==Ea.ABORTED&&El!==Ea.DISCONNECTED||(this.pendingPeerStatusSubCount=this.reconnId=0,this.attributes={},this.session&&(this.session.removeAllListeners(),this.session.msgDedupLru.empty(),this.session.dialogueSequenceLru.empty(),this.session.dialPendingMsgSubjectMap.clear()),this.channelAttributesCacheLru.empty(),this.peerStatusSeqLru.empty(),this.peerUnreachableTimers={},this.subscribedPeerStatusCache={},this.subscribedUserMetaCache={},this.attributeDrafts.clear(),this.context.token=void 0),this.emit("ConnectionStateChanged",El,_l)}},{key:"banIP",value:function(El){var _l;this.log("ip banned",El);var Tl=(_l=this.blacklistedIP[El])!==null&&_l!==void 0?_l:0;this.blacklistedIP[El]=Tl+1}}]),_t}(Dd()),Na(ka.prototype,"renewToken",[gb],Object.getOwnPropertyDescriptor(ka.prototype,"renewToken"),ka.prototype),Na(ka.prototype,"queryPeersOnlineStatus",[gb],Object.getOwnPropertyDescriptor(ka.prototype,"queryPeersOnlineStatus"),ka.prototype),Na(ka.prototype,"getChannelMemberCount",[gb],Object.getOwnPropertyDescriptor(ka.prototype,"getChannelMemberCount"),ka.prototype),Na(ka.prototype,"setLocalUserAttributes",[gb],Object.getOwnPropertyDescriptor(ka.prototype,"setLocalUserAttributes"),ka.prototype),Na(ka.prototype,"setChannelAttributes",[gb],Object.getOwnPropertyDescriptor(ka.prototype,"setChannelAttributes"),ka.prototype),Na(ka.prototype,"addOrUpdateLocalUserAttributes",[gb],Object.getOwnPropertyDescriptor(ka.prototype,"addOrUpdateLocalUserAttributes"),ka.prototype),Na(ka.prototype,"addOrUpdateChannelAttributes",[gb],Object.getOwnPropertyDescriptor(ka.prototype,"addOrUpdateChannelAttributes"),ka.prototype),Na(ka.prototype,"deleteLocalUserAttributesByKeys",[gb],Object.getOwnPropertyDescriptor(ka.prototype,"deleteLocalUserAttributesByKeys"),ka.prototype),Na(ka.prototype,"deleteChannelAttributesByKeys",[gb],Object.getOwnPropertyDescriptor(ka.prototype,"deleteChannelAttributesByKeys"),ka.prototype),Na(ka.prototype,"clearLocalUserAttributes",[je],Object.getOwnPropertyDescriptor(ka.prototype,"clearLocalUserAttributes"),ka.prototype),Na(ka.prototype,"clearChannelAttributes",[gb],Object.getOwnPropertyDescriptor(ka.prototype,"clearChannelAttributes"),ka.prototype),Na(ka.prototype,"getUserAttributes",[gb],Object.getOwnPropertyDescriptor(ka.prototype,"getUserAttributes"),ka.prototype),Na(ka.prototype,"getChannelAttributes",[gb],Object.getOwnPropertyDescriptor(ka.prototype,"getChannelAttributes"),ka.prototype),Na(ka.prototype,"getChannelAttributesByKeys",[gb],Object.getOwnPropertyDescriptor(ka.prototype,"getChannelAttributesByKeys"),ka.prototype),Na(ka.prototype,"getUserAttributesByKeys",[gb],Object.getOwnPropertyDescriptor(ka.prototype,"getUserAttributesByKeys"),ka.prototype),Na(ka.prototype,"getUserMetadata",[gb],Object.getOwnPropertyDescriptor(ka.prototype,"getUserMetadata"),ka.prototype),Na(ka.prototype,"setLocalUserMetadata",[gb],Object.getOwnPropertyDescriptor(ka.prototype,"setLocalUserMetadata"),ka.prototype),Na(ka.prototype,"clearLocalUserMetadata",[gb],Object.getOwnPropertyDescriptor(ka.prototype,"clearLocalUserMetadata"),ka.prototype),Na(ka.prototype,"addLocalUserMetadata",[gb],Object.getOwnPropertyDescriptor(ka.prototype,"addLocalUserMetadata"),ka.prototype),Na(ka.prototype,"updateLocalUserMetadata",[gb],Object.getOwnPropertyDescriptor(ka.prototype,"updateLocalUserMetadata"),ka.prototype),Na(ka.prototype,"deleteLocalUserMetadata",[gb],Object.getOwnPropertyDescriptor(ka.prototype,"deleteLocalUserMetadata"),ka.prototype),Na(ka.prototype,"subscribeUserMetadata",[gb],Object.getOwnPropertyDescriptor(ka.prototype,"subscribeUserMetadata"),ka.prototype),Na(ka.prototype,"login",[je],Object.getOwnPropertyDescriptor(ka.prototype,"login"),ka.prototype),Na(ka.prototype,"logout",[je],Object.getOwnPropertyDescriptor(ka.prototype,"logout"),ka.prototype),Na(ka.prototype,"logoutSync",[je],Object.getOwnPropertyDescriptor(ka.prototype,"logoutSync"),ka.prototype),Na(ka.prototype,"sendMessageToPeer",[gb],Object.getOwnPropertyDescriptor(ka.prototype,"sendMessageToPeer"),ka.prototype),Na(ka.prototype,"createChannel",[gb],Object.getOwnPropertyDescriptor(ka.prototype,"createChannel"),ka.prototype),Na(ka.prototype,"createMetadataItem",[gb],Object.getOwnPropertyDescriptor(ka.prototype,"createMetadataItem"),ka.prototype),Na(ka.prototype,"createLocalInvitation",[gb],Object.getOwnPropertyDescriptor(ka.prototype,"createLocalInvitation"),ka.prototype),Na(ka.prototype,"subscribePeersOnlineStatus",[gb],Object.getOwnPropertyDescriptor(ka.prototype,"subscribePeersOnlineStatus"),ka.prototype),Na(ka.prototype,"unsubscribePeersOnlineStatus",[gb],Object.getOwnPropertyDescriptor(ka.prototype,"unsubscribePeersOnlineStatus"),ka.prototype),Na(ka.prototype,"queryPeersBySubscriptionOption",[gb],Object.getOwnPropertyDescriptor(ka.prototype,"queryPeersBySubscriptionOption"),ka.prototype),Na(ka.prototype,"createMessage",[je],Object.getOwnPropertyDescriptor(ka.prototype,"createMessage"),ka.prototype),ka),Uq,Vq,Wq,Xq,GA=(Uq=/Chrome\/([0-9.]+)/.exec((Wq=window)===null||Wq===void 0||(Xq=Wq.navigator)===null||Xq===void 0?void 0:Xq.userAgent))===null||Uq===void 0||(Vq=Uq[1])===null||Vq===void 0?void 0:Vq.split(".")[0];if(GA&&88<=parseInt(GA,10)&&!Kg()){var Yq,Hg=document.createElement("video"),Ig=document.createElement("canvas");Hg.setAttribute("style","display:none"),Hg.setAttribute("muted",""),Hg.muted=!0,Hg.setAttribute("autoplay",""),Hg.autoplay=!0,Hg.setAttribute("playsinline",""),Ig.setAttribute("style","display:none"),Ig.setAttribute("width","2"),Ig.setAttribute("height","2"),(Yq=Ig.getContext("2d"))===null||Yq===void 0||Yq.fillRect(0,0,1,1),Hg.srcObject=Ig==null?void 0:Ig.captureStream()}var HA={LOG_FILTER_OFF:{error:!1,warn:!1,info:!1,track:!1,debug:!1},LOG_FILTER_ERROR:{error:!0,warn:!1,info:!1,track:!1,debug:!1},LOG_FILTER_WARNING:{error:!0,warn:!0,info:!1,track:!1,debug:!1},LOG_FILTER_INFO:{error:!0,warn:!0,info:!0,track:!1,debug:!1},LOG_FILTER_DEBUG:{error:!0,warn:!0,info:!0,track:!0,debug:!0}},IA={enableLogUpload:!1,logFilter:HA.LOG_FILTER_INFO,enableCloudProxy:!1},wg=tb(tb({createInstance:function(_r){var _t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},_o=2<arguments.length?arguments[2]:void 0;if(!/^[\dA-Za-z]{32}$/.test(_r))throw new ja(["The %s in the arguments is invalid",Object.keys({appId:_r})[0]],sw);var yl=Object.keys(_t).filter(function(Fl){return!(Fl in IA)});if(yl.length!==0)throw new ja("Invalid RTM config: ".concat(yl.join(", ")),sw);var El=tb(tb({},IA),_t);if(_o!==void 0&&(!Array.isArray(_o)||_o.length===0))throw new ja("Invalid area config");if(_o!=null){if(!_o.every(function(Fl){return Fl in Oa.LegacyAreaCode}))throw new ja("Invalid area codes: ".concat(_o.filter(function(Fl){return!(Fl in Oa)}).join(", ")));Ba=eh(_o.map(function(Fl){return SK[Fl]}))}_o=qp=qb.__global_unique_id__=(qb.__global_unique_id__||0)+1;var _l=WK(El);yl=XK(El);var Tl=YK(El),Il=ZK(_o,El),Al=zx(_o,El),Rl=Al("RTM:DEBUG","<Entry> ");return sx.rtmConfig=El,_l("The Agora RTM Web SDK version is %s","1.6.0-205"),_t.enableCloudProxy&&_l("RTM cloud proxy enabled"),_t.enableLogUpload&&_l("Log upload enabled"),Ba&&Rl("Area is set to %s",Array.from(Ba.CODES).map(function(Fl){return vi(oa).find(function(Bl){return oa[Bl]===Fl})}).join(", ")),Rl("Creating an RtmClient instance"),Rl('The Git commit ID is "'.concat("v1.5.1-67-g0f6d3600",'"')),Rl("The App ID is %s",ws(_r,4,10,"*".repeat(6))),_l("The process ID is %s",hj),Rl("The build is %s","v1.5.1-67-g0f6d3600"),Rl("NODE_ENV is %s","production"),new KP(_r,{genLogger:Al,genTracker:Il,info:_l,warn:yl,logError:Tl,loggerId:_o},El,function(Fl){for(var Bl=0,Gl=vi(Fl);Bl<Gl.length;Bl++){var Ql=Gl[Bl];try{var _f=Fl[Ql];_f!=null&&(Fl.enableCloudProxy&&_l("RTM cloud proxy enabled"),Fl.enableLogUpload&&_l("Log upload enabled"),El[Ql]=_f)}catch{throw new ja(["The %s in the arguments is invalid",Ql],void 0)}}})},BUILD:"v1.5.1-67-g0f6d3600",VERSION:"1.6.0-205",END_CALL_PREFIX:"AgoraRTMLegacyEndcallCompatibleMessagePrefix",processId:hj,ConnectionChangeReason:Oa.ConnectionChangeReason,ConnectionState:Oa.ConnectionState,LocalInvitationFailureReason:Oa.LocalInvitationFailureReason,LocalInvitationState:Oa.LocalInvitationState,RemoteInvitationFailureReason:Oa.RemoteInvitationFailureReason,RemoteInvitationState:Oa.RemoteInvitationState,MessageType:Oa.MessageType,PeerOnlineState:Oa.PeerOnlineState,PeerSubscriptionOption:Oa.PeerSubscriptionOption},HA),{},{setParameter:function(_r,_t){Object.keys(Yd).includes(_r)&&(Yd[_r]=_t)},getParameter:function(_r){return Yd[_r]},setArea:function(_r){var _t=_r.areaCodes;if(_r=_r.excludedArea,!Array.isArray(_t)||_t.length===0||!_t.every(function(_o){return _o in Oa.AreaCode}))throw new ja("Invalid area config");if(_r!==void 0&&_r===Oa.AreaCode.GLOBAL)throw new ja("Excluded area cannot be global");if(_r===void 0)Ba=eh(_t.map(function(_o){return oa[_o]}));else{if(_t.includes(_r))throw new ja("Excluded area cannot be in areaCodes");if(!(_r in oa))throw new ja("Invalid excludedArea:",_r);Ba=tC({areas:_t.map(function(_o){return oa[_o]}),excludedArea:oa[_r]})}}});return wg})})(agoraRtmSdk);const AgoraRTM=getDefaultExportFromCjs(agoraRtmSdkExports),cameraBtn="/assets/video-solid-1107bb86.svg",microphone="/assets/microphone-solid-c8baa094.svg",phone="/assets/phone-solid-2bf73df7.svg",call_interface="",CallInterface=function({channelId:_r}){const _t=reactExports.useRef(null),_o=reactExports.useRef(null),yl=useNavigate(),El="b9f3d9ef339c433b8775e509a4c1ee44";let _l="";const Tl=auth.currentUser.uid;let Il,Al,Rl,Fl,Bl,Gl;const Ql={iceServers:[{urls:["stun:stun1.1.google.com:19302","stun:stun2.1.google.com:19302"]}]},_f=async function(Np,Kp){const Tp=JSON.parse(Np.text);Tp.type==="offer"&&await Ep(Kp,Tp.offer),Tp.type==="answer"&&await Op(Kp,Tp.answer),Tp.type==="candidate"&&(console.log("Adding icecandidate, Remote description:",Bl.currentRemoteDescription,Bl.remoteDescription),Bl.remoteDescription&&(await Bl.addIceCandidate(new RTCIceCandidate(Tp.candidate)),console.log("icecandidate added!")),Gl=Tp.candidate),console.log("Message:",Np),console.log(Tp)},_h=async function(Np){console.log("A new user joined the channel:",Np),_d(Np)},vp=async function(){Il=AgoraRTM.createInstance(El),await Il.login({uid:Tl,token:_l});try{Al=Il.createChannel(_r),await Al.join(),Al.on("MemberJoined",_h),Al.on("MemberLeft",()=>{_o.current.style.display="none"}),Il.on("MessageFromPeer",_f),Rl=await navigator.mediaDevices.getUserMedia({video:!0,audio:!0}),_t.current.srcObject=Rl}catch(Np){console.log("ErrorMsg:",Np.message)}Il.on("ConnectionStateChanged",async(Np,Kp)=>{if(console.log(`${Kp}: connection state changed to ${Np}`),Kp==="REMOTE_LOGIN"){console.log("multiple login detected kindly logout and login back");return}console.log(`${Kp}: connection state changed to ${Np}`)})},up=async function(){Bl=new RTCPeerConnection(Ql),Fl=new MediaStream,_o.current.srcObject=Fl,_o.current.style.display="block",Rl||(Rl=await navigator.mediaDevices.getUserMedia({video:!0,audio:!0}),_t.current.srcObject=Rl),Rl.getTracks().forEach(Np=>{Bl.addTrack(Np,Rl)}),Bl.addEventListener("track",Np=>{Np.streams[0].getTracks().forEach(Kp=>{Fl.addTrack(Kp)})})},_d=async function(Np){try{await up();const Kp=await Bl.createOffer();await Bl.setLocalDescription(Kp),Il.sendMessageToPeer({text:JSON.stringify({type:"offer",offer:Kp})},Np)}catch(Kp){console.log("ErrorMsg:",Kp.message)}},Ep=async function(Np,Kp){console.log("offer:",Kp);try{await up(),await Bl.setRemoteDescription(Kp);const Tp=await Bl.createAnswer();await Bl.setLocalDescription(Tp),Il.sendMessageToPeer({text:JSON.stringify({type:"answer",answer:Tp})},Np),Bl.addEventListener("icecandidate",Dp=>{Dp.candidate&&Il.sendMessageToPeer({text:JSON.stringify({type:"candidate",candidate:Dp.candidate})},Np)}),console.log("Remote description after offer:",Bl.currentRemoteDescription,Bl.remoteDescription),Gl&&(await Bl.addIceCandidate(new RTCIceCandidate(Gl)),console.log("ice-candidate added"))}catch(Tp){console.log("ErrorMsg:",Tp.message)}},Op=async function(Np,Kp){console.log("Remote description:",Bl.currentRemoteDescription,Bl.remoteDescription),Bl.currentRemoteDescription||await Bl.setRemoteDescription(Kp),Bl.addEventListener("icecandidate",Tp=>{Tp.candidate&&Il.sendMessageToPeer({text:JSON.stringify({type:"candidate",candidate:Tp.candidate})},Np)})},Ip=async function(){await(Al==null?void 0:Al.leave()),await(Il==null?void 0:Il.logout())},Pp=async function(Np){const Kp=Rl==null?void 0:Rl.getTracks().find(Tp=>Tp.kind==="video");Kp!=null&&Kp.enabled?(Kp.enabled=!1,Np.currentTarget.style.backgroundColor="#eb5757"):(Kp.enabled=!0,Np.currentTarget.style.backgroundColor="rgb(179, 102, 249, 0.9)")},xp=async function(Np){const Kp=Rl==null?void 0:Rl.getTracks().find(Tp=>Tp.kind==="audio");console.log(Rl),Kp!=null&&Kp.enabled?(Kp.enabled=!1,Np.currentTarget.style.backgroundColor="#eb5757"):(Kp.enabled=!0,Np.currentTarget.style.backgroundColor="rgb(179, 102, 249, 0.9)")};return window.addEventListener("beforeunload",Ip),reactExports.useEffect(()=>(fetch(`https://chat-application-nu-one.vercel.app/?uid=${Tl}`).then(Np=>Np.json()).then(Np=>_l=Np.token).then(()=>vp()).catch(Np=>alert("Error:"+Np.message)),_t.current.muted=!0,()=>{const Np=Rl==null?void 0:Rl.getTracks();Np&&(Np.forEach(Kp=>{Kp.stop()}),Ip())}),[]),jsxs("div",{className:"call-interface",children:[jsxs("div",{id:"videos",children:[jsx("video",{className:"video-player user-one",ref:_t,autoPlay:!0,playsInline:!0}),jsx("video",{className:"video-player user-two",ref:_o,autoPlay:!0,playsInline:!0})]}),jsxs("div",{id:"controls",children:[jsx("div",{className:"control-container",id:"camera-btn",onClick:Pp,children:jsx("img",{src:cameraBtn,alt:"camera"})}),jsx("div",{className:"control-container",id:"mic-btn",onClick:xp,children:jsx("img",{src:microphone,alt:"microphone"})}),jsx("div",{className:"control-container",id:"leave-btn",onClick:()=>{Ip(),yl("/channels",{replace:!0})},children:jsx("img",{src:phone,alt:"leave"})})]})]})},popup="",errorVariant={hidden:{x:"100vw"},visible:{x:0,transition:{when:"beforeChildren"}},exit:{x:"100vw"}},timerVariant={visible:{width:0,transition:{duration:3}}},Popup=function({message:_r}){return jsxs(motion.div,{className:"popup",variants:errorVariant,initial:"hidden",animate:"visible",exit:"exit",children:[jsx("p",{children:_r}),jsx(motion.div,{className:"progress",variants:timerVariant})]})},channelReducerFn=function(_r,_t){return _t.payload},initialReducerArg={channelName:"DEFAULT CHANNEL",channelId:"16A4w32PivaHAasvXbflX1676971533389",channelDesc:"Test channel for all users",channelMembers:[{id:nanoid$1(),photoURL:userImg,name:"Xanthe Neal",email:"xan@gmail.com"}],channelMessages:[]};let timer;const App=function(){const _r=useDispatch(),_t=useNavigate(),[_o,yl]=reactExports.useReducer(channelReducerFn,initialReducerArg),[El,_l]=reactExports.useState(!1),[Tl,Il]=reactExports.useState(!1),Al=useSelector(Fl=>Fl.errorMessage),Rl=useSelector(Fl=>Fl);return reactExports.useEffect(()=>{onAuthStateChanged(auth,Bl=>{Bl&&_r(actions.login({user:Bl,navigateFn:_t}))});const Fl=Aa(database,"channels",_o.channelId);(async()=>{const Gl=(await Ol(Fl)).data();yl({type:"initial",payload:{channelName:"DEFAULT CHANNEL",channelId:"16A4w32PivaHAasvXbflX1676971533389",channelDesc:"Test channel for all users",channelMembers:Gl.members,channelMessages:Gl.messages}})})(),Il(!0)},[]),reactExports.useEffect(()=>(timer=setTimeout(()=>{_r(actions.resetErrorMessage(""))},3100),()=>clearTimeout(timer)),[Al]),jsxs(AnimatePresence,{children:[Al&&jsx(Popup,{message:Al},nanoid$1()),jsxs(Routes,{children:[jsx(Route,{path:"/login",element:jsx(Login,{})}),jsx(Route,{path:"/signup",element:jsx(SignUp,{})}),jsx(Route,{path:"/join/:channelId",element:jsx(JoinChannel,{})}),Rl.user&&jsxs(Fragment,{children:[jsx(Route,{path:"/call",element:jsx(CallInterface,{channelId:_o.channelId})}),jsxs(Route,{path:"/",element:jsx(ChatInterface,{isModalOpen:El,setIsNavOpen:Il,setIsModalOpen:_l,channelInfo:_o}),children:[jsx(Route,{path:":name",element:jsx(ChannelInfoNav,{isNavOpen:Tl,channelInfo:_o,channelDispatch:yl,setIsNavOpen:Il})}),jsx(Route,{path:"channels",element:jsx(AllChannels,{isNavOpen:Tl,setIsModalOpen:_l,channelId:_o.channelId,channelDispatch:yl,setIsNavOpen:Il})})]})]}),jsx(Route,{path:"*",element:jsx(Navigate,{to:"/login"})})]})]})},index="";client.createRoot(document.getElementById("root")).render(jsx(React.StrictMode,{children:jsx(Provider$1,{store,children:jsx(BrowserRouter,{children:jsx(App,{})})})}));
